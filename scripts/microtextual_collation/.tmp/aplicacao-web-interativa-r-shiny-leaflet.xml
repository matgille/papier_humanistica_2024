<TEI xmlns:tei="http://www.tei-c.org/ns/1.0" xmlns="http://www.tei-c.org/ns/1.0" xml:id="aplicacao-web-interativa-r-shiny-leaflet">
  <teiHeader xmlns:xi="http://www.w3.org/2001/XInclude">
    <fileDesc>
      <titleStmt>
        <title>Criando uma aplicação Web interativa com R e Shiny</title>
        <author role="original_author">Yann Ryan</author>
        <editor role="reviewers">
          <persName>Amanda Regan</persName>
          <persName>Nicole Lemire Garlic</persName>
        </editor>
        <author role="translators">Aracele Torres</author>
        <editor role="translation-reviewers">
          <persName>Joana Malta</persName>
          <persName>Juciane Pereira</persName>
        </editor>
        <editor role="editors">
          <persName>Tiago Sousa Garcia</persName>
          <persName>Alex Wermer-Colan</persName>
        </editor>
      </titleStmt>
      <publicationStmt>
        <distributor>Programming Historian</distributor>
        <date type="translated">10/14/2023</date>
        <idno type="doi">10.46430/phpt0044</idno>
        <date type="published">10/19/2022</date>
      </publicationStmt>
      <sourceDesc>
        <p>Born digital, in a markdown format. Original file: <ref type="original_file" target="#shiny-leaflet-newspaper-map-tutorial"/>.</p>
        <p>There are other translations: <ref target="#creacion-de-aplicacion-shiny"/></p>
      </sourceDesc>
    </fileDesc>
    <profileDesc>
      <abstract>
        <p>Esta lição demonstra como construir um mapa interativo na web usando R e a biblioteca Shiny. Na lição, será projetado e implementado um aplicativo simples, que consiste num controlo deslizante que permite ao usuário selecionar um intervalo de datas e exibir um conjunto de pontos correspondentes num mapa interativo.</p>
      </abstract>
      <textClass>
        <keywords>
          <term xml:lang="en">mapping</term>
          <term xml:lang="en">website</term>
          <term xml:lang="en">r</term>
          <term xml:lang="en">data-visualization</term>
        </keywords>
      </textClass>
    </profileDesc>
  </teiHeader>
  <text xmlns:xi="http://www.w3.org/2001/XInclude" xml:lang="pt">
    <body>
      <div type="2" n="1">
        <head>
          <s>
            <w>Introdução</w>
          </s>
        </head>
        <p>
          <s>
            <w>Esta</w>
            <w>lição</w>
            <w>demonstra</w>
            <w>como</w>
            <w>criar</w>
            <w>uma</w>
            <w>aplicação</w>
            <w>Web</w>
            <w>interativa</w>
            <w>básica</w>
            <w>usando</w>
            <w>Shiny</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Shiny</w>
            <w>é</w>
            <w>uma</w>
            <w>biblioteca</w>
            <w>(um</w>
            <w>conjunto</w>
            <w>de</w>
            <w>funções</w>
            <w>adicionais)</w>
            <w>para</w>
            <w>a</w>
            <w>linguagem</w>
            <w>de</w>
            <w>programação</w>
            <w>R</w>
            <pc>.</pc>
          </s>
          <s>
            <w>O</w>
            <w>seu</w>
            <w>objetivo</w>
            <w>é</w>
            <w>facilitar</w>
            <w>o</w>
            <w>desenvolvimento</w>
            <w>de</w>
            <w>aplicações</w>
            <w>Web,</w>
            <w>que</w>
            <w>permitem</w>
            <w>que</w>
            <w>um</w>
            <w>usuário</w>
            <w>interaja</w>
            <w>com</w>
            <w>o</w>
            <w>código</w>
            <w>R</w>
            <w>usando</w>
            <w>elementos</w>
            <w>da</w>
            <w>Interface</w>
            <w>do</w>
            <w>Utilizador</w>
            <w>(UI)</w>
            <w>num</w>
            <w>navegador</w>
            <w>Web,</w>
            <w>como</w>
            <w>controlos</w>
            <w>deslizantes,</w>
            <w>menus</w>
            <w>suspensos</w>
            <w>e</w>
            <w>assim</w>
            <w>por</w>
            <w>diante</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Na</w>
            <w>lição,</w>
            <w>será</w>
            <w>projetada</w>
            <w>e</w>
            <w>implementada</w>
            <w>uma</w>
            <w>aplicação</w>
            <w>simples,</w>
            <w>consistindo</w>
            <w>num</w>
            <w>controlo</w>
            <w>deslizante</w>
            <w>que</w>
            <w>permite</w>
            <w>ao</w>
            <w>usuário</w>
            <w>selecionar</w>
            <w>um</w>
            <w>intervalo</w>
            <w>de</w>
            <w>datas,</w>
            <w>que</w>
            <w>acionará</w>
            <w>algum</w>
            <w>código</w>
            <w>em</w>
            <w>R</w>
            <w>e</w>
            <w>exibirá</w>
            <w>um</w>
            <w>conjunto</w>
            <w>de</w>
            <w>pontos</w>
            <w>correspondentes</w>
            <w>num</w>
            <w>mapa</w>
            <w>interativo</w>
            <pc>.</pc>
          </s>
        </p>
      </div>
      <div type="2" n="2">
        <head>
          <s>
            <w>Objetivos</w>
            <w>da</w>
            <w>lição</w>
          </s>
        </head>
        <p>
          <s>
            <w>Nesta</w>
            <w>lição,</w>
            <w>irá</w>
            <w>aprender:</w>
          </s>
        </p>
        <list type="unordered">
          <item>
            <s>
              <w>Como</w>
              <w>criar</w>
              <w>uma</w>
              <w>aplicação</w>
              <w>Shiny</w>
              <w>interativa</w>
              <w>básica</w>
              <pc>.</pc>
            </s>
          </item>
          <item>
            <s>
              <w>Os</w>
              <w>principais</w>
              <emph>
                <w>layouts</w>
              </emph>
              <w>e</w>
              <w>princípios</w>
              <w>de</w>
              <w>design</w>
              <w>da</w>
              <w>UI</w>
              <w>Shiny</w>
              <pc>.</pc>
            </s>
          </item>
          <item>
            <s>
              <w>O</w>
              <w>conceito</w>
              <w>e</w>
              <w>a</w>
              <w>prática</w>
              <w>de</w>
              <w>'programação</w>
              <w>reativa',</w>
              <w>conforme</w>
              <w>implementado</w>
              <w>por</w>
              <w>aplicações</w>
              <w>Shiny</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Especificamente,</w>
              <w>aprenderá</w>
              <w>como</w>
              <w>usar</w>
              <w>Shiny</w>
              <w>para</w>
              <w>'entender'</w>
              <w>informações</w>
              <w>de</w>
              <emph>
                <w>input</w>
              </emph>
              <w>e</w>
              <w>como</w>
              <w>elas</w>
              <w>estão</w>
              <w>conectadas</w>
              <w>aos</w>
              <w>resultados</w>
              <w>a</w>
              <w>serem</w>
              <w>exibidos</w>
              <w>na</w>
              <w>sua</w>
              <w>aplicação</w>
              <pc>.</pc>
            </s>
          </item>
        </list>
        <p style="alert alert-info">
          <s>
            <w>Saiba</w>
            <w>que</w>
            <w>esta</w>
            <w>lição</w>
            <w>não</w>
            <w>ensina</w>
            <w>nenhuma</w>
            <w>codificação</w>
            <w>em</w>
            <w>R,</w>
            <w>além</w>
            <w>da</w>
            <w>suficiente</w>
            <w>para</w>
            <w>criar</w>
            <w>a</w>
            <w>aplicação,</w>
            <w>nem</w>
            <w>aborda</w>
            <w>a</w>
            <w>publicação</w>
            <w>da</w>
            <w>aplicação</w>
            <w>finalizada</w>
            <w>na</w>
            <w>Web</w>
            <pc>.</pc>
          </s>
          <s>
            <w>É</w>
            <w>recomendado</w>
            <w>um</w>
            <w>conhecimento</w>
            <w>básico</w>
            <w>em</w>
            <w>linguagem</w>
            <w>de</w>
            <w>programação</w>
            <w>R,</w>
            <w>particularmente</w>
            <w>com</w>
            <w>o</w>
            <ref target="/pt/licoes/manipulacao-transformacao-dados-R">
              <w>tidyverse</w>
            </ref>
            <pc>.</pc>
          </s>
        </p>
        <div type="3" n="2.1">
          <head>
            <s>
              <w>Interfaces</w>
              <w>Gráficas</w>
              <w>do</w>
              <w>Utilizador</w>
              <w>e</w>
              <w>Humanidades</w>
              <w>Digitais</w>
            </s>
          </head>
          <p>
            <s>
              <ref target="https://perma.cc/8SYH-TX26">
                <w>Interfaces</w>
                <w>Gráficas</w>
                <w>do</w>
                <w>Utilizador</w>
              </ref>
              <w>(em</w>
              <w>inglês)</w>
              <w>(GUI,</w>
              <w>na</w>
              <w>sigla</w>
              <w>em</w>
              <w>inglês)</w>
              <w>e</w>
              <w>elementos</w>
              <w>interativos</w>
              <w>podem</w>
              <w>ajudar</w>
              <w>a</w>
              <w>tornar</w>
              <w>certos</w>
              <w>tipos</w>
              <w>de</w>
              <w>trabalhos</w>
              <w>académicos</w>
              <w>baseados</w>
              <w>em</w>
              <w>dados</w>
              <w>mais</w>
              <w>acessíveis</w>
              <w>ou</w>
              <w>legíveis</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Para</w>
              <w>dar</w>
              <w>um</w>
              <w>exemplo</w>
              <w>simples,</w>
              <w>os</w>
              <w>historiadores</w>
              <w>que</w>
              <w>trabalham</w>
              <w>com</w>
              <w>um</w>
              <w>grande</w>
              <w>volume</w>
              <w>de</w>
              <w>dados</w>
              <w>(</w>
              <emph>
                <w>big</w>
                <w>data</w>
              </emph>
              <w>)</w>
              <w>podem</w>
              <w>querer</w>
              <w>demonstrar</w>
              <w>a</w>
              <w>mudança</w>
              <w>numa</w>
              <w>variável</w>
              <w>ao</w>
              <w>longo</w>
              <w>do</w>
              <w>tempo</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Um</w>
              <w>mapa</w>
              <w>interativo</w>
              <w>com</w>
              <w>uma</w>
              <w>linha</w>
              <w>do</w>
              <w>tempo</w>
              <w>ajustável</w>
              <w>é,</w>
              <w>em</w>
              <w>alguns</w>
              <w>casos,</w>
              <w>mais</w>
              <w>fácil</w>
              <w>de</w>
              <w>ler</w>
              <w>e</w>
              <w>permite</w>
              <w>mais</w>
              <w>granularidade</w>
              <w>do</w>
              <w>que</w>
              <w>uma</w>
              <w>série</w>
              <w>de</w>
              <w>mapas</w>
              <w>estáticos</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Permitir</w>
              <w>que</w>
              <w>um</w>
              <w>usuário</w>
              <w>defina</w>
              <w>os</w>
              <w>parâmetros</w>
              <w>da</w>
              <w>visualização</w>
              <w>pode</w>
              <w>ajudar</w>
              <w>a</w>
              <w>evitar</w>
              <w>alguns</w>
              <w>dos</w>
              <w>vieses</w>
              <w>frequentemente</w>
              <w>encontrados</w>
              <w>em</w>
              <w>visualizações</w>
              <w>de</w>
              <w>dados</w>
              <w>usando</w>
              <w>séries</w>
              <w>temporais</w>
              <w>(por</w>
              <w>exemplo,</w>
              <w>desenhar</w>
              <w>arbitrariamente</w>
              <w>um</w>
              <w>mapa</w>
              <w>por</w>
              <w>década)</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Muitos</w>
              <w>projetos</w>
              <w>de</w>
              <w>pesquisa</w>
              <w>têm</w>
              <w>elementos</w>
              <w>interativos</w>
              <w>como</w>
              <w>resultados</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Alguns</w>
              <w>exemplos</w>
              <w>incluem</w>
              <w>o</w>
              <ref target="https://tudornetworks.net/">
                <w>Tudor</w>
                <w>Networks</w>
                <w>of</w>
                <w>Power</w>
              </ref>
              <w>(em</w>
              <w>inglês),</w>
              <w>uma</w>
              <w>visualização</w>
              <w>das</w>
              <w>redes</w>
              <w>nos</w>
              <w>Tudor</w>
              <w>State</w>
              <w>Papers,</w>
              <w>o</w>
              <ref target="https://livingwithmachines.ac.uk/press-tracer-visualise-newspaper-lineage/">
                <w>Press</w>
                <w>Tracer</w>
              </ref>
              <w>(em</w>
              <w>inglês)</w>
              <w>interativo</w>
              <w>e</w>
              <w>(para</w>
              <w>dar</w>
              <w>um</w>
              <w>exemplo</w>
              <w>usando</w>
              <w>Shiny)</w>
              <w>o</w>
              <ref target="https://utrecht-university.shinyapps.io/GeoNewsMiner/">
                <w>GeoNewsMiner</w>
              </ref>
              <w>(em</w>
              <w>inglês),</w>
              <w>que</w>
              <w>exibe</w>
              <w>menções</w>
              <w>geocodificadas</w>
              <w>num</w>
              <emph>
                <w>corpus</w>
              </emph>
              <w>de</w>
              <w>jornais</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Aplicações</w>
              <w>interativas</w>
              <w>podem</w>
              <w>ser</w>
              <w>ferramentas</w>
              <w>úteis</w>
              <w>para</w>
              <w>arquivistas:</w>
              <w>pesquisadores</w>
              <w>do</w>
              <w>National</w>
              <w>Archives</w>
              <w>UK</w>
              <ref target="https://perma.cc/C6U5-PYHF">
                <w>criaram</w>
                <w>uma</w>
                <w>aplicação</w>
                <w>usando</w>
                <w>Shiny</w>
              </ref>
              <w>(em</w>
              <w>inglês)</w>
              <w>que</w>
              <w>avalia</w>
              <w>o</w>
              <w>nível</w>
              <w>de</w>
              <w>risco</w>
              <w>numa</w>
              <w>coleção</w>
              <w>digital,</w>
              <w>por</w>
              <w>meio</w>
              <w>de</w>
              <w>uma</w>
              <w>série</w>
              <w>de</w>
              <w>perguntas</w>
              <w>respondidas</w>
              <w>por</w>
              <w>um</w>
              <w>usuário</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Outro</w>
              <w>caso</w>
              <w>de</w>
              <w>uso</w>
              <w>típico</w>
              <w>para</w>
              <w>aplicações</w>
              <w>interativas</w>
              <w>é</w>
              <w>fornecer</w>
              <w>uma</w>
              <w>maneira</w>
              <w>mais</w>
              <w>fácil</w>
              <w>de</w>
              <w>explorar</w>
              <w>o</w>
              <w>seu</w>
              <w>próprio</w>
              <w>conjunto</w>
              <w>de</w>
              <w>dados,</w>
              <w>sem</w>
              <w>nunca</w>
              <w>pretender</w>
              <w>que</w>
              <w>a</w>
              <w>própria</w>
              <w>aplicação</w>
              <w>seja</w>
              <w>disponibilizada</w>
              <w>publicamente</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Pode-se</w>
              <w>simplesmente</w>
              <w>usá-la</w>
              <w>para</w>
              <w>encontrar</w>
              <w>padrões</w>
              <w>interessantes</w>
              <w>ou</w>
              <w>como</w>
              <w>ponto</w>
              <w>de</w>
              <w>partida</w>
              <w>para</w>
              <w>pesquisas</w>
              <w>futuras</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Dessa</w>
              <w>forma,</w>
              <w>a</w>
              <w>interatividade</w>
              <w>pode</w>
              <w>ser</w>
              <w>particularmente</w>
              <w>útil</w>
              <w>para</w>
              <w>ajudar</w>
              <w>a</w>
              <w>explorar</w>
              <w>e</w>
              <w>encontrar</w>
              <w>padrões</w>
              <w>em</w>
              <w>conjuntos</w>
              <w>de</w>
              <w>dados</w>
              <w>de</w>
              <w>grande</w>
              <w>escala</w>
              <pc>.</pc>
            </s>
          </p>
        </div>
        <div type="3" n="2.2">
          <head>
            <s>
              <w>Opções</w>
              <w>para</w>
              <w>criar</w>
              <w>uma</w>
              <w>GUI</w>
            </s>
          </head>
          <p>
            <s>
              <w>Existem</w>
              <w>várias</w>
              <w>maneiras</w>
              <w>de</w>
              <w>abordar</w>
              <w>o</w>
              <w>desenvolvimento</w>
              <w>de</w>
              <w>visualizações</w>
              <w>interativas</w>
              <w>semelhantes</w>
              <w>aos</w>
              <w>exemplos</w>
              <w>acima</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Uma</w>
              <w>delas</w>
              <w>é</w>
              <w>aprender</w>
              <w>a</w>
              <w>desenvolver</w>
              <w>uma</w>
              <w>ferramenta</w>
              <w>especializada</w>
              <w>projetada</w>
              <w>para</w>
              <w>manipular</w>
              <w>páginas</w>
              <w>da</w>
              <w>Web</w>
              <w>em</w>
              <w>resposta</w>
              <w>a</w>
              <w>informações</w>
              <w>de</w>
              <emph>
                <w>input</w>
              </emph>
              <w>,</w>
              <w>como</w>
              <w>a</w>
              <ref target="https://perma.cc/BG9S-KPJE">
                <w>biblioteca</w>
                <w>Javascript</w>
                <w>D3</w>
              </ref>
              <w>(em</w>
              <w>inglês)</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Uma</w>
              <w>segunda</w>
              <w>opção</w>
              <w>seria</w>
              <w>usar</w>
              <w>ferramentas</w>
              <w>baseadas</w>
              <w>na</w>
              <w>Web</w>
              <w>existentes,</w>
              <w>sejam</w>
              <w>gerais,</w>
              <w>como</w>
              <ref target="https://perma.cc/M6Y9-9ZCP">
                <w>Tableau</w>
              </ref>
              <w>(em</w>
              <w>inglês)</w>
              <w>e</w>
              <ref target="https://perma.cc/TAA2-W7WA">
                <w>Rawgraphs</w>
              </ref>
              <w>(em</w>
              <w>inglês),</w>
              <w>ou</w>
              <w>com</w>
              <w>uma</w>
              <w>finalidade</w>
              <w>mais</w>
              <w>específica,</w>
              <w>como</w>
              <ref target="https://perma.cc/2W5A-PBJU">
                <w>Palladio</w>
              </ref>
              <w>(em</w>
              <w>inglês)</w>
              <w>ou</w>
              <ref target="https://perma.cc/SS9Z-6DAG">
                <w>Gephi</w>
              </ref>
              <w>(em</w>
              <w>inglês)</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Uma</w>
              <w>terceira</w>
              <w>abordagem</w>
              <w>pode</w>
              <w>ser</w>
              <w>usar</w>
              <ref target="https://perma.cc/CX23-VTAK">
                <w>Jupyter</w>
                <w>notebooks</w>
              </ref>
              <w>(em</w>
              <w>inglês),</w>
              <w>que</w>
              <w>permitem</w>
              <w>compartilhar</w>
              <w>código</w>
              <w>interativo</w>
              <w>e</w>
              <w>até</w>
              <w>mesmo,</w>
              <w>com</w>
              <w>alguns</w>
              <ref target="https://perma.cc/ESA5-9MEJ">
                <w>pacotes</w>
                <w>adicionais</w>
              </ref>
              <w>,</w>
              <w>criar</w>
              <w>uma</w>
              <w>interface</w>
              <w>do</w>
              <w>usuário</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Esta</w>
              <w>lição</w>
              <w>abrange</w>
              <w>uma</w>
              <w>quarta</w>
              <w>abordagem:</w>
              <w>fazer</w>
              <w>aplicações</w>
              <w>interativas</w>
              <w>com</w>
              <w>uma</w>
              <w>GUI</w>
              <w>usando</w>
              <w>uma</w>
              <w>biblioteca</w>
              <w>para</w>
              <w>uma</w>
              <w>linguagem</w>
              <w>de</w>
              <w>programação</w>
              <w>de</w>
              <w>propósito</w>
              <w>geral,</w>
              <w>como</w>
              <ref target="https://perma.cc/LXR5-BYC9">
                <w>Bokeh</w>
              </ref>
              <w>(em</w>
              <w>inglês)</w>
              <w>ou</w>
              <ref target="https://perma.cc/J7T9-EHTJ">
                <w>Dash</w>
              </ref>
              <w>(em</w>
              <w>inglês)</w>
              <w>para</w>
              <w>Python</w>
              <w>ou,</w>
              <w>conforme</w>
              <w>usado</w>
              <w>neste</w>
              <w>tutorial,</w>
              <ref target="https://perma.cc/CK9W-VRKN">
                <w>Shiny</w>
              </ref>
              <w>(em</w>
              <w>inglês)</w>
              <w>para</w>
              <w>R</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Tanto</w>
              <w>o</w>
              <w>Python</w>
              <w>quanto</w>
              <w>o</w>
              <w>R</w>
              <w>são</w>
              <w>linguagens</w>
              <w>de</w>
              <w>programação</w>
              <w>versáteis,</w>
              <w>de</w>
              <w>código</w>
              <w>aberto,</w>
              <w>amplamente</w>
              <w>usadas,</w>
              <w>com</w>
              <w>comunidades</w>
              <w>ativas</w>
              <w>e</w>
              <w>com</w>
              <w>uma</w>
              <w>enorme</w>
              <w>variedade</w>
              <w>de</w>
              <w>pacotes</w>
              <w>de</w>
              <w>terceiros</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Há</w>
              <w>muitas</w>
              <w>circunstâncias</w>
              <w>em</w>
              <w>que</w>
              <w>faz</w>
              <w>sentido</w>
              <w>usá-las</w>
              <w>como</w>
              <w>base</w>
              <w>para</w>
              <w>aplicações</w>
              <w>interativas</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Em</w>
              <w>essência,</w>
              <w>esses</w>
              <w>pacotes</w>
              <w>atuam</w>
              <w>como</w>
              <w>interfaces</w>
              <w>interativas</w>
              <w>para</w>
              <w>a</w>
              <w>linguagem</w>
              <w>de</w>
              <w>programação,</w>
              <w>permitindo</w>
              <w>a</w>
              <w>criação</w>
              <w>de</w>
              <w>controlos</w>
              <w>deslizantes</w>
              <w>e</w>
              <w>outras</w>
              <w>funcionalidades,</w>
              <w>que</w>
              <w>podem</w>
              <w>ser</w>
              <w>usadas</w>
              <w>como</w>
              <w>informação</w>
              <w>de</w>
              <emph>
                <w>input</w>
              </emph>
              <w>para</w>
              <w>alterar</w>
              <w>dinamicamente</w>
              <w>parcelas</w>
              <w>de</w>
              <w>código</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Na</w>
              <w>maioria</w>
              <w>dos</w>
              <w>casos,</w>
              <w>estes</w>
              <w>pacotes</w>
              <w>não</w>
              <w>exigem</w>
              <w>conhecimento</w>
              <w>técnico</w>
              <w>do</w>
              <w>usuário</w>
              <w>final</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Como</w>
              <w>são</w>
              <w>projetados</w>
              <w>para</w>
              <w>funcionar</w>
              <w>num</w>
              <w>navegador,</w>
              <w>funcionam</w>
              <w>em</w>
              <w>qualquer</w>
              <w>plataforma</w>
              <w>e</w>
              <w>são</w>
              <w>fáceis</w>
              <w>de</w>
              <w>compartilhar</w>
              <pc>.</pc>
            </s>
          </p>
        </div>
        <div type="3" n="2.3">
          <head>
            <s>
              <w>Shiny</w>
              <w>e</w>
              <w>programação</w>
              <w>reativa</w>
            </s>
          </head>
          <p>
            <s>
              <w>Shiny</w>
              <w>é</w>
              <w>baseada</w>
              <w>num</w>
              <w>conceito</w>
              <w>chamado</w>
              <ref target="https://perma.cc/SGQ8-BU48">
                <w>reatividade</w>
              </ref>
              <pc>.</pc>
            </s>
            <s>
              <w>Normalmente,</w>
              <w>ao</w>
              <w>codificar,</w>
              <w>definimos</w>
              <w>uma</w>
              <w>variável</w>
              <w>para</w>
              <w>um</w>
              <w>valor</w>
              <w>específico,</w>
              <w>digamos</w>
              <code rend="inline">x = 5</code>
              <pc>.</pc>
            </s>
            <s>
              <w>Na</w>
              <emph>
                <w>programação</w>
                <w>reativa</w>
              </emph>
              <w>,</w>
              <w>a</w>
              <w>variável</w>
              <w>depende</w>
              <w>de</w>
              <w>uma</w>
              <w>informação</w>
              <w>de</w>
              <emph>
                <w>input</w>
              </emph>
              <w>variável,</w>
              <w>geralmente</w>
              <w>definida</w>
              <w>por</w>
              <w>um</w>
              <w>usuário</w>
              <w>(de</w>
              <w>um</w>
              <w>controlo</w>
              <w>deslizante</w>
              <w>de</w>
              <w>texto</w>
              <w>ou</w>
              <w>lista</w>
              <w>suspensa,</w>
              <w>por</w>
              <w>exemplo)</w>
              <pc>.</pc>
            </s>
            <s>
              <w>O</w>
              <w>código</w>
              <w>'capta'</w>
              <w>as</w>
              <w>alterações</w>
              <w>nessas</w>
              <w>variáveis</w>
              <w>reativas</w>
              <w>e,</w>
              <w>sempre</w>
              <w>que</w>
              <w>essas</w>
              <w>variáveis</w>
              <w>especiais</w>
              <w>mudam,</w>
              <w>quaisquer</w>
              <w>resultados</w>
              <w>são</w>
              <w>usados</w>
              <w>para</w>
              <w>gerar</w>
              <w>atualizações</w>
              <w>automaticamente</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>No</w>
              <w>entanto,</w>
              <w>essa</w>
              <w>atualização</w>
              <w>só</w>
              <w>acontece</w>
              <w>em</w>
              <pc>.</pc>
            </s>
            <hi rend="bold">
              <s>
                <w>contextos</w>
                <w>reativos</w>
              </s>
            </hi>
            <s>
              <w>Shiny</w>
              <w>tem</w>
              <w>três</w>
              <w>contextos</w>
              <w>reativos</w>
              <w>importantes:</w>
              <w>funções</w>
              <code rend="inline">render*</code>
              <w>,</w>
              <w>que</w>
              <w>são</w>
              <w>usadas</w>
              <w>para</w>
              <w>criar</w>
              <w>objetos</w>
              <w>R</w>
              <w>e</w>
              <w>exibi-los</w>
              <w>na</w>
              <w>aplicação,</w>
              <code rend="inline">observe({})</code>
              <w>e</w>
              <code rend="inline">reactive({})</code>
              <pc>.</pc>
            </s>
            <s>
              <w>Neste</w>
              <w>tutorial,</w>
              <w>usará</w>
              <w>a</w>
              <w>reatividade</w>
              <w>para</w>
              <w>criar</w>
              <w>um</w>
              <emph>
                <w>dataframe</w>
              </emph>
              <w>resumido</w>
              <w>de</w>
              <w>títulos</w>
              <w>de</w>
              <w>jornais</w>
              <w>e</w>
              <w>suas</w>
              <w>datas,</w>
              <w>que</w>
              <w>é</w>
              <w>atualizado</w>
              <w>dinamicamente</w>
              <w>com</w>
              <w>base</w>
              <w>num</w>
              <emph>
                <w>input</w>
              </emph>
              <w>de</w>
              <w>datas</w>
              <w>do</w>
              <w>usuário</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Em</w>
              <w>outras</w>
              <w>partes</w>
              <w>da</w>
              <w>sua</w>
              <w>aplicação,</w>
              <w>usará</w>
              <w>uma</w>
              <w>função</w>
              <code rend="inline">render*</code>
              <w>para</w>
              <w>exibir</w>
              <w>um</w>
              <w>mapa</w>
              <w>que</w>
              <w>captará</w>
              <w>as</w>
              <w>alterações</w>
              <w>nesse</w>
              <emph>
                <w>dataframe</w>
              </emph>
              <w>reativo</w>
              <w>e</w>
              <w>se</w>
              <w>atualizará</w>
              <w>quando</w>
              <w>qualquer</w>
              <w>uma</w>
              <w>for</w>
              <w>encontrada</w>
              <pc>.</pc>
            </s>
          </p>
        </div>
        <div type="3" n="2.4">
          <head>
            <s>
              <w>Vantagens</w>
              <w>e</w>
              <w>desvantagens</w>
              <w>de</w>
              <w>usar</w>
              <w>Shiny</w>
            </s>
          </head>
          <p>
            <s>
              <w>A</w>
              <w>vantagem</w>
              <w>dessa</w>
              <w>abordagem</w>
              <w>é</w>
              <w>que</w>
              <w>a</w>
              <w>criação</w>
              <w>de</w>
              <w>aplicações</w>
              <w>Shiny</w>
              <w>é</w>
              <emph>
                <w>relativamente</w>
              </emph>
              <w>simples</w>
              <w>se</w>
              <w>já</w>
              <w>conhece</w>
              <w>R,</w>
              <w>e</w>
              <w>toda</w>
              <w>a</w>
              <w>variedade</w>
              <w>de</w>
              <w>bibliotecas</w>
              <w>e</w>
              <w>recursos</w>
              <w>da</w>
              <w>R</w>
              <w>pode</w>
              <w>ser</w>
              <w>aproveitada</w>
              <w>pela</w>
              <w>Shiny</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Em</w>
              <w>algumas</w>
              <w>circunstâncias,</w>
              <w>isso</w>
              <w>pode</w>
              <w>ser</w>
              <w>preferível</w>
              <w>a</w>
              <w>aprender</w>
              <w>uma</w>
              <w>nova</w>
              <w>linguagem</w>
              <w>do</w>
              <w>zero</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Se</w>
              <w>tiver</w>
              <w>experiência</w>
              <w>com</w>
              <w>R</w>
              <w>e</w>
              <w>pouco</w>
              <w>conhecimento</w>
              <w>de</w>
              <w>Shiny,</w>
              <w>poderá</w>
              <w>criar</w>
              <w>aplicações</w>
              <w>muito</w>
              <w>complexas</w>
              <w>e</w>
              <w>úteis,</w>
              <w>abrangendo</w>
              <w>tudo,</w>
              <w>desde</w>
              <w>mapas,</w>
              <w>análise</w>
              <w>de</w>
              <w>redes,</w>
              <ref target="https://perma.cc/YAX3-RZZP">
                <w>modelos</w>
                <w>de</w>
                <w>aprendizado</w>
                <w>de</w>
                <w>máquina</w>
              </ref>
              <w>(em</w>
              <w>inglês)</w>
              <w>ou</w>
              <w>painéis</w>
              <w>de</w>
              <w>controlo</w>
              <w>completos</w>
              <w>com</w>
              <w>muitas</w>
              <w>funcionalidades</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Se</w>
              <w>pode</w>
              <w>programá-las</w>
              <w>com</w>
              <w>R,</w>
              <w>provavelmente</w>
              <w>pode</w>
              <w>torná-las</w>
              <w>interativas</w>
              <w>com</w>
              <w>Shiny</w>
              <pc>.</pc>
            </s>
            <s>
              <w>O</w>
              <w>processo</w>
              <w>de</w>
              <w>criação</w>
              <w>de</w>
              <w>uma</w>
              <w>interface</w>
              <w>do</w>
              <w>usuário</w>
              <w>Shiny</w>
              <w>é</w>
              <w>muito</w>
              <w>flexível</w>
              <w>e</w>
              <w>fácil</w>
              <w>de</w>
              <w>personalizar,</w>
              <w>o</w>
              <w>que</w>
              <w>significa</w>
              <w>que</w>
              <w>é</w>
              <w>simples</w>
              <w>criar</w>
              <w>uma</w>
              <w>aplicação</w>
              <w>num</w>
              <w>formato</w>
              <w>que</w>
              <w>possa</w>
              <w>ser</w>
              <w>incorporado</w>
              <w>num</w>
              <w>site</w>
              <w>de</w>
              <w>projeto</w>
              <w>usando</w>
              <emph>
                <w>iframes</w>
              </emph>
              <w>:</w>
              <w>veja</w>
              <w>o</w>
              <w>projeto</w>
              <ref target="https://www.mappingthegayguides.org/map/">
                <w>Mapping</w>
                <w>the</w>
                <w>Gay</w>
                <w>Guides</w>
              </ref>
              <w>(em</w>
              <w>inglês)</w>
              <w>como</w>
              <w>exemplo</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Existem</w>
              <w>algumas</w>
              <w>desvantagens</w>
              <w>que</w>
              <w>valem</w>
              <w>a</w>
              <w>pena</w>
              <w>considerar</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Para</w>
              <w>aqueles</w>
              <w>que</w>
              <w>não</w>
              <w>têm</w>
              <w>intenção</w>
              <w>de</w>
              <w>usar</w>
              <w>uma</w>
              <w>linguagem</w>
              <w>como</w>
              <w>R</w>
              <w>em</w>
              <w>outros</w>
              <w>aspectos</w>
              <w>do</w>
              <w>seu</w>
              <w>trabalho,</w>
              <w>aprendê-la</w>
              <w>apenas</w>
              <w>para</w>
              <w>produzir</w>
              <w>aplicações</w>
              <w>Shiny</w>
              <w>pode</w>
              <w>ser</w>
              <w>um</w>
              <w>exagero</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Shiny</w>
              <w>é</w>
              <w>de</w>
              <w>código</w>
              <w>aberto</w>
              <w>e</w>
              <w>de</w>
              <w>uso</w>
              <w>gratuito,</w>
              <w>mas</w>
              <w>de</w>
              <w>longe</w>
              <w>a</w>
              <w>maneira</w>
              <w>mais</w>
              <w>fácil</w>
              <w>de</w>
              <w>publicar</w>
              <w>a</w>
              <w>sua</w>
              <w>aplicação</w>
              <w>finalizada</w>
              <w>na</w>
              <w>Web</w>
              <w>é</w>
              <w>usando</w>
              <w>um</w>
              <w>serviço</w>
              <w>chamado</w>
              <w>shinyapps</w>
              <pc>.</pc>
            </s>
            <s>
              <w>io</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Shinyapps</w>
              <pc>.</pc>
            </s>
            <s>
              <w>io</w>
              <w>é</w>
              <w>um</w>
              <w>produto</w>
              <w>comercial</w>
              <w>com</w>
              <w>uma</w>
              <w>opção</w>
              <w>gratuita</w>
              <w>que</w>
              <w>oferece</w>
              <w>um</w>
              <w>número</w>
              <w>limitado</w>
              <w>de</w>
              <w>horas</w>
              <w>de</w>
              <w>uso</w>
              <w>(25</w>
              <w>horas,</w>
              <w>depois</w>
              <w>disso</w>
              <w>precisará</w>
              <w>pagar</w>
              <w>uma</w>
              <w>taxa</w>
              <w>mensal)</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Pode</w>
              <w>executar</w>
              <w>a</w>
              <w>Shiny</w>
              <w>no</w>
              <w>seu</w>
              <w>próprio</w>
              <w>servidor</w>
              <w>(ou</w>
              <w>através</w>
              <w>de</w>
              <w>algo</w>
              <w>como</w>
              <ref target="https://perma.cc/DEA2-HCC7">
                <w>Amazon</w>
                <w>Web</w>
                <w>Services</w>
              </ref>
              <w>(em</w>
              <w>inglês)),</w>
              <w>mas</w>
              <w>é</w>
              <w>um</w>
              <w>processo</w>
              <w>bastante</w>
              <w>complicado</w>
              <w>e</w>
              <w>requer</w>
              <w>conhecimento</w>
              <w>avançado</w>
              <w>de</w>
              <w>configuração</w>
              <w>de</w>
              <w>servidores</w>
              <w>Web</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Deve</w>
              <w>ter</w>
              <w>isso</w>
              <w>em</w>
              <w>mente</w>
              <w>se</w>
              <w>estiver</w>
              <w>pensando</w>
              <w>em</w>
              <w>usar</w>
              <w>Shiny</w>
              <w>para</w>
              <w>uma</w>
              <w>saída</w>
              <w>voltada</w>
              <w>para</w>
              <w>o</w>
              <w>público,</w>
              <w>principalmente</w>
              <w>se</w>
              <w>achar</w>
              <w>que</w>
              <w>pode</w>
              <w>ter</w>
              <w>muito</w>
              <w>tráfego</w>
              <w>e</w>
              <w>uso</w>
              <w>pesado</w>
              <pc>.</pc>
            </s>
          </p>
        </div>
      </div>
      <div type="2" n="3">
        <head>
          <s>
            <w>Contexto</w>
            <w>histórico</w>
            <w>e</w>
            <w>dados</w>
          </s>
        </head>
        <p>
          <s>
            <w>A</w>
            <w>biblioteca</w>
            <w>nacional</w>
            <w>do</w>
            <w>Reino</w>
            <w>Unido,</w>
            <w>a</w>
            <ref target="https://perma.cc/C7VP-VBTS">
              <w>British</w>
              <w>Library</w>
            </ref>
            <w>(em</w>
            <w>inglês)</w>
            <w>possui,</w>
            <w>de</w>
            <w>longe,</w>
            <w>a</w>
            <w>maior</w>
            <w>coleção</w>
            <w>de</w>
            <w>jornais</w>
            <w>britânicos</w>
            <w>e</w>
            <w>irlandeses</w>
            <w>do</w>
            <w>mundo</w>
            <pc>.</pc>
          </s>
          <s>
            <w>A</w>
            <w>primeira</w>
            <w>publicação</w>
            <w>de</w>
            <w>notícias</w>
            <w>em</w>
            <w>série</w>
            <w>na</w>
            <w>sua</w>
            <w>coleção</w>
            <w>é</w>
            <w>de</w>
            <w>1621</w>
            <w>e</w>
            <w>continua</w>
            <w>a</w>
            <w>ser</w>
            <w>coletada</w>
            <w>até</w>
            <w>hoje</w>
            <pc>.</pc>
          </s>
          <s>
            <w>O</w>
            <w>catálogo</w>
            <w>da</w>
            <w>biblioteca</w>
            <w>contém</w>
            <w>uma</w>
            <w>riqueza</w>
            <w>de</w>
            <w>informações</w>
            <w>sobre</w>
            <w>os</w>
            <w>seus</w>
            <w>acervos</w>
            <w>jornalísticos,</w>
            <w>que</w>
            <w>foram</w>
            <w>disponibilizadas</w>
            <w>publicamente</w>
            <w>na</w>
            <w>forma</w>
            <w>de</w>
            <w>metadados</w>
            <w>estruturados</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Esses</w>
            <w>metadados</w>
            <w>são,</w>
            <w>essencialmente,</w>
            <w>uma</w>
            <w>lista</w>
            <w>de</w>
            <w>títulos</w>
            <w>de</w>
            <w>jornais,</w>
            <w>contendo</w>
            <w>as</w>
            <w>datas</w>
            <w>e</w>
            <w>locais</w>
            <w>de</w>
            <w>publicação</w>
            <w>de</w>
            <w>cada</w>
            <w>um,</w>
            <w>mudanças</w>
            <w>e</w>
            <w>fusões</w>
            <w>de</w>
            <w>títulos</w>
            <w>e</w>
            <w>informações</w>
            <w>sobre</w>
            <w>substitutos</w>
            <w>de</w>
            <w>microfilmes</w>
            <w>e</w>
            <w>acervos</w>
            <w>digitais</w>
            <pc>.</pc>
          </s>
        </p>
        <p>
          <s>
            <w>Esses</w>
            <w>metadados</w>
            <w>estruturados</w>
            <w>são</w>
            <w>o</w>
            <w>recurso</w>
            <w>usado</w>
            <w>nesta</w>
            <w>lição</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Rastrear</w>
            <w>os</w>
            <w>metadados</w>
            <w>dessa</w>
            <w>coleção</w>
            <w>é</w>
            <w>uma</w>
            <w>forma</w>
            <w>dos</w>
            <w>historiadores</w>
            <w>mapearem</w>
            <w>o</w>
            <w>crescimento</w>
            <w>e</w>
            <w>as</w>
            <w>mudanças</w>
            <w>na</w>
            <w>imprensa</w>
            <w>ao</w>
            <w>longo</w>
            <w>do</w>
            <w>tempo</w>
            <w>e</w>
            <w>em</w>
            <w>diferentes</w>
            <w>regiões</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Além</w>
            <w>disso,</w>
            <w>pode</w>
            <w>ajudar</w>
            <w>a</w>
            <w>entender</w>
            <w>mais</w>
            <w>sobre</w>
            <w>o</w>
            <w>próprio</w>
            <w>acervo</w>
            <w>da</w>
            <w>British</w>
            <w>Library,</w>
            <w>incluindo</w>
            <w>as</w>
            <w>suas</w>
            <w>lacunas,</w>
            <w>vieses,</w>
            <w>estratégias</w>
            <w>de</w>
            <w>digitalização</w>
            <w>e</w>
            <w>pontos</w>
            <w>cegos</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Os</w>
            <w>dados</w>
            <w>podem</w>
            <w>até</w>
            <w>indicar</w>
            <w>algo</w>
            <w>sobre</w>
            <w>a</w>
            <w>mudança</w>
            <w>demográfica</w>
            <w>e</w>
            <w>industrialização</w>
            <w>da</w>
            <w>Grã-Bretanha,</w>
            <w>bem</w>
            <w>como</w>
            <w>desenvolvimentos</w>
            <w>nas</w>
            <w>tecnologias</w>
            <w>de</w>
            <w>comunicação</w>
            <w>(por</w>
            <w>exemplo,</w>
            <w>comboios</w>
            <w>e,</w>
            <w>depois,</w>
            <w>telégrafos</w>
            <w>tornaram</w>
            <w>possível</w>
            <w>ter</w>
            <w>imprensas</w>
            <w>regionais</w>
            <w>e</w>
            <w>locais)</w>
            <pc>.</pc>
          </s>
        </p>
        <p>
          <s>
            <w>A</w>
            <w>indústria</w>
            <w>jornalística</w>
            <w>(e,</w>
            <w>também,</w>
            <w>a</w>
            <w>coleção)</w>
            <w>cresceu</w>
            <w>de</w>
            <w>um</w>
            <w>pequeno</w>
            <w>número</w>
            <w>de</w>
            <w>títulos</w>
            <w>publicados</w>
            <w>em</w>
            <w>Londres</w>
            <w>no</w>
            <w>início</w>
            <w>do</w>
            <w>século</w>
            <w>XVII</w>
            <w>para</w>
            <w>uma</w>
            <w>florescente</w>
            <w>imprensa</w>
            <w>provincial</w>
            <w>semanal</w>
            <w>e</w>
            <w>diária</w>
            <w>no</w>
            <w>século</w>
            <w>XVIII</w>
            <w>e,</w>
            <w>depois,</w>
            <w>para</w>
            <w>uma</w>
            <w>grande</w>
            <w>imprensa</w>
            <w>local</w>
            <w>nos</w>
            <w>séculos</w>
            <w>XIX</w>
            <w>e</w>
            <w>XX</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Durante</w>
            <w>grande</w>
            <w>parte</w>
            <w>do</w>
            <w>século</w>
            <w>XVIII,</w>
            <w>um</w>
            <w>imposto</w>
            <w>foi</w>
            <w>adicionado</w>
            <w>a</w>
            <w>cada</w>
            <w>exemplar</w>
            <w>de</w>
            <w>jornal,</w>
            <w>tornando-o</w>
            <w>caro</w>
            <w>e</w>
            <w>disponível</w>
            <w>apenas</w>
            <w>para</w>
            <w>a</w>
            <w>elite</w>
            <pc>.</pc>
          </s>
          <s>
            <w>No</w>
            <w>século</w>
            <w>seguinte,</w>
            <w>este</w>
            <w>foi</w>
            <w>revogado</w>
            <w>e</w>
            <w>a</w>
            <w>imprensa</w>
            <w>começou</w>
            <w>—ainda</w>
            <w>que</w>
            <w>lentamente—</w>
            <w>a</w>
            <w>refletir</w>
            <w>mais</w>
            <w>plenamente</w>
            <w>sobre</w>
            <w>as</w>
            <w>aspirações</w>
            <w>e</w>
            <w>a</w>
            <w>diversidade</w>
            <w>do</w>
            <w>país</w>
            <pc>.</pc>
          </s>
          <s>
            <w>A</w>
            <w>aplicação</w>
            <w>criada</w>
            <w>neste</w>
            <w>tutorial</w>
            <w>—um</w>
            <w>mapa</w>
            <w>interativo</w>
            <w>de</w>
            <w>títulos</w>
            <w>publicados,</w>
            <w>com</w>
            <w>um</w>
            <w>controlo</w>
            <w>deslizante</w>
            <w>de</w>
            <w>tempo</w>
            <w>selecionado</w>
            <w>pelo</w>
            <w>usuário—</w>
            <w>é</w>
            <w>uma</w>
            <w>maneira</w>
            <w>útil</w>
            <w>de</w>
            <w>visualizar</w>
            <w>essas</w>
            <w>mudanças</w>
            <pc>.</pc>
          </s>
        </p>
        <div type="3" n="3.1">
          <head>
            <s>
              <w>Obtendo</w>
              <w>os</w>
              <w>dados</w>
            </s>
          </head>
          <p>
            <s>
              <w>Para</w>
              <w>este</w>
              <w>tutorial,</w>
              <w>será</w>
              <w>preciso</w>
              <w>descarregar</w>
              <w>dois</w>
              <w>ficheiros:</w>
              <w>primeiro,</w>
              <w>uma</w>
              <w>lista</w>
              <w>de</w>
              <w>títulos</w>
              <w>de</w>
              <w>jornais</w>
              <w>britânicos</w>
              <w>e</w>
              <w>irlandeses,</w>
              <w>depois</w>
              <w>disso</w>
              <w>chamada</w>
              <w>de</w>
              <w>'lista</w>
              <w>de</w>
              <w>títulos';</w>
              <w>e,</w>
              <w>segundo,</w>
              <w>um</w>
              <w>conjunto</w>
              <w>de</w>
              <w>dados</w>
              <w>auxiliar</w>
              <w>com</w>
              <w>nomes</w>
              <w>de</w>
              <w>lugares</w>
              <w>e</w>
              <w>coordenadas,</w>
              <w>que</w>
              <w>permitirá</w>
              <w>a</w>
              <w>correspondência</w>
              <w>dos</w>
              <w>lugares</w>
              <w>encontrados</w>
              <w>na</w>
              <w>lista</w>
              <w>de</w>
              <w>títulos</w>
              <w>aos</w>
              <w>locais</w>
              <w>num</w>
              <w>mapa,</w>
              <w>a</w>
              <w>que</w>
              <w>chamaremos</w>
              <w>de</w>
              <w>'lista</w>
              <w>de</w>
              <w>coordenadas'</w>
              <pc>.</pc>
            </s>
          </p>
          <list type="unordered">
            <item>
              <p>
                <s>
                  <w>Para</w>
                  <w>obter</w>
                  <w>a</w>
                  <w>lista</w>
                  <w>de</w>
                  <w>títulos,</w>
                  <w>visite</w>
                  <w>o</w>
                  <ref target="https://bl.iro.bl.uk/concern/datasets/7da47fac-a759-49e2-a95a-26d49004eba8?locale=en">
                    <w>repositório</w>
                    <w>da</w>
                    <w>British</w>
                    <w>Library</w>
                  </ref>
                  <w>(em</w>
                  <w>inglês)</w>
                  <pc>.</pc>
                </s>
                <s>
                  <w>A</w>
                  <w>lista</w>
                  <w>está</w>
                  <w>disponível</w>
                  <w>no</w>
                  <w>repositório</w>
                  <w>em</w>
                  <w>dois</w>
                  <w>formatos:</w>
                  <w>um</w>
                  <w>ficheiro</w>
                  <code rend="inline">.zip</code>
                  <w>contendo</w>
                  <w>um</w>
                  <code rend="inline">.csv</code>
                  <w>e</w>
                  <w>um</w>
                  <w>readme,</w>
                  <w>ou</w>
                  <w>uma</w>
                  <w>folha</w>
                  <w>de</w>
                  <w>cálculo</w>
                  <w>do</w>
                  <w>Excel</w>
                  <pc>.</pc>
                </s>
                <s>
                  <w>Para</w>
                  <w>esta</w>
                  <w>lição,</w>
                  <w>trabalharemos</w>
                  <w>com</w>
                  <w>o</w>
                  <w>formato</w>
                  <code rend="inline">.csv</code>
                  <pc>.</pc>
                </s>
                <s>
                  <w>Descarregue</w>
                  <w>o</w>
                  <w>ficheiro</w>
                  <code rend="inline">.zip</code>
                  <w>e</w>
                  <w>descompacte-o</w>
                  <pc>.</pc>
                </s>
                <s>
                  <w>Como</w>
                  <w>alternativa,</w>
                  <w>pode</w>
                  <ref target="/assets/shiny-leaflet-newspaper-map-tutorial-data/newspaper_coordinates.csv">
                    <w>descarregar</w>
                    <w>aqui</w>
                  </ref>
                  <w>uma</w>
                  <w>cópia</w>
                  <w>do</w>
                  <w>conjunto</w>
                  <w>de</w>
                  <w>dados</w>
                  <w>usado</w>
                  <w>neste</w>
                  <w>tutorial</w>
                  <pc>.</pc>
                </s>
              </p>
            </item>
            <item>
              <p>
                <s>
                  <w>A</w>
                  <w>lista</w>
                  <w>de</w>
                  <w>coordenadas</w>
                  <w>está</w>
                  <ref target="/assets/shiny-leaflet-newspaper-map-tutorial-data/newspaper_coordinates.csv">
                    <w>disponível</w>
                    <w>aqui</w>
                  </ref>
                  <pc>.</pc>
                </s>
                <s>
                  <w>Descarregue</w>
                  <w>este</w>
                  <w>ficheiro</w>
                  <w>de</w>
                  <w>coordenadas</w>
                  <pc>.</pc>
                </s>
                <s>
                  <w>Não</w>
                  <w>importa</w>
                  <w>onde</w>
                  <w>o</w>
                  <w>coloca</w>
                  <w>agora,</w>
                  <w>pois</w>
                  <w>posteriormente</w>
                  <w>na</w>
                  <w>lição</w>
                  <w>moverá</w>
                  <w>os</w>
                  <w>dois</w>
                  <w>ficheiros</w>
                  <w>para</w>
                  <w>uma</w>
                  <w>nova</w>
                  <w>pasta</w>
                  <pc>.</pc>
                </s>
              </p>
            </item>
          </list>
        </div>
        <div type="3" n="3.2">
          <head>
            <s>
              <w>Entender</w>
              <w>a</w>
              <w>lista</w>
              <w>de</w>
              <w>títulos</w>
            </s>
          </head>
          <p>
            <s>
              <w>Feito</w>
              <w>isto,</w>
              <w>dê</w>
              <w>uma</w>
              <w>olhada</w>
              <w>no</w>
              <w>conjunto</w>
              <w>de</w>
              <w>dados</w>
              <w>da</w>
              <w>lista</w>
              <w>de</w>
              <w>títulos</w>
              <w>(pode</w>
              <w>abri-lo</w>
              <w>no</w>
              <w>R,</w>
              <w>num</w>
              <w>programa</w>
              <w>de</w>
              <w>folha</w>
              <w>de</w>
              <w>cálculo</w>
              <w>ou</w>
              <w>um</w>
              <w>editor</w>
              <w>de</w>
              <w>texto)</w>
              <pc>.</pc>
            </s>
            <s>
              <w>A</w>
              <w>lista</w>
              <w>de</w>
              <w>títulos</w>
              <w>foi</w>
              <w>produzida</w>
              <w>pela</w>
              <w>British</w>
              <w>Library</w>
              <w>e</w>
              <w>publicada</w>
              <w>no</w>
              <w>seu</w>
              <w>repositório</w>
              <w>institucional</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Contém</w>
              <w>metadados</w>
              <w>retirados</w>
              <w>do</w>
              <w>catálogo</w>
              <w>da</w>
              <w>biblioteca,</w>
              <w>de</w>
              <w>todos</w>
              <w>os</w>
              <w>jornais</w>
              <w>publicados</w>
              <w>na</w>
              <w>Grã-Bretanha</w>
              <w>e</w>
              <w>Irlanda</w>
              <w>até</w>
              <w>o</w>
              <w>ano</w>
              <w>de</w>
              <w>2019,</w>
              <w>um</w>
              <w>total</w>
              <w>de</w>
              <w>cerca</w>
              <w>de</w>
              <w>24</w>
              <pc>.</pc>
            </s>
            <s>
              <w>000</w>
              <w>títulos</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Há</w>
              <w>mais</w>
              <w>informações</w>
              <w>disponíveis</w>
              <w>num</w>
              <w>artigo</w>
              <w>de</w>
              <w>dados</w>
              <w>publicado</w>
              <pc>.</pc>
            </s>
            <ref type="footnotemark" target="#pt_note_1"/>
          </p>
          <p>
            <s>
              <w>O</w>
              <w>ficheiro</w>
              <code rend="inline">.csv</code>
              <w>(</w>
              <code rend="inline">BritishAndIrishNewspapersTitleList_20191118.csv</code>
              <w>)</w>
              <w>contém</w>
              <w>vários</w>
              <w>campos</w>
              <w>para</w>
              <w>cada</w>
              <w>título,</w>
              <w>incluindo</w>
              <w>o</w>
              <w>nome</w>
              <w>da</w>
              <w>publicação,</w>
              <w>nomes</w>
              <w>de</w>
              <w>títulos</w>
              <w>posteriores</w>
              <w>e</w>
              <w>anteriores,</w>
              <w>vários</w>
              <w>campos</w>
              <w>para</w>
              <w>a</w>
              <w>cobertura</w>
              <w>geográfica,</w>
              <w>a</w>
              <w>primeira</w>
              <w>e</w>
              <w>a</w>
              <w>última</w>
              <w>datas</w>
              <w>catalogadas</w>
              <w>e</w>
              <w>algumas</w>
              <w>outras</w>
              <w>informações</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Vale</w>
              <w>a</w>
              <w>pena</w>
              <w>ler</w>
              <w>o</w>
              <w>ficheiro</w>
              <w>que</w>
              <w>acompanha</w>
              <w>o</w>
              <w>ficheiro</w>
              <pc>.</pc>
            </s>
            <code rend="inline">README</code>
            <code rend="inline">.zip</code>
            <s>
              <w>Este</w>
              <w>explica</w>
              <w>que</w>
              <w>existem</w>
              <w>vários</w>
              <w>campos</w>
              <w>previstos</w>
              <w>para</w>
              <w>a</w>
              <w>cobertura</w>
              <w>geográfica,</w>
              <w>pois</w>
              <w>os</w>
              <w>registros</w>
              <w>foram</w>
              <w>catalogados</w>
              <w>durante</w>
              <w>um</w>
              <w>longo</w>
              <w>período</w>
              <w>de</w>
              <w>tempo</w>
              <w>durante</w>
              <w>o</w>
              <w>qual</w>
              <w>os</w>
              <w>padrões</w>
              <w>e</w>
              <w>convenções</w>
              <w>de</w>
              <w>catalogação</w>
              <w>mudaram</w>
              <pc>.</pc>
            </s>
            <s>
              <w>O</w>
              <w>objetivo</w>
              <w>aqui</w>
              <w>é</w>
              <w>mapear</w>
              <w>os</w>
              <w>jornais</w>
              <w>num</w>
              <w>nível</w>
              <w>de</w>
              <w>ponto</w>
              <w>geográfico,</w>
              <w>ou</w>
              <w>seja,</w>
              <w>no</w>
              <w>nível</w>
              <w>de</w>
              <w>povoado,</w>
              <w>vila</w>
              <w>ou</w>
              <w>cidade,</w>
              <w>em</w>
              <w>vez</w>
              <w>de</w>
              <w>região</w>
              <w>ou</w>
              <w>país</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Existem</w>
              <w>dois</w>
              <w>campos</w>
              <w>onde</w>
              <w>podemos</w>
              <w>encontrar</w>
              <w>os</w>
              <w>pontos</w>
              <w>geográficos</w>
              <w>potencialmente</w>
              <w>relevantes</w>
              <w>para</w>
              <w>mapear:</w>
              <code rend="inline">place_of_publication</code>
              <w>e</w>
              <code rend="inline">coverage_city</code>
              <pc>.</pc>
            </s>
            <s>
              <w>Parecem</w>
              <w>coisas</w>
              <w>diferentes</w>
              <w>(um</w>
              <w>jornal</w>
              <w>poderia</w>
              <w>ser</w>
              <w>publicado</w>
              <w>num</w>
              <w>lugar,</w>
              <w>mas</w>
              <w>ter</w>
              <w>cobertura</w>
              <w>geográfica</w>
              <w>noutro,</w>
              <w>talvez</w>
              <w>se</w>
              <w>o</w>
              <w>primeiro</w>
              <w>não</w>
              <w>tivesse</w>
              <w>uma</w>
              <w>imprensa</w>
              <w>jornalística</w>
              <w>adequada),</w>
              <w>mas</w>
              <w>não</w>
              <w>é</w>
              <w>assim</w>
              <w>que</w>
              <w>têm</w>
              <w>sido</w>
              <w>usados</w>
              <w>pelos</w>
              <w>catalogadores</w>
              <w>na</w>
              <w>prática</w>
              <pc>.</pc>
            </s>
            <s>
              <w>O</w>
              <w>ficheiro</w>
              <code rend="inline">README</code>
              <w>diz</w>
              <w>que</w>
              <w>este</w>
              <w>último</w>
              <w>(</w>
              <code rend="inline">coverage_city</code>
              <w>)</w>
              <w>contém</w>
              <w>dados</w>
              <w>mais</w>
              <w>completos,</w>
              <w>então</w>
              <w>é</w>
              <w>esse</w>
              <w>que</w>
              <w>usará</w>
              <w>para</w>
              <w>mapear</w>
              <w>os</w>
              <w>títulos</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Os</w>
              <w>outros</w>
              <w>dois</w>
              <w>campos</w>
              <w>de</w>
              <w>interesse</w>
              <w>são</w>
              <w>a</w>
              <w>primeira</w>
              <w>e</w>
              <w>a</w>
              <w>última</w>
              <w>datas</w>
              <w>catalogadas</w>
              <pc>.</pc>
            </s>
            <s>
              <w>O</w>
              <w>readme</w>
              <w>também</w>
              <w>nos</w>
              <w>diz</w>
              <w>que</w>
              <w>a</w>
              <w>biblioteca</w>
              <w>não</w>
              <w>tem</w>
              <w>cobertura</w>
              <w>completa,</w>
              <w>embora</w>
              <w>tenha</w>
              <w>a</w>
              <w>maioria</w>
              <w>dos</w>
              <w>títulos</w>
              <w>da</w>
              <w>década</w>
              <w>de</w>
              <w>1840</w>
              <w>em</w>
              <w>diante,</w>
              <w>e</w>
              <w>efetivamente</w>
              <w>todos</w>
              <w>os</w>
              <w>títulos</w>
              <w>a</w>
              <w>partir</w>
              <w>de</w>
              <w>1869,</w>
              <w>quando</w>
              <w>o</w>
              <w>Depósito</w>
              <w>Legal</w>
              <ref type="footnotemark" target="#pt_note_2"/>
              <w>foi</w>
              <w>introduzido</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Isso</w>
              <w>significa</w>
              <w>que</w>
              <w>a</w>
              <w>coleção</w>
              <w>não</w>
              <w>possui,</w>
              <w>necessariamente,</w>
              <w>todos</w>
              <w>os</w>
              <w>números</w>
              <w>de</w>
              <w>um</w>
              <w>jornal</w>
              <emph>
                <w>entre</w>
              </emph>
              <w>a</w>
              <w>primeira</w>
              <w>e</w>
              <w>a</w>
              <w>última</w>
              <w>data</w>
              <w>catalogadas</w>
              <w>pela</w>
              <w>Biblioteca</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Neste</w>
              <w>tutorial,</w>
              <w>será</w>
              <w>criado</w>
              <w>um</w>
              <w>controlo</w>
              <w>deslizante</w>
              <w>interativo</w>
              <w>que</w>
              <w>permitirá</w>
              <w>ao</w>
              <w>usuário</w>
              <w>escolher</w>
              <w>uma</w>
              <w>data</w>
              <w>de</w>
              <w>início</w>
              <w>e</w>
              <w>de</w>
              <w>término</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Isso</w>
              <w>pode</w>
              <w>ser</w>
              <w>usado</w>
              <w>para</w>
              <w>filtrar</w>
              <w>os</w>
              <w>dados</w>
              <w>de</w>
              <w>duas</w>
              <w>maneiras:</w>
              <w>para</w>
              <w>todos</w>
              <w>os</w>
              <w>jornais</w>
              <w>publicados</w>
              <emph>
                <w>em</w>
                <w>algum</w>
                <w>momento</w>
              </emph>
              <w>entre</w>
              <w>essas</w>
              <w>duas</w>
              <w>datas,</w>
              <w>ou</w>
              <w>pode</w>
              <w>mapear</w>
              <w>todos</w>
              <w>os</w>
              <w>jornais</w>
              <w>publicados</w>
              <emph>
                <w>pela</w>
                <w>primeira</w>
                <w>vez</w>
              </emph>
              <w>entre</w>
              <w>duas</w>
              <w>datas</w>
              <w>específicas</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Como</w>
              <w>o</w>
              <w>primeiro</w>
              <w>cenário</w>
              <w>super-representaria</w>
              <w>as</w>
              <w>coleções</w>
              <w>da</w>
              <w>biblioteca,</w>
              <w>para</w>
              <w>simplificar</w>
              <w>as</w>
              <w>coisas,</w>
              <w>neste</w>
              <w>tutorial</w>
              <w>trabalhará</w>
              <w>na</w>
              <w>visualização</w>
              <w>dos</w>
              <w>jornais</w>
              <w>publicados</w>
              <w>dentro</w>
              <w>de</w>
              <w>um</w>
              <w>determinado</w>
              <w>período</w>
              <w>de</w>
              <w>tempo</w>
              <pc>.</pc>
            </s>
          </p>
        </div>
      </div>
      <div type="2" n="4">
        <head>
          <s>
            <w>Configurando</w>
            <w>o</w>
            <w>seu</w>
            <w>ambiente</w>
            <w>de</w>
            <w>codificação</w>
            <w>e</w>
            <w>criando</w>
            <w>a</w>
            <w>aplicação</w>
            <w>Shiny</w>
          </s>
        </head>
        <p>
          <s>
            <w>Para</w>
            <w>demonstrar</w>
            <w>como</w>
            <w>Shiny</w>
            <w>funciona,</w>
            <w>neste</w>
            <w>tutorial</w>
            <w>será</w>
            <w>utilizado</w>
            <w>esse</w>
            <w>conjunto</w>
            <w>de</w>
            <w>dados</w>
            <w>de</w>
            <w>títulos</w>
            <w>de</w>
            <w>jornais,</w>
            <w>locais</w>
            <w>de</w>
            <w>publicação</w>
            <w>e</w>
            <w>datas</w>
            <w>e</w>
            <w>o</w>
            <w>transformará</w>
            <w>numa</w>
            <w>aplicação</w>
            <w>interativa</w>
            <w>básica</w>
            <pc>.</pc>
          </s>
          <s>
            <w>No</w>
            <w>total,</w>
            <w>há</w>
            <w>cinco</w>
            <w>tarefas</w>
            <w>curtas</w>
            <w>de</w>
            <w>codificação</w>
            <w>que</w>
            <w>a</w>
            <w>sua</w>
            <w>aplicação</w>
            <w>precisa</w>
            <w>de</w>
            <w>realizar:</w>
          </s>
        </p>
        <list type="unordered">
          <item>
            <s>
              <w>Carregar</w>
              <w>os</w>
              <w>dois</w>
              <w>conjuntos</w>
              <w>de</w>
              <w>dados</w>
              <w>necessários</w>
            </s>
          </item>
          <item>
            <s>
              <w>Criar</w>
              <w>uma</w>
              <w>interface</w>
              <w>de</w>
              <w>usuário</w>
            </s>
          </item>
          <item>
            <s>
              <w>Criar</w>
              <w>um</w>
              <w>conjunto</w>
              <w>de</w>
              <w>dados</w>
              <w>"reativo"</w>
              <w>de</w>
              <w>lugares,</w>
              <w>uma</w>
              <w>contagem</w>
              <w>de</w>
              <w>ocorrências</w>
              <w>e</w>
              <w>as</w>
              <w>suas</w>
              <w>coordenadas</w>
              <w>geográficas</w>
            </s>
          </item>
          <item>
            <s>
              <w>Transformar</w>
              <w>isto</w>
              <w>num</w>
              <w>conjunto</w>
              <w>de</w>
              <w>dados</w>
              <w>geográfico</w>
              <w>especial</w>
              <w>chamado</w>
              <w>de</w>
              <w>objeto</w>
              <w>de</w>
              <w>recursos</w>
              <w>simples</w>
            </s>
          </item>
          <item>
            <s>
              <w>Criar</w>
              <w>um</w>
              <w>mapa</w>
              <w>interativo</w>
              <w>usando</w>
              <w>outra</w>
              <w>biblioteca</w>
              <w>R</w>
              <w>chamada</w>
              <ref target="https://perma.cc/RW6M-ZCG2">
                <w>Leaflet</w>
              </ref>
              <w>(em</w>
              <w>inglês)</w>
            </s>
          </item>
        </list>
        <p>
          <s>
            <w>No</w>
            <w>entanto,</w>
            <w>antes</w>
            <w>de</w>
            <w>chegar</w>
            <w>a</w>
            <w>estes</w>
            <w>pontos</w>
            <w>é</w>
            <w>preciso</w>
            <w>configurar</w>
            <w>o</w>
            <w>ambiente</w>
            <w>correto</w>
            <w>e</w>
            <w>criar</w>
            <w>uma</w>
            <w>nova</w>
            <w>aplicação</w>
            <w>Shiny</w>
            <pc>.</pc>
          </s>
        </p>
        <div type="3" n="4.1">
          <head>
            <s>
              <w>Instalar</w>
              <w>o</w>
              <w>R</w>
              <w>e</w>
              <w>o</w>
              <w>RStudio</w>
            </s>
          </head>
          <p>
            <s>
              <w>Instale</w>
              <w>as</w>
              <ref target="https://cran.rstudio.com/">
                <w>últimas</w>
                <w>versões</w>
                <w>do</w>
                <w>R</w>
              </ref>
              <w>(em</w>
              <w>inglês)</w>
              <w>e</w>
              <w>do</w>
              <ref target="https://www.rstudio.com/products/rstudio/download/">
                <w>RStudio</w>
              </ref>
              <w>(em</w>
              <w>inglês)</w>
              <w>na</w>
              <w>sua</w>
              <w>máquina</w>
              <w>local</w>
              <w>para</w>
              <w>concluir</w>
              <w>esta</w>
              <w>lição</w>
              <pc>.</pc>
            </s>
            <s>
              <w>O</w>
              <w>R</w>
              <w>tem</w>
              <w>uma</w>
              <w>IDE</w>
              <w>(Ambiente</w>
              <w>de</w>
              <w>Desenvolvimento</w>
              <w>Integrado)</w>
              <w>muito</w>
              <w>popular</w>
              <w>(embora</w>
              <w>separado)</w>
              <w>chamado</w>
              <w>RStudio,</w>
              <w>que</w>
              <w>é</w>
              <w>frequentemente</w>
              <w>usado</w>
              <w>junto</w>
              <w>com</w>
              <w>o</w>
              <w>R,</w>
              <w>pois</w>
              <w>fornece</w>
              <w>um</w>
              <w>grande</w>
              <w>conjunto</w>
              <w>de</w>
              <w>recursos</w>
              <w>para</w>
              <w>tornar</w>
              <w>a</w>
              <w>codificação</w>
              <w>na</w>
              <w>linguagem</w>
              <w>mais</w>
              <w>conveniente</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Usaremos</w>
              <w>ao</w>
              <w>longo</w>
              <w>da</w>
              <w>lição</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Lições</w>
              <w>anteriores</w>
              <w>do</w>
              <emph>
                <w>Programming</w>
                <w>Historian</w>
              </emph>
              <w>abordaram</w>
              <w>como</w>
              <ref target="/pt/licoes/nocoes-basicas-R-dados-tabulares">
                <w>trabalhar</w>
                <w>com</w>
                <w>R</w>
              </ref>
              <w>e</w>
              <ref target="/pt/licoes/manipulacao-transformacao-dados-R">
                <w>trabalhar</w>
                <w>com</w>
                <w>o</w>
                <w>tydeverse</w>
              </ref>
              <pc>.</pc>
            </s>
            <s>
              <w>Seria</w>
              <w>útil</w>
              <w>passar</w>
              <w>por</w>
              <w>essas</w>
              <w>lições</w>
              <w>primeiro,</w>
              <w>para</w>
              <w>aprender</w>
              <w>os</w>
              <w>fundamentos</w>
              <w>da</w>
              <w>instalação</w>
              <w>do</w>
              <w>R</w>
              <w>e</w>
              <w>usar</w>
              <w>o</w>
              <w>tydeverse</w>
              <w>para</w>
              <w>organizar</w>
              <w>os</w>
              <w>dados</w>
              <pc>.</pc>
            </s>
          </p>
        </div>
        <div type="3" n="4.2">
          <head>
            <s>
              <w>Criar</w>
              <w>um</w>
              <w>novo</w>
              <w>projeto</w>
              <w>no</w>
              <w>RStudio</w>
            </s>
          </head>
          <p>
            <s>
              <w>Depois</w>
              <w>de</w>
              <w>instalar</w>
              <w>o</w>
              <w>R</w>
              <w>e</w>
              <w>o</w>
              <w>RStudio,</w>
              <w>abra</w>
              <w>o</w>
              <w>último</w>
              <w>e</w>
              <w>crie</w>
              <w>um</w>
              <w>novo</w>
              <w>projeto</w>
              <w>para</w>
              <w>trabalhar</w>
              <w>na</w>
              <w>sua</w>
              <w>aplicação</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Para</w>
              <w>fazer</w>
              <w>isto,</w>
              <w>abra</w>
              <w>a</w>
              <w>janela</w>
              <w>'Create</w>
              <w>a</w>
              <w>Project'</w>
              <w>(em</w>
              <w>português,</w>
              <w>criar</w>
              <w>um</w>
              <w>novo</w>
              <w>projeto)</w>
              <w>usando</w>
              <w>o</w>
              <w>menu</w>
              <w>(File-&gt;New</w>
              <w>Project)</w>
              <w>(em</w>
              <w>português,</w>
              <w>Ficheiro-&gt;Novo</w>
              <w>Projeto)</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Selecione</w>
              <w>'New</w>
              <w>Directory'</w>
              <w>(em</w>
              <w>português,</w>
              <w>novo</w>
              <w>diretório),</w>
              <w>e</w>
              <w>então</w>
              <w>'New</w>
              <w>Project'</w>
              <w>(em</w>
              <w>português,</w>
              <w>novo</w>
              <w>projeto)</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Nomeie</w>
              <w>o</w>
              <w>diretótio</w>
              <w>do</w>
              <w>seu</w>
              <w>projeto,</w>
              <w>marque</w>
              <w>a</w>
              <w>opção</w>
              <w>'Use</w>
              <w>renv</w>
              <w>with</w>
              <w>the</w>
              <w>project'</w>
              <w>(em</w>
              <w>português,</w>
              <w>use</w>
              <w>renv</w>
              <w>com</w>
              <w>o</w>
              <w>projeto),</w>
              <w>e</w>
              <w>clique</w>
              <w>em</w>
              <w>'Create</w>
              <w>Project'</w>
              <w>(em</w>
              <w>português,</w>
              <w>criar</w>
              <w>projeto)</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Antes</w>
              <w>de</w>
              <w>continuar,</w>
              <w>instale</w>
              <w>os</w>
              <w>quatro</w>
              <w>pacotes</w>
              <w>necessários</w>
              <w>para</w>
              <w>concluir</w>
              <w>o</w>
              <w>tutorial,</w>
              <w>caso</w>
              <w>ainda</w>
              <w>não</w>
              <w>os</w>
              <w>tenha</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Três</w>
              <w>deles</w>
              <w>podem</w>
              <w>ser</w>
              <w>instalados</w>
              <w>diretamente</w>
              <w>pelo</w>
              <w>RStudio</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Na</w>
              <w>linha</w>
              <w>de</w>
              <w>comandos</w>
              <w>do</w>
              <w>R</w>
              <w>ou</w>
              <w>num</w>
              <w>script</w>
              <w>R</w>
              <w>separado,</w>
              <w>execute</w>
              <w>os</w>
              <w>seguintes</w>
              <w>comandos:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_aplicacao-web-interativa-r-shiny-leaflet_0" corresp="code_aplicacao-web-interativa-r-shiny-leaflet_0.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>Dependendo</w>
              <w>da</w>
              <w>configuração</w>
              <w>do</w>
              <w>seu</w>
              <w>sistema,</w>
              <w>o</w>
              <w>quarto</w>
              <w>pacote,</w>
              <w>,</w>
              <w>pode</w>
              <w>exigir</w>
              <w>etapas</w>
              <w>adicionais</w>
              <w>antes</w>
              <w>de</w>
              <w>ser</w>
              <w>instalado</w>
              <pc>.</pc>
            </s>
            <code rend="inline">sf</code>
            <s>
              <w>Detalhes</w>
              <w>sobre</w>
              <w>isso</w>
              <w>podem</w>
              <w>ser</w>
              <w>encontrados</w>
              <w>na</w>
              <ref target="https://github.com/r-spatial/sf">
                <w>página</w>
                <w>do</w>
                <w>pacote</w>
                <w>no</w>
                <w>Github</w>
              </ref>
              <w>(em</w>
              <w>inglês)</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Verifique</w>
              <w>as</w>
              <w>instruções</w>
              <w>no</w>
              <w>cabeçalho</w>
              <w>(em</w>
              <w>português,</w>
              <w>instalar)</w>
              <w>no</w>
              <w>ficheiro</w>
              <w>Readme</w>
              <w>vinculado</w>
              <w>ao</w>
              <w>Github</w>
              <pc>.</pc>
            </s>
            <hi rend="bold">
              <s>
                <w>Installing</w>
              </s>
            </hi>
            <s>
              <w>Usuários</w>
              <w>de</w>
              <w>Mac</w>
              <w>em</w>
              <w>particular</w>
              <w>podem</w>
              <w>precisar</w>
              <w>de</w>
              <w>instalar</w>
              <w>uma</w>
              <w>biblioteca</w>
              <w>de</w>
              <w>terceiros,</w>
              <code rend="inline">gdal</code>
              <w>,</w>
              <w>antes</w>
              <w>que</w>
              <w>a</w>
              <w>instalação</w>
              <w>funcione,</w>
              <w>usando</w>
              <w>o</w>
              <ref target="https://brew.sh/pt/">
                <w>Homebrew</w>
              </ref>
              <pc>.</pc>
            </s>
          </p>
        </div>
        <div type="3" n="4.3">
          <head>
            <s>
              <w>Criar</w>
              <w>uma</w>
              <w>aplicação</w>
              <w>Shiny</w>
              <w>vazia</w>
            </s>
          </head>
          <p>
            <s>
              <w>Uma</w>
              <w>aplicação</w>
              <w>Shiny</w>
              <w>consiste</w>
              <w>num</w>
              <w>ficheiro</w>
              <w>de</w>
              <w>script</w>
              <w>com</w>
              <w>um</w>
              <w>nome</w>
              <w>de</w>
              <w>ficheiro</w>
              <w>especial</w>
              <w>reservado,</w>
              <w>,</w>
              <w>que</w>
              <w>diz</w>
              <w>ao</w>
              <w>RStudio</w>
              <w>para</w>
              <w>tratar</w>
              <w>esse</w>
              <w>script</w>
              <w>como</w>
              <w>uma</w>
              <w>aplicação</w>
              <w>e</w>
              <w>abri-lo</w>
              <w>num</w>
              <w>navegador</w>
              <w>Web</w>
              <w>quando</w>
              <w>for</w>
              <w>executado</w>
              <pc>.</pc>
            </s>
            <code rend="inline">app.R</code>
            <s>
              <w>Nesta</w>
              <w>primeira</w>
              <w>seção,</w>
              <w>será</w>
              <w>criado</w>
              <w>um</w>
              <w>aplicativo</w>
              <w>que</w>
              <w>carregará</w>
              <w>as</w>
              <w>bibliotecas</w>
              <w>e</w>
              <w>conjuntos</w>
              <w>de</w>
              <w>dados</w>
              <w>relevantes</w>
              <w>e</w>
              <w>exibirá</w>
              <w>uma</w>
              <w>mensagem</w>
              <w>de</w>
              <w>teste</w>
              <w>'Olá</w>
              <w>mundo'</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Para</w>
              <w>isso,</w>
              <w>execute</w>
              <w>os</w>
              <w>seguintes</w>
              <w>passos:</w>
            </s>
          </p>
          <p>
            <s>
              <w>1</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Configure</w>
              <w>uma</w>
              <w>pasta</w>
              <w>da</w>
              <w>aplicação</w>
            </s>
          </p>
          <p>
            <s>
              <w>É</w>
              <w>uma</w>
              <w>boa</w>
              <w>prática</w>
              <w>colocar</w>
              <w>todos</w>
              <w>os</w>
              <w>ficheiros</w>
              <w>necessários</w>
              <w>para</w>
              <w>a</w>
              <w>aplicação</w>
              <w>numa</w>
              <w>pasta</w>
              <w>própria,</w>
              <w>dentro</w>
              <w>do</w>
              <w>projeto</w>
              <w>RStudio</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Faça</w>
              <w>isso</w>
              <w>criando</w>
              <w>uma</w>
              <w>nova</w>
              <w>pasta</w>
              <w>chamada</w>
              <w>'jornal-app'</w>
              <w>dentro</w>
              <w>da</w>
              <w>pasta</w>
              <w>do</w>
              <w>projeto</w>
              <w>RStudio</w>
              <w>que</w>
              <w>acabou</w>
              <w>de</w>
              <w>criar</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Coloque</w>
              <w>os</w>
              <w>ficheiros</w>
              <w>descarregados</w>
              <w>acima</w>
              <w>(</w>
              <code rend="inline">BritishAndIrishNewspapersTitleList_20191118.csv</code>
              <w>e</w>
              <code rend="inline">newspaper_coordinates.csv</code>
              <w>)</w>
              <w>nesta</w>
              <w>nova</w>
              <w>pasta</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>2</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Crie</w>
              <w>o</w>
              <w>ficheiro</w>
              <w>app</w>
              <pc>.</pc>
            </s>
            <s>
              <w>R</w>
            </s>
          </p>
          <p>
            <s>
              <w>Com</w>
              <w>o</w>
              <w>RStudio</w>
              <w>aberto,</w>
              <w>clique</w>
              <w>em</w>
              <w>file-&gt;</w>
              <w>new</w>
              <w>file</w>
              <w>-&gt;</w>
              <w>R</w>
              <w>Script</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Use</w>
              <w>o</w>
              <w>menu</w>
              <w>ou</w>
              <w>command/ctrl</w>
              <w>+</w>
              <w>s</w>
              <w>para</w>
              <w>salvar</w>
              <w>o</w>
              <w>ficheiro</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Navegue</w>
              <w>até</w>
              <w>à</w>
              <w>nova</w>
              <w>pasta</w>
              <w>que</w>
              <w>acabou</w>
              <w>de</w>
              <w>criar</w>
              <w>e</w>
              <w>salve</w>
              <w>o</w>
              <w>ficheiro</w>
              <w>lá,</w>
              <w>digitando</w>
              <code rend="inline">app.R</code>
              <w>como</w>
              <w>o</w>
              <w>nome</w>
              <w>do</w>
              <w>ficheiro</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Agora</w>
              <w>deve</w>
              <w>ter</w>
              <w>os</w>
              <w>seguintes</w>
              <w>ficheiros</w>
              <w>na</w>
              <w>pasta</w>
              <w>'jornal-app'</w>
              <w>que</w>
              <w>acabou</w>
              <w>de</w>
              <w>criar:</w>
            </s>
          </p>
          <figure>
            <desc>
              <s>
                <w>Figura</w>
                <w>1</w>
                <pc>.</pc>
              </s>
              <s>
                <w>Captura</w>
                <w>de</w>
                <w>tela</w>
                <w>da</w>
                <w>pasta</w>
                <w>da</w>
                <w>aplicação</w>
                <w>mostrando</w>
                <w>os</w>
                <w>ficheiros</w>
                <w>necessários</w>
                <pc>.</pc>
              </s>
            </desc>
            <figDesc>
              <s>
                <w>Uma</w>
                <w>captura</w>
                <w>de</w>
                <w>tela</w>
                <w>do</w>
                <w>painel</w>
                <w>de</w>
                <w>ficheiros</w>
                <w>R,</w>
                <w>mostrando</w>
                <w>os</w>
                <w>ficheiros</w>
                <w>necessários</w>
                <pc>.</pc>
              </s>
              <s>
                <w>Há</w>
                <w>três</w>
                <w>ficheiros</w>
                <w>no</w>
                <w>total,</w>
                <w>App</w>
                <pc>.</pc>
              </s>
              <s>
                <w>R,</w>
                <w>o</w>
                <w>csv</w>
                <w>dos</w>
                <w>jornais</w>
                <w>britânicos</w>
                <w>e</w>
                <w>irlandeses,</w>
                <w>e</w>
                <w>o</w>
                <w>csv</w>
                <w>das</w>
                <w>coordenadas</w>
                <w>do</w>
                <w>jornal</w>
                <pc>.</pc>
              </s>
            </figDesc>
            <graphic url="pt-tr-aplicacao-web-interativa-r-shiny-leaflet-01.png"/>
          </figure>
          <p>
            <s>
              <w>3</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Carregue</w>
              <w>as</w>
              <w>bibliotecas</w>
              <w>relevantes</w>
            </s>
          </p>
          <p style="alert alert-warning">
            <s>
              <w>É</w>
              <w>importante</w>
              <w>notar</w>
              <w>que,</w>
              <w>ao</w>
              <w>contrário</w>
              <w>de</w>
              <w>muitos</w>
              <w>tutoriais,</w>
              <w>o</w>
              <w>código</w>
              <w>que</w>
              <w>está</w>
              <w>prestes</w>
              <w>a</w>
              <w>inserir</w>
              <w>não</w>
              <w>funcionará</w>
              <w>se</w>
              <w>for</w>
              <w>executado</w>
              <w>linha</w>
              <w>por</w>
              <w>linha,</w>
              <w>mas</w>
              <w>somente</w>
              <w>quando</w>
              <w>o</w>
              <w>script</w>
              <w>`app</w>
              <pc>.</pc>
            </s>
            <s>
              <w>R`</w>
              <w>for</w>
              <w>executado</w>
              <w>de</w>
              <w>dentro</w>
              <w>do</w>
              <w>RStudio</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>A</w>
              <w>primeira</w>
              <w>coisa</w>
              <w>que</w>
              <w>a</w>
              <w>aplicação</w>
              <w>precisará</w>
              <w>de</w>
              <w>fazer</w>
              <w>é</w>
              <w>preparar</w>
              <w>e</w>
              <w>carregar</w>
              <w>os</w>
              <w>dados</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Isto</w>
              <w>é</w>
              <w>feito</w>
              <w>dentro</w>
              <w>do</w>
              <w>script</w>
              <code rend="inline">app.R</code>
              <w>,</w>
              <w>mas</w>
              <w>fora</w>
              <w>da</w>
              <w>interface</w>
              <w>do</w>
              <w>usuário</w>
              <w>e</w>
              <w>dos</w>
              <w>elementos</w>
              <w>do</w>
              <w>servidor</w>
              <w>que</w>
              <w>será</w>
              <w>criado</w>
              <w>num</w>
              <w>momento</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Primeiro,</w>
              <w>carregue</w>
              <w>todas</w>
              <w>as</w>
              <w>bibliotecas</w>
              <w>que</w>
              <w>precisa</w>
              <w>de</w>
              <w>usar</w>
              <w>digitando</w>
              <w>o</w>
              <w>seguinte:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_aplicacao-web-interativa-r-shiny-leaflet_1" corresp="code_aplicacao-web-interativa-r-shiny-leaflet_1.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>4</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Carregue</w>
              <w>os</w>
              <w>conjuntos</w>
              <w>de</w>
              <w>dados</w>
            </s>
          </p>
          <p>
            <s>
              <w>Em</w>
              <w>seguida,</w>
              <w>a</w>
              <w>aplicação</w>
              <w>deve</w>
              <w>carregar</w>
              <w>a</w>
              <w>lista</w>
              <w>de</w>
              <w>títulos</w>
              <w>e</w>
              <w>os</w>
              <w>ficheiros</w>
              <w>de</w>
              <w>lista</w>
              <w>de</w>
              <w>coordenadas</w>
              <w>como</w>
              <emph>
                <w>dataframes</w>
              </emph>
              <w>chamados</w>
              <w>e</w>
              <w>,</w>
              <w>respectivamente</w>
              <pc>.</pc>
            </s>
            <code rend="inline">title_list</code>
            <code rend="inline">coordinates_list</code>
            <s>
              <w>Adicione</w>
              <w>a</w>
              <w>seguinte</w>
              <w>linha</w>
              <w>ao</w>
              <w>seu</w>
              <w>script</w>
              <w>app</w>
              <pc>.</pc>
            </s>
            <s>
              <w>R,</w>
              <w>que</w>
              <w>deve</w>
              <w>ser</w>
              <w>exibido</w>
              <w>no</w>
              <w>painel</w>
              <w>superior</w>
              <w>esquerdo</w>
              <w>do</w>
              <w>RStudio</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Observe</w>
              <w>que,</w>
              <w>como</w>
              <w>o</w>
              <w>diretório</w>
              <w>de</w>
              <w>trabalho</w>
              <w>é</w>
              <w>diferente</w>
              <w>do</w>
              <w>diretório</w>
              <w>da</w>
              <w>sua</w>
              <w>aplicação,</w>
              <w>estes</w>
              <w>comandos</w>
              <w>só</w>
              <w>funcionarão</w>
              <w>quando</w>
              <w>executar</w>
              <w>a</w>
              <w>própria</w>
              <w>aplicação</w>
              <pc>.</pc>
            </s>
          </p>
          <ab>
            <code xml:id="code_aplicacao-web-interativa-r-shiny-leaflet_2" corresp="code_aplicacao-web-interativa-r-shiny-leaflet_2.txt" rend="block"/>
          </ab>
        </div>
        <div type="3" n="4.4">
          <head>
            <s>
              <w>Adicionar</w>
              <w>os</w>
              <w>elementos</w>
              <w>Shiny</w>
              <w>necessários</w>
            </s>
          </head>
          <p>
            <s>
              <w>Para</w>
              <w>transformar</w>
              <w>isto</w>
              <w>numa</w>
              <w>aplicação</w>
              <w>Shiny,</w>
              <w>este</w>
              <w>script</w>
              <code rend="inline">app.R</code>
              <w>precisa</w>
              <w>de</w>
              <w>três</w>
              <w>elementos:</w>
            </s>
          </p>
          <p>
            <s>
              <w>1</w>
              <pc>.</pc>
            </s>
            <s>
              <w>A</w>
              <w>,</w>
              <w>onde</w>
              <w>a</w>
              <w>aparência</w>
              <w>visual</w>
              <w>da</w>
              <w>aplicação</w>
              <w>será</w>
              <w>armazenada</w>
              <pc>.</pc>
            </s>
            <hi rend="bold">
              <s>
                <w>UI</w>
              </s>
            </hi>
          </p>
          <p>
            <s>
              <w>2</w>
              <pc>.</pc>
            </s>
            <s>
              <w>O</w>
              <w>com</w>
              <w>o</w>
              <w>código</w>
              <w>usado</w>
              <pc>.</pc>
            </s>
            <hi rend="bold">
              <s>
                <w>servidor</w>
              </s>
            </hi>
          </p>
          <p>
            <s>
              <w>3</w>
              <pc>.</pc>
            </s>
            <s>
              <w>O</w>
              <w>comando</w>
              <w>para</w>
              <w>executar</w>
              <w>a</w>
              <w>própria</w>
              <w>aplicação</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Em</w>
              <w>seguida,</w>
              <w>criará</w>
              <w>cada</w>
              <w>um</w>
              <w>deles</w>
              <w>de</w>
              <w>cada</w>
              <w>vez</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>1</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Crie</w>
              <w>um</w>
              <w>elemento</w>
              <w>de</w>
              <w>UI</w>
              <w>vazio</w>
            </s>
          </p>
          <p>
            <s>
              <w>A</w>
              <w>interface</w>
              <w>do</w>
              <w>usuário</w>
              <w>(UI)</w>
              <w>é</w>
              <w>um</w>
              <w>elemento</w>
              <w>que</w>
              <w>conterá</w>
              <w>vários</w>
              <w>comandos</w>
              <w>especiais</w>
              <w>de</w>
              <w>Shiny</w>
              <w>para</w>
              <w>definir</w>
              <w>a</w>
              <w>aparência</w>
              <w>da</w>
              <w>aplicação</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Examinaremos</w>
              <w>as</w>
              <w>opções</w>
              <w>específicas</w>
              <w>abaixo,</w>
              <w>mas</w>
              <w>geralmente</w>
              <w>você</w>
              <w>define</w>
              <w>um</w>
              <w>tipo</w>
              <w>de</w>
              <w>página</w>
              <w>e</w>
              <w>os</w>
              <w>vários</w>
              <w>componentes</w>
              <w>da</w>
              <w>interface</w>
              <w>do</w>
              <w>usuário</w>
              <w>são</w>
              <w>aninhados</w>
              <w>nesse</w>
              <w>primeiro</w>
              <w>elemento:</w>
              <w>primeiro,</w>
              <w>um</w>
              <w>tipo</w>
              <w>de</w>
              <emph>
                <w>layout</w>
              </emph>
              <w>,</w>
              <w>dentro</w>
              <w>deste,</w>
              <w>elementos</w>
              <w>de</w>
              <emph>
                <w>layout</w>
              </emph>
              <w>específicos;</w>
              <w>e,</w>
              <w>finalmente,</w>
              <w>dentro</w>
              <w>deles,</w>
              <w>os</w>
              <w>vários</w>
              <w>componentes</w>
              <w>da</w>
              <w>própria</w>
              <w>aplicação</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>O</w>
              <w>tipo</w>
              <w>que</w>
              <w>usará</w>
              <w>é</w>
              <w>chamado</w>
              <code rend="inline">fluidPage()</code>
              <w>,</w>
              <w>uma</w>
              <w>página</w>
              <w>—que</w>
              <w>redimensiona</w>
              <w>dinamicamente</w>
              <w>dependendo</w>
              <w>do</w>
              <w>tamanho</w>
              <w>da</w>
              <w>janela</w>
              <w>do</w>
              <w>navegador—</w>
              <w>contendo</w>
              <w>um</w>
              <emph>
                <w>layout</w>
              </emph>
              <w>fluido</w>
              <w>de</w>
              <w>linhas</w>
              <w>que,</w>
              <w>por</w>
              <w>sua</w>
              <w>vez,</w>
              <w>contêm</w>
              <w>colunas</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>O</w>
              <w>primeiro</w>
              <w>passo</w>
              <w>é</w>
              <w>criar</w>
              <w>todos</w>
              <w>os</w>
              <w>elementos</w>
              <w>básicos</w>
              <w>necessários</w>
              <w>para</w>
              <w>uma</w>
              <w>aplicação,</w>
              <w>antes</w>
              <w>de</w>
              <w>preenchê-los</w>
              <w>com</w>
              <w>os</w>
              <w>componentes</w>
              <w>necessários</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Para</w>
              <w>começar,</w>
              <w>crie</w>
              <w>um</w>
              <w>elemento</w>
              <w>de</w>
              <w>UI</w>
              <w>em</w>
              <w>branco</w>
              <w>definindo</w>
              <w>a</w>
              <w>variável</w>
              <code rend="inline">ui</code>
              <w>para</w>
              <w>o</w>
              <w>elemento</w>
              <code rend="inline">fluidPage()</code>
              <pc>.</pc>
            </s>
            <s>
              <w>Para</w>
              <w>que</w>
              <w>saiba</w>
              <w>que</w>
              <w>sua</w>
              <w>aplicação</w>
              <w>está</w>
              <w>em</w>
              <w>execução,</w>
              <w>quando</w>
              <w>testá-la</w>
              <w>pela</w>
              <w>primeira</w>
              <w>vez,</w>
              <w>adicione</w>
              <w>uma</w>
              <w>mensagem</w>
              <w>simples</w>
              <w>'Olá</w>
              <w>mundo'</w>
              <w>ao</w>
              <w>elemento</w>
              <w>de</w>
              <w>UI</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Adicione</w>
              <w>o</w>
              <w>seguinte</w>
              <w>código</w>
              <w>em</w>
              <w>seu</w>
              <w>script</w>
              <code rend="inline">app.R</code>
              <w>:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_aplicacao-web-interativa-r-shiny-leaflet_3" corresp="code_aplicacao-web-interativa-r-shiny-leaflet_3.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>2</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Crie</w>
              <w>um</w>
              <w>elemento</w>
              <w>do</w>
              <w>servidor</w>
            </s>
          </p>
          <p>
            <s>
              <w>Em</w>
              <w>seguida</w>
              <w>é</w>
              <w>a</w>
              <w>parte</w>
              <w>do</w>
              <w>servidor</w>
              <pc>.</pc>
            </s>
            <s>
              <w>O</w>
              <w>servidor</w>
              <w>é</w>
              <w>criado</w>
              <w>como</w>
              <w>uma</w>
              <w>função</w>
              <w>R</w>
              <w>com</w>
              <w>dois</w>
              <w>argumentos,</w>
              <code rend="inline">input</code>
              <w>e</w>
              <code rend="inline">output</code>
              <w>(por</w>
              <w>enquanto,</w>
              <w>não</w>
              <w>precisa</w>
              <w>se</w>
              <w>preocupar</w>
              <w>com</w>
              <w>o</w>
              <w>que</w>
              <w>os</w>
              <w>argumentos</w>
              <w>de</w>
              <emph>
                <w>input</w>
              </emph>
              <w>e</w>
              <emph>
                <w>output</w>
              </emph>
              <w>fazem,</w>
              <w>desde</w>
              <w>que</w>
              <w>estejam</w>
              <w>lá)</w>
              <pc>.</pc>
            </s>
            <s>
              <ref type="footnotemark" target="#pt_note_3"/>
              <w>Em</w>
              <w>R,</w>
              <w>uma</w>
              <w>função</w>
              <w>é</w>
              <w>feita</w>
              <w>usando</w>
              <w>o</w>
              <w>comando</w>
              <code rend="inline">function(){}</code>
              <w>,</w>
              <w>especificando</w>
              <w>os</w>
              <w>argumentos</w>
              <w>entre</w>
              <w>parênteses</w>
              <w>e,</w>
              <w>em</w>
              <w>seguida,</w>
              <w>o</w>
              <w>código</w>
              <w>da</w>
              <w>função</w>
              <w>entre</w>
              <w>chaves</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Todo</w>
              <w>o</w>
              <w>código</w>
              <w>para</w>
              <w>a</w>
              <w>lógica</w>
              <w>da</w>
              <w>aplicação</w>
              <w>ficará</w>
              <w>entre</w>
              <w>essas</w>
              <w>duas</w>
              <w>chaves</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Especifique</w>
              <w>a</w>
              <w>parte</w>
              <w>do</w>
              <w>servidor</w>
              <w>usando</w>
              <w>o</w>
              <w>seguinte</w>
              <w>código:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_aplicacao-web-interativa-r-shiny-leaflet_4" corresp="code_aplicacao-web-interativa-r-shiny-leaflet_4.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>3</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Adicione</w>
              <w>o</w>
              <w>comando</w>
              <w>para</w>
              <w>executar</w>
              <w>a</w>
              <w>aplicação</w>
            </s>
          </p>
          <p>
            <s>
              <w>Por</w>
              <w>fim,</w>
              <w>adicione</w>
              <w>o</w>
              <w>comando</w>
              <w>para</w>
              <w>executar</w>
              <w>a</w>
              <w>própria</w>
              <w>aplicação</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Este</w>
              <w>é</w>
              <w>outro</w>
              <w>comando</w>
              <w>especial</w>
              <w>de</w>
              <w>Shiny,</w>
              <code rend="inline">shinyApp()</code>
              <w>,</w>
              <w>com</w>
              <w>a</w>
              <w>UI</w>
              <w>e</w>
              <w>os</w>
              <w>itens</w>
              <w>do</w>
              <w>servidor</w>
              <w>que</w>
              <w>acabou</w>
              <w>de</w>
              <w>criar</w>
              <w>como</w>
              <w>argumentos</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <code rend="inline">shinyApp(ui, server)</code>
          </p>
          <p>
            <s>
              <w>O</w>
              <w>ficheiro</w>
              <code rend="inline">app.R</code>
              <w>completo</w>
              <w>deve</w>
              <w>conter</w>
              <w>agora</w>
              <w>as</w>
              <w>seguintes</w>
              <w>linhas:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_aplicacao-web-interativa-r-shiny-leaflet_5" corresp="code_aplicacao-web-interativa-r-shiny-leaflet_5.txt" rend="block"/>
          </ab>
        </div>
        <div type="3" n="4.5">
          <head>
            <s>
              <w>Teste</w>
              <w>a</w>
              <w>sua</w>
              <w>nova</w>
              <w>aplicação</w>
            </s>
          </head>
          <p>
            <s>
              <w>Depois</w>
              <w>de</w>
              <w>criar</w>
              <w>estes</w>
              <w>itens,</w>
              <w>salve</w>
              <w>novamente</w>
              <w>o</w>
              <w>ficheiro</w>
              <pc>.</pc>
            </s>
            <code rend="inline">app.R</code>
            <s>
              <w>Agora,</w>
              <w>o</w>
              <w>RStudio</w>
              <w>reconhecerá</w>
              <w>como</w>
              <w>um</w>
              <w>aplicativo</w>
              <w>Shiny</w>
              <w>e</w>
              <w>os</w>
              <w>ícones</w>
              <w>na</w>
              <w>parte</w>
              <w>superior</w>
              <w>do</w>
              <w>painel</w>
              <w>mudarão,</w>
              <w>aparecendo</w>
              <w>a</w>
              <w>opção</w>
              <w>'Run</w>
              <w>App'</w>
              <w>(Figura</w>
              <w>2)</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Se</w>
              <w>clicar,</w>
              <w>executará</w>
              <w>a</w>
              <w>aplicação</w>
              <w>numa</w>
              <w>nova</w>
              <w>janela</w>
              <w>usando</w>
              <w>o</w>
              <w>navegador</w>
              <w>embutido</w>
              <w>do</w>
              <w>RStudio</w>
              <pc>.</pc>
            </s>
          </p>
          <figure>
            <desc>
              <s>
                <w>Figura</w>
                <w>2:</w>
                <w>Captura</w>
                <w>de</w>
                <w>tela</w>
                <w>do</w>
                <w>painel</w>
                <w>de</w>
                <w>controlo</w>
                <w>com</w>
                <w>o</w>
                <w>botão</w>
                <w>Run</w>
                <w>App</w>
                <w>destacado</w>
                <pc>.</pc>
              </s>
            </desc>
            <figDesc>
              <s>
                <w>Captura</w>
                <w>de</w>
                <w>tela</w>
                <w>do</w>
                <w>painel</w>
                <w>de</w>
                <w>controlo</w>
                <w>com</w>
                <w>o</w>
                <w>botão</w>
                <w>Run</w>
                <w>App</w>
                <w>destacado</w>
                <w>com</w>
                <w>um</w>
                <w>retângulo</w>
                <w>vermelho</w>
                <pc>.</pc>
              </s>
            </figDesc>
            <graphic url="pt-tr-aplicacao-web-interativa-r-shiny-leaflet-02.png"/>
          </figure>
          <p>
            <s>
              <w>Deve</w>
              <w>ver</w>
              <w>uma</w>
              <w>página</w>
              <w>da</w>
              <w>Web</w>
              <w>em</w>
              <w>branco</w>
              <w>com</w>
              <w>'Olá</w>
              <w>mundo'</w>
              <w>exibido</w>
              <w>no</w>
              <w>canto</w>
              <w>superior</w>
              <w>esquerdo</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Também</w>
              <w>notará</w>
              <w>que,</w>
              <w>enquanto</w>
              <w>a</w>
              <w>aplicação</w>
              <w>está</w>
              <w>em</w>
              <w>execução,</w>
              <w>não</w>
              <w>pode</w>
              <w>executar</w>
              <w>nenhum</w>
              <w>código</w>
              <w>no</w>
              <w>RStudio:</w>
              <w>a</w>
              <w>consola</w>
              <w>de</w>
              <w>comandos</w>
              <w>do</w>
              <w>R</w>
              <w>surge</w>
              <w>como</w>
              <w>'ocupado'</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Para</w>
              <w>parar</w>
              <w>a</w>
              <w>aplicação,</w>
              <w>basta</w>
              <w>fechar</w>
              <w>a</w>
              <w>página</w>
              <w>do</w>
              <w>navegador</w>
              <w>apenas</w>
              <w>aberta</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Também</w>
              <w>pode</w>
              <w>usar</w>
              <w>a</w>
              <w>opção</w>
              <w>'Open</w>
              <w>in</w>
              <w>Browser'</w>
              <w>para</w>
              <w>testar</w>
              <w>a</w>
              <w>aplicação</w>
              <w>no</w>
              <w>seu</w>
              <w>navegador</w>
              <w>padrão</w>
              <pc>.</pc>
            </s>
          </p>
        </div>
      </div>
      <div type="2" n="5">
        <head>
          <s>
            <w>Codificar</w>
            <w>a</w>
            <w>aplicação</w>
          </s>
        </head>
        <div type="3" n="5.1">
          <head>
            <s>
              <w>Desenhar</w>
              <w>a</w>
              <w>Interface</w>
              <w>do</w>
              <w>Usuário</w>
            </s>
          </head>
          <p>
            <s>
              <w>A</w>
              <w>UI</w>
              <w>Shiny</w>
              <w>utiliza</w>
              <w>o</w>
              <w>formato</w>
              <ref target="https://perma.cc/BK3T-V6HP">
                <w>Bootstrap</w>
              </ref>
              <w>(em</w>
              <w>inglês)</w>
              <pc>.</pc>
            </s>
            <s>
              <w>A</w>
              <w>interface</w>
              <w>do</w>
              <w>usuário</w>
              <w>é</w>
              <w>construída</w>
              <w>em</w>
              <w>torno</w>
              <w>de</w>
              <w>um</w>
              <w>sistema</w>
              <w>de</w>
              <w>grade</w>
              <w>de</w>
              <w>linhas</w>
              <w>e</w>
              <w>colunas,</w>
              <w>permitindo</w>
              <emph>
                <w>layouts</w>
              </emph>
              <w>personalizáveis</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Consulte</w>
              <w>a</w>
              <ref target="https://perma.cc/9U3B-AHF6">
                <w>documentação</w>
                <w>oficial</w>
              </ref>
              <w>(em</w>
              <w>inglês)</w>
              <w>para</w>
              <w>obter</w>
              <w>mais</w>
              <w>informações</w>
              <w>sobre</w>
              <w>as</w>
              <w>várias</w>
              <w>opções</w>
              <w>e</w>
              <w>como</w>
              <w>criar</w>
              <w>esses</w>
              <emph>
                <w>layouts</w>
              </emph>
              <pc>.</pc>
            </s>
            <s>
              <w>Para</w>
              <w>esta</w>
              <w>aplicação,</w>
              <w>usaremos</w>
              <w>um</w>
              <emph>
                <w>layout</w>
              </emph>
              <w>conhecido</w>
              <w>como</w>
              <code rend="inline">sidebarLayout</code>
              <w>,</w>
              <w>que</w>
              <w>consiste</w>
              <w>num</w>
              <w>título,</w>
              <w>uma</w>
              <w>coluna</w>
              <w>de</w>
              <w>barra</w>
              <w>lateral</w>
              <w>à</w>
              <w>esquerda</w>
              <w>da</w>
              <w>página</w>
              <w>para</w>
              <w>informação</w>
              <w>de</w>
              <emph>
                <w>input</w>
              </emph>
              <w>do</w>
              <w>usuário</w>
              <w>e</w>
              <w>um</w>
              <w>painel</w>
              <w>principal</w>
              <w>para</w>
              <w>exibir</w>
              <w>os</w>
              <w>resultados</w>
              <pc>.</pc>
            </s>
            <s>
              <w>O</w>
              <w>diagrama</w>
              <w>de</w>
              <emph>
                <w>wireframe</w>
              </emph>
              <w>a</w>
              <w>seguir</w>
              <w>deve</w>
              <w>ajudá-lo</w>
              <w>a</w>
              <w>visualizar</w>
              <w>o</w>
              <emph>
                <w>layout</w>
              </emph>
              <w>:</w>
            </s>
          </p>
          <figure>
            <desc>
              <s>
                <w>Figura</w>
                <w>3</w>
                <pc>.</pc>
              </s>
              <s>
                <w>Diagrama</w>
                <w>de</w>
                <w>*wireframe*</w>
                <w>exibindo</w>
                <w>a</w>
                <w>estrutura</w>
                <w>do</w>
                <w>_layout_</w>
                <w>de</w>
                <w>barra</w>
                <w>lateral</w>
                <pc>.</pc>
              </s>
            </desc>
            <figDesc>
              <s>
                <w>Imagem</w>
                <w>que</w>
                <w>descreve</w>
                <w>o</w>
                <w>layout</w>
                <w>da</w>
                <w>interface</w>
                <w>a</w>
                <w>ser</w>
                <w>desenhada</w>
              </s>
            </figDesc>
            <graphic url="pt-tr-aplicacao-web-interativa-r-shiny-leaflet-03.png"/>
          </figure>
          <p>
            <s>
              <w>O</w>
              <w>próximo</w>
              <w>passo</w>
              <w>é</w>
              <w>preencher</w>
              <w>o</w>
              <w>elemento</w>
              <w>com</w>
              <w>os</w>
              <w>componentes</w>
              <w>necessários</w>
              <w>para</w>
              <w>apresentar</w>
              <w>este</w>
              <emph>
                <w>layout</w>
              </emph>
              <w>de</w>
              <w>barra</w>
              <w>lateral</w>
              <pc>.</pc>
            </s>
            <code rend="inline">ui</code>
            <s>
              <w>Primeiro,</w>
              <w>use</w>
              <w>o</w>
              <w>elemento</w>
              <code rend="inline">titlePanel</code>
              <w>para</w>
              <w>dar</w>
              <w>um</w>
              <w>título</w>
              <w>à</w>
              <w>sua</w>
              <w>aplicação</w>
              <w>e</w>
              <w>adicione</w>
              <w>o</w>
              <w>elemento</w>
              <w>da</w>
              <w>barra</w>
              <w>lateral</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Dentro</w>
              <w>do</w>
              <w>objeto</w>
              <code rend="inline">fluidPage()</code>
              <w>,</w>
              <w>exclua</w>
              <w>a</w>
              <w>mensagem</w>
              <w>'Olá</w>
              <w>mundo'</w>
              <w>e</w>
              <w>substitua</w>
              <w>pelo</w>
              <w>seguinte:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_aplicacao-web-interativa-r-shiny-leaflet_6" corresp="code_aplicacao-web-interativa-r-shiny-leaflet_6.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>Depois</w>
              <w>disso,</w>
              <w>preencha</w>
              <w>o</w>
              <emph>
                <w>layout</w>
              </emph>
              <w>com</w>
              <w>partes</w>
              <w>específicas</w>
              <w>da</w>
              <w>página</w>
              <w>Web,</w>
              <w>componentes</w>
              <w>chamados</w>
              <w>e</w>
              <pc>.</pc>
            </s>
            <code rend="inline">sidebarPanel()</code>
            <code rend="inline">mainPanel()</code>
            <s>
              <w>Faça-o</w>
              <w>colocando-os</w>
              <w>dentro</w>
              <w>de</w>
              <code rend="inline">sidebarLayout()</code>
              <pc>.</pc>
            </s>
          </p>
          <p style="alert alert-info">
            <s>
              <w>Como</w>
              <w>o</w>
              <w>código</w>
              <w>da</w>
              <w>UI</w>
              <w>Shiny</w>
              <w>geralmente</w>
              <w>acaba</w>
              <w>com</w>
              <w>muitos</w>
              <w>parênteses</w>
              <w>aninhados,</w>
              <w>dividi-los</w>
              <w>em</w>
              <w>duas</w>
              <w>linhas,</w>
              <w>como</w>
              <w>no</w>
              <w>trecho</w>
              <w>de</w>
              <w>código</w>
              <w>abaixo,</w>
              <w>pode</w>
              <w>facilitar</w>
              <w>a</w>
              <w>leitura,</w>
              <w>mas</w>
              <w>não</w>
              <w>é</w>
              <w>necessário</w>
              <w>para</w>
              <w>que</w>
              <w>o</w>
              <w>código</w>
              <w>funcione</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Agora,</w>
              <w>o</w>
              <w>elemento</w>
              <w>completo</w>
              <w>da</w>
              <w>UI</w>
              <w>deve</w>
              <w>ter</w>
              <w>esta</w>
              <w>aparência:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_aplicacao-web-interativa-r-shiny-leaflet_7" corresp="code_aplicacao-web-interativa-r-shiny-leaflet_7.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>Notará</w>
              <w>que</w>
              <w>estes</w>
              <w>comandos</w>
              <w>aninhados</w>
              <w>correspondem</w>
              <w>ao</w>
              <emph>
                <w>layout</w>
              </emph>
              <w>do</w>
              <w>diagrama</w>
              <w>de</w>
              <emph>
                <w>wireframe</w>
              </emph>
              <w>na</w>
              <w>Figura</w>
              <w>3</w>
              <w>acima</w>
              <pc>.</pc>
            </s>
          </p>
        </div>
        <div type="3" n="5.2">
          <head>
            <s>
              <w>Adicionar</w>
              <w>um</w>
              <w>'Widget':</w>
              <w>o</w>
              <w>controlo</w>
              <w>sliderInput</w>
            </s>
          </head>
          <p>
            <s>
              <w>Em</w>
              <w>Shiny,</w>
              <w>os</w>
              <w>usuários</w>
              <w>atualizam</w>
              <w>os</w>
              <w>valores</w>
              <w>usando</w>
              <w>vários</w>
              <w>controlos</w>
              <w>interativos</w>
              <w>e</w>
              <w>personalizáveis</w>
              <w>conhecidos</w>
              <w>como</w>
              <w>'widgets'</w>
              <pc>.</pc>
            </s>
            <s>
              <w>A</w>
              <w>lista</w>
              <w>completa</w>
              <w>pode</w>
              <w>ser</w>
              <w>encontrada</w>
              <w>na</w>
              <ref target="https://perma.cc/GW78-FQEJ">
                <w>Galeria</w>
                <w>de</w>
                <w>widgets</w>
                <w>Shiny</w>
              </ref>
              <w>(em</w>
              <w>inglês)</w>
              <pc>.</pc>
            </s>
            <s>
              <w>O</w>
              <w>widget</w>
              <w>que</w>
              <w>vai</w>
              <w>usar</w>
              <w>chama-se</w>
              <code rend="inline">sliderInput()</code>
              <pc>.</pc>
            </s>
            <s>
              <w>Este</w>
              <w>exibirá</w>
              <w>uma</w>
              <w>barra</w>
              <w>deslizante</w>
              <w>interativa</w>
              <w>com</w>
              <w>um</w>
              <w>grande</w>
              <w>número</w>
              <w>de</w>
              <w>opções,</w>
              <w>como</w>
              <w>o(s)</w>
              <w>valor(es)</w>
              <w>mínimo(s),</w>
              <w>máximo(s)</w>
              <w>e</w>
              <w>inicial(is)</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Também</w>
              <w>pode</w>
              <w>definir</w>
              <w>os</w>
              <w>incrementos</w>
              <w>e</w>
              <w>o</w>
              <w>formato</w>
              <w>dos</w>
              <w>números</w>
              <w>(digite</w>
              <code rend="inline">?sliderInput</code>
              <w>na</w>
              <w>linha</w>
              <w>de</w>
              <w>comandos</w>
              <w>para</w>
              <w>obter</w>
              <w>uma</w>
              <w>lista</w>
              <w>completa</w>
              <w>de</w>
              <w>opções</w>
              <w>e</w>
              <w>explicações)</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Aqui</w>
              <w>fará</w>
              <w>um</w>
              <w>com</w>
              <w>um</w>
              <w>ano</w>
              <w>mínimo</w>
              <w>de</w>
              <w>1620</w>
              <w>(o</w>
              <w>ponto</w>
              <w>de</w>
              <w>dados</w>
              <w>mais</w>
              <w>antigo</w>
              <w>na</w>
              <w>lista</w>
              <w>de</w>
              <w>títulos)</w>
              <w>e</w>
              <w>um</w>
              <w>máximo</w>
              <w>de</w>
              <w>2019</w>
              <w>(o</w>
              <w>mais</w>
              <w>recente)</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>O</w>
              <w>valor</w>
              <w>inicial</w>
              <w>(padrão)</w>
              <w>pode</w>
              <w>ser</w>
              <w>um</w>
              <w>único</w>
              <w>número</w>
              <w>ou</w>
              <w>um</w>
              <w>vetor</w>
              <w>de</w>
              <w>dois</w>
              <w>números</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Se</w>
              <w>o</w>
              <w>último</w>
              <w>for</w>
              <w>usado,</w>
              <w>o</w>
              <w>controlo</w>
              <w>deslizante</w>
              <w>terá</w>
              <w>duas</w>
              <w>extremidades,</w>
              <w>com</w>
              <w>um</w>
              <w>primeiro</w>
              <w>e</w>
              <w>um</w>
              <w>segundo</w>
              <w>valor</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Este</w>
              <w>é</w>
              <w>o</w>
              <w>que</w>
              <w>queremos</w>
              <w>usar,</w>
              <w>para</w>
              <w>que</w>
              <w>o</w>
              <w>usuário</w>
              <w>possa</w>
              <w>especificar</w>
              <w>um</w>
              <w>intervalo</w>
              <w>de</w>
              <w>anos</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>O</w>
              <w>código</w>
              <w>a</w>
              <w>seguir</w>
              <w>criará</w>
              <w>um</w>
              <w>controlo</w>
              <w>deslizante</w>
              <w>com</w>
              <w>duas</w>
              <w>extremidades</w>
              <w>arrastáveis,</w>
              <w>definidas</w>
              <w>por</w>
              <w>padrão</w>
              <w>para</w>
              <w>1700</w>
              <w>e</w>
              <w>1750:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_aplicacao-web-interativa-r-shiny-leaflet_8" corresp="code_aplicacao-web-interativa-r-shiny-leaflet_8.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>Insira</w>
              <w>este</w>
              <w>código</w>
              <w>entre</w>
              <w>os</w>
              <w>parênteses</w>
              <w>do</w>
              <w>comando</w>
              <w>no</w>
              <w>seu</w>
              <w>script</w>
              <pc>.</pc>
            </s>
            <code rend="inline">sidebarPanel = sidebarPanel( )</code>
            <s>
              <w>Se</w>
              <w>se</w>
              <w>perder</w>
              <w>ou</w>
              <w>precisar</w>
              <w>de</w>
              <w>identificar</w>
              <w>e</w>
              <w>corrigir</w>
              <w>erros,</w>
              <w>dê</w>
              <w>uma</w>
              <w>olhada</w>
              <w>no</w>
              <ref target="#c%C3%B3digo-final">
                <w>código</w>
                <w>final</w>
              </ref>
              <w>fornecido</w>
              <w>no</w>
              <w>fim</w>
              <w>desta</w>
              <w>lição</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Agora,</w>
              <w>execute</w>
              <w>o</w>
              <w>aplicativo</w>
              <w>para</w>
              <w>ver</w>
              <w>a</w>
              <w>aparência</w>
              <w>do</w>
              <w>controlo</w>
              <w>deslizante</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Verá</w>
              <w>um</w>
              <w>painel</w>
              <w>cinza</w>
              <w>à</w>
              <w>esquerda</w>
              <w>(o</w>
              <w>painel</w>
              <w>da</w>
              <w>barra</w>
              <w>lateral),</w>
              <w>contendo</w>
              <w>o</w>
              <w>'widget'</w>
              <w>deslizante</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Se</w>
              <w>passar</w>
              <w>o</w>
              <w>rato</w>
              <w>sobre</w>
              <w>o</w>
              <w>controlo</w>
              <w>deslizante,</w>
              <w>notará</w>
              <w>que</w>
              <w>pode</w>
              <w>arrastar</w>
              <w>cada</w>
              <w>extremidade</w>
              <w>(para</w>
              <w>selecionar</w>
              <w>um</w>
              <w>tamanho</w>
              <w>de</w>
              <w>intervalo)</w>
              <w>e</w>
              <w>também</w>
              <w>pode</w>
              <w>arrastar</w>
              <w>o</w>
              <w>meio</w>
              <w>(o</w>
              <w>que</w>
              <w>moverá</w>
              <w>o</w>
              <w>controlo</w>
              <w>deslizante</w>
              <w>inteiro</w>
              <w>sobre</w>
              <w>uma</w>
              <w>janela</w>
              <w>do</w>
              <w>tamanho</w>
              <w>de</w>
              <w>intervalo</w>
              <w>selecionado)</w>
              <pc>.</pc>
            </s>
          </p>
          <figure>
            <desc>
              <s>
                <w>Figura</w>
                <w>4</w>
                <pc>.</pc>
              </s>
              <s>
                <w>Gif</w>
                <w>animado</w>
                <w>demonstrando</w>
                <w>a</w>
                <w>funcionalidade</w>
                <w>do</w>
                <w>'widget'</w>
                <w>de</w>
                <w>_input_</w>
                <w>do</w>
                <w>controlo</w>
                <w>deslizante</w>
                <pc>.</pc>
              </s>
            </desc>
            <figDesc>
              <s>
                <w>Gif</w>
                <w>animado</w>
                <w>demonstrando</w>
                <w>a</w>
                <w>funcionalidade</w>
                <w>do</w>
                <w>widget</w>
                <w>de</w>
                <w>input</w>
                <w>do</w>
                <w>controlo</w>
                <w>deslizante</w>
                <pc>.</pc>
              </s>
              <s>
                <w>Um</w>
                <w>cursor</w>
                <w>clica</w>
                <w>em</w>
                <w>cada</w>
                <w>extremidade</w>
                <w>do</w>
                <w>controlo</w>
                <w>deslizante</w>
                <w>para</w>
                <w>redimensioná-lo</w>
                <w>e</w>
                <w>depois</w>
                <w>o</w>
                <w>arrasta</w>
                <pc>.</pc>
              </s>
            </figDesc>
            <graphic url="pt-tr-aplicacao-web-interativa-r-shiny-leaflet-04.gif"/>
          </figure>
        </div>
        <div type="3" n="5.3">
          <head>
            <s>
              <w>Colocar</w>
              <w>o</w>
              <w>leafletOutput</w>
              <w>no</w>
              <w>elemento</w>
              <w>mainPanel</w>
            </s>
          </head>
          <p>
            <s>
              <w>Em</w>
              <w>Shiny,</w>
              <w>precisa</w>
              <w>de</w>
              <w>dar</w>
              <w>informação</w>
              <w>à</w>
              <w>interface</w>
              <w>do</w>
              <w>usuário</w>
              <w>que</w>
              <w>deve</w>
              <w>exibir</w>
              <w>um</w>
              <w>resultado</w>
              <w>(algum</w>
              <w>tipo</w>
              <w>de</w>
              <w>elemento</w>
              <w>R,</w>
              <w>como</w>
              <w>uma</w>
              <w>tabela</w>
              <w>de</w>
              <w>dados</w>
              <w>ou</w>
              <w>um</w>
              <w>gráfico,</w>
              <w>ou</w>
              <w>algo</w>
              <w>tão</w>
              <w>simples</w>
              <w>quanto</w>
              <w>uma</w>
              <w>linha</w>
              <w>de</w>
              <w>texto)</w>
              <w>criada</w>
              <w>no</w>
              <w>código</w>
              <w>do</w>
              <w>servidor</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Isso</w>
              <w>é</w>
              <w>feito</w>
              <w>criando</w>
              <w>um</w>
              <w>elemento</w>
              <w>na</w>
              <w>interface</w>
              <w>do</w>
              <w>usuário</w>
              <w>da</w>
              <w>família</w>
              <w>de</w>
              <w>comandos</w>
              <code rend="inline">*Output</code>
              <pc>.</pc>
            </s>
            <s>
              <w>Cada</w>
              <w>elemento</w>
              <w>R</w>
              <w>que</w>
              <w>pode</w>
              <w>exibir</w>
              <w>em</w>
              <w>Shiny</w>
              <w>tem</w>
              <w>seu</w>
              <w>próprio</w>
              <w>comando</w>
              <code rend="inline">*Output</code>
              <w>:</w>
              <w>aqui,</w>
              <w>usará</w>
              <code rend="inline">leafletOutput()</code>
              <w>,</w>
              <w>que</w>
              <w>diz</w>
              <w>à</w>
              <w>interface</w>
              <w>do</w>
              <w>usuário</w>
              <w>para</w>
              <w>criar</w>
              <w>um</w>
              <w>mapa</w>
              <w>com</w>
              <w>leaflet</w>
              <pc>.</pc>
            </s>
            <code rend="inline">leafletOutput</code>
            <s>
              <w>tem</w>
              <w>um</w>
              <w>argumento</w>
              <w>obrigatório:</w>
              <w>seu</w>
              <w>ID</w>
              <w>do</w>
              <w>resultado</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Esse</w>
              <w>rótulo</w>
              <w>será</w>
              <w>usado</w>
              <w>para</w>
              <w>corresponder</w>
              <w>o</w>
              <w>elemento</w>
              <w>da</w>
              <w>interface</w>
              <w>do</w>
              <w>usuário</w>
              <w>ao</w>
              <w>objeto</w>
              <w>do</w>
              <w>mapa</w>
              <w>real</w>
              <w>que,</w>
              <w>posteriormente,</w>
              <w>criará</w>
              <w>no</w>
              <w>código</w>
              <w>do</w>
              <w>servidor</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Defina</w>
              <w>este</w>
              <w>rótulo</w>
              <w>como</w>
              <w>'map'</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Insira</w>
              <w>o</w>
              <w>seguinte</w>
              <w>código</w>
              <w>entre</w>
              <w>os</w>
              <w>parênteses</w>
              <w>de</w>
              <code rend="inline">mainPanel()</code>
              <w>:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_aplicacao-web-interativa-r-shiny-leaflet_9" corresp="code_aplicacao-web-interativa-r-shiny-leaflet_9.txt" rend="block"/>
          </ab>
        </div>
      </div>
      <div type="2" n="6">
        <head>
          <s>
            <w>Criar</w>
            <w>a</w>
            <w>lógica</w>
            <w>do</w>
            <w>servidor</w>
          </s>
        </head>
        <p>
          <s>
            <w>Em</w>
            <w>seguida,</w>
            <w>precisa</w>
            <w>de</w>
            <w>escrever</w>
            <w>a</w>
            <w>lógica</w>
            <w>para</w>
            <w>criar</w>
            <w>um</w>
            <w>objeto</w>
            <w>que</w>
            <w>será</w>
            <w>exibido</w>
            <w>na</w>
            <w>interface</w>
            <w>do</w>
            <w>usuário</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Isto</w>
            <w>tem</w>
            <w>duas</w>
            <w>partes</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Primeiro,</w>
            <w>criará</w>
            <w>um</w>
            <emph>
              <w>elemento</w>
              <w>reativo</w>
            </emph>
            <w>que,</w>
            <w>como</w>
            <w>explicado</w>
            <w>acima,</w>
            <w>é</w>
            <w>um</w>
            <w>objeto</w>
            <w>especial</w>
            <w>que</w>
            <w>captará</w>
            <w>as</w>
            <w>alterações</w>
            <w>no</w>
            <emph>
              <w>input</w>
            </emph>
            <w>do</w>
            <w>usuário</w>
            <w>e</w>
            <w>se</w>
            <w>refaz</w>
            <w>conforme</w>
            <w>necessário</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Segundo,</w>
            <w>criará</w>
            <w>um</w>
            <emph>
              <w>resultado</w>
            </emph>
            <w>que</w>
            <w>conterá</w>
            <w>o</w>
            <w>próprio</w>
            <w>mapa</w>
            <w>interativo</w>
            <pc>.</pc>
          </s>
        </p>
        <div type="3" n="6.1">
          <head>
            <s>
              <w>Criar</w>
              <w>o</w>
              <w>reativo</w>
              <w>para</w>
              <w>o</w>
              <w>mapa</w>
              <w>leaflet</w>
            </s>
          </head>
          <p>
            <s>
              <w>Primeiro,</w>
              <w>crie</w>
              <w>o</w>
              <w>elemento</w>
              <w>reativo</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Nesse</w>
              <w>caso,</w>
              <w>será</w>
              <w>um</w>
              <w>tipo</w>
              <w>especial</w>
              <w>de</w>
              <w>conjunto</w>
              <w>de</w>
              <w>dados</w>
              <w>geográficos</w>
              <w>chamado</w>
              <emph>
                <w>objeto</w>
                <w>de</w>
                <w>recursos</w>
                <w>simples</w>
              </emph>
              <pc>.</pc>
            </s>
            <s>
              <w>Este</w>
              <w>formato</w>
              <w>foi</w>
              <w>abordado</w>
              <w>numa</w>
              <w>lição</w>
              <w>anterior</w>
              <w>do</w>
              <emph>
                <w>The</w>
                <w>Programming</w>
                <w>Historian</w>
              </emph>
              <w>,</w>
              <ref target="/en/lessons/geospatial-data-analysis">
                <w>'Using</w>
                <w>Geospatial</w>
                <w>Data</w>
                <w>to</w>
                <w>Inform</w>
                <w>Historical</w>
                <w>Research</w>
                <w>in</w>
                <w>R'</w>
              </ref>
              <w>(em</w>
              <w>inglês)</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Sempre</w>
              <w>que</w>
              <w>o</w>
              <w>usuário</w>
              <w>alterar</w>
              <w>as</w>
              <w>variáveis</w>
              <w>no</w>
              <w>controlo</w>
              <w>deslizante</w>
              <w>de</w>
              <w>data</w>
              <w>de</w>
              <w>alguma</w>
              <w>forma,</w>
              <w>seu</w>
              <w>aplicativo</w>
              <w>será</w>
              <w>executado</w>
              <w>por</w>
              <w>meio</w>
              <w>de</w>
              <w>um</w>
              <w>conjunto</w>
              <w>de</w>
              <w>comandos:</w>
            </s>
          </p>
          <list type="unordered">
            <item>
              <p>
                <s>
                  <w>Filtrar</w>
                  <w>a</w>
                  <w>lista</w>
                  <w>de</w>
                  <w>títulos</w>
                  <w>para</w>
                  <w>o</w>
                  <w>conjunto</w>
                  <w>de</w>
                  <w>datas</w>
                  <w>selecionadas</w>
                  <w>pelo</w>
                  <w>usuário</w>
                </s>
              </p>
            </item>
            <item>
              <p>
                <s>
                  <w>Contar</w>
                  <w>o</w>
                  <w>número</w>
                  <w>de</w>
                  <w>vezes</w>
                  <w>que</w>
                  <w>cada</w>
                  <w>lugar</w>
                  <w>ocorre</w>
                  <w>nesta</w>
                  <w>lista</w>
                  <w>filtrada</w>
                </s>
              </p>
            </item>
            <item>
              <p>
                <s>
                  <w>Associar</w>
                  <w>os</w>
                  <w>lugares</w>
                  <w>a</w>
                  <w>um</w>
                  <w>conjunto</w>
                  <w>de</w>
                  <w>coordenadas</w>
                  <w>usando</w>
                  <w>uma</w>
                  <w>junção</w>
                </s>
              </p>
            </item>
            <item>
              <p>
                <s>
                  <w>Converter</w>
                  <w>o</w>
                  <w>resultado</w>
                  <w>num</w>
                  <w>objeto</w>
                  <w>de</w>
                  <w>recursos</w>
                  <w>simples,</w>
                  <w>uma</w>
                  <w>estrutura</w>
                  <w>de</w>
                  <w>dados</w>
                  <w>que</w>
                  <w>armazena</w>
                  <w>informações</w>
                  <w>geográficas</w>
                </s>
              </p>
            </item>
          </list>
          <p>
            <s>
              <w>Para</w>
              <w>criar</w>
              <w>um</w>
              <w>objeto</w>
              <w>reativo</w>
              <w>chamado</w>
              <code rend="inline">map_df</code>
              <w>,</w>
              <w>adicione</w>
              <w>o</w>
              <w>seguinte</w>
              <w>código</w>
              <w>dentro</w>
              <w>das</w>
              <w>chaves</w>
              <w>do</w>
              <w>componente</w>
              <w>do</w>
              <w>servidor:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_aplicacao-web-interativa-r-shiny-leaflet_10" corresp="code_aplicacao-web-interativa-r-shiny-leaflet_10.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>Este</w>
              <w>código</w>
              <w>executa</w>
              <w>as</w>
              <w>seguintes</w>
              <w>funções:</w>
            </s>
          </p>
          <list type="ordered">
            <item>
              <p>
                <s>
                  <w>Filtra</w>
                  <w>o</w>
                  <w>conjunto</w>
                  <w>de</w>
                  <w>dados</w>
                  <w>de</w>
                  <w>jornais</w>
                  <w>usando</w>
                  <w>o</w>
                  <w>comando</w>
                  <w>,</w>
                  <w>usando</w>
                  <w>os</w>
                  <w>valores</w>
                  <w>do</w>
                  <w>widget</w>
                  <pc>.</pc>
                </s>
                <code rend="inline">filter()</code>
                <code rend="inline">sliderInput</code>
                <s>
                  <w>Esses</w>
                  <w>valores</w>
                  <w>são</w>
                  <w>acedidos</w>
                  <w>usando</w>
                  <code rend="inline">input$&lt;LABELNAME&gt;</code>
                  <w>,</w>
                  <w>que</w>
                  <w>neste</w>
                  <w>caso</w>
                  <w>é</w>
                  <code rend="inline">input$years</code>
                  <w>,</w>
                  <w>embora</w>
                  <w>haja</w>
                  <w>uma</w>
                  <w>complicação</w>
                  <w>adicional</w>
                  <w>a</w>
                  <w>ser</w>
                  <w>observada</w>
                  <pc>.</pc>
                </s>
                <s>
                  <w>Anteriormente</w>
                  <w>definiu</w>
                  <w>o</w>
                  <w>valor</w>
                  <w>de</w>
                  <code rend="inline">sliderInput</code>
                  <w>para</w>
                  <w>um</w>
                  <w>vetor</w>
                  <w>de</w>
                  <w>comprimento</w>
                  <w>dois,</w>
                  <w>para</w>
                  <w>que</w>
                  <w>um</w>
                  <w>intervalo</w>
                  <w>pudesse</w>
                  <w>ser</w>
                  <w>selecionado</w>
                  <pc>?</pc>
                </s>
                <s>
                  <w>Os</w>
                  <w>dois</w>
                  <w>números</w>
                  <w>deste</w>
                  <w>intervalo</w>
                  <w>são</w>
                  <w>armazenados</w>
                  <w>em</w>
                  <code rend="inline">input$years[1]</code>
                  <w>e</w>
                  <code rend="inline">input$years[2]</code>
                  <pc>.</pc>
                </s>
                <s>
                  <w>Estes</w>
                  <w>são</w>
                  <w>os</w>
                  <w>valores</w>
                  <w>a</w>
                  <w>que</w>
                  <w>precisa</w>
                  <w>de</w>
                  <w>aceder</w>
                  <w>para</w>
                  <w>filtrar</w>
                  <w>os</w>
                  <w>dados</w>
                  <pc>.</pc>
                </s>
                <s>
                  <w>A</w>
                  <w>função</w>
                  <code rend="inline">filter</code>
                  <w>retorna</w>
                  <w>linhas</w>
                  <w>de</w>
                  <w>um</w>
                  <emph>
                    <w>dataframe</w>
                  </emph>
                  <w>onde</w>
                  <w>um</w>
                  <w>conjunto</w>
                  <w>específico</w>
                  <w>de</w>
                  <w>condições</w>
                  <w>é</w>
                  <w>verdadeiro:</w>
                  <w>neste</w>
                  <w>caso,</w>
                  <w>onde</w>
                  <w>a</w>
                  <w>coluna</w>
                  <code rend="inline">first_date_held</code>
                  <w>é</w>
                  <w>maior</w>
                  <w>que</w>
                  <w>o</w>
                  <w>primeiro</w>
                  <w>valor</w>
                  <w>e</w>
                  <w>menor</w>
                  <w>que</w>
                  <w>o</w>
                  <w>segundo</w>
                  <pc>.</pc>
                </s>
              </p>
            </item>
            <item>
              <p>
                <s>
                  <w>neste</w>
                  <w>conjunto</w>
                  <w>de</w>
                  <w>dados</w>
                  <w>filtrado</w>
                  <w>para</w>
                  <w>produzir</w>
                  <w>um</w>
                  <emph>
                    <w>dataframe</w>
                  </emph>
                  <w>de</w>
                  <w>cada</w>
                  <w>cidade</w>
                  <w>e</w>
                  <w>uma</w>
                  <w>contagem</w>
                  <w>das</w>
                  <w>vezes</w>
                  <w>em</w>
                  <w>que</w>
                  <w>ocorrem</w>
                  <pc>.</pc>
                </s>
                <code rend="inline">count()</code>
                <s>
                  <w>Especifica</w>
                  <w>o</w>
                  <w>nome</w>
                  <w>da</w>
                  <w>nova</w>
                  <w>coluna</w>
                  <w>que</w>
                  <w>contém</w>
                  <w>as</w>
                  <w>contagens</w>
                  <w>com</w>
                  <w>o</w>
                  <w>argumento</w>
                  <code rend="inline">name =</code>
                  <pc>.</pc>
                </s>
              </p>
            </item>
            <item>
              <p>
                <s>
                  <w>Faz</w>
                  <w>uma</w>
                  <w>junção</w>
                  <w>(um</w>
                  <w>tipo</w>
                  <w>de</w>
                  <w>combinação</w>
                  <w>de</w>
                  <w>dois</w>
                  <emph>
                    <w>dataframes</w>
                  </emph>
                  <w>com</w>
                  <w>base</w>
                  <w>numa</w>
                  <w>chave</w>
                  <w>comum)</w>
                  <w>para</w>
                  <w>combinar</w>
                  <w>o</w>
                  <emph>
                    <w>dataframe</w>
                  </emph>
                  <w>de</w>
                  <w>coordenadas</w>
                  <w>ao</w>
                  <emph>
                    <w>dataframe</w>
                  </emph>
                  <w>de</w>
                  <w>contagem</w>
                  <w>usando</w>
                  <pc>.</pc>
                </s>
                <code rend="inline">left_join()</code>
                <s>
                  <w>Deve</w>
                  <w>especificar</w>
                  <w>a</w>
                  <w>chave</w>
                  <w>a</w>
                  <w>partir</w>
                  <w>da</w>
                  <w>qual</w>
                  <w>será</w>
                  <w>feita</w>
                  <w>a</w>
                  <w>junção,</w>
                  <w>que</w>
                  <w>é</w>
                  <code rend="inline">coverage_city</code>
                  <pc>.</pc>
                </s>
              </p>
            </item>
            <item>
              <p>
                <s>
                  <w>Há</w>
                  <w>um</w>
                  <w>pequeno</w>
                  <w>número</w>
                  <w>de</w>
                  <w>títulos</w>
                  <w>de</w>
                  <w>jornais</w>
                  <w>sem</w>
                  <w>coordenadas</w>
                  <w>de</w>
                  <w>latitude/longitude,</w>
                  <w>o</w>
                  <w>que</w>
                  <w>causaria</w>
                  <w>um</w>
                  <w>erro</w>
                  <w>ao</w>
                  <w>criar</w>
                  <w>o</w>
                  <w>objeto</w>
                  <w>geográfico</w>
                  <pc>.</pc>
                </s>
                <s>
                  <w>Filtre-os</w>
                  <w>com</w>
                  <code rend="inline">filter(!is.na(lat) &amp; !is.na(lng))</code>
                </s>
              </p>
            </item>
            <item>
              <p>
                <s>
                  <w>Finalmente,</w>
                  <w>transforme-os</w>
                  <w>num</w>
                  <w>objeto</w>
                  <w>de</w>
                  <w>recursos</w>
                  <w>simples,</w>
                  <w>usando</w>
                  <pc>.</pc>
                </s>
                <code rend="inline">st_as_sf()</code>
                <s>
                  <w>Para</w>
                  <w>fazê-lo,</w>
                  <w>especifique</w>
                  <w>as</w>
                  <w>colunas</w>
                  <w>de</w>
                  <w>coordenadas</w>
                  <w>de</w>
                  <w>latitude/longitude</w>
                  <w>que</w>
                  <w>devem</w>
                  <w>ser</w>
                  <w>adotadas</w>
                  <w>usando</w>
                  <code rend="inline">coords</code>
                  <w>e,</w>
                  <w>em</w>
                  <w>seguida,</w>
                  <w>usa</w>
                  <code rend="inline">st_set_crs</code>
                  <w>para</w>
                  <w>definir</w>
                  <w>um</w>
                  <w>sistema</w>
                  <w>de</w>
                  <w>referência</w>
                  <w>de</w>
                  <w>coordenadas</w>
                  <pc>.</pc>
                </s>
                <ref type="footnotemark" target="#pt_note_4"/>
              </p>
            </item>
          </list>
          <p>
            <s>
              <w>Este</w>
              <emph>
                <w>dataframe</w>
              </emph>
              <w>de</w>
              <w>informações</w>
              <w>geográficas</w>
              <w>pode</w>
              <w>ser</w>
              <w>acedido</w>
              <w>em</w>
              <w>qualquer</w>
              <w>contexto</w>
              <w>reativo</w>
              <w>por</w>
              <w>Shiny</w>
              <w>usando</w>
              <code rend="inline">map_df()</code>
              <w>e</w>
              <w>pode</w>
              <w>ser</w>
              <w>usado</w>
              <w>por</w>
              <w>vários</w>
              <w>resultados</w>
              <w>ao</w>
              <w>mesmo</w>
              <w>tempo:</w>
              <w>por</w>
              <w>exemplo,</w>
              <w>pode</w>
              <w>criar</w>
              <w>uma</w>
              <w>aplicação</w>
              <w>que</w>
              <w>exibe</w>
              <w>um</w>
              <w>mapa</w>
              <w>e</w>
              <w>um</w>
              <w>gráfico</w>
              <w>de</w>
              <w>barras,</w>
              <w>cada</w>
              <w>um</w>
              <w>usando</w>
              <w>o</w>
              <w>mesmo</w>
              <w>objeto</w>
              <w>reativo</w>
              <pc>.</pc>
            </s>
          </p>
        </div>
        <div type="3" n="6.2">
          <head>
            <s>
              <w>Criar</w>
              <w>o</w>
              <w>mapa</w>
              <w>leaflet</w>
            </s>
          </head>
          <p>
            <s>
              <w>A</w>
              <w>última</w>
              <w>coisa</w>
              <w>a</w>
              <w>fazer</w>
              <w>é</w>
              <w>criar</w>
              <w>o</w>
              <w>próprio</w>
              <w>mapa</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Isto</w>
              <w>é</w>
              <w>feito</w>
              <w>usando</w>
              <w>a</w>
              <w>biblioteca</w>
              <code rend="inline">leaflet</code>
              <w>,</w>
              <w>que</w>
              <w>permite</w>
              <w>produzir</w>
              <w>mapas</w>
              <w>interativos</w>
              <w>e</w>
              <w>com</w>
              <w>zoom</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Funciona</w>
              <w>particularmente</w>
              <w>bem</w>
              <w>com</w>
              <w>Shiny</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Adicione</w>
              <w>o</w>
              <w>seguinte</w>
              <w>código</w>
              <w>dentro</w>
              <w>do</w>
              <w>elemento</w>
              <code rend="inline">server()</code>
              <w>,</w>
              <w>logo</w>
              <w>abaixo</w>
              <w>do</w>
              <w>elemento</w>
              <w>reativo</w>
              <code rend="inline">map_df</code>
              <w>:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_aplicacao-web-interativa-r-shiny-leaflet_11" corresp="code_aplicacao-web-interativa-r-shiny-leaflet_11.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>Há</w>
              <w>algumas</w>
              <w>coisas</w>
              <w>bastante</w>
              <w>complexas</w>
              <w>acontecendo</w>
              <w>aqui,</w>
              <w>por</w>
              <w>isso</w>
              <w>é</w>
              <w>importante</w>
              <w>analisar</w>
              <w>o</w>
              <w>código</w>
              <w>em</w>
              <w>detalhe</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Em</w>
              <w>Shiny,</w>
              <w>cria</w>
              <w>reatividade</w>
              <w>conectando</w>
              <w>a</w>
              <pc>.</pc>
            </s>
            <hi rend="bold">
              <s>
                <w>inputs</w>
              </s>
            </hi>
            <hi rend="bold">
              <s>
                <w>outputs</w>
              </s>
            </hi>
            <hi rend="bold">
              <s>
                <w>Inputs</w>
              </s>
            </hi>
            <s>
              <w>,</w>
              <w>neste</w>
              <w>contexto,</w>
              <w>são</w>
              <w>as</w>
              <w>variáveis</w>
              <w>ajustadas</w>
              <w>pelo</w>
              <w>usuário</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Recorda-se</w>
              <w>do</w>
              <code rend="inline">sliderInput()</code>
              <w>que</w>
              <w>criou</w>
              <w>na</w>
              <w>interface</w>
              <w>do</w>
              <w>usuário</w>
              <w>acima,</w>
              <w>com</w>
              <w>o</w>
              <w>rótulo</w>
              <w>'years'</w>
              <pc>?</pc>
            </s>
            <s>
              <w>Já</w>
              <w>vimos</w>
              <w>que</w>
              <w>o</w>
              <w>seu</w>
              <w>valor</w>
              <w>é</w>
              <w>armazenado</w>
              <w>pela</w>
              <w>Shiny</w>
              <w>na</w>
              <w>variável</w>
              <code rend="inline">input$years</code>
              <pc>.</pc>
            </s>
            <hi rend="bold">
              <s>
                <w>Outputs</w>
              </s>
            </hi>
            <s>
              <w>são</w>
              <w>as</w>
              <w>expressões</w>
              <w>R</w>
              <w>que</w>
              <w>dizem</w>
              <w>a</w>
              <w>Shiny</w>
              <w>o</w>
              <w>que</w>
              <w>exibir</w>
              <w>na</w>
              <w>interface</w>
              <w>do</w>
              <w>usuário</w>
              <w>e</w>
              <w>são</w>
              <w>criadas,</w>
              <w>no</w>
              <w>servidor,</w>
              <w>com</w>
              <w>o</w>
              <w>nome</w>
              <w>da</w>
              <w>variável</w>
              <code rend="inline">output$*</code>
              <pc>.</pc>
            </s>
            <s>
              <w>Os</w>
              <w>precisam</w>
              <w>de</w>
              <w>corresponder</w>
              <w>a</w>
              <w>um</w>
              <w>elemento</w>
              <code rend="inline">*Output</code>
              <w>da</w>
              <w>interface</w>
              <w>do</w>
              <w>usuário</w>
              <pc>.</pc>
            </s>
            <hi rend="bold">
              <s>
                <w>outputs</w>
              </s>
            </hi>
            <s>
              <w>Nesta</w>
              <w>última</w>
              <w>criou</w>
              <w>um</w>
              <w>leaflet</w>
              <w>com</w>
              <w>o</w>
              <w>rótulo</w>
              <code rend="inline">map</code>
              <w>usando</w>
              <w>o</w>
              <w>código</w>
              <code rend="inline">leafletOutput('map')</code>
              <pc>.</pc>
            </s>
            <hi rend="bold">
              <s>
                <w>output</w>
              </s>
            </hi>
            <s>
              <w>Isto</w>
              <w>deve</w>
              <w>corresponder</w>
              <w>a</w>
              <w>um</w>
              <w>no</w>
              <w>servidor</w>
              <w>chamado</w>
              <code rend="inline">output$map</code>
              <pc>.</pc>
            </s>
            <hi rend="bold">
              <s>
                <w>output</w>
              </s>
            </hi>
          </p>
          <p>
            <s>
              <w>Por</w>
              <w>sua</w>
              <w>vez,</w>
              <w>esta</w>
              <w>variável</w>
              <w>deve</w>
              <w>ser</w>
              <w>definida</w>
              <w>para</w>
              <w>uma</w>
              <w>função</w>
              <w>Shiny</w>
              <w>,</w>
              <w>que</w>
              <w>informa</w>
              <w>a</w>
              <w>Shiny</w>
              <w>que</w>
              <w>tipo</w>
              <w>de</w>
              <w>objeto</w>
              <w>deve</w>
              <w>ser</w>
              <w>apresentado</w>
              <w>na</w>
              <w>interface</w>
              <w>do</w>
              <w>usuário</w>
              <pc>.</pc>
            </s>
            <code rend="inline">output$map</code>
            <code rend="inline">render*</code>
            <s>
              <w>O</w>
              <w>que</w>
              <w>precisamos</w>
              <w>é</w>
              <w>chamado</w>
              <code rend="inline">renderLeaflet</code>
              <w>,</w>
              <w>que</w>
              <w>diz</w>
              <w>à</w>
              <w>interface</w>
              <w>do</w>
              <w>usuário</w>
              <w>para</w>
              <w>gerar</w>
              <w>um</w>
              <w>mapa</w>
              <w>criado</w>
              <w>pela</w>
              <w>biblioteca</w>
              <w>leaflet</w>
              <pc>.</pc>
            </s>
            <s>
              <w>O</w>
              <w>objeto</w>
              <code rend="inline">renderLeaflet</code>
              <w>tem</w>
              <w>parênteses</w>
              <w>e</w>
              <w>chaves,</w>
              <w>assim</w>
              <w>como</w>
              <w>o</w>
              <w>objeto</w>
              <w>reativo</w>
              <w>que</w>
              <w>criamos</w>
              <w>acima</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>O</w>
              <w>próprio</w>
              <w>mapa</w>
              <w>leaflet</w>
              <w>será</w>
              <w>criado</w>
              <w>dentro</w>
              <w>disto</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Primeiro,</w>
              <w>adicione</w>
              <w>a</w>
              <w>função</w>
              <code rend="inline">leaflet()</code>
              <pc>.</pc>
            </s>
            <s>
              <w>Em</w>
              <w>seguida,</w>
              <w>adicione</w>
              <w>os</w>
              <w>blocos</w>
              <w>padrão</w>
              <w>(as</w>
              <w>imagens</w>
              <w>de</w>
              <w>mapa</w>
              <w>com</w>
              <w>zoom)</w>
              <w>usando</w>
              <code rend="inline">addTiles()</code>
              <pc>.</pc>
            </s>
            <s>
              <w>Depois,</w>
              <w>defina</w>
              <w>a</w>
              <w>posição</w>
              <w>padrão</w>
              <w>do</w>
              <w>mapa</w>
              <w>e</w>
              <w>amplie</w>
              <w>para</w>
              <w>Grã-Bretanha</w>
              <w>e</w>
              <w>Irlanda</w>
              <w>usando</w>
              <w>o</w>
              <w>comando</w>
              <code rend="inline">setView(lng = -5, lat = 54, zoom = 5)</code>
              <pc>.</pc>
            </s>
          </p>
        </div>
        <div type="3" n="6.3">
          <head>
            <s>
              <w>Desenhar</w>
              <w>pontos</w>
              <w>usando</w>
              <w>o</w>
              <emph>
                <w>dataframe</w>
              </emph>
              <w>reativo</w>
            </s>
          </head>
          <p>
            <s>
              <w>Faça</w>
              <w>uma</w>
              <w>pausa</w>
              <w>aqui</w>
              <w>e</w>
              <w>execute</w>
              <w>a</w>
              <w>aplicação</w>
              <w>novamente</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Se</w>
              <w>tudo</w>
              <w>correr</w>
              <w>bem,</w>
              <w>deverá</w>
              <w>ver</w>
              <w>um</w>
              <w>mapa</w>
              <w>interativo</w>
              <w>da</w>
              <w>Grã-Bretanha</w>
              <w>e</w>
              <w>da</w>
              <w>Irlanda</w>
              <w>à</w>
              <w>direita</w>
              <w>do</w>
              <w>controlo</w>
              <w>deslizante</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Pode</w>
              <w>ampliar</w>
              <w>e</w>
              <w>deslizar,</w>
              <w>mas</w>
              <w>não</w>
              <w>mais</w>
              <w>do</w>
              <w>que</w>
              <w>isso</w>
              <pc>.</pc>
            </s>
            <s>
              <w>O</w>
              <w>mapa</w>
              <w>precisa</w>
              <w>de</w>
              <w>ser</w>
              <w>preenchido</w>
              <w>com</w>
              <w>pontos</w>
              <w>representando</w>
              <w>a</w>
              <w>contagem</w>
              <w>de</w>
              <w>títulos</w>
              <w>de</w>
              <w>cada</w>
              <w>lugar</w>
              <pc>.</pc>
            </s>
          </p>
          <figure>
            <desc>
              <s>
                <w>Figura</w>
                <w>5</w>
                <pc>.</pc>
              </s>
              <s>
                <w>Captura</w>
                <w>de</w>
                <w>tela</w>
                <w>da</w>
                <w>aplicação</w>
                <w>com</w>
                <w>mapa</w>
                <w>leaflet</w>
                <w>e</w>
                <w>widget</w>
                <w>de</w>
                <w>controlo</w>
                <w>deslizante</w>
                <pc>.</pc>
              </s>
            </desc>
            <figDesc>
              <s>
                <w>Captura</w>
                <w>de</w>
                <w>tela</w>
                <w>da</w>
                <w>aplicação</w>
                <w>com</w>
                <w>mapa</w>
                <w>Leaflet</w>
                <w>e</w>
                <w>o</w>
                <w>widget</w>
                <w>de</w>
                <w>controlo</w>
                <w>deslizante</w>
                <pc>.</pc>
              </s>
            </figDesc>
            <graphic url="pt-tr-aplicacao-web-interativa-r-shiny-leaflet-05.png"/>
          </figure>
          <p>
            <s>
              <w>Para</w>
              <w>fazer</w>
              <w>isso,</w>
              <w>use</w>
              <w>o</w>
              <w>comando</w>
              <w>,</w>
              <w>que</w>
              <w>adiciona</w>
              <w>uma</w>
              <w>camada</w>
              <w>gráfica</w>
              <w>de</w>
              <w>círculos</w>
              <w>ao</w>
              <w>mapa</w>
              <w>leaflet,</w>
              <w>com</w>
              <w>coordenadas</w>
              <w>retiradas</w>
              <w>de</w>
              <w>um</w>
              <w>objeto</w>
              <w>de</w>
              <w>dados</w>
              <w>geográficos</w>
              <pc>.</pc>
            </s>
            <code rend="inline">addCircleMarkers()</code>
            <s>
              <w>Usando</w>
              <w>o</w>
              <w>encadeamento</w>
              <w>de</w>
              <w>funções</w>
              <code rend="inline">%&gt;%</code>
              <w>(pipe),</w>
              <w>adicione</w>
              <w>o</w>
              <w>seguinte</w>
              <w>após</w>
              <w>a</w>
              <w>função</w>
              <code rend="inline">addCircleMarkers()</code>
              <w>(veja</w>
              <w>o</w>
              <ref target="#c%C3%B3digo-final">
                <w>código</w>
                <w>final</w>
              </ref>
              <w>se</w>
              <w>não</w>
              <w>tiver</w>
              <w>certeza</w>
              <w>de</w>
              <w>onde</w>
              <w>isto</w>
              <w>deve</w>
              <w>ir):</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_aplicacao-web-interativa-r-shiny-leaflet_12" corresp="code_aplicacao-web-interativa-r-shiny-leaflet_12.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>Aqui</w>
              <w>está</w>
              <w>a</w>
              <w>parte</w>
              <w>crucial:</w>
              <w>em</w>
              <w>vez</w>
              <w>de</w>
              <w>uma</w>
              <w>fonte</w>
              <w>de</w>
              <w>dados</w>
              <w>fixa,</w>
              <w>o</w>
              <w>comando</w>
              <w>acima</w>
              <w>especifica</w>
              <w>que</w>
              <w>deve</w>
              <w>usar</w>
              <w>o</w>
              <emph>
                <w>dataframe</w>
              </emph>
              <w>reativo</w>
              <w>que</w>
              <w>criámos</w>
              <w>anteriormente,</w>
              <w>com</w>
              <w>o</w>
              <w>argumento</w>
              <pc>.</pc>
            </s>
            <code rend="inline">addCircleMarkers</code>
            <code rend="inline">data = map_df()</code>
            <s>
              <w>Observe</w>
              <w>que,</w>
              <w>diferentemente</w>
              <w>das</w>
              <w>variáveis</w>
              <w>regulares</w>
              <w>em</w>
              <w>R,</w>
              <w>esta</w>
              <w>tem</w>
              <w>um</w>
              <w>par</w>
              <w>de</w>
              <w>parênteses</w>
              <w>depois,</w>
              <w>denotando</w>
              <w>que</w>
              <w>é</w>
              <w>uma</w>
              <w>variável</w>
              <w>reativa</w>
              <w>especial</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Cada</w>
              <w>vez</w>
              <w>que</w>
              <w>a</w>
              <w>aplicação</w>
              <w>percebe</w>
              <w>uma</w>
              <w>alteração</w>
              <w>nesse</w>
              <w>objeto</w>
              <w>reativo,</w>
              <w>ele</w>
              <w>redesenha</w>
              <w>o</w>
              <w>mapa</w>
              <w>com</w>
              <w>os</w>
              <w>novos</w>
              <w>dados</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Neste</w>
              <w>ponto,</w>
              <w>também</w>
              <w>pode</w>
              <w>definir</w>
              <w>o</w>
              <w>raio</w>
              <w>dos</w>
              <w>círculos</w>
              <w>para</w>
              <w>corresponder</w>
              <w>à</w>
              <w>coluna</w>
              <w>que</w>
              <w>contém</w>
              <w>a</w>
              <w>contagem</w>
              <w>de</w>
              <w>títulos</w>
              <w>para</w>
              <w>cada</w>
              <w>lugar,</w>
              <w>usando</w>
              <pc>.</pc>
            </s>
            <code rend="inline">radius = ~sqrt(titles)</code>
            <s>
              <w>Usamos</w>
              <w>a</w>
              <w>raiz</w>
              <w>quadrada,</w>
              <w>porque</w>
              <w>torna</w>
              <w>a</w>
              <w>área</w>
              <w>dos</w>
              <w>círculos</w>
              <w>corretamente</w>
              <w>proporcional</w>
              <w>à</w>
              <w>contagem</w>
              <pc>.</pc>
            </s>
          </p>
        </div>
        <div type="3" n="6.4">
          <head>
            <s>
              <w>Teste</w>
              <w>a</w>
              <w>aplicação</w>
            </s>
          </head>
          <p>
            <s>
              <w>É</w>
              <w>hora</w>
              <w>de</w>
              <w>executar</w>
              <w>a</w>
              <w>aplicação</w>
              <w>novamente</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Agora,</w>
              <w>deve</w>
              <w>haver</w>
              <w>círculos</w>
              <w>de</w>
              <w>tamanhos</w>
              <w>variados</w>
              <w>espalhados</w>
              <w>pelo</w>
              <w>mapa</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Tente</w>
              <w>mover</w>
              <w>ou</w>
              <w>arrastar</w>
              <w>os</w>
              <w>controlos</w>
              <w>deslizantes</w>
              <w>-</w>
              <w>o</w>
              <w>mapa</w>
              <w>deve</w>
              <w>ser</w>
              <w>atualizado</w>
              <w>a</w>
              <w>cada</w>
              <w>alteração</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Parabéns,</w>
              <w>fez</w>
              <w>a</w>
              <w>sua</w>
              <w>primeira</w>
              <w>aplicação</w>
              <w>Shiny</w>
              <pc>!</pc>
            </s>
          </p>
          <figure>
            <desc>
              <s>
                <w>Figura</w>
                <w>6</w>
                <pc>.</pc>
              </s>
              <s>
                <w>Gif</w>
                <w>animado</w>
                <w>monstrando</w>
                <w>a</w>
                <w>atualização</w>
                <w>do</w>
                <w>mapa</w>
                <w>leaflet</w>
                <w>quando</w>
                <w>os</w>
                <w>valores</w>
                <w>no</w>
                <w>widget</w>
                <w>do</w>
                <w>controlo</w>
                <w>deslizante</w>
                <w>são</w>
                <w>alterados</w>
                <pc>.</pc>
              </s>
            </desc>
            <figDesc>
              <s>
                <w>Gif</w>
                <w>animado</w>
                <w>demonstrando</w>
                <w>a</w>
                <w>atualização</w>
                <w>do</w>
                <w>mapa</w>
                <w>Leaflet</w>
                <w>à</w>
                <w>medida</w>
                <w>que</w>
                <w>os</w>
                <w>valores</w>
                <w>no</w>
                <w>widget</w>
                <w>de</w>
                <w>controlo</w>
                <w>deslizante</w>
                <w>são</w>
                <w>alterados</w>
                <pc>.</pc>
              </s>
            </figDesc>
            <graphic url="pt-tr-aplicacao-web-interativa-r-shiny-leaflet-06.gif"/>
          </figure>
        </div>
      </div>
      <div type="2" n="7">
        <head>
          <s>
            <w>Melhorar</w>
            <w>a</w>
            <w>aplicação</w>
          </s>
        </head>
        <p>
          <s>
            <w>Para</w>
            <w>saber</w>
            <w>mais</w>
            <w>sobre</w>
            <w>Shiny</w>
            <w>e</w>
            <w>Leaflet,</w>
            <w>pode</w>
            <w>tentar</w>
            <w>adicionar</w>
            <w>alguns</w>
            <w>dos</w>
            <w>seguintes</w>
            <w>recursos</w>
            <w>à</w>
            <w>sua</w>
            <w>aplicação:</w>
          </s>
        </p>
        <p>
          <s>
            <w>Primeiro,</w>
            <w>adicione</w>
            <w>um</w>
            <emph>
              <w>input</w>
            </emph>
            <w>de</w>
            <w>usuário</w>
            <w>adicional</w>
            <w>para</w>
            <w>filtrar</w>
            <w>os</w>
            <w>dados</w>
            <w>do</w>
            <w>mapa</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Usando</w>
            <w>outro</w>
            <w>widget,</w>
            <code rend="inline">selectInput</code>
            <w>,</w>
            <w>pode</w>
            <w>permitir</w>
            <w>que</w>
            <w>um</w>
            <w>usuário</w>
            <w>exiba</w>
            <w>dados</w>
            <w>de</w>
            <w>apenas</w>
            <w>um</w>
            <w>dos</w>
            <w>quatro</w>
            <w>países</w>
            <w>na</w>
            <w>lista</w>
            <w>de</w>
            <w>títulos</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Digite</w>
            <code rend="inline">?selectInput</code>
            <w>na</w>
            <w>linha</w>
            <w>de</w>
            <w>comandos</w>
            <w>para</w>
            <w>obter</w>
            <w>ajuda</w>
            <w>sobre</w>
            <w>os</w>
            <w>parâmetros</w>
            <w>necessários</w>
            <w>para</w>
            <w>fazer</w>
            <w>isto</w>
            <w>corretamente</w>
            <pc>.</pc>
          </s>
          <s>
            <emph>
              <w>Inputs</w>
            </emph>
            <w>adicionais</w>
            <w>podem</w>
            <w>ser</w>
            <w>colocados</w>
            <w>sob</w>
            <w>o</w>
            <code rend="inline">sliderInput</code>
            <w>existente,</w>
            <w>separados</w>
            <w>por</w>
            <w>uma</w>
            <w>vírgula</w>
            <pc>.</pc>
          </s>
        </p>
        <p>
          <s>
            <w>Em</w>
            <w>seguida,</w>
            <w>adicione</w>
            <w>alguns</w>
            <w>elementos</w>
            <w>ao</w>
            <w>mapa</w>
            <w>leaflet</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Uma</w>
            <w>lista</w>
            <w>completa</w>
            <w>de</w>
            <w>opções</w>
            <w>pode</w>
            <w>ser</w>
            <w>encontrada</w>
            <w>usando</w>
            <code rend="inline">?circleMarkers</code>
            <w>no</w>
            <w>RStudio</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Por</w>
            <w>exemplo,</w>
            <w>pode</w>
            <w>adicionar</w>
            <w>um</w>
            <w>rótulo</w>
            <w>aos</w>
            <w>pontos</w>
            <w>com</w>
            <code rend="inline">label = coverage_city</code>
            <pc>.</pc>
          </s>
        </p>
        <p>
          <s>
            <w>Notará</w>
            <w>que</w>
            <w>sempre</w>
            <w>que</w>
            <w>move</w>
            <w>o</w>
            <w>controlo</w>
            <w>deslizante,</w>
            <w>o</w>
            <w>mapa</w>
            <w>inteiro</w>
            <w>redesenha</w>
            <w>e</w>
            <w>redefine</w>
            <w>a</w>
            <w>sua</w>
            <w>visualização,</w>
            <w>o</w>
            <w>que</w>
            <w>não</w>
            <w>é</w>
            <w>muito</w>
            <w>elegante</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Isto</w>
            <w>pode</w>
            <w>ser</w>
            <w>corrigido</w>
            <w>usando</w>
            <w>outra</w>
            <w>função</w>
            <w>chamada</w>
            <code rend="inline">leafletProxy</code>
            <pc>.</pc>
          </s>
          <s>
            <w>Resumidamente,</w>
            <w>crie</w>
            <w>um</w>
            <w>mapa</w>
            <w>leaflet</w>
            <w>vazio</w>
            <w>(sem</w>
            <w>os</w>
            <code rend="inline">circleMarkers</code>
            <w>)</w>
            <w>como</w>
            <w>acima</w>
            <pc>.</pc>
          </s>
          <s>
            <w>De</w>
            <w>seguida,</w>
            <w>em</w>
            <w>outro</w>
            <w>contexto</w>
            <w>reativo,</w>
            <code rend="inline">observe</code>
            <w>,</w>
            <w>adicionará</w>
            <w>o</w>
            <w>código</w>
            <w>para</w>
            <w>redesenhar</w>
            <w>as</w>
            <w>partes</w>
            <w>em</w>
            <w>mudança</w>
            <w>do</w>
            <w>mapa,</w>
            <w>usando</w>
            <code rend="inline">leafletProxy</code>
            <pc>.</pc>
          </s>
          <s>
            <w>As</w>
            <w>instruções</w>
            <w>de</w>
            <w>como</w>
            <w>fazer</w>
            <w>isto</w>
            <w>podem</w>
            <w>ser</w>
            <w>encontradas</w>
            <ref target="https://perma.cc/CZ84-CW9F">
              <w>aqui</w>
            </ref>
            <w>(em</w>
            <w>inglês)</w>
            <pc>.</pc>
          </s>
        </p>
      </div>
      <div type="2" n="8">
        <head>
          <s>
            <w>Conclusão</w>
          </s>
        </head>
        <p>
          <s>
            <w>Visualizações</w>
            <w>interativas</w>
            <w>podem</w>
            <w>ajudar</w>
            <w>a</w>
            <w>trazer</w>
            <w>novas</w>
            <w>perspectivas</w>
            <w>para</w>
            <w>dados</w>
            <w>históricos</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Neste</w>
            <w>tutorial,</w>
            <w>usamos</w>
            <w>alguns</w>
            <w>pacotes</w>
            <w>R</w>
            <w>versáteis</w>
            <w>e</w>
            <w>robustos,</w>
            <w>como</w>
            <w>o</w>
            <w>tydeverse</w>
            <w>e</w>
            <w>o</w>
            <w>leaflet,</w>
            <w>e</w>
            <w>pudemos</w>
            <w>usá-los</w>
            <w>num</w>
            <w>ambiente</w>
            <w>interativo,</w>
            <w>em</w>
            <w>vez</w>
            <w>de</w>
            <w>ter</w>
            <w>que</w>
            <w>preparar</w>
            <w>todos</w>
            <w>os</w>
            <w>dados</w>
            <w>antecipadamente</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Aprendemos</w>
            <w>como</w>
            <w>e</w>
            <w>porquê</w>
            <w>podemos</w>
            <w>usar</w>
            <w>programação</w>
            <w>reativa,</w>
            <w>o</w>
            <w>que</w>
            <w>nos</w>
            <w>permite</w>
            <w>criar</w>
            <w>código</w>
            <w>R</w>
            <w>dinâmico</w>
            <w>onde</w>
            <w>os</w>
            <emph>
              <w>inputs</w>
            </emph>
            <w>do</w>
            <w>usuário</w>
            <w>substituem</w>
            <w>as</w>
            <w>variáveis</w>
            <w>fixas</w>
            <pc>.</pc>
          </s>
        </p>
        <p>
          <s>
            <w>Essa</w>
            <w>abordagem</w>
            <w>pode</w>
            <w>ser</w>
            <w>facilmente</w>
            <w>adaptada</w>
            <w>para</w>
            <w>atender</w>
            <w>a</w>
            <w>uma</w>
            <w>variedade</w>
            <w>de</w>
            <w>diferentes</w>
            <w>formatos</w>
            <w>de</w>
            <w>dados</w>
            <w>e</w>
            <w>modos</w>
            <w>de</w>
            <w>análise</w>
            <pc>.</pc>
          </s>
          <s>
            <w>A</w>
            <w>dificuldade</w>
            <w>relativamente</w>
            <w>baixa</w>
            <w>de</w>
            <w>utilização</w>
            <w>destas</w>
            <w>ferramentas</w>
            <w>facilita</w>
            <w>a</w>
            <w>criação</w>
            <w>de</w>
            <w>aplicações</w>
            <w>rápidas</w>
            <w>que</w>
            <w>podem</w>
            <w>tornar</w>
            <w>o</w>
            <w>trabalho</w>
            <w>com</w>
            <w>um</w>
            <w>grande</w>
            <w>volume</w>
            <w>de</w>
            <w>dados</w>
            <w>menos</w>
            <w>penoso</w>
            <pc>.</pc>
          </s>
          <s>
            <w>As</w>
            <w>aplicações</w>
            <w>Shiny</w>
            <w>também</w>
            <w>são</w>
            <w>uma</w>
            <w>maneira</w>
            <w>útil</w>
            <w>de</w>
            <w>compartilhar</w>
            <w>alguns</w>
            <w>dos</w>
            <w>benefícios</w>
            <w>dos</w>
            <w>recursos</w>
            <w>de</w>
            <w>programação</w>
            <w>do</w>
            <w>R</w>
            <w>com</w>
            <w>um</w>
            <w>público</w>
            <w>não</w>
            <w>técnico</w>
            <w>ou</w>
            <w>membros</w>
            <w>da</w>
            <w>equipe</w>
            <w>do</w>
            <w>projeto</w>
            <pc>.</pc>
          </s>
          <s>
            <w>É</w>
            <w>relativamente</w>
            <w>fácil</w>
            <w>criar</w>
            <w>uma</w>
            <w>aplicação</w>
            <w>que</w>
            <w>permitirá</w>
            <w>que</w>
            <w>um</w>
            <w>usuário</w>
            <w>faça</w>
            <w>sua</w>
            <w>própria</w>
            <w>análise</w>
            <w>de</w>
            <w>dados</w>
            <w>com</w>
            <w>R,</w>
            <w>sem</w>
            <w>precisar</w>
            <w>codificar</w>
            <w>ou</w>
            <w>usar</w>
            <w>a</w>
            <w>linha</w>
            <w>de</w>
            <w>comandos</w>
            <pc>.</pc>
          </s>
        </p>
      </div>
      <div type="2" n="9">
        <head>
          <s>
            <w>Código</w>
            <w>final</w>
          </s>
        </head>
        <ab>
          <code xml:id="code_aplicacao-web-interativa-r-shiny-leaflet_13" corresp="code_aplicacao-web-interativa-r-shiny-leaflet_13.txt" rend="block"/>
        </ab>
      </div>
      <div type="2" n="10">
        <head>
          <s>
            <w>Notas</w>
            <w>de</w>
            <w>fim</w>
          </s>
        </head>
        <p>
          <s>
            <ref type="footnotemark" target="#pt_note_1"/>
            <w>:</w>
            <w>Yann</w>
            <w>Ryan</w>
            <w>and</w>
            <w>Luke</w>
            <w>McKernan,</w>
            <w>"Converting</w>
            <w>the</w>
            <w>British</w>
            <w>Library's</w>
            <w>Catalogue</w>
            <w>of</w>
            <w>British</w>
            <w>and</w>
            <w>Irish</w>
            <w>Newspapers</w>
            <w>into</w>
            <w>a</w>
            <w>Public</w>
            <w>Domain</w>
            <w>Dataset:</w>
            <w>Processes</w>
            <w>and</w>
            <w>Applications,"</w>
            <w>Journal</w>
            <w>of</w>
            <w>Open</w>
            <w>Humanities</w>
            <w>Data</w>
            <w>7,</w>
            <w>no</w>
            <pc>.</pc>
          </s>
          <s>
            <w>0</w>
            <w>(January</w>
            <w>22,</w>
            <w>2021):</w>
            <w>1,</w>
            <ref target="https://doi.org/10.5334/johd.23">https://doi.org/10.5334/johd.23</ref>
            <pc>.</pc>
          </s>
        </p>
        <p>
          <s>
            <ref type="footnotemark" target="#pt_note_2"/>
            <w>:</w>
            <w>Depósito</w>
            <w>Legal</w>
            <w>era</w>
            <w>um</w>
            <w>mecanismo</w>
            <w>pelo</w>
            <w>qual</w>
            <w>os</w>
            <w>editores</w>
            <w>eram</w>
            <w>obrigados</w>
            <w>a</w>
            <w>dar</w>
            <w>ao</w>
            <w>British</w>
            <w>Museum</w>
            <w>(e,</w>
            <w>posteriormente,</w>
            <w>à</w>
            <w>British</w>
            <w>Library)</w>
            <w>uma</w>
            <w>cópia</w>
            <w>de</w>
            <w>qualquer</w>
            <w>livro</w>
            <w>produzido,</w>
            <w>incluindo</w>
            <w>jornais</w>
            <pc>.</pc>
          </s>
        </p>
        <p>
          <s>
            <ref type="footnotemark" target="#pt_note_3"/>
            <w>:</w>
            <w>O</w>
            <w>objeto</w>
            <w>servidor</w>
            <w>é,</w>
            <w>na</w>
            <w>verdade,</w>
            <w>uma</w>
            <w>lista</w>
            <w>R</w>
            <w>com</w>
            <w>todos</w>
            <w>os</w>
            <emph>
              <w>inputs</w>
            </emph>
            <w>armazenados</w>
            <w>no</w>
            <w>primeiro</w>
            <w>elemento,</w>
            <w>chamado</w>
            <emph>
              <w>input</w>
            </emph>
            <w>,</w>
            <w>e</w>
            <w>todos</w>
            <w>os</w>
            <w>resultados</w>
            <w>armazenados</w>
            <w>no</w>
            <w>segundo</w>
            <w>elemento,</w>
            <w>chamado</w>
            <emph>
              <w>output</w>
            </emph>
            <pc>.</pc>
          </s>
        </p>
        <p>
          <s>
            <ref type="footnotemark" target="#pt_note_4"/>
            <w>:</w>
            <w>Como</w>
            <w>existem</w>
            <w>várias</w>
            <w>maneiras</w>
            <w>de</w>
            <w>transformar</w>
            <w>um</w>
            <w>globo</w>
            <w>numa</w>
            <w>representação</w>
            <w>2D,</w>
            <w>a</w>
            <w>exibição</w>
            <w>correta</w>
            <w>de</w>
            <w>dados</w>
            <w>geográficos</w>
            <w>requer</w>
            <w>a</w>
            <w>configuração</w>
            <w>de</w>
            <w>um</w>
            <w>sistema</w>
            <w>de</w>
            <w>referência</w>
            <w>de</w>
            <w>coordenadas</w>
            <pc>.</pc>
          </s>
          <s>
            <w>4326</w>
            <w>é</w>
            <w>comumente</w>
            <w>usado</w>
            <w>para</w>
            <w>dados</w>
            <w>geográficos</w>
            <w>mundiais</w>
            <pc>.</pc>
          </s>
        </p>
      </div>
    </body>
  </text>
</TEI>
