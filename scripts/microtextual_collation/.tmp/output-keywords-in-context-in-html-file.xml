<TEI xmlns:tei="http://www.tei-c.org/ns/1.0" xmlns="http://www.tei-c.org/ns/1.0" xml:id="output-keywords-in-context-in-html-file">
  <teiHeader xmlns:xi="http://www.w3.org/2001/XInclude">
    <fileDesc>
      <titleStmt>
        <title>Output Keywords in Context in an HTML File with Python</title>
        <author role="original_author">
          <persName>William J. Turkel</persName>
          <persName>Adam Crymble</persName>
        </author>
        <editor role="reviewers">
          <persName>Jim Clifford</persName>
          <persName>Frederik Elwert</persName>
        </editor>
        <editor role="editors">Miriam Posner</editor>
      </titleStmt>
      <publicationStmt>
        <distributor>Programming Historian</distributor>
        <idno type="doi">10.46430/phen0016</idno>
        <date type="published">07/17/2012</date>
      </publicationStmt>
      <sourceDesc>
        <p>Born digital, in a markdown format. This lesson is original. Available translations are the following:<ref type="translations" target="#salida-palabras-clave-contexto-ngrams"/></p>
      </sourceDesc>
    </fileDesc>
    <profileDesc>
      <abstract>
        <p>This lesson builds on 'Keywords in Context (Using N-grams)', where n-grams were extracted from a text. Here, you will learn how to output all of the n-grams of a given keyword in a document downloaded from the Internet, and display them clearly in your browser window.</p>
      </abstract>
      <textClass>
        <keywords>
          <term xml:lang="en">python</term>
        </keywords>
      </textClass>
    </profileDesc>
  </teiHeader>
  <text xmlns:xi="http://www.w3.org/2001/XInclude" xml:lang="en">
    <body>
      <div type="2" n="1">
        <head>
          <s>
            <w>Lesson</w>
            <w>Goals</w>
          </s>
        </head>
        <p>
          <s>
            <w>This</w>
            <w>lesson</w>
            <w>builds</w>
            <w>on</w>
            <ref target="/lessons/keywords-in-context-using-n-grams">
              <w>Keywords</w>
              <w>in</w>
              <w>Context</w>
              <w>(Using</w>
              <w>N-grams)</w>
            </ref>
            <w>,</w>
            <w>where</w>
            <w>n-grams</w>
            <w>were</w>
            <w>extracted</w>
            <w>from</w>
            <w>a</w>
            <w>text</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Here,</w>
            <w>you</w>
            <w>will</w>
            <w>learn</w>
            <w>how</w>
            <w>to</w>
            <w>output</w>
            <w>all</w>
            <w>of</w>
            <w>the</w>
            <w>n-grams</w>
            <w>of</w>
            <w>a</w>
            <w>given</w>
            <w>keyword</w>
            <w>in</w>
            <w>a</w>
            <w>document</w>
            <w>downloaded</w>
            <w>from</w>
            <w>the</w>
            <w>Internet,</w>
            <w>and</w>
            <w>display</w>
            <w>them</w>
            <w>clearly</w>
            <w>in</w>
            <w>your</w>
            <w>browser</w>
            <w>window</w>
            <pc>.</pc>
          </s>
        </p>
      </div>
      <div type="2" n="2">
        <head>
          <s>
            <w>Files</w>
            <w>Needed</w>
            <w>For</w>
            <w>This</w>
            <w>Lesson</w>
          </s>
        </head>
        <list type="unordered">
          <item>
            <code rend="inline">obo.py</code>
          </item>
        </list>
        <p>
          <s>
            <w>If</w>
            <w>you</w>
            <w>do</w>
            <w>not</w>
            <w>have</w>
            <w>these</w>
            <w>files</w>
            <w>from</w>
            <w>the</w>
            <w>previous</w>
            <w>lesson,</w>
            <w>you</w>
            <w>can</w>
            <w>download</w>
            <w>a</w>
            <ref target="/assets/python-lessons8.zip">
              <w>zip</w>
              <w>file</w>
              <w>from</w>
              <w>the</w>
              <w>previous</w>
              <w>lesson</w>
            </ref>
          </s>
        </p>
      </div>
      <div type="2" n="3">
        <head>
          <s>
            <w>Making</w>
            <w>an</w>
            <w>N-Gram</w>
            <w>Dictionary</w>
          </s>
        </head>
        <p>
          <s>
            <w>Our</w>
            <w>n-grams</w>
            <w>have</w>
            <w>an</w>
            <w>odd</w>
            <w>number</w>
            <w>of</w>
            <w>words</w>
            <w>in</w>
            <w>them</w>
            <w>for</w>
            <w>a</w>
            <w>reason</w>
            <pc>.</pc>
          </s>
          <s>
            <w>At</w>
            <w>this</w>
            <w>point,</w>
            <w>our</w>
            <w>n-grams</w>
            <w>don"t</w>
            <w>actually</w>
            <w>have</w>
            <w>a</w>
            <w>keyword;</w>
            <w>they're</w>
            <w>just</w>
            <w>a</w>
            <w>list</w>
            <w>of</w>
            <w>words</w>
            <pc>.</pc>
          </s>
          <s>
            <w>However,</w>
            <w>if</w>
            <w>we</w>
            <w>have</w>
            <w>an</w>
            <w>odd</w>
            <w>numbered</w>
            <w>n-gram</w>
            <w>the</w>
            <w>middle</w>
            <w>word</w>
            <w>will</w>
            <w>always</w>
            <w>have</w>
            <w>an</w>
            <w>equal</w>
            <w>number</w>
            <w>of</w>
            <w>words</w>
            <w>to</w>
            <w>the</w>
            <w>left</w>
            <w>and</w>
            <w>to</w>
            <w>the</w>
            <w>right</w>
            <pc>.</pc>
          </s>
          <s>
            <w>We</w>
            <w>can</w>
            <w>then</w>
            <w>use</w>
            <w>that</w>
            <w>middle</w>
            <w>word</w>
            <w>as</w>
            <w>our</w>
            <w>keyword</w>
            <pc>.</pc>
          </s>
          <s>
            <w>For</w>
            <w>instance,</w>
            <w>["it",</w>
            <w>"was",</w>
            <w>"the",</w>
            <w>"best",</w>
            <w>"of",</w>
            <w>"times",</w>
            <w>"it"]</w>
            <w>is</w>
            <w>a</w>
            <w>7-gram</w>
            <w>of</w>
            <w>the</w>
            <w>keyword</w>
            <w>"best"</w>
            <pc>.</pc>
          </s>
        </p>
        <p>
          <s>
            <w>Since</w>
            <w>we</w>
            <w>have</w>
            <w>a</w>
            <w>long</w>
            <w>text,</w>
            <w>we</w>
            <w>want</w>
            <w>to</w>
            <w>be</w>
            <w>able</w>
            <w>to</w>
            <w>output</w>
            <w>all</w>
            <w>n-grams</w>
            <w>for</w>
            <w>our</w>
            <w>keyword</w>
            <pc>.</pc>
          </s>
          <s>
            <w>To</w>
            <w>do</w>
            <w>this</w>
            <w>we</w>
            <w>will</w>
            <w>put</w>
            <w>each</w>
            <w>n-gram</w>
            <w>into</w>
            <w>a</w>
            <emph>
              <w>dictionary</w>
            </emph>
            <w>,</w>
            <w>using</w>
            <w>the</w>
            <w>middle</w>
            <w>word</w>
            <w>as</w>
            <w>the</w>
            <emph>
              <w>key</w>
            </emph>
            <pc>.</pc>
          </s>
          <s>
            <w>To</w>
            <w>figure</w>
            <w>out</w>
            <w>the</w>
            <w>keyword</w>
            <w>for</w>
            <w>each</w>
            <w>n-gram</w>
            <w>we</w>
            <w>can</w>
            <w>use</w>
            <w>the</w>
            <emph>
              <w>index</w>
              <w>positions</w>
            </emph>
            <w>of</w>
            <w>the</w>
            <w>list</w>
            <pc>.</pc>
          </s>
          <s>
            <w>If</w>
            <w>we</w>
            <w>are</w>
            <w>working</w>
            <w>with</w>
            <w>5-grams,</w>
            <w>for</w>
            <w>example,</w>
            <w>the</w>
            <w>left</w>
            <w>context</w>
            <w>will</w>
            <w>consist</w>
            <w>of</w>
            <w>terms</w>
            <w>indexed</w>
            <w>by</w>
            <w>0,</w>
            <w>1,</w>
            <w>the</w>
            <w>keyword</w>
            <w>will</w>
            <w>be</w>
            <w>indexed</w>
            <w>by</w>
            <w>2,</w>
            <w>and</w>
            <w>the</w>
            <w>right</w>
            <w>context</w>
            <w>terms</w>
            <w>indexed</w>
            <w>by</w>
            <w>3,</w>
            <w>4</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Since</w>
            <w>Python</w>
            <w>indexes</w>
            <w>start</w>
            <w>at</w>
            <w>0,</w>
            <w>a</w>
            <w>5-gram's</w>
            <w>keyword</w>
            <w>will</w>
            <w>always</w>
            <w>be</w>
            <w>at</w>
            <w>index</w>
            <w>position</w>
            <w>2</w>
            <pc>.</pc>
          </s>
        </p>
        <p>
          <s>
            <w>That's</w>
            <w>fine</w>
            <w>for</w>
            <w>5-grams,</w>
            <w>but</w>
            <w>to</w>
            <w>make</w>
            <w>the</w>
            <w>code</w>
            <w>a</w>
            <w>bit</w>
            <w>more</w>
            <w>robust,</w>
            <w>we</w>
            <w>want</w>
            <w>to</w>
            <w>make</w>
            <w>sure</w>
            <w>it</w>
            <w>will</w>
            <w>work</w>
            <w>for</w>
            <w>any</w>
            <w>length</w>
            <w>n-gram,</w>
            <w>assuming</w>
            <w>its</w>
            <w>length</w>
            <w>is</w>
            <w>an</w>
            <w>odd</w>
            <w>number</w>
            <pc>.</pc>
          </s>
          <s>
            <w>To</w>
            <w>do</w>
            <w>this</w>
            <w>we'll</w>
            <w>take</w>
            <w>the</w>
            <w>length</w>
            <w>of</w>
            <w>the</w>
            <w>n-gram,</w>
            <w>divide</w>
            <w>it</w>
            <w>by</w>
            <w>2</w>
            <w>and</w>
            <w>drop</w>
            <w>the</w>
            <w>remainder</w>
            <pc>.</pc>
          </s>
          <s>
            <w>We</w>
            <w>can</w>
            <w>achieve</w>
            <w>this</w>
            <w>using</w>
            <w>Python's</w>
            <code rend="inline">floor division</code>
            <w>operator,</w>
            <w>represented</w>
            <w>by</w>
            <w>two</w>
            <w>slashes,</w>
            <w>which</w>
            <w>divides</w>
            <w>and</w>
            <w>then</w>
            <w>returns</w>
            <w>an</w>
            <w>answer</w>
            <w>to</w>
            <w>the</w>
            <w>nearest</w>
            <w>whole</w>
            <w>number,</w>
            <w>always</w>
            <w>rounding</w>
            <w>down</w>
            <w>–</w>
            <w>hence</w>
            <w>the</w>
            <w>term</w>
            <w>"floor"</w>
            <pc>.</pc>
          </s>
        </p>
        <ab>
          <code lang="language-python" xml:id="code_output-keywords-in-context-in-html-file_0" corresp="code_output-keywords-in-context-in-html-file_0.txt" rend="block"/>
        </ab>
        <p>
          <s>
            <w>Let's</w>
            <w>build</w>
            <w>a</w>
            <w>function</w>
            <w>that</w>
            <w>can</w>
            <w>identify</w>
            <w>the</w>
            <w>index</w>
            <w>position</w>
            <w>of</w>
            <w>the</w>
            <w>keyword</w>
            <w>when</w>
            <w>given</w>
            <w>an</w>
            <w>n-gram</w>
            <w>with</w>
            <w>an</w>
            <w>odd</w>
            <w>number</w>
            <w>of</w>
            <w>words</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Save</w>
            <w>the</w>
            <w>following</w>
            <w>to</w>
            <code rend="inline">obo.py</code>
            <pc>.</pc>
          </s>
        </p>
        <ab>
          <code lang="language-python" xml:id="code_output-keywords-in-context-in-html-file_1" corresp="code_output-keywords-in-context-in-html-file_1.txt" rend="block"/>
        </ab>
        <p>
          <s>
            <w>To</w>
            <w>determine</w>
            <w>the</w>
            <w>index</w>
            <w>of</w>
            <w>the</w>
            <w>keyword,</w>
            <w>we</w>
            <w>have</w>
            <w>used</w>
            <w>the</w>
            <w>property</w>
            <w>to</w>
            <w>tell</w>
            <w>us</w>
            <w>how</w>
            <w>many</w>
            <w>items</w>
            <w>are</w>
            <w>in</w>
            <w>the</w>
            <w>first</w>
            <w>n-gram,</w>
            <w>then</w>
            <w>used</w>
            <w>floor</w>
            <w>division</w>
            <w>to</w>
            <w>isolate</w>
            <w>the</w>
            <w>middle</w>
            <w>index</w>
            <w>position</w>
            <pc>.</pc>
          </s>
          <code rend="inline">len</code>
          <s>
            <w>You</w>
            <w>can</w>
            <w>see</w>
            <w>if</w>
            <w>this</w>
            <w>worked</w>
            <w>by</w>
            <w>creating</w>
            <w>a</w>
            <w>new</w>
            <w>program,</w>
            <code rend="inline">get-keyword.py</code>
            <w>and</w>
            <w>running</w>
            <w>it</w>
            <pc>.</pc>
          </s>
          <s>
            <w>If</w>
            <w>all</w>
            <w>goes</w>
            <w>well,</w>
            <w>since</w>
            <w>we</w>
            <w>are</w>
            <w>dealing</w>
            <w>with</w>
            <w>a</w>
            <w>5-gram,</w>
            <w>you</w>
            <w>should</w>
            <w>get</w>
            <w>2</w>
            <w>as</w>
            <w>the</w>
            <w>index</w>
            <w>position</w>
            <w>of</w>
            <w>the</w>
            <w>keyword</w>
            <w>as</w>
            <w>we</w>
            <w>determined</w>
            <w>above</w>
            <pc>.</pc>
          </s>
        </p>
        <ab>
          <code lang="language-python" xml:id="code_output-keywords-in-context-in-html-file_2" corresp="code_output-keywords-in-context-in-html-file_2.txt" rend="block"/>
        </ab>
        <p>
          <s>
            <w>Now</w>
            <w>that</w>
            <w>we</w>
            <w>know</w>
            <w>the</w>
            <w>location</w>
            <w>of</w>
            <w>the</w>
            <w>keywords,</w>
            <w>let's</w>
            <w>add</w>
            <w>everything</w>
            <w>to</w>
            <w>a</w>
            <w>dictionary</w>
            <w>that</w>
            <w>can</w>
            <w>be</w>
            <w>used</w>
            <w>to</w>
            <w>output</w>
            <w>all</w>
            <w>KWIC</w>
            <w>n-grams</w>
            <w>of</w>
            <w>a</w>
            <w>particular</w>
            <w>keyword</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Study</w>
            <w>this</w>
            <w>code</w>
            <w>and</w>
            <w>then</w>
            <w>replace</w>
            <w>your</w>
            <code rend="inline">nGramsToKWICDict</code>
            <w>with</w>
            <w>the</w>
            <w>following</w>
            <w>in</w>
            <w>your</w>
            <code rend="inline">obo.py</code>
            <w>module</w>
            <pc>.</pc>
          </s>
        </p>
        <ab>
          <code lang="language-python" xml:id="code_output-keywords-in-context-in-html-file_3" corresp="code_output-keywords-in-context-in-html-file_3.txt" rend="block"/>
        </ab>
        <p>
          <s>
            <w>A</w>
            <w>loop</w>
            <w>and</w>
            <w>statement</w>
            <w>checks</w>
            <w>each</w>
            <w>n-gram</w>
            <w>to</w>
            <w>see</w>
            <w>if</w>
            <w>its</w>
            <w>keyword</w>
            <w>is</w>
            <w>already</w>
            <w>stored</w>
            <w>in</w>
            <w>the</w>
            <w>dictionary</w>
            <pc>.</pc>
          </s>
          <code rend="inline">for</code>
          <code rend="inline">if</code>
          <s>
            <w>If</w>
            <w>it</w>
            <w>isn't,</w>
            <w>it's</w>
            <w>added</w>
            <w>as</w>
            <w>a</w>
            <w>new</w>
            <w>entry</w>
            <pc>.</pc>
          </s>
          <s>
            <w>If</w>
            <w>it</w>
            <w>is,</w>
            <w>it's</w>
            <w>appended</w>
            <w>to</w>
            <w>the</w>
            <w>previous</w>
            <w>entry</w>
            <pc>.</pc>
          </s>
          <s>
            <w>We</w>
            <w>now</w>
            <w>have</w>
            <w>a</w>
            <w>dictionary</w>
            <w>named</w>
            <emph>
              <w>kwicdict</w>
            </emph>
            <w>that</w>
            <w>contains</w>
            <w>all</w>
            <w>the</w>
            <w>n-grams,</w>
            <w>sortable</w>
            <w>by</w>
            <w>keyword</w>
            <w>and</w>
            <w>we</w>
            <w>can</w>
            <w>turn</w>
            <w>to</w>
            <w>the</w>
            <w>task</w>
            <w>of</w>
            <w>outputting</w>
            <w>the</w>
            <w>information</w>
            <w>in</w>
            <w>a</w>
            <w>more</w>
            <w>useful</w>
            <w>format</w>
            <w>as</w>
            <w>we</w>
            <w>did</w>
            <w>in</w>
            <ref target="/lessons/output-data-as-html-file">
              <w>Output</w>
              <w>Data</w>
              <w>as</w>
              <w>HTML</w>
              <w>File</w>
            </ref>
            <pc>.</pc>
          </s>
        </p>
        <p>
          <s>
            <w>Try</w>
            <w>rerunning</w>
            <w>the</w>
            <code rend="inline">get-keyword.py</code>
            <w>program</w>
            <w>and</w>
            <w>you</w>
            <w>should</w>
            <w>now</w>
            <w>see</w>
            <w>what's</w>
            <w>in</w>
            <w>your</w>
            <w>KWIC</w>
            <w>dictionary</w>
            <pc>.</pc>
          </s>
        </p>
      </div>
      <div type="2" n="4">
        <head>
          <s>
            <w>Outputting</w>
            <w>to</w>
            <w>HTML</w>
          </s>
        </head>
        <div type="3" n="4.1">
          <head>
            <s>
              <w>Pretty</w>
              <w>Printing</w>
              <w>a</w>
              <w>KWIC</w>
            </s>
          </head>
          <p>
            <s>
              <w>"Pretty</w>
              <w>printing"</w>
              <w>is</w>
              <w>the</w>
              <w>process</w>
              <w>of</w>
              <w>formatting</w>
              <w>output</w>
              <w>so</w>
              <w>that</w>
              <w>it</w>
              <w>can</w>
              <w>be</w>
              <w>easily</w>
              <w>read</w>
              <w>by</w>
              <w>human</w>
              <w>beings</w>
              <pc>.</pc>
            </s>
            <s>
              <w>In</w>
              <w>the</w>
              <w>case</w>
              <w>of</w>
              <w>our</w>
              <w>keywords</w>
              <w>in</w>
              <w>context,</w>
              <w>we</w>
              <w>want</w>
              <w>to</w>
              <w>have</w>
              <w>the</w>
              <w>keywords</w>
              <w>lined</w>
              <w>up</w>
              <w>in</w>
              <w>a</w>
              <w>column,</w>
              <w>with</w>
              <w>the</w>
              <w>terms</w>
              <w>in</w>
              <w>the</w>
              <w>left-hand</w>
              <w>context</w>
              <w>right</w>
              <w>justified,</w>
              <w>and</w>
              <w>the</w>
              <w>terms</w>
              <w>in</w>
              <w>the</w>
              <w>right-hand</w>
              <w>context</w>
              <w>left</w>
              <w>justified</w>
              <pc>.</pc>
            </s>
            <s>
              <w>In</w>
              <w>other</w>
              <w>words,</w>
              <w>we</w>
              <w>want</w>
              <w>our</w>
              <w>KWIC</w>
              <w>display</w>
              <w>to</w>
              <w>look</w>
              <w>something</w>
              <w>like</w>
              <w>this:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_output-keywords-in-context-in-html-file_4" corresp="code_output-keywords-in-context-in-html-file_4.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>This</w>
              <w>technique</w>
              <w>is</w>
              <w>not</w>
              <w>the</w>
              <w>best</w>
              <w>way</w>
              <w>to</w>
              <w>format</w>
              <w>text</w>
              <w>from</w>
              <w>a</w>
              <w>web</w>
              <w>designer's</w>
              <w>perspective</w>
              <pc>.</pc>
            </s>
            <s>
              <w>If</w>
              <w>you</w>
              <w>have</w>
              <w>some</w>
              <w>experience</w>
              <w>with</w>
              <w>HTML</w>
              <w>we</w>
              <w>encourage</w>
              <w>you</w>
              <w>to</w>
              <w>use</w>
              <w>another</w>
              <w>method</w>
              <w>that</w>
              <w>will</w>
              <w>create</w>
              <w>a</w>
              <w>standards</w>
              <w>compliant</w>
              <w>HTML</w>
              <w>file,</w>
              <w>but</w>
              <w>for</w>
              <w>new</w>
              <w>learners,</w>
              <w>we</w>
              <w>just</w>
              <w>can't</w>
              <w>resist</w>
              <w>the</w>
              <w>ease</w>
              <w>of</w>
              <w>the</w>
              <w>technique</w>
              <w>we're</w>
              <w>about</w>
              <w>to</w>
              <w>describe</w>
              <pc>.</pc>
            </s>
            <s>
              <w>After</w>
              <w>all,</w>
              <w>the</w>
              <w>point</w>
              <w>is</w>
              <w>to</w>
              <w>integrate</w>
              <w>programming</w>
              <w>principles</w>
              <w>quickly</w>
              <w>into</w>
              <w>your</w>
              <w>research</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>To</w>
              <w>get</w>
              <w>this</w>
              <w>effect,</w>
              <w>we</w>
              <w>are</w>
              <w>going</w>
              <w>to</w>
              <w>need</w>
              <w>to</w>
              <w>do</w>
              <w>a</w>
              <w>number</w>
              <w>of</w>
              <w>list</w>
              <w>and</w>
              <w>string</w>
              <w>manipulations</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Let's</w>
              <w>start</w>
              <w>by</w>
              <w>figuring</w>
              <w>out</w>
              <w>what</w>
              <w>our</w>
              <w>dictionary</w>
              <w>output</w>
              <w>will</w>
              <w>look</w>
              <w>like</w>
              <w>as</w>
              <w>it</w>
              <w>currently</w>
              <w>stands</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Then</w>
              <w>we</w>
              <w>can</w>
              <w>work</w>
              <w>on</w>
              <w>refining</w>
              <w>it</w>
              <w>into</w>
              <w>what</w>
              <w>we</w>
              <w>want</w>
              <pc>.</pc>
            </s>
          </p>
          <ab>
            <code lang="language-python" xml:id="code_output-keywords-in-context-in-html-file_5" corresp="code_output-keywords-in-context-in-html-file_5.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>As</w>
              <w>you</w>
              <w>can</w>
              <w>see</w>
              <w>when</w>
              <w>you</w>
              <w>run</w>
              <w>the</w>
              <w>above</w>
              <w>program,</w>
              <w>the</w>
              <w>output</w>
              <w>is</w>
              <w>not</w>
              <w>very</w>
              <w>readable</w>
              <w>yet</w>
              <pc>.</pc>
            </s>
            <s>
              <w>What</w>
              <w>we</w>
              <w>need</w>
              <w>to</w>
              <w>do</w>
              <w>is</w>
              <w>split</w>
              <w>the</w>
              <w>n-gram</w>
              <w>into</w>
              <w>three</w>
              <w>parts:</w>
              <w>before</w>
              <w>the</w>
              <w>keyword,</w>
              <w>the</w>
              <w>keyword,</w>
              <w>and</w>
              <w>after</w>
              <w>the</w>
              <w>keyword</w>
              <pc>.</pc>
            </s>
            <s>
              <w>We</w>
              <w>can</w>
              <w>then</w>
              <w>use</w>
              <w>the</w>
              <w>techniques</w>
              <w>learned</w>
              <w>in</w>
              <w>the</w>
              <w>previous</w>
              <w>chapters</w>
              <w>to</w>
              <w>wrap</w>
              <w>everything</w>
              <w>in</w>
              <w>HTML</w>
              <w>so</w>
              <w>that</w>
              <w>it</w>
              <w>is</w>
              <w>easy</w>
              <w>to</w>
              <w>read</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Using</w>
              <w>the</w>
              <w>same</w>
              <w>method</w>
              <w>as</w>
              <w>above,</w>
              <w>we</w>
              <w>will</w>
              <w>create</w>
              <w>our</w>
              <w>three</w>
              <w>parts</w>
              <pc>.</pc>
            </s>
            <code rend="inline">slice</code>
            <s>
              <w>Open</w>
              <w>a</w>
              <w>Python</w>
              <w>shell</w>
              <w>and</w>
              <w>try</w>
              <w>the</w>
              <w>following</w>
              <w>examples</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Pay</w>
              <w>close</w>
              <w>attention</w>
              <w>to</w>
              <w>what</w>
              <w>appears</w>
              <w>before</w>
              <w>and</w>
              <w>after</w>
              <w>the</w>
              <w>colon</w>
              <w>in</w>
              <w>each</w>
              <w>case</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Knowing</w>
              <w>how</w>
              <w>to</w>
              <w>manipulate</w>
              <w>the</w>
              <w>slice</w>
              <w>method</w>
              <w>is</w>
              <w>a</w>
              <w>powerful</w>
              <w>skill</w>
              <w>for</w>
              <w>a</w>
              <w>new</w>
              <w>programming</w>
              <w>historian</w>
              <pc>.</pc>
            </s>
          </p>
          <ab>
            <code lang="language-python" xml:id="code_output-keywords-in-context-in-html-file_6" corresp="code_output-keywords-in-context-in-html-file_6.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>Now</w>
              <w>that</w>
              <w>we</w>
              <w>know</w>
              <w>how</w>
              <w>to</w>
              <w>find</w>
              <w>each</w>
              <w>of</w>
              <w>the</w>
              <w>three</w>
              <w>segments,</w>
              <w>we</w>
              <w>need</w>
              <w>to</w>
              <w>format</w>
              <w>each</w>
              <w>to</w>
              <w>one</w>
              <w>of</w>
              <w>three</w>
              <w>columns</w>
              <w>in</w>
              <w>our</w>
              <w>display</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>The</w>
              <w>right-hand</w>
              <w>context</w>
              <w>is</w>
              <w>simply</w>
              <w>going</w>
              <w>to</w>
              <w>consist</w>
              <w>of</w>
              <w>a</w>
              <w>string</w>
              <w>of</w>
              <w>terms</w>
              <w>separated</w>
              <w>by</w>
              <w>blank</w>
              <w>spaces</w>
              <pc>.</pc>
            </s>
            <s>
              <w>We’ll</w>
              <w>use</w>
              <w>the</w>
              <code rend="inline">join</code>
              <w>method</w>
              <w>to</w>
              <w>turn</w>
              <w>the</w>
              <w>list</w>
              <w>entries</w>
              <w>into</w>
              <w>a</w>
              <w>string</w>
              <pc>.</pc>
            </s>
          </p>
          <ab>
            <code lang="language-python" xml:id="code_output-keywords-in-context-in-html-file_7" corresp="code_output-keywords-in-context-in-html-file_7.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>We</w>
              <w>want</w>
              <w>the</w>
              <w>keywords</w>
              <w>to</w>
              <w>have</w>
              <w>a</w>
              <w>bit</w>
              <w>of</w>
              <emph>
                <w>whitespace</w>
              </emph>
              <w>padding</w>
              <w>around</w>
              <w>them</w>
              <pc>.</pc>
            </s>
            <s>
              <w>We</w>
              <w>can</w>
              <w>achieve</w>
              <w>this</w>
              <w>by</w>
              <w>using</w>
              <w>a</w>
              <w>string</w>
              <w>method</w>
              <w>called</w>
              <code rend="inline">center</code>
              <w>,</w>
              <w>which</w>
              <w>will</w>
              <w>align</w>
              <w>the</w>
              <w>text</w>
              <w>to</w>
              <w>the</w>
              <w>middle</w>
              <w>of</w>
              <w>the</w>
              <w>screen</w>
              <pc>.</pc>
            </s>
            <s>
              <w>We</w>
              <w>can</w>
              <w>add</w>
              <w>padding</w>
              <w>by</w>
              <w>making</w>
              <w>the</w>
              <w>overall</w>
              <w>string</w>
              <w>be</w>
              <w>longer</w>
              <w>than</w>
              <w>the</w>
              <w>keyword</w>
              <w>itself</w>
              <pc>.</pc>
            </s>
            <s>
              <w>The</w>
              <w>expression</w>
              <w>below</w>
              <w>adds</w>
              <w>three</w>
              <w>blank</w>
              <w>spaces</w>
              <w>(6/2)</w>
              <w>to</w>
              <w>either</w>
              <w>side</w>
              <w>of</w>
              <w>the</w>
              <w>keyword</w>
              <pc>.</pc>
            </s>
            <s>
              <w>We've</w>
              <w>added</w>
              <w>hash</w>
              <w>marks</w>
              <w>at</w>
              <w>the</w>
              <w>beginning</w>
              <w>and</w>
              <w>end</w>
              <w>of</w>
              <w>the</w>
              <w>expression</w>
              <w>so</w>
              <w>you</w>
              <w>can</w>
              <w>see</w>
              <w>the</w>
              <w>leading</w>
              <w>and</w>
              <w>trailing</w>
              <w>blanks</w>
              <pc>.</pc>
            </s>
          </p>
          <ab>
            <code lang="language-python" xml:id="code_output-keywords-in-context-in-html-file_8" corresp="code_output-keywords-in-context-in-html-file_8.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>Finally,</w>
              <w>we</w>
              <w>want</w>
              <w>the</w>
              <w>left-hand</w>
              <w>context</w>
              <w>to</w>
              <w>be</w>
              <w>right</w>
              <w>justified</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Depending</w>
              <w>on</w>
              <w>how</w>
              <w>large</w>
              <emph>
                <w>n</w>
              </emph>
              <w>is,</w>
              <w>we</w>
              <w>are</w>
              <w>going</w>
              <w>to</w>
              <w>need</w>
              <w>the</w>
              <w>overall</w>
              <w>length</w>
              <w>of</w>
              <w>this</w>
              <w>column</w>
              <w>to</w>
              <w>increase</w>
              <pc>.</pc>
            </s>
            <s>
              <w>We</w>
              <w>do</w>
              <w>this</w>
              <w>by</w>
              <w>defining</w>
              <w>a</w>
              <w>variable</w>
              <w>called</w>
              <emph>
                <w>width</w>
              </emph>
              <w>and</w>
              <w>then</w>
              <w>making</w>
              <w>the</w>
              <w>column</w>
              <w>length</w>
              <w>a</w>
              <w>multiple</w>
              <w>of</w>
              <w>this</w>
              <w>variable</w>
              <w>(we</w>
              <w>used</w>
              <w>a</w>
              <w>width</w>
              <w>of</w>
              <w>10</w>
              <w>characters,</w>
              <w>but</w>
              <w>you</w>
              <w>can</w>
              <w>make</w>
              <w>it</w>
              <w>larger</w>
              <w>or</w>
              <w>smaller</w>
              <w>as</w>
              <w>desired)</w>
              <pc>.</pc>
            </s>
            <s>
              <w>The</w>
              <code rend="inline">rjust</code>
              <w>method</w>
              <w>handles</w>
              <w>right</w>
              <w>justification</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Once</w>
              <w>again,</w>
              <w>we've</w>
              <w>added</w>
              <w>hash</w>
              <w>marks</w>
              <w>so</w>
              <w>you</w>
              <w>can</w>
              <w>see</w>
              <w>the</w>
              <w>leading</w>
              <w>blanks</w>
              <pc>.</pc>
            </s>
          </p>
          <ab>
            <code lang="language-python" xml:id="code_output-keywords-in-context-in-html-file_9" corresp="code_output-keywords-in-context-in-html-file_9.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>We</w>
              <w>can</w>
              <w>now</w>
              <w>combine</w>
              <w>these</w>
              <w>into</w>
              <w>a</w>
              <w>function</w>
              <w>that</w>
              <w>takes</w>
              <w>a</w>
              <w>KWIC</w>
              <w>and</w>
              <w>returns</w>
              <w>a</w>
              <w>pretty-printed</w>
              <w>string</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Add</w>
              <w>this</w>
              <w>to</w>
              <w>the</w>
              <code rend="inline">obo.py</code>
              <w>module</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Study</w>
              <w>the</w>
              <w>code</w>
              <w>to</w>
              <w>make</w>
              <w>sure</w>
              <w>you</w>
              <w>understand</w>
              <w>it</w>
              <w>before</w>
              <w>moving</w>
              <w>on</w>
              <pc>.</pc>
            </s>
          </p>
          <ab>
            <code lang="language-python" xml:id="code_output-keywords-in-context-in-html-file_10" corresp="code_output-keywords-in-context-in-html-file_10.txt" rend="block"/>
          </ab>
        </div>
      </div>
      <div type="2" n="5">
        <head>
          <s>
            <w>Putting</w>
            <w>it</w>
            <w>All</w>
            <w>Together</w>
          </s>
        </head>
        <p>
          <s>
            <w>We</w>
            <w>can</w>
            <w>now</w>
            <w>create</w>
            <w>a</w>
            <w>program</w>
            <w>that,</w>
            <w>given</w>
            <w>a</w>
            <w>URL</w>
            <w>and</w>
            <w>a</w>
            <w>keyword,</w>
            <w>wraps</w>
            <w>a</w>
            <w>KWIC</w>
            <w>display</w>
            <w>in</w>
            <w>HTML</w>
            <w>and</w>
            <w>outputs</w>
            <w>it</w>
            <w>in</w>
            <w>Firefox</w>
            <pc>.</pc>
          </s>
          <s>
            <w>This</w>
            <w>program</w>
            <w>begins</w>
            <w>and</w>
            <w>ends</w>
            <w>in</w>
            <w>a</w>
            <w>similar</w>
            <w>fashion</w>
            <w>as</w>
            <w>the</w>
            <w>program</w>
            <w>that</w>
            <w>computed</w>
            <w>word</w>
            <w>frequencies</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Type</w>
            <w>or</w>
            <w>copy</w>
            <w>the</w>
            <w>code</w>
            <w>into</w>
            <w>your</w>
            <w>text</w>
            <w>editor,</w>
            <w>save</w>
            <w>it</w>
            <w>as</w>
            <code rend="inline">html-to-kwic.py</code>
            <w>,</w>
            <w>and</w>
            <w>execute</w>
            <w>it</w>
            <pc>.</pc>
          </s>
          <s>
            <w>You</w>
            <w>will</w>
            <w>need</w>
            <w>to</w>
            <w>choose</w>
            <w>either</w>
            <w>obo</w>
            <pc>.</pc>
          </s>
          <s>
            <w>wrapStringInHTMLMac()</w>
            <w>or</w>
            <w>obo</w>
            <pc>.</pc>
          </s>
          <s>
            <w>wrapStringInHTMLWindows()</w>
            <w>as</w>
            <w>appropriate</w>
            <w>for</w>
            <w>your</w>
            <w>system,</w>
            <w>as</w>
            <w>done</w>
            <w>before</w>
            <pc>.</pc>
          </s>
        </p>
        <ab>
          <code lang="language-python" xml:id="code_output-keywords-in-context-in-html-file_11" corresp="code_output-keywords-in-context-in-html-file_11.txt" rend="block"/>
        </ab>
        <p>
          <s>
            <w>The</w>
            <w>first</w>
            <w>part</w>
            <w>is</w>
            <w>the</w>
            <w>same</w>
            <w>as</w>
            <w>above</w>
            <pc>.</pc>
          </s>
          <s>
            <w>In</w>
            <w>the</w>
            <w>second</w>
            <w>half</w>
            <w>of</w>
            <w>the</w>
            <w>program,</w>
            <w>we've</w>
            <w>wrapped</w>
            <w>everything</w>
            <w>in</w>
            <w>the</w>
            <w>HTML</w>
            <emph>
              <w>pre</w>
            </emph>
            <w>tag</w>
            <w>(pre-formatted),</w>
            <w>which</w>
            <w>tells</w>
            <w>the</w>
            <w>browser</w>
            <w>not</w>
            <w>to</w>
            <w>monkey</w>
            <w>with</w>
            <w>any</w>
            <w>of</w>
            <w>the</w>
            <w>spacing</w>
            <w>we've</w>
            <w>added</w>
            <pc>.</pc>
          </s>
        </p>
        <p>
          <s>
            <w>Also,</w>
            <w>notice</w>
            <w>that</w>
            <w>we</w>
            <w>use</w>
            <w>the</w>
            <w>dictionary</w>
            <w>method</w>
            <w>to</w>
            <w>make</w>
            <w>sure</w>
            <w>that</w>
            <w>the</w>
            <w>keyword</w>
            <w>actually</w>
            <w>occurs</w>
            <w>in</w>
            <w>our</w>
            <w>text</w>
            <pc>.</pc>
          </s>
          <code rend="inline">has_key</code>
          <s>
            <w>If</w>
            <w>it</w>
            <w>doesn't,</w>
            <w>we</w>
            <w>can</w>
            <w>print</w>
            <w>a</w>
            <w>message</w>
            <w>for</w>
            <w>the</w>
            <w>user</w>
            <w>before</w>
            <w>sending</w>
            <w>the</w>
            <w>output</w>
            <w>to</w>
            <w>Firefox</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Try</w>
            <w>changing</w>
            <w>the</w>
            <w>target</w>
            <w>variable</w>
            <w>to</w>
            <w>a</w>
            <w>few</w>
            <w>other</w>
            <w>keywords</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Try</w>
            <w>one</w>
            <w>you</w>
            <w>know</w>
            <w>isn't</w>
            <w>there</w>
            <w>to</w>
            <w>make</w>
            <w>sure</w>
            <w>your</w>
            <w>program</w>
            <w>doesn't</w>
            <w>output</w>
            <w>something</w>
            <w>when</w>
            <w>it</w>
            <w>shouldn't</w>
            <pc>.</pc>
          </s>
        </p>
        <p>
          <s>
            <w>We</w>
            <w>have</w>
            <w>now</w>
            <w>created</w>
            <w>a</w>
            <w>program</w>
            <w>that</w>
            <w>looks</w>
            <w>for</w>
            <w>a</w>
            <w>keyword</w>
            <w>in</w>
            <w>a</w>
            <w>dictionary</w>
            <w>created</w>
            <w>from</w>
            <w>an</w>
            <w>HTML</w>
            <w>page</w>
            <w>on</w>
            <w>the</w>
            <w>web,</w>
            <w>and</w>
            <w>then</w>
            <w>outputs</w>
            <w>the</w>
            <w>n-grams</w>
            <w>of</w>
            <w>that</w>
            <w>keyword</w>
            <w>to</w>
            <w>a</w>
            <w>new</w>
            <w>HTML</w>
            <w>file</w>
            <w>for</w>
            <w>display</w>
            <w>on</w>
            <w>the</w>
            <w>web</w>
            <pc>.</pc>
          </s>
          <s>
            <w>All</w>
            <w>of</w>
            <w>the</w>
            <w>lessons</w>
            <w>up</w>
            <w>to</w>
            <w>this</w>
            <w>point</w>
            <w>have</w>
            <w>included</w>
            <w>parts</w>
            <w>of</w>
            <w>Python</w>
            <w>vocabulary</w>
            <w>and</w>
            <w>methods</w>
            <w>needed</w>
            <w>to</w>
            <w>create</w>
            <w>this</w>
            <w>final</w>
            <w>program</w>
            <pc>.</pc>
          </s>
          <s>
            <w>By</w>
            <w>referring</w>
            <w>to</w>
            <w>those</w>
            <w>lessons,</w>
            <w>you</w>
            <w>can</w>
            <w>now</w>
            <w>experiment</w>
            <w>with</w>
            <w>Python</w>
            <w>to</w>
            <w>create</w>
            <w>programs</w>
            <w>that</w>
            <w>accomplish</w>
            <w>specific</w>
            <w>tasks</w>
            <w>that</w>
            <w>will</w>
            <w>help</w>
            <w>in</w>
            <w>your</w>
            <w>research</w>
            <w>process</w>
            <pc>.</pc>
          </s>
        </p>
      </div>
      <div type="2" n="6">
        <head>
          <s>
            <w>Code</w>
            <w>Syncing</w>
          </s>
        </head>
        <p>
          <s>
            <w>This</w>
            <w>marks</w>
            <w>the</w>
            <w>end</w>
            <w>of</w>
            <w>this</w>
            <w>series</w>
            <w>of</w>
            <w>original</w>
            <w>lessons</w>
            <w>on</w>
            <w>python</w>
            <pc>.</pc>
          </s>
          <s>
            <w>The</w>
            <w>finished</w>
            <w>code</w>
            <w>for</w>
            <w>the</w>
            <w>series</w>
            <w>can</w>
            <w>be</w>
            <w>downloaded</w>
            <w>as</w>
            <w>a</w>
            <w>zip</w>
            <w>file</w>
            <pc>.</pc>
          </s>
          <s>
            <w>If</w>
            <w>you</w>
            <w>are</w>
            <w>following</w>
            <w>along</w>
            <w>with</w>
            <w>the</w>
            <w>Mac</w>
            <w>/</w>
            <w>Linux</w>
            <w>version</w>
            <w>you</w>
            <w>may</w>
            <w>have</w>
            <w>to</w>
            <w>open</w>
            <w>the</w>
            <code rend="inline">obo.py</code>
            <w>file</w>
            <w>and</w>
            <w>change</w>
            <w>"file:///Users/username/Desktop/programming-historian/"</w>
            <w>to</w>
            <w>the</w>
            <w>path</w>
            <w>to</w>
            <w>the</w>
            <w>directory</w>
            <w>on</w>
            <w>your</w>
            <w>own</w>
            <w>computer</w>
            <pc>.</pc>
          </s>
        </p>
        <list type="unordered">
          <item>
            <s>
              <w>python-lessons9</w>
              <pc>.</pc>
            </s>
            <s>
              <w>zip</w>
              <ref target="/assets/python-lessons9.zip">
                <w>zip</w>
                <w>sync</w>
              </ref>
            </s>
          </item>
        </list>
        <p>
          <s>
            <w>There</w>
            <w>is</w>
            <w>an</w>
            <w>additional</w>
            <w>lesson</w>
            <w>on</w>
            <w>using</w>
            <w>Python</w>
            <w>to</w>
            <w>download</w>
            <w>multiple</w>
            <w>records</w>
            <w>using</w>
            <w>Query</w>
            <w>Strings,</w>
            <w>marked</w>
            <w>as</w>
            <w>the</w>
            <w>next</w>
            <w>lesson</w>
            <pc>.</pc>
          </s>
        </p>
      </div>
    </body>
  </text>
</TEI>
