<TEI xmlns:tei="http://www.tei-c.org/ns/1.0" xmlns="http://www.tei-c.org/ns/1.0" xml:id="extrair-paginas-ilustradas-com-python">
  <teiHeader xmlns:xi="http://www.w3.org/2001/XInclude">
    <fileDesc>
      <titleStmt>
        <title>Extrair Páginas Ilustradas de Bibliotecas Digitais com Python</title>
        <author role="original_author">Stephen Krewson</author>
        <editor role="reviewers">
          <persName>Catherine DeRose</persName>
          <persName>Taylor Arnold</persName>
        </editor>
        <author role="translators">João Domingues Pereira</author>
        <editor role="translation-reviewers">
          <persName>Felipe Lamarca</persName>
          <persName>Salete Farias</persName>
        </editor>
        <editor role="editors">Anandi Silva Knuppel</editor>
      </titleStmt>
      <publicationStmt>
        <distributor>Programming Historian</distributor>
        <date type="translated">05/03/2023</date>
        <idno type="doi">10.46430/phpt0040</idno>
        <date type="published">01/14/2019</date>
      </publicationStmt>
      <sourceDesc>
        <p>Born digital, in a markdown format. Original file: <ref type="original_file" target="#extracting-illustrated-pages"/>.</p>
      </sourceDesc>
    </fileDesc>
    <profileDesc>
      <abstract>
        <p>A aprendizagem de máquina e as extensões de API do HathiTrust e do Internet Archive estão a tornar mais fácil a extração de regiões de página com interesse visual de volumes digitalizados. Esta lição mostra como extrair eficientemente essas regiões e, ao fazê-lo, como fomentar novas questões sobre a pesquisa visual.</p>
      </abstract>
      <textClass>
        <keywords>
          <term xml:lang="en">api</term>
        </keywords>
      </textClass>
    </profileDesc>
  </teiHeader>
  <text xmlns:xi="http://www.w3.org/2001/XInclude" xml:lang="pt">
    <body>
      <div type="2" n="1">
        <head>
          <s>
            <w>Visão</w>
            <w>Geral</w>
          </s>
        </head>
        <p>
          <s>
            <w>E</w>
            <w>se</w>
            <w>só</w>
            <w>quisesse</w>
            <w>ver</w>
            <w>as</w>
            <w>imagens</w>
            <w>num</w>
            <w>livro</w>
            <pc>?</pc>
          </s>
          <s>
            <w>Este</w>
            <w>é</w>
            <w>um</w>
            <w>pensamento</w>
            <w>que</w>
            <w>já</w>
            <w>ocorreu</w>
            <w>tanto</w>
            <w>a</w>
            <w>jovens</w>
            <w>crianças</w>
            <w>como</w>
            <w>a</w>
            <w>pesquisadores</w>
            <w>adultos</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Se</w>
            <w>soubesse</w>
            <w>que</w>
            <w>o</w>
            <w>livro</w>
            <w>está</w>
            <w>disponível</w>
            <w>através</w>
            <w>duma</w>
            <w>biblioteca</w>
            <w>digital,</w>
            <w>seria</w>
            <w>útil</w>
            <w>fazer</w>
            <w>o</w>
            <emph>
              <w>download</w>
            </emph>
            <w>somente</w>
            <w>das</w>
            <w>páginas</w>
            <w>com</w>
            <w>imagens</w>
            <w>e</w>
            <w>ignorar</w>
            <w>o</w>
            <w>resto</w>
            <pc>.</pc>
          </s>
        </p>
        <p>
          <s>
            <w>Aqui</w>
            <w>estão</w>
            <w>as</w>
            <w>miniaturas</w>
            <w>de</w>
            <w>página</w>
            <w>dum</w>
            <w>volume</w>
            <w>do</w>
            <w>HathiTrust</w>
            <w>com</w>
            <w>o</w>
            <w>identificador</w>
            <w>exclusivo</w>
            <pc>.</pc>
          </s>
          <code rend="inline">osu.32435078698222</code>
          <s>
            <w>Após</w>
            <w>o</w>
            <w>processo</w>
            <w>descrito</w>
            <w>nesta</w>
            <w>lição,</w>
            <w>apenas</w>
            <w>as</w>
            <w>páginas</w>
            <w>com</w>
            <w>imagens</w>
            <w>(31</w>
            <w>no</w>
            <w>total)</w>
            <w>foram</w>
            <w>baixadas</w>
            <w>como</w>
            <w>JPEGs</w>
            <w>para</w>
            <w>uma</w>
            <w>pasta</w>
            <pc>.</pc>
          </s>
        </p>
        <figure>
          <desc>
            <s>
              <w>Visualização</w>
              <w>dum</w>
              <w>volume</w>
              <w>para</w>
              <w>o</w>
              <w>qual</w>
              <w>só</w>
              <w>as</w>
              <w>páginas</w>
              <w>com</w>
              <w>imagens</w>
              <w>foram</w>
              <w>baixadas</w>
              <pc>.</pc>
            </s>
          </desc>
          <figDesc>
            <s>
              <w>Imagem</w>
              <w>com</w>
              <w>a</w>
              <w>apresentação</w>
              <w>das</w>
              <w>páginas</w>
              <w>de</w>
              <w>um</w>
              <w>livro</w>
              <w>que</w>
              <w>contêm</w>
              <w>imagens</w>
            </s>
          </figDesc>
          <graphic url="file-explorer-example.png"/>
        </figure>
        <p>
          <s>
            <w>Para</w>
            <w>ver</w>
            <w>quantas</w>
            <w>páginas</w>
            <emph>
              <w>não</w>
              <w>ilustradas</w>
            </emph>
            <w>foram</w>
            <w>filtradas,</w>
            <w>compare</w>
            <w>com</w>
            <w>o</w>
            <ref target="https://babel.hathitrust.org/cgi/pt?id=osu.32435078698222%3Bview=thumb%3Bseq=1">
              <w>conjunto</w>
              <w>total</w>
              <w>de</w>
              <w>miniaturas</w>
            </ref>
            <w>para</w>
            <w>todas</w>
            <w>as</w>
            <w>148</w>
            <w>páginas</w>
            <w>nesta</w>
            <w>edição</w>
            <w>revisada</w>
            <w>de</w>
            <w>1845</w>
            <w>do</w>
            <w>livro</w>
            <w>infantil</w>
            <emph>
              <w>bestseller</w>
            </emph>
            <w>de</w>
            <w>Samuel</w>
            <w>Griswold</w>
            <w>Goodrich,</w>
            <emph>
              <w>The</w>
              <w>Tales</w>
              <w>of</w>
              <w>Peter</w>
              <w>Parley</w>
              <w>About</w>
              <w>America</w>
            </emph>
            <w>(1827)</w>
            <pc>.</pc>
          </s>
        </p>
        <figure>
          <desc>
            <s>
              <w>Visualização</w>
              <w>das</w>
              <w>miniaturas</w>
              <w>do</w>
              <w>HathiTrust</w>
              <w>para</w>
              <w>todas</w>
              <w>as</w>
              <w>páginas</w>
              <pc>.</pc>
            </s>
          </desc>
          <figDesc>
            <s>
              <w>Imagem</w>
              <w>com</w>
              <w>a</w>
              <w>visualização</w>
              <w>de</w>
              <w>todas</w>
              <w>as</w>
              <w>miniaturas</w>
              <w>das</w>
              <w>páginas</w>
              <w>de</w>
              <w>um</w>
              <w>livro</w>
            </s>
          </figDesc>
          <graphic url="parley-full-thumbnails.png"/>
        </figure>
        <p>
          <s>
            <w>Esta</w>
            <w>lição</w>
            <w>mostra</w>
            <w>como</w>
            <w>completar</w>
            <w>estas</w>
            <w>etapas</w>
            <w>de</w>
            <w>filtragem</w>
            <w>e</w>
            <w>de</w>
            <emph>
              <w>download</w>
            </emph>
            <w>para</w>
            <w>volumes</w>
            <w>de</w>
            <w>texto</w>
            <w>em</w>
            <w>domínio</w>
            <w>público</w>
            <w>detidos</w>
            <w>pelo</w>
            <w>HathiTrust</w>
            <w>(HT)</w>
            <w>e</w>
            <w>pelo</w>
            <w>Internet</w>
            <w>Archive</w>
            <w>(IA),</w>
            <w>duas</w>
            <w>das</w>
            <w>maiores</w>
            <w>bibliotecas</w>
            <w>digitais</w>
            <w>no</w>
            <w>mundo</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Será</w>
            <w>do</w>
            <w>interesse</w>
            <w>de</w>
            <w>qualquer</w>
            <w>um</w>
            <w>que</w>
            <w>deseje</w>
            <w>criar</w>
            <w>coleções</w>
            <w>de</w>
            <w>imagens</w>
            <w>com</w>
            <w>o</w>
            <w>fim</w>
            <w>de</w>
            <w>aprender</w>
            <w>sobre</w>
            <w>a</w>
            <w>História</w>
            <w>da</w>
            <w>Ilustração</w>
            <w>e</w>
            <w>o</w>
            <emph>
              <w>layout</w>
            </emph>
            <w>(</w>
            <emph>
              <w>mise</w>
              <w>en</w>
              <w>page</w>
            </emph>
            <w>)</w>
            <w>dos</w>
            <w>livros</w>
            <pc>.</pc>
          </s>
          <s>
            <w>As</w>
            <w>abordagens</w>
            <w>visuais</w>
            <w>à</w>
            <w>bibliografia</w>
            <w>digital</w>
            <w>estão</w>
            <w>a</w>
            <w>tornar-se</w>
            <w>populares,</w>
            <w>seguindo</w>
            <w>os</w>
            <w>esforços</w>
            <w>pioneiros</w>
            <w>do</w>
            <ref target="https://perma.cc/3QYS-XNSF">
              <w>EBBA</w>
            </ref>
            <w>e</w>
            <w>do</w>
            <ref target="https://perma.cc/SH49-K56K">
              <w>Aida</w>
            </ref>
            <pc>.</pc>
          </s>
          <s>
            <w>Projetos</w>
            <w>recentemente</w>
            <w>concluídos</w>
            <w>ou</w>
            <w>financiados</w>
            <w>exploram</w>
            <w>maneiras</w>
            <w>de</w>
            <ref target="https://web.archive.org/web/20190526050917/http://culturalanalytics.org/2018/12/detecting-footnotes-in-32-million-pages-of-ecco/">
              <w>identificar</w>
              <w>notas</w>
              <w>de</w>
              <w>rodapé</w>
            </ref>
            <w>e</w>
            <w>de</w>
            <ref target="https://perma.cc/QB4J-55GU">
              <w>rastrear</w>
              <w>notas</w>
              <w>de</w>
              <w>margem</w>
              <w>de</w>
              <w>página</w>
            </ref>
            <w>,</w>
            <w>para</w>
            <w>dar</w>
            <w>só</w>
            <w>dois</w>
            <ref target="https://perma.cc/9RC2-PJBL">
              <w>exemplos</w>
            </ref>
            <pc>.</pc>
          </s>
        </p>
        <p>
          <s>
            <w>A</w>
            <w>minha</w>
            <w>própria</w>
            <w>pesquisa</w>
            <w>tenta</w>
            <w>responder</w>
            <w>a</w>
            <w>questões</w>
            <w>empíricas</w>
            <w>sobre</w>
            <w>alterações</w>
            <w>na</w>
            <w>frequência</w>
            <w>e</w>
            <w>modo</w>
            <w>de</w>
            <w>ilustração</w>
            <w>em</w>
            <w>textos</w>
            <w>médicos</w>
            <w>e</w>
            <w>educacionais</w>
            <w>do</w>
            <w>século</w>
            <w>dezanove</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Isto</w>
            <w>envolve</w>
            <w>agregar</w>
            <w>múltiplas</w>
            <w>imagens</w>
            <w>por</w>
            <w>livro</w>
            <w>e</w>
            <w>tentar</w>
            <w>estimar</w>
            <w>que</w>
            <w>processo</w>
            <w>de</w>
            <w>impressão</w>
            <w>foi</w>
            <w>usado</w>
            <w>para</w>
            <w>fazer</w>
            <w>tais</w>
            <w>imagens</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Um</w>
            <w>caso</w>
            <w>de</w>
            <w>uso</w>
            <w>mais</w>
            <w>direcionado</w>
            <w>para</w>
            <w>a</w>
            <w>extração</w>
            <w>de</w>
            <w>páginas</w>
            <w>ilustradas</w>
            <w>pode</w>
            <w>ser</w>
            <w>a</w>
            <w>catalogação</w>
            <w>de</w>
            <w>ilustrações</w>
            <w>ao</w>
            <w>longo</w>
            <w>de</w>
            <ref target="https://perma.cc/2FCU-YW6D">
              <w>diferentes</w>
              <w>edições</w>
            </ref>
            <w>do</w>
            <w>mesmo</w>
            <w>livro</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Trabalhos</w>
            <w>futuros</w>
            <w>poderão</w>
            <w>investigar</w>
            <w>com</w>
            <w>sucesso</w>
            <w>as</w>
            <w>características</w>
            <w>visuais</w>
            <w>e</w>
            <w>o</w>
            <emph>
              <w>significado</w>
            </emph>
            <w>das</w>
            <w>imagens</w>
            <w>extraídas:</w>
            <w>a</w>
            <w>sua</w>
            <w>cor,</w>
            <w>o</w>
            <w>seu</w>
            <w>tamanho,</w>
            <w>o</w>
            <w>seu</w>
            <w>tema,</w>
            <w>o</w>
            <w>seu</w>
            <w>género,</w>
            <w>o</w>
            <w>número</w>
            <w>de</w>
            <w>figuras</w>
            <w>e</w>
            <w>assim</w>
            <w>por</w>
            <w>diante</w>
            <pc>.</pc>
          </s>
        </p>
        <p>
          <s>
            <w>Como</w>
            <w>obter</w>
            <w>informação</w>
            <emph>
              <w>localizada</w>
            </emph>
            <w>sobre</w>
            <w>regiões</w>
            <w>visuais</w>
            <w>de</w>
            <w>interesse</w>
            <w>está</w>
            <w>para</w>
            <w>além</w>
            <w>do</w>
            <w>âmbito</w>
            <w>desta</w>
            <w>lição,</w>
            <w>visto</w>
            <w>que</w>
            <w>o</w>
            <w>processo</w>
            <w>envolve</w>
            <w>uma</w>
            <w>quantidade</w>
            <w>significativa</w>
            <w>de</w>
            <w>aprendizagem</w>
            <w>de</w>
            <w>máquina</w>
            <pc>.</pc>
          </s>
          <s>
            <w>No</w>
            <w>entanto,</w>
            <w>a</w>
            <w>classificação</w>
            <w>sim/não</w>
            <w>de</w>
            <w>páginas</w>
            <w>com</w>
            <w>(ou</w>
            <w>sem)</w>
            <w>imagens</w>
            <w>é</w>
            <w>um</w>
            <w>primeiro</w>
            <w>passo</w>
            <w>prático</w>
            <w>para</w>
            <w>reduzir</w>
            <w>o</w>
            <w>enorme</w>
            <w>volume</w>
            <w>de</w>
            <emph>
              <w>todas</w>
            </emph>
            <w>as</w>
            <w>páginas</w>
            <w>para</w>
            <w>cada</w>
            <w>livro</w>
            <w>numa</w>
            <w>coleção</w>
            <w>visada,</w>
            <w>tornando</w>
            <w>viável</w>
            <w>a</w>
            <w>localização</w>
            <w>de</w>
            <w>ilustrações</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Para</w>
            <w>dar</w>
            <w>um</w>
            <w>ponto</w>
            <w>de</w>
            <w>referência,</w>
            <w>os</w>
            <w>textos</w>
            <w>médicos</w>
            <w>do</w>
            <w>século</w>
            <w>dezanove</w>
            <w>contêm</w>
            <w>(em</w>
            <w>média)</w>
            <w>ilustrações</w>
            <w>em</w>
            <w>1-3%</w>
            <w>das</w>
            <w>suas</w>
            <w>páginas</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Se</w>
            <w>estiver</w>
            <w>a</w>
            <w>tentar</w>
            <w>estudar</w>
            <w>a</w>
            <w>ilustração</w>
            <w>no</w>
            <w>interior</w>
            <w>dum</w>
            <emph>
              <w>corpus</w>
            </emph>
            <w>duma</w>
            <w>biblioteca</w>
            <w>digital</w>
            <w>sobre</w>
            <w>o</w>
            <w>qual</w>
            <w>não</w>
            <w>tem</w>
            <w>qualquer</w>
            <w>informação</w>
            <w>preexistente,</w>
            <w>é,</w>
            <w>consequentemente,</w>
            <w>razoável</w>
            <w>assumir</w>
            <w>que</w>
            <w>90+%</w>
            <w>das</w>
            <w>páginas</w>
            <w>nesse</w>
            <emph>
              <w>corpus</w>
            </emph>
            <w>NÃO</w>
            <w>estarão</w>
            <w>ilustradas</w>
            <pc>.</pc>
          </s>
        </p>
        <p>
          <s>
            <w>O</w>
            <w>HT</w>
            <w>e</w>
            <w>o</w>
            <w>IA</w>
            <w>permitem</w>
            <w>que</w>
            <w>a</w>
            <w>questão</w>
            <w>com</w>
            <w>imagens/sem</w>
            <w>imagens</w>
            <w>seja</w>
            <w>respondida</w>
            <w>indiretamente</w>
            <w>através</w>
            <w>da</w>
            <w>análise</w>
            <w>dos</w>
            <w>dados</w>
            <w>gerados</w>
            <w>pelo</w>
            <emph>
              <w>software</w>
            </emph>
            <emph>
              <w>optical</w>
              <w>character</w>
              <w>recognition</w>
            </emph>
            <w>(OCR)</w>
            <w>ou</w>
            <w>reconhecimento</w>
            <w>ótico</w>
            <w>de</w>
            <w>caracteres,</w>
            <w>em</w>
            <w>português</w>
            <w>(o</w>
            <w>OCR</w>
            <w>é</w>
            <w>aplicado</w>
            <w>após</w>
            <w>um</w>
            <w>volume</w>
            <w>físico</w>
            <w>ser</w>
            <w>digitalizado</w>
            <w>com</w>
            <w>o</w>
            <w>objetivo</w>
            <w>de</w>
            <w>gerar</w>
            <w>uma</w>
            <w>transcrição</w>
            <w>do</w>
            <w>texto</w>
            <w>muitas</w>
            <w>vezes</w>
            <w>desordenada)</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Aproveitar</w>
            <w>o</w>
            <w>resultado</w>
            <w>do</w>
            <emph>
              <w>output</w>
            </emph>
            <w>do</w>
            <w>OCR</w>
            <w>para</w>
            <w>encontrar</w>
            <w>páginas</w>
            <w>ilustradas</w>
            <w>foi</w>
            <w>proposto</w>
            <w>primeiramente</w>
            <w>por</w>
            <w>Kalev</w>
            <w>Leetaru</w>
            <w>numa</w>
            <ref target="https://perma.cc/3J79-4QA6">
              <w>colaboração</w>
              <w>de</w>
              <w>2014</w>
            </ref>
            <w>com</w>
            <w>o</w>
            <w>Internet</w>
            <w>Archive</w>
            <w>e</w>
            <w>o</w>
            <w>Flickr</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Esta</w>
            <w>lição</w>
            <w>transfere</w>
            <w>a</w>
            <w>abordagem</w>
            <w>de</w>
            <w>Leetaru</w>
            <w>para</w>
            <w>o</w>
            <w>HathiTrust</w>
            <w>e</w>
            <w>tira</w>
            <w>proveito</w>
            <w>de</w>
            <w>bibliotecas</w>
            <w>de</w>
            <w>processamento</w>
            <w>de</w>
            <w>XML</w>
            <w>mais</w>
            <w>rápidas</w>
            <w>no</w>
            <w>Python,</w>
            <w>bem</w>
            <w>como</w>
            <w>da</w>
            <w>gama</w>
            <w>recentemente</w>
            <w>ampliada</w>
            <w>de</w>
            <w>formatos</w>
            <w>de</w>
            <w>ficheiro</w>
            <w>de</w>
            <w>imagem</w>
            <w>do</w>
            <w>IA</w>
            <pc>.</pc>
          </s>
        </p>
        <p>
          <s>
            <w>Uma</w>
            <w>vez</w>
            <w>que</w>
            <w>o</w>
            <w>HT</w>
            <w>e</w>
            <w>o</w>
            <w>IA</w>
            <w>expõem</w>
            <w>a</w>
            <w>sua</w>
            <w>informação</w>
            <w>derivada</w>
            <w>do</w>
            <w>OCR</w>
            <w>de</w>
            <w>maneiras</w>
            <w>ligeiramente</w>
            <w>diferentes,</w>
            <w>eu</w>
            <w>irei</w>
            <w>adiar</w>
            <w>a</w>
            <w>apresentação</w>
            <w>dos</w>
            <w>detalhes</w>
            <w>das</w>
            <w>"características</w>
            <w>visuais"</w>
            <w>de</w>
            <w>cada</w>
            <w>biblioteca</w>
            <w>para</w>
            <w>as</w>
            <w>suas</w>
            <w>secções</w>
            <w>respetivas</w>
            <pc>.</pc>
          </s>
        </p>
      </div>
      <div type="2" n="2">
        <head>
          <s>
            <w>Objetivos</w>
          </s>
        </head>
        <p>
          <s>
            <w>No</w>
            <w>final</w>
            <w>da</w>
            <w>lição,</w>
            <w>o</w>
            <w>leitor</w>
            <w>será</w>
            <w>capaz</w>
            <w>de:</w>
          </s>
        </p>
        <list type="unordered">
          <item>
            <s>
              <w>Configurar</w>
              <w>a</w>
              <w>versão</w>
              <w>"mínima"</w>
              <w>da</w>
              <w>distribuição</w>
              <w>Anaconda</w>
              <w>do</w>
              <w>Python</w>
              <w>(Miniconda)</w>
              <w>e</w>
              <w>criar</w>
              <w>um</w>
              <w>ambiente;</w>
            </s>
          </item>
          <item>
            <s>
              <w>Salvar</w>
              <w>e</w>
              <w>iterar</w>
              <w>sobre</w>
              <w>uma</w>
              <w>lista</w>
              <w>de</w>
              <w>IDs</w>
              <w>de</w>
              <w>volumes</w>
              <w>do</w>
              <w>HT</w>
              <w>ou</w>
              <w>do</w>
              <w>IA</w>
              <w>gerados</w>
              <w>por</w>
              <w>uma</w>
              <w>pesquisa;</w>
            </s>
          </item>
          <item>
            <s>
              <w>Acessar</w>
              <w>aos</w>
              <emph>
                <w>application</w>
                <w>programming</w>
                <w>interfaces</w>
              </emph>
              <w>(APIs)</w>
              <w>ou</w>
              <w>interfaces</w>
              <w>de</w>
              <w>programação</w>
              <w>de</w>
              <w>aplicações,</w>
              <w>em</w>
              <w>português,</w>
              <w>de</w>
              <w>dados</w>
              <w>do</w>
              <w>HT</w>
              <w>e</w>
              <w>do</w>
              <w>IA</w>
              <w>através</w>
              <w>das</w>
              <w>bibliotecas</w>
              <w>do</w>
              <w>Python;</w>
            </s>
          </item>
          <item>
            <s>
              <w>Encontrar</w>
              <w>características</w>
              <w>visuais</w>
              <w>ao</w>
              <w>nível</w>
              <w>da</w>
              <w>página;</w>
            </s>
          </item>
          <item>
            <s>
              <w>Fazer</w>
              <w>o</w>
              <emph>
                <w>download</w>
              </emph>
              <w>dos</w>
              <w>JPEGs</w>
              <w>de</w>
              <w>páginas</w>
              <w>programaticamente</w>
              <pc>.</pc>
            </s>
          </item>
        </list>
        <p>
          <s>
            <w>O</w>
            <w>grande</w>
            <w>objetivo</w>
            <w>é</w>
            <w>fortalecer</w>
            <w>as</w>
            <w>competências</w>
            <w>de</w>
            <w>coleta</w>
            <w>e</w>
            <w>exploração</w>
            <w>de</w>
            <w>dados</w>
            <w>ao</w>
            <w>criar</w>
            <w>um</w>
            <emph>
              <w>corpus</w>
            </emph>
            <w>de</w>
            <w>ilustração</w>
            <w>histórica</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Combinar</w>
            <w>dados</w>
            <w>de</w>
            <w>imagem</w>
            <w>com</w>
            <w>os</w>
            <w>metadados</w>
            <w>dum</w>
            <w>volume</w>
            <w>permite</w>
            <w>a</w>
            <w>formulação</w>
            <w>de</w>
            <w>questões</w>
            <w>de</w>
            <w>pesquisa</w>
            <w>promissoras</w>
            <w>sobre</w>
            <w>a</w>
            <w>mudança</w>
            <w>visual</w>
            <w>ao</w>
            <w>longo</w>
            <w>do</w>
            <w>tempo</w>
            <pc>.</pc>
          </s>
        </p>
      </div>
      <div type="2" n="3">
        <head>
          <s>
            <w>Requisitos</w>
          </s>
        </head>
        <p>
          <s>
            <w>Os</w>
            <w>requisitos</w>
            <w>de</w>
            <emph>
              <w>software</w>
            </emph>
            <w>desta</w>
            <w>lição</w>
            <w>são</w>
            <w>mínimos:</w>
            <w>o</w>
            <w>acesso</w>
            <w>a</w>
            <w>uma</w>
            <w>máquina</w>
            <w>executando</w>
            <w>um</w>
            <w>sistema</w>
            <w>operacional</w>
            <w>padrão</w>
            <w>e</w>
            <w>um</w>
            <w>navegador</w>
            <w>de</w>
            <w>internet</w>
            <pc>.</pc>
          </s>
          <s>
            <w>O</w>
            <w>Miniconda</w>
            <w>está</w>
            <w>disponível</w>
            <w>em</w>
            <w>duas</w>
            <w>versões</w>
            <w>de</w>
            <w>32</w>
            <w>e</w>
            <w>de</w>
            <w>64</w>
            <emph>
              <w>bits</w>
            </emph>
            <w>para</w>
            <w>Windows,</w>
            <w>macOS</w>
            <w>e</w>
            <w>Linux</w>
            <pc>.</pc>
          </s>
          <s>
            <w>O</w>
            <w>Python</w>
            <w>3</w>
            <w>é</w>
            <w>a</w>
            <w>versão</w>
            <w>estável</w>
            <w>atual</w>
            <w>da</w>
            <w>linguagem</w>
            <w>e</w>
            <w>será</w>
            <w>suportado</w>
            <w>indefinidamente</w>
            <ref type="footnotemark" target="#pt_note_1"/>
            <pc>.</pc>
          </s>
        </p>
        <p>
          <s>
            <w>Este</w>
            <w>tutorial</w>
            <w>assume</w>
            <w>um</w>
            <w>conhecimento</w>
            <w>básico</w>
            <w>da</w>
            <w>linha</w>
            <w>de</w>
            <w>comando</w>
            <w>e</w>
            <w>da</w>
            <w>linguagem</w>
            <w>de</w>
            <w>programação</w>
            <w>Python</w>
            <pc>.</pc>
          </s>
          <s>
            <w>O</w>
            <w>leitor</w>
            <w>deve</w>
            <w>compreender</w>
            <w>as</w>
            <w>convenções</w>
            <w>para</w>
            <w>comentários</w>
            <w>e</w>
            <w>comandos</w>
            <w>num</w>
            <w>tutorial</w>
            <w>baseado</w>
            <w>num</w>
            <emph>
              <w>shell</w>
            </emph>
            <pc>.</pc>
          </s>
          <s>
            <w>Eu</w>
            <w>recomendo</w>
            <w>a</w>
            <ref target="/en/lessons/intro-to-bash">
              <emph>
                <w>Introduction</w>
                <w>to</w>
                <w>the</w>
                <w>Bash</w>
                <w>Command</w>
                <w>Line</w>
              </emph>
            </ref>
            <w>,</w>
            <w>de</w>
            <w>Ian</w>
            <w>Milligan</w>
            <w>e</w>
            <w>James</w>
            <w>Baker,</w>
            <w>para</w>
            <w>aprender</w>
            <w>ou</w>
            <w>para</w>
            <w>rever</w>
            <w>as</w>
            <w>suas</w>
            <w>competências</w>
            <w>com</w>
            <w>a</w>
            <w>linha</w>
            <w>de</w>
            <w>comando</w>
            <pc>.</pc>
          </s>
        </p>
      </div>
      <div type="2" n="4">
        <head>
          <s>
            <w>Configuração</w>
          </s>
        </head>
        <div type="3" n="4.1">
          <head>
            <s>
              <w>Dependências</w>
            </s>
          </head>
          <p>
            <s>
              <w>Os</w>
              <w>leitores</w>
              <w>mais</w>
              <w>experientes</w>
              <w>podem</w>
              <w>querer</w>
              <w>simplesmente</w>
              <w>instalar</w>
              <w>as</w>
              <w>dependências</w>
              <w>e</w>
              <w>executar</w>
              <w>os</w>
              <emph>
                <w>notebooks</w>
              </emph>
              <w>nos</w>
              <w>seus</w>
              <w>ambientes</w>
              <w>de</w>
              <w>escolha</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Mais</w>
              <w>informações</w>
              <w>sobre</w>
              <w>a</w>
              <w>minha</w>
              <w>própria</w>
              <w>configuração</w>
              <w>do</w>
              <w>Miniconda</w>
              <w>(e</w>
              <w>algumas</w>
              <w>diferenças</w>
              <w>entre</w>
              <w>o</w>
              <w>Windows</w>
              <w>e</w>
              <w>o</w>
              <w>*nix)</w>
              <w>são</w>
              <w>providenciadas</w>
              <pc>.</pc>
            </s>
          </p>
          <quote>
            <p>
              <s>
                <hi rend="bold">
                  <s>
                    <w>Nota</w>
                    <w>de</w>
                    <w>tradução</w>
                  </s>
                </hi>
                <w>:</w>
                <w>Para</w>
                <w>instalar</w>
                <w>as</w>
                <w>dependências,</w>
                <w>altere</w>
                <w>o</w>
                <w>seu</w>
                <w>diretório</w>
                <w>de</w>
                <w>trabalho</w>
                <w>para</w>
                <w>a</w>
                <w>pasta</w>
                <w>onde</w>
                <w>se</w>
                <w>encontra</w>
                <w>instalado</w>
                <w>o</w>
                <w>Python</w>
                <w>executando</w>
                <w>o</w>
                <w>comando</w>
                <code rend="inline">cd</code>
                <w>e,</w>
                <w>depois,</w>
                <w>digite</w>
                <w>o</w>
                <w>comando</w>
                <code rend="inline">pip install</code>
                <w>ou</w>
                <code rend="inline">pip3 install</code>
                <w>acompanhado</w>
                <w>pelas</w>
                <w>seguintes</w>
                <w>linhas:</w>
              </s>
            </p>
          </quote>
          <list type="unordered">
            <item>
              <s>
                <code rend="inline">hathitrust-api</code>
                <w>ou</w>
                <code rend="inline">hathitrust_api</code>
                <w>(</w>
                <ref target="https://github.com/rlmv/hathitrust-api">
                  <w>Documentos</w>
                  <w>de</w>
                  <w>Instalação</w>
                </ref>
                <w>);</w>
              </s>
            </item>
            <item>
              <s>
                <code rend="inline">internetarchive</code>
                <w>(</w>
                <ref target="https://archive.org/services/docs/api/internetarchive/">
                  <w>Documentos</w>
                  <w>de</w>
                  <w>Instalação</w>
                </ref>
                <w>);</w>
              </s>
            </item>
            <item>
              <s>
                <code rend="inline">jupyter</code>
                <w>(</w>
                <ref target="https://jupyter.org/install">
                  <w>Documentos</w>
                  <w>de</w>
                  <w>Instalação</w>
                </ref>
                <w>);</w>
              </s>
            </item>
            <item>
              <s>
                <code rend="inline">requests</code>
                <w>(</w>
                <ref target="https://requests.readthedocs.io/en/latest/user/install/#install">
                  <w>Documentos</w>
                  <w>de</w>
                  <w>Instalação</w>
                </ref>
                <w>)</w>
                <w>[o</w>
                <w>criador</w>
                <w>recomenda</w>
                <w>a</w>
                <w>instalação</w>
                <w>do</w>
                <code rend="inline">pipenv</code>
                <w>;</w>
                <w>para</w>
                <w>a</w>
                <w>instalação</w>
                <w>do</w>
                <code rend="inline">pip</code>
                <w>,</w>
                <w>veja</w>
                <ref target="https://pypi.org/project/requests2/">
                  <w>PyPI</w>
                </ref>
                <w>]</w>
                <pc>.</pc>
              </s>
            </item>
          </list>
        </div>
        <div type="3" n="4.2">
          <head>
            <s>
              <w>Ficheiros</w>
              <w>da</w>
              <w>Lição</w>
            </s>
          </head>
          <p>
            <s>
              <w>Faça</w>
              <w>o</w>
              <emph>
                <w>download</w>
              </emph>
              <w>desta</w>
              <ref target="/assets/extracting-illustrated-pages/lesson-files.zip">
                <w>pasta</w>
                <w>comprimida</w>
              </ref>
              <w>que</w>
              <w>contém</w>
              <w>dois</w>
              <emph>
                <w>Jupyter</w>
                <w>notebooks</w>
              </emph>
              <w>,</w>
              <w>um</w>
              <w>para</w>
              <w>cada</w>
              <w>uma</w>
              <w>das</w>
              <w>bibliotecas</w>
              <w>digitais</w>
              <pc>.</pc>
            </s>
            <s>
              <w>A</w>
              <w>pasta</w>
              <w>também</w>
              <w>contém</w>
              <w>um</w>
              <w>ficheiro</w>
              <w>de</w>
              <w>metadados</w>
              <w>JSON</w>
              <w>de</w>
              <w>amostra</w>
              <w>descrevendo</w>
              <w>uma</w>
              <w>coleção</w>
              <w>do</w>
              <w>HathiTrust</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Descomprima</w>
              <w>e</w>
              <w>confirme</w>
              <w>que</w>
              <w>os</w>
              <w>seguintes</w>
              <w>ficheiros</w>
              <w>estão</w>
              <w>presentes:</w>
              <code rend="inline">554050894-1535834127.json</code>
              <w>,</w>
              <code rend="inline">hathitrust.ipynb</code>
              <w>e</w>
              <code rend="inline">internetarchive.ipynb</code>
              <pc>.</pc>
            </s>
          </p>
          <p style="alert alert-warning">
            <s>
              <w>Todos</w>
              <w>os</w>
              <w>comandos</w>
              <w>subsequentes</w>
              <w>assumem</w>
              <w>que</w>
              <w>o</w>
              <w>seu</w>
              <w>diretório</w>
              <w>de</w>
              <w>trabalho</w>
              <w>atual</w>
              <w>é</w>
              <w>a</w>
              <w>pasta</w>
              <w>que</w>
              <w>contém</w>
              <w>os</w>
              <w>ficheiros</w>
              <w>da</w>
              <w>lição</w>
              <pc>.</pc>
            </s>
          </p>
          <div type="4" n="4.2.1">
            <head>
              <s>
                <w>Destino</w>
                <w>do</w>
                <emph>
                  <w>Download</w>
                </emph>
              </s>
            </head>
            <p>
              <s>
                <w>Aqui</w>
                <w>está</w>
                <w>o</w>
                <w>diretório</w>
                <w>predefinido</w>
                <w>que</w>
                <w>será</w>
                <w>criado</w>
                <w>assim</w>
                <w>que</w>
                <w>todas</w>
                <w>as</w>
                <w>células</w>
                <w>em</w>
                <w>ambos</w>
                <w>os</w>
                <emph>
                  <w>notebooks</w>
                </emph>
                <w>tiverem</w>
                <w>sido</w>
                <w>executadas</w>
                <w>(como</w>
                <w>providenciado)</w>
                <pc>.</pc>
              </s>
              <s>
                <w>Depois</w>
                <w>de</w>
                <w>obter</w>
                <w>uma</w>
                <w>lista</w>
                <w>de</w>
                <w>quais</w>
                <w>páginas</w>
                <w>num</w>
                <w>volume</w>
                <w>contêm</w>
                <w>imagens,</w>
                <w>as</w>
                <w>funções</w>
                <w>de</w>
                <emph>
                  <w>download</w>
                </emph>
                <w>do</w>
                <w>HT</w>
                <w>e</w>
                <w>do</w>
                <w>IA</w>
                <w>solicitam</w>
                <w>essas</w>
                <w>páginas</w>
                <w>como</w>
                <w>JPEGs</w>
                <w>(nomeadas</w>
                <w>pelo</w>
                <w>número</w>
                <w>de</w>
                <w>página)</w>
                <w>e</w>
                <w>arquivam-nas</w>
                <w>em</w>
                <w>subdiretórios</w>
                <w>(nomeados</w>
                <w>pelo</w>
                <w>ID</w>
                <w>do</w>
                <w>item)</w>
                <pc>.</pc>
              </s>
              <s>
                <w>É</w>
                <w>claro</w>
                <w>que</w>
                <w>o</w>
                <w>leitor</w>
                <w>pode</w>
                <w>usar</w>
                <w>diferentes</w>
                <w>listas</w>
                <w>de</w>
                <w>volumes</w>
                <w>ou</w>
                <w>mudar</w>
                <w>o</w>
                <w>destino</w>
                <code rend="inline">out_dir</code>
                <w>para</w>
                <w>algo</w>
                <w>que</w>
                <w>não</w>
                <code rend="inline">items</code>
                <pc>.</pc>
              </s>
            </p>
            <ab>
              <code xml:id="code_extrair-paginas-ilustradas-com-python_0" corresp="code_extrair-paginas-ilustradas-com-python_0.txt" rend="block"/>
            </ab>
            <p>
              <s>
                <w>As</w>
                <w>funções</w>
                <w>de</w>
                <emph>
                  <w>download</w>
                </emph>
                <w>são</w>
                <w>lentas;</w>
                <w>se</w>
                <w>executar</w>
                <w>os</w>
                <emph>
                  <w>notebooks</w>
                </emph>
                <w>novamente,</w>
                <w>com</w>
                <w>o</w>
                <w>diretório</w>
                <code rend="inline">items</code>
                <w>similar</w>
                <w>ao</w>
                <w>que</w>
                <w>se</w>
                <w>apresenta</w>
                <w>em</w>
                <w>cima,</w>
                <w>qualquer</w>
                <w>item</w>
                <w>que</w>
                <w>já</w>
                <w>tenha</w>
                <w>a</w>
                <w>sua</w>
                <w>própria</w>
                <w>subpasta</w>
                <w>será</w>
                <w>ignorado</w>
                <pc>.</pc>
              </s>
            </p>
          </div>
        </div>
        <div type="3" n="4.3">
          <head>
            <s>
              <w>Anaconda</w>
              <w>(Opcional)</w>
            </s>
          </head>
          <p>
            <s>
              <w>A</w>
              <w>Anaconda</w>
              <w>é</w>
              <w>a</w>
              <w>principal</w>
              <w>distribuição</w>
              <w>científica</w>
              <w>do</w>
              <w>Python</w>
              <pc>.</pc>
            </s>
            <s>
              <w>O</w>
              <w>seu</w>
              <w>gerenciador</w>
              <w>de</w>
              <w>pacotes</w>
              <code rend="inline">conda</code>
              <w>permite-lhe</w>
              <w>instalar</w>
              <w>bibliotecas</w>
              <w>como</w>
              <w>a</w>
              <code rend="inline">numpy</code>
              <w>e</w>
              <w>a</w>
              <code rend="inline">tensorflow</code>
              <w>com</w>
              <w>facilidade</w>
              <pc>.</pc>
            </s>
            <s>
              <w>A</w>
              <w>versão</w>
              <w>"Miniconda"</w>
              <w>não</w>
              <w>é</w>
              <w>acompanhada</w>
              <w>por</w>
              <w>quaisquer</w>
              <w>pacotes</w>
              <w>supérfluos</w>
              <w>pré-instalados,</w>
              <w>o</w>
              <w>que</w>
              <w>incentiva</w>
              <w>o</w>
              <w>leitor</w>
              <w>a</w>
              <w>manter</w>
              <w>o</w>
              <w>seu</w>
              <w>ambiente</w>
              <w>de</w>
              <w>base</w>
              <w>limpo</w>
              <w>e</w>
              <w>a</w>
              <w>instalar</w>
              <w>apenas</w>
              <w>o</w>
              <w>que</w>
              <w>necessita</w>
              <w>para</w>
              <w>um</w>
              <w>projeto</w>
              <w>dentro</w>
              <w>dum</w>
              <w>ambiente</w>
              <w>nomeado</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Faça</w>
              <w>o</w>
              <emph>
                <w>download</w>
              </emph>
              <w>e</w>
              <w>instale</w>
              <w>o</w>
              <ref target="https://conda.io/miniconda.html">
                <w>Miniconda</w>
              </ref>
              <pc>.</pc>
            </s>
            <s>
              <w>Escolha</w>
              <w>a</w>
              <w>versão</w>
              <w>estável</w>
              <w>mais</w>
              <w>recente</w>
              <w>do</w>
              <w>Python</w>
              <w>3</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Se</w>
              <w>tudo</w>
              <w>correr</w>
              <w>bem,</w>
              <w>o</w>
              <w>leitor</w>
              <w>conseguirá</w>
              <w>executar</w>
              <code rend="inline">which conda</code>
              <w>(no</w>
              <w>Linux/macOS)</w>
              <w>ou</w>
              <code rend="inline">where conda</code>
              <w>(no</w>
              <w>Windows)</w>
              <w>no</w>
              <w>seu</w>
              <emph>
                <w>shell</w>
              </emph>
              <w>e</w>
              <w>ver</w>
              <w>a</w>
              <w>localização</w>
              <w>do</w>
              <w>programa</w>
              <w>executável</w>
              <w>no</w>
              <emph>
                <w>output</w>
              </emph>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>A</w>
              <w>Anaconda</w>
              <w>tem</w>
              <w>uma</w>
              <ref target="http://web.archive.org/web/20190115051900/https://conda.io/docs/_downloads/conda-cheatsheet.pdf">
                <emph>
                  <w>cheat</w>
                  <w>sheet</w>
                </emph>
              </ref>
              <w>ou</w>
              <w>folha</w>
              <w>de</w>
              <w>dicas,</w>
              <w>em</w>
              <w>português,</w>
              <w>útil</w>
              <w>para</w>
              <w>comandos</w>
              <w>de</w>
              <w>uso</w>
              <w>frequente</w>
              <pc>.</pc>
            </s>
          </p>
          <div type="4" n="4.3.1">
            <head>
              <s>
                <w>Criar</w>
                <w>um</w>
                <w>Ambiente</w>
              </s>
            </head>
            <p>
              <s>
                <w>Os</w>
                <w>ambientes,</w>
                <w>entre</w>
                <w>outras</w>
                <w>coisas,</w>
                <w>ajudam</w>
                <w>a</w>
                <w>controlar</w>
                <w>a</w>
                <w>complexidade</w>
                <w>associada</w>
                <w>ao</w>
                <w>uso</w>
                <w>de</w>
                <w>múltiplos</w>
                <w>gerenciadores</w>
                <w>de</w>
                <w>pacotes</w>
                <w>em</w>
                <w>conjunto</w>
                <pc>.</pc>
              </s>
              <s>
                <w>Nem</w>
                <w>todas</w>
                <w>as</w>
                <w>bibliotecas</w>
                <w>do</w>
                <w>Python</w>
                <w>podem</w>
                <w>ser</w>
                <w>instaladas</w>
                <w>através</w>
                <w>do</w>
                <code rend="inline">conda</code>
                <pc>.</pc>
              </s>
              <s>
                <w>Em</w>
                <w>alguns</w>
                <w>casos,</w>
                <w>nós</w>
                <w>recorreremos</w>
                <w>ao</w>
                <w>gestor</w>
                <w>de</w>
                <w>pacote</w>
                <w>padrão</w>
                <w>do</w>
                <w>Python,</w>
                <w>o</w>
                <code rend="inline">pip</code>
                <w>(ou</w>
                <w>alterações</w>
                <w>planejadas,</w>
                <w>como</w>
                <w>o</w>
                <code rend="inline">pipenv</code>
                <w>)</w>
                <pc>.</pc>
              </s>
              <s>
                <w>No</w>
                <w>entanto,</w>
                <w>quando</w>
                <w>o</w>
                <w>fizermos,</w>
                <w>nós</w>
                <w>usaremos</w>
                <w>uma</w>
                <w>versão</w>
                <w>do</w>
                <code rend="inline">pip</code>
                <w>instalada</w>
                <w>através</w>
                <w>do</w>
                <code rend="inline">conda</code>
                <pc>.</pc>
              </s>
              <s>
                <w>Isto</w>
                <w>mantém</w>
                <w>todos</w>
                <w>os</w>
                <w>pacotes</w>
                <w>que</w>
                <w>nós</w>
                <w>precisamos</w>
                <w>para</w>
                <w>o</w>
                <w>projeto</w>
                <w>no</w>
                <w>mesmo</w>
                <w>espaço</w>
                <w>virtual</w>
                <pc>.</pc>
              </s>
            </p>
            <ab>
              <code lang="language-bash" xml:id="code_extrair-paginas-ilustradas-com-python_1" corresp="code_extrair-paginas-ilustradas-com-python_1.txt" rend="block"/>
            </ab>
            <p>
              <s>
                <w>Agora</w>
                <w>nós</w>
                <w>criamos</w>
                <w>um</w>
                <w>ambiente</w>
                <w>nomeado,</w>
                <w>configuramo-lo</w>
                <w>para</w>
                <w>usar</w>
                <w>Python</w>
                <w>3,</w>
                <w>e</w>
                <w>ativamo-lo</w>
                <pc>.</pc>
              </s>
            </p>
            <ab>
              <code lang="language-bash" xml:id="code_extrair-paginas-ilustradas-com-python_2" corresp="code_extrair-paginas-ilustradas-com-python_2.txt" rend="block"/>
            </ab>
            <ab>
              <code lang="language-bash" xml:id="code_extrair-paginas-ilustradas-com-python_3" corresp="code_extrair-paginas-ilustradas-com-python_3.txt" rend="block"/>
            </ab>
            <p>
              <s>
                <w>Para</w>
                <w>sair</w>
                <w>dum</w>
                <w>ambiente,</w>
                <w>execute</w>
                <w>no</w>
                <w>Linux/macOS</w>
                <w>ou</w>
                <w>no</w>
                <w>Windows</w>
                <pc>.</pc>
              </s>
              <code rend="inline">source deactivate</code>
              <code rend="inline">deactivate</code>
              <s>
                <w>Mas</w>
                <w>certifique-se</w>
                <w>que</w>
                <w>permanece</w>
                <w>no</w>
                <w>ambiente</w>
                <code rend="inline">extract-pages</code>
                <w>durante</w>
                <w>o</w>
                <w>decorrer</w>
                <w>da</w>
                <w>lição</w>
                <pc>!</pc>
              </s>
            </p>
          </div>
          <div type="4" n="4.3.2">
            <head>
              <s>
                <w>Instalar</w>
                <w>os</w>
                <w>Pacotes</w>
                <w>do</w>
                <w>Conda</w>
              </s>
            </head>
            <p>
              <s>
                <w>Nós</w>
                <w>podemos</w>
                <w>usar</w>
                <w>o</w>
                <w>para</w>
                <w>instalar</w>
                <w>os</w>
                <w>nossos</w>
                <w>primeiros</w>
                <w>pacotes</w>
                <pc>.</pc>
              </s>
              <code rend="inline">conda</code>
              <s>
                <w>Todos</w>
                <w>os</w>
                <w>outros</w>
                <w>pacotes</w>
                <w>necessários</w>
                <w>(gzip,</w>
                <w>JSON,</w>
                <w>os,</w>
                <w>sys</w>
                <w>e</w>
                <w>time)</w>
                <w>fazem</w>
                <w>parte</w>
                <w>da</w>
                <ref target="https://docs.python.org/3/library/">
                  <w>biblioteca</w>
                  <w>padrão</w>
                  <w>do</w>
                  <w>Python</w>
                </ref>
                <pc>.</pc>
              </s>
              <s>
                <w>Note</w>
                <w>como</w>
                <w>nós</w>
                <w>precisamos</w>
                <w>de</w>
                <w>especificar</w>
                <w>um</w>
                <w>canal</w>
                <w>em</w>
                <w>alguns</w>
                <w>casos</w>
                <pc>.</pc>
              </s>
              <s>
                <w>O</w>
                <w>leitor</w>
                <w>pode</w>
                <w>pesquisar</w>
                <w>por</w>
                <w>pacotes</w>
                <w>no</w>
                <ref target="https://anaconda.org/">
                  <w>Anaconda</w>
                  <w>Cloud</w>
                </ref>
                <pc>.</pc>
              </s>
            </p>
            <ab>
              <code lang="language-bash" xml:id="code_extrair-paginas-ilustradas-com-python_4" corresp="code_extrair-paginas-ilustradas-com-python_4.txt" rend="block"/>
            </ab>
            <p>
              <s>
                <w>O</w>
                <w>Jupyter</w>
                <w>tem</w>
                <w>muitas</w>
                <w>dependências</w>
                <w>(outros</w>
                <w>pacotes</w>
                <w>dos</w>
                <w>quais</w>
                <w>depende),</w>
                <w>por</w>
                <w>isso</w>
                <w>esta</w>
                <w>etapa</w>
                <w>pode</w>
                <w>exigir</w>
                <w>alguns</w>
                <w>minutos</w>
                <pc>.</pc>
              </s>
              <s>
                <w>Recorde-se</w>
                <w>que</w>
                <w>quando</w>
                <w>o</w>
                <code rend="inline">conda</code>
                <w>lhe</w>
                <w>pergunta</w>
                <w>se</w>
                <w>deseja</w>
                <w>continuar</w>
                <w>com</w>
                <w>a</w>
                <w>instalação</w>
                <w>por</w>
                <w>via</w>
                <w>da</w>
                <w>questão</w>
                <code rend="inline">Proceed ([y]/n)?</code>
                <w>,</w>
                <w>o</w>
                <w>leitor</w>
                <w>deve</w>
                <w>digitar</w>
                <w>um</w>
                <code rend="inline">y</code>
                <w>ou</w>
                <w>um</w>
                <code rend="inline">yes</code>
                <w>e,</w>
                <w>depois,</w>
                <w>pressionar</w>
                <emph>
                  <w>Enter</w>
                </emph>
                <w>para</w>
                <w>aceitar</w>
                <w>a</w>
                <w>instalação</w>
                <w>do</w>
                <w>pacote</w>
                <pc>.</pc>
              </s>
            </p>
            <p style="alert alert-warning">
              <s>
                <w>Nos</w>
                <w>bastidores,</w>
                <w>o</w>
                <code rend="inline">conda</code>
                <w>está</w>
                <w>a</w>
                <w>trabalhar</w>
                <w>para</w>
                <w>certificar-se</w>
                <w>que</w>
                <w>todos</w>
                <w>os</w>
                <w>pacotes</w>
                <w>e</w>
                <w>dependências</w>
                <w>necessários</w>
                <w>serão</w>
                <w>instalados</w>
                <w>numa</w>
                <w>maneira</w>
                <w>compatível</w>
                <pc>.</pc>
              </s>
            </p>
          </div>
          <div type="4" n="4.3.3">
            <head>
              <s>
                <w>Instalar</w>
                <w>Pacotes</w>
                <w>do</w>
                <w>Pip</w>
              </s>
            </head>
            <p>
              <s>
                <w>Se</w>
                <w>estiver</w>
                <w>a</w>
                <w>usar</w>
                <w>um</w>
                <w>ambiente</w>
                <w>,</w>
                <w>é</w>
                <w>melhor</w>
                <w>usar</w>
                <w>a</w>
                <w>versão</w>
                <w>local</w>
                <w>do</w>
                <pc>.</pc>
              </s>
              <code rend="inline">conda</code>
              <code rend="inline">pip</code>
              <s>
                <w>Confirme</w>
                <w>que</w>
                <w>os</w>
                <w>seguintes</w>
                <w>comandos</w>
                <w>dão</w>
                <w>como</w>
                <w>resultado</w>
                <w>do</w>
                <emph>
                  <w>output</w>
                </emph>
                <w>um</w>
                <w>programa</w>
                <w>cujo</w>
                <w>caminho</w>
                <w>absoluto</w>
                <w>contém</w>
                <w>algo</w>
                <w>como</w>
                <code rend="inline">/Miniconda/envs/extract-pages/Scripts/pip</code>
                <pc>.</pc>
              </s>
            </p>
            <ab>
              <code lang="language-bash" xml:id="code_extrair-paginas-ilustradas-com-python_5" corresp="code_extrair-paginas-ilustradas-com-python_5.txt" rend="block"/>
            </ab>
            <ab>
              <code lang="language-bash" xml:id="code_extrair-paginas-ilustradas-com-python_6" corresp="code_extrair-paginas-ilustradas-com-python_6.txt" rend="block"/>
            </ab>
            <p>
              <s>
                <w>Se</w>
                <w>vir</w>
                <w>duas</w>
                <w>versões</w>
                <w>do</w>
                <code rend="inline">pip</code>
                <w>no</w>
                <emph>
                  <w>output</w>
                </emph>
                <w>em</w>
                <w>cima,</w>
                <w>certifique-se</w>
                <w>de</w>
                <w>digitar</w>
                <w>o</w>
                <w>caminho</w>
                <w>absoluto</w>
                <w>para</w>
                <w>a</w>
                <w>versão</w>
                <w>do</w>
                <w>ambiente</w>
                <emph>
                  <w>local</w>
                </emph>
                <w>ao</w>
                <w>instalar</w>
                <w>as</w>
                <w>bibliotecas</w>
                <emph>
                  <w>wrapper</w>
                </emph>
                <w>da</w>
                <w>API</w>
                <pc>.</pc>
              </s>
            </p>
            <ab>
              <code lang="language-bash" xml:id="code_extrair-paginas-ilustradas-com-python_7" corresp="code_extrair-paginas-ilustradas-com-python_7.txt" rend="block"/>
            </ab>
            <ab>
              <code lang="language-bash" xml:id="code_extrair-paginas-ilustradas-com-python_8" corresp="code_extrair-paginas-ilustradas-com-python_8.txt" rend="block"/>
            </ab>
          </div>
        </div>
        <div type="3" n="4.4">
          <head>
            <emph>
              <w>Jupyter</w>
              <w>Notebooks</w>
            </emph>
          </head>
          <p>
            <s>
              <w>O</w>
              <ref target="/en/lessons/text-mining-with-extracted-features#start-a-notebook">
                <emph>
                  <w>Text</w>
                  <w>Mining</w>
                  <w>in</w>
                  <w>Python</w>
                  <w>Through</w>
                  <w>the</w>
                  <w>HTRC</w>
                  <w>Feature</w>
                  <w>Reader</w>
                </emph>
              </ref>
              <w>,</w>
              <w>de</w>
              <w>Peter</w>
              <w>Organisciak</w>
              <w>e</w>
              <w>Boris</w>
              <w>Capitanu,</w>
              <w>explica</w>
              <w>os</w>
              <w>benefícios</w>
              <w>dos</w>
              <emph>
                <w>notebooks</w>
              </emph>
              <w>para</w>
              <w>o</w>
              <w>desenvolvimento</w>
              <w>e</w>
              <w>a</w>
              <w>exploração</w>
              <w>de</w>
              <w>dados</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Também</w>
              <w>contém</w>
              <w>informação</w>
              <w>útil</w>
              <w>sobre</w>
              <w>como</w>
              <w>executar</w>
              <w>eficazmente</w>
              <w>as</w>
              <w>células</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Visto</w>
              <w>que</w>
              <w>nós</w>
              <w>instalámos</w>
              <w>a</w>
              <w>versão</w>
              <w>minimalista</w>
              <w>da</w>
              <w>Anaconda,</w>
              <w>nós</w>
              <w>precisamos</w>
              <w>de</w>
              <w>iniciar</w>
              <w>o</w>
              <w>Jupyter</w>
              <w>a</w>
              <w>partir</w>
              <w>da</w>
              <w>linha</w>
              <w>de</w>
              <w>comandos</w>
              <pc>.</pc>
            </s>
            <s>
              <w>No</w>
              <w>seu</w>
              <emph>
                <w>shell</w>
              </emph>
              <w>(a</w>
              <w>partir</w>
              <w>do</w>
              <w>interior</w>
              <w>da</w>
              <w>pasta</w>
              <w>contendo</w>
              <w>os</w>
              <w>ficheiros</w>
              <w>da</w>
              <w>lição)</w>
              <w>execute</w>
              <code rend="inline">jupyter notebook</code>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Isto</w>
              <w>executará</w>
              <w>o</w>
              <w>servidor</w>
              <w>do</w>
              <emph>
                <w>notebook</w>
              </emph>
              <w>no</w>
              <w>seu</w>
              <emph>
                <w>shell</w>
              </emph>
              <w>e</w>
              <w>iniciará</w>
              <w>o</w>
              <w>seu</w>
              <w>navegador</w>
              <w>de</w>
              <w>internet</w>
              <w>predefinido</w>
              <w>com</w>
              <w>a</w>
              <w>página</w>
              <w>inicial</w>
              <w>do</w>
              <w>Jupyter</w>
              <ref type="footnotemark" target="#pt_note_2"/>
              <pc>.</pc>
            </s>
            <s>
              <w>A</w>
              <w>página</w>
              <w>inicial</w>
              <w>mostra</w>
              <w>todos</w>
              <w>os</w>
              <w>ficheiros</w>
              <w>no</w>
              <w>diretório</w>
              <w>de</w>
              <w>trabalho</w>
              <w>atual</w>
              <pc>.</pc>
            </s>
          </p>
          <figure>
            <desc>
              <s>
                <w>A</w>
                <w>página</w>
                <w>inicial</w>
                <w>do</w>
                <w>Jupyter</w>
                <w>mostrando</w>
                <w>os</w>
                <w>ficheiros</w>
                <w>da</w>
                <w>lição</w>
                <pc>.</pc>
              </s>
            </desc>
            <figDesc>
              <s>
                <w>Imagem</w>
                <w>com</w>
                <w>a</w>
                <w>apresentação</w>
                <w>da</w>
                <w>estrutura</w>
                <w>de</w>
                <w>ficheiros</w>
                <w>da</w>
                <w>página</w>
                <w>inicial</w>
                <w>do</w>
                <w>Jupyter</w>
              </s>
            </figDesc>
            <graphic url="jupyter-home.png"/>
          </figure>
          <p style="alert alert-warning">
            <s>
              <w>No</w>
              <w>seu</w>
              <w>shell,</w>
              <w>certifique-se</w>
              <w>que</w>
              <w>usou</w>
              <w>o</w>
              <w>comando</w>
              <code rend="inline">cd</code>
              <w>para</w>
              <w>ir</w>
              <w>até</w>
              <w>ao</w>
              <w>diretório</w>
              <w>descomprimido</w>
              <code rend="inline">lesson-files</code>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Clique</w>
              <w>nos</w>
              <emph>
                <w>notebooks</w>
              </emph>
              <w>e</w>
              <w>para</w>
              <w>abri-los</w>
              <w>em</w>
              <w>novas</w>
              <w>abas</w>
              <w>do</w>
              <w>navegador</w>
              <w>de</w>
              <w>internet</w>
              <pc>.</pc>
            </s>
            <code rend="inline">hathitrust.ipynb</code>
            <code rend="inline">internetarchive.ipynb</code>
            <s>
              <w>A</w>
              <w>partir</w>
              <w>daqui,</w>
              <w>nós</w>
              <w>não</w>
              <w>precisamos</w>
              <w>de</w>
              <w>executar</w>
              <w>qualquer</w>
              <w>comando</w>
              <w>no</w>
              <emph>
                <w>shell</w>
              </emph>
              <pc>.</pc>
            </s>
            <s>
              <w>Os</w>
              <emph>
                <w>notebooks</w>
              </emph>
              <w>permitem-nos</w>
              <w>executar</w>
              <w>o</w>
              <w>código</w>
              <w>Python</w>
              <w>e</w>
              <w>ter</w>
              <w>acesso</w>
              <w>total</w>
              <w>ao</w>
              <w>sistema</w>
              <w>de</w>
              <w>pastas</w>
              <w>do</w>
              <w>computador</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Quando</w>
              <w>o</w>
              <w>leitor</w>
              <w>tiver</w>
              <w>terminado,</w>
              <w>pode</w>
              <w>parar</w>
              <w>o</w>
              <w>servidor</w>
              <w>do</w>
              <emph>
                <w>notebook</w>
              </emph>
              <w>carregando</w>
              <w>em</w>
              <w>"</w>
              <emph>
                <w>Quit</w>
              </emph>
              <w>"</w>
              <w>na</w>
              <w>página</w>
              <w>inicial</w>
              <w>do</w>
              <w>Jupyter</w>
              <w>ou</w>
              <w>executando</w>
              <code rend="inline">ctrl+c</code>
              <w>no</w>
              <emph>
                <w>shell</w>
              </emph>
              <pc>.</pc>
            </s>
          </p>
        </div>
      </div>
      <div type="2" n="5">
        <head>
          <s>
            <w>HathiTrust</w>
          </s>
        </head>
        <div type="3" n="5.1">
          <head>
            <s>
              <w>Acesso</w>
              <w>à</w>
              <w>API</w>
            </s>
          </head>
          <p>
            <s>
              <w>O</w>
              <w>leitor</w>
              <w>precisa</w>
              <w>efetuar</w>
              <w>um</w>
              <w>registro</w>
              <w>no</w>
              <w>HathiTrust</w>
              <w>antes</w>
              <w>de</w>
              <w>usar</w>
              <w>o</w>
              <w>API</w>
              <w>de</w>
              <w>dados</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Dirija-se</w>
              <w>ao</w>
              <ref target="https://babel.hathitrust.org/cgi/kgs/request">
                <w>portal</w>
                <w>de</w>
                <w>registro</w>
              </ref>
              <w>e</w>
              <w>preencha</w>
              <w>o</w>
              <w>seu</w>
              <w>nome,</w>
              <w>a</w>
              <w>sua</w>
              <w>organização</w>
              <w>e</w>
              <w>o</w>
              <w>seu</w>
              <w>e-mail</w>
              <w>para</w>
              <w>requerer</w>
              <w>chaves</w>
              <w>de</w>
              <w>acesso</w>
              <pc>.</pc>
            </s>
            <s>
              <w>O</w>
              <w>leitor</w>
              <w>deverá</w>
              <w>receber</w>
              <w>uma</w>
              <w>resposta</w>
              <w>no</w>
              <w>e-mail</w>
              <w>dentro</w>
              <w>de</w>
              <w>cerca</w>
              <w>dum</w>
              <w>minuto</w>
              <w>(</w>
              <w>:</w>
              <w>verifique</w>
              <w>também</w>
              <w>a</w>
              <w>caixa</w>
              <w>de</w>
              <emph>
                <w>spam</w>
              </emph>
              <w>)</w>
              <pc>.</pc>
            </s>
            <hi rend="bold">
              <s>
                <w>nota</w>
                <w>de</w>
                <w>tradução</w>
              </s>
            </hi>
            <s>
              <w>Clique</w>
              <w>no</w>
              <w>link,</w>
              <w>que</w>
              <w>o</w>
              <w>trará</w>
              <w>a</w>
              <w>uma</w>
              <w>página</w>
              <w>temporária</w>
              <w>com</w>
              <w>ambas</w>
              <w>as</w>
              <w>chaves</w>
              <w>exibidas</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>No</w>
              <emph>
                <w>notebook</w>
              </emph>
              <w>,</w>
              <w>examine</w>
              <w>a</w>
              <w>primeira</w>
              <w>célula</w>
              <w>(mostrada</w>
              <w>em</w>
              <w>baixo)</w>
              <pc>.</pc>
            </s>
            <code rend="inline">hathitrust.ipynb</code>
            <s>
              <w>Preencha</w>
              <w>as</w>
              <w>suas</w>
              <w>chaves</w>
              <w>da</w>
              <w>API</w>
              <w>como</w>
              <w>indicado</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Depois,</w>
              <w>execute</w>
              <w>a</w>
              <w>célula</w>
              <w>clicando</w>
              <w>em</w>
              <w>"</w>
              <emph>
                <w>Run</w>
              </emph>
              <w>"</w>
              <w>na</w>
              <w>barra</w>
              <w>de</w>
              <w>navegação</w>
              <w>do</w>
              <emph>
                <w>notebook</w>
              </emph>
              <pc>.</pc>
            </s>
          </p>
          <ab>
            <code lang="language-python" xml:id="code_extrair-paginas-ilustradas-com-python_9" corresp="code_extrair-paginas-ilustradas-com-python_9.txt" rend="block"/>
          </ab>
          <p style="alert alert-warning">
            <s>
              <w>Cuidado</w>
              <pc>!</pc>
            </s>
            <s>
              <w>Não</w>
              <w>exponha</w>
              <w>as</w>
              <w>suas</w>
              <w>chaves</w>
              <w>de</w>
              <w>acesso</w>
              <w>através</w>
              <w>dum</w>
              <w>repositório</w>
              <w>público</w>
              <w>no</w>
              <w>GitHub</w>
              <w>(ou</w>
              <w>outro</w>
              <emph>
                <w>host</w>
              </emph>
              <w>de</w>
              <w>controle</w>
              <w>de</w>
              <w>versões)</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Elas</w>
              <w>serão</w>
              <w>pesquisáveis</w>
              <w>por</w>
              <w>qualquer</w>
              <w>outra</w>
              <w>pessoa</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Uma</w>
              <w>boa</w>
              <w>prática</w>
              <w>para</w>
              <w>um</w>
              <w>projeto</w>
              <w>Python</w>
              <w>é</w>
              <w>a</w>
              <w>de</w>
              <w>armazenar</w>
              <w>as</w>
              <w>suas</w>
              <w>chaves</w>
              <w>de</w>
              <w>acesso</w>
              <w>como</w>
              <w>variáveis</w>
              <w>de</w>
              <w>ambiente</w>
              <w>ou</w>
              <w>salvá-las</w>
              <w>num</w>
              <w>ficheiro</w>
              <w>que</w>
              <w>não</w>
              <w>é</w>
              <emph>
                <w>versionado</w>
              </emph>
              <pc>.</pc>
            </s>
          </p>
        </div>
        <div type="3" n="5.2">
          <head>
            <s>
              <w>Criar</w>
              <w>uma</w>
              <w>Lista</w>
              <w>de</w>
              <w>Volumes</w>
            </s>
          </head>
          <p>
            <s>
              <w>O</w>
              <w>HT</w>
              <w>permite</w>
              <w>a</w>
              <w>qualquer</w>
              <w>um</w>
              <w>fazer</w>
              <w>uma</w>
              <w>coleção</w>
              <w>de</w>
              <w>itens—o</w>
              <w>leitor</w>
              <w>nem</w>
              <w>sequer</w>
              <w>tem</w>
              <w>que</w>
              <w>estar</w>
              <w>na</w>
              <w>sua</w>
              <w>conta</w>
              <pc>!</pc>
            </s>
            <s>
              <w>No</w>
              <w>entanto,</w>
              <w>o</w>
              <w>leitor</w>
              <w>deveria</w>
              <w>registrar</w>
              <w>uma</w>
              <w>conta</w>
              <w>se</w>
              <w>quiser</w>
              <w>salvar</w>
              <w>a</w>
              <w>sua</w>
              <w>lista</w>
              <w>de</w>
              <w>volumes</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Siga</w>
              <w>as</w>
              <ref target="https://babel.hathitrust.org/cgi/mb?colltype=updated">
                <w>instruções</w>
              </ref>
              <w>para</w>
              <w>fazer</w>
              <w>algumas</w>
              <w>pesquisas</w>
              <w>no</w>
              <w>texto</w>
              <w>completo</w>
              <w>e</w>
              <w>para,</w>
              <w>depois,</w>
              <w>adicionar</w>
              <w>resultados</w>
              <w>escolhidos</w>
              <w>a</w>
              <w>uma</w>
              <w>coleção</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Atualmente,</w>
              <w>o</w>
              <w>HathiTrust</w>
              <w>não</w>
              <w>tem</w>
              <w>uma</w>
              <w>API</w>
              <w>de</w>
              <w>pesquisa</w>
              <w>pública</w>
              <w>para</w>
              <w>adquirir</w>
              <w>volumes</w>
              <w>programaticamente;</w>
              <w>o</w>
              <w>leitor</w>
              <w>precisa</w>
              <w>de</w>
              <w>pesquisar</w>
              <w>através</w>
              <w>da</w>
              <w>sua</w>
              <emph>
                <w>interface</w>
              </emph>
              <w>da</w>
              <w>internet</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Ao</w>
              <w>atualizar</w>
              <w>uma</w>
              <w>coleção,</w>
              <w>o</w>
              <w>HT</w>
              <w>mantém</w>
              <w>o</w>
              <w>rastro</w>
              <w>dos</w>
              <w>metadados</w>
              <w>associados</w>
              <w>para</w>
              <w>cada</w>
              <w>item</w>
              <w>nela</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Eu</w>
              <w>incluí</w>
              <w>nos</w>
              <w>ficheiros</w>
              <w>da</w>
              <w>lição</w>
              <w>os</w>
              <w>metadados</w>
              <w>para</w>
              <w>uma</w>
              <w>lição</w>
              <w>de</w>
              <w>amostra</w>
              <w>no</w>
              <w>formato</w>
              <w>JSON</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Se</w>
              <w>quisesse</w>
              <w>usar</w>
              <w>o</w>
              <w>ficheiro</w>
              <w>da</w>
              <w>sua</w>
              <w>própria</w>
              <w>coleção</w>
              <w>do</w>
              <w>HT,</w>
              <w>o</w>
              <w>leitor</w>
              <w>navegaria</w>
              <w>até</w>
              <w>à</w>
              <w>página</w>
              <w>das</w>
              <w>suas</w>
              <w>coleções</w>
              <w>e</w>
              <w>colocaria</w>
              <w>o</w>
              <w>cursor</w>
              <w>do</w>
              <emph>
                <w>mouse</w>
              </emph>
              <w>sobre</w>
              <w>o</w>
              <w>link</w>
              <w>dos</w>
              <w>metadados</w>
              <w>à</w>
              <w>esquerda</w>
              <w>para</w>
              <w>revelar</w>
              <w>a</w>
              <w>opção</w>
              <w>para</w>
              <w>fazer</w>
              <w>o</w>
              <emph>
                <w>download</w>
              </emph>
              <w>como</w>
              <w>JSON,</w>
              <w>como</w>
              <w>observado</w>
              <w>na</w>
              <w>seguinte</w>
              <w>captura</w>
              <w>de</w>
              <w>tela</w>
              <pc>.</pc>
            </s>
          </p>
          <figure>
            <desc>
              <s>
                <w>Captura</w>
                <w>de</w>
                <w>tela</w>
                <w>de</w>
                <w>como</w>
                <w>fazer</w>
                <w>o</w>
                <w>*download*</w>
                <w>dos</w>
                <w>metadados</w>
                <w>de</w>
                <w>coleções</w>
                <w>no</w>
                <w>formato</w>
                <w>JSON</w>
                <pc>.</pc>
              </s>
            </desc>
            <figDesc>
              <s>
                <w>Imagem</w>
                <w>de</w>
                <w>uma</w>
                <w>página</w>
                <w>web</w>
                <w>do</w>
                <w>site</w>
                <w>HathiTrust</w>
                <w>com</w>
                <w>instruções</w>
                <w>para</w>
                <w>download</w>
                <w>de</w>
                <w>metadados</w>
                <w>de</w>
                <w>ficheiros</w>
                <w>JSON</w>
              </s>
            </figDesc>
            <graphic url="download-ht-json.png"/>
          </figure>
          <p>
            <s>
              <w>Assim</w>
              <w>que</w>
              <w>o</w>
              <w>leitor</w>
              <w>tiver</w>
              <w>feito</w>
              <w>o</w>
              <emph>
                <w>download</w>
              </emph>
              <w>do</w>
              <w>ficheiro</w>
              <w>JSON,</w>
              <w>basta</w>
              <w>movê-lo</w>
              <w>para</w>
              <w>o</w>
              <w>diretório</w>
              <w>onde</w>
              <w>colocou</w>
              <w>os</w>
              <emph>
                <w>Jupyter</w>
                <w>notebooks</w>
              </emph>
              <pc>.</pc>
            </s>
            <s>
              <w>Substitua</w>
              <w>o</w>
              <w>nome</w>
              <w>do</w>
              <w>ficheiro</w>
              <w>JSON</w>
              <w>no</w>
              <emph>
                <w>notebook</w>
              </emph>
              <w>do</w>
              <w>HT</w>
              <w>com</w>
              <w>o</w>
              <w>nome</w>
              <w>do</w>
              <w>ficheiro</w>
              <w>da</w>
              <w>sua</w>
              <w>coleção</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>O</w>
              <emph>
                <w>notebook</w>
              </emph>
              <w>mostra</w>
              <w>como</w>
              <w>usar</w>
              <emph>
                <w>list</w>
                <w>comprehension</w>
              </emph>
              <w>para</w>
              <w>obter</w>
              <w>todas</w>
              <w>as</w>
              <emph>
                <w>strings</w>
              </emph>
              <code rend="inline">htitem_id</code>
              <w>dentro</w>
              <w>do</w>
              <w>objeto</w>
              <code rend="inline">gathers</code>
              <w>que</w>
              <w>contem</w>
              <w>todas</w>
              <w>as</w>
              <w>informações</w>
              <w>da</w>
              <w>coleção</w>
              <pc>.</pc>
            </s>
          </p>
          <ab>
            <code lang="language-python" xml:id="code_extrair-paginas-ilustradas-com-python_10" corresp="code_extrair-paginas-ilustradas-com-python_10.txt" rend="block"/>
          </ab>
          <p style="alert alert-warning">
            <s>
              <w>Os</w>
              <w>tutoriais</w>
              <w>normalmente</w>
              <w>mostram-lhe</w>
              <w>como</w>
              <w>processar</w>
              <w>um</w>
              <w>item</w>
              <w>de</w>
              <w>exemplo</w>
              <w>(muitas</w>
              <w>vezes</w>
              <w>de</w>
              <w>tamanho</w>
              <w>ou</w>
              <w>complexidade</w>
              <w>trivial)</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Isto</w>
              <w>é</w>
              <w>pedagogicamente</w>
              <w>conveniente,</w>
              <w>mas</w>
              <w>significa</w>
              <w>que</w>
              <w>o</w>
              <w>leitor</w>
              <w>está</w>
              <w>menos</w>
              <w>equipado</w>
              <w>para</w>
              <w>aplicar</w>
              <w>esse</w>
              <w>código</w>
              <w>a</w>
              <w>múltiplos</w>
              <w>itens—de</w>
              <w>longe</w>
              <w>o</w>
              <w>caso</w>
              <w>de</w>
              <w>uso</w>
              <w>mais</w>
              <w>comum</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Nos</w>
              <emph>
                <w>notebooks</w>
              </emph>
              <w>,</w>
              <w>o</w>
              <w>leitor</w>
              <w>verá</w>
              <w>como</w>
              <w>encapsular</w>
              <w>transformações</w>
              <w>aplicadas</w>
              <w>a</w>
              <w>um</w>
              <w>item</w>
              <w>em</w>
              <emph>
                <w>funções</w>
              </emph>
              <w>que</w>
              <w>podem</w>
              <w>ser</w>
              <w>usadas</w>
              <w>num</w>
              <emph>
                <w>loop</w>
              </emph>
              <w>sobre</w>
              <w>uma</w>
              <w>coleção</w>
              <w>de</w>
              <w>itens</w>
              <pc>.</pc>
            </s>
          </p>
        </div>
        <div type="3" n="5.3">
          <head>
            <s>
              <w>Característica</w>
              <w>Visual:</w>
              <w>IMAGE_ON_PAGE</w>
            </s>
          </head>
          <p>
            <s>
              <w>Dada</w>
              <w>uma</w>
              <w>lista</w>
              <w>de</w>
              <w>volumes,</w>
              <w>nós</w>
              <w>queremos</w>
              <w>explorar</w>
              <w>que</w>
              <w>características</w>
              <w>visuais</w>
              <w>eles</w>
              <w>têm</w>
              <w>ao</w>
              <w>nível</w>
              <w>da</w>
              <w>página</w>
              <pc>.</pc>
            </s>
            <s>
              <w>A</w>
              <ref target="https://perma.cc/Y6UU-G9HZ">
                <w>documentação</w>
                <w>mais</w>
                <w>recente</w>
              </ref>
              <w>(2015)</w>
              <w>para</w>
              <w>o</w>
              <w>API</w>
              <w>de</w>
              <w>dados</w>
              <w>descreve</w>
              <w>um</w>
              <w>objeto</w>
              <w>metadados</w>
              <w>chamado</w>
              <code rend="inline">htd:pfeat</code>
              <w>nas</w>
              <w>páginas</w>
              <w>9-10</w>
              <pc>.</pc>
            </s>
            <code rend="inline">htd:pfeat</code>
            <s>
              <w>é</w>
              <w>a</w>
              <w>abreviação</w>
              <w>para</w>
              <w>"HathiTrust</w>
              <w>Data</w>
              <w>API:</w>
              <w>Page</w>
              <w>Features"</w>
              <pc>.</pc>
            </s>
          </p>
          <quote>
            <list type="unordered">
              <item>
                <s>
                  <code rend="inline">htd:pfeat</code>
                  <w>­</w>
                  <w>-</w>
                  <w>the</w>
                  <w>page</w>
                  <w>feature</w>
                  <w>key</w>
                  <w>(if</w>
                  <w>available):</w>
                  <list type="unordered">
                    <item>
                      <s>
                        <w>CHAPTER_START</w>
                      </s>
                    </item>
                    <item>
                      <s>
                        <w>COPYRIGHT</w>
                      </s>
                    </item>
                    <item>
                      <s>
                        <w>FIRST_CONTENT_CHAPTER_START</w>
                      </s>
                    </item>
                    <item>
                      <s>
                        <w>FRONT_COVER</w>
                      </s>
                    </item>
                    <item>
                      <s>
                        <w>INDEX</w>
                      </s>
                    </item>
                    <item>
                      <s>
                        <w>REFERENCES</w>
                      </s>
                    </item>
                    <item>
                      <s>
                        <w>TABLE_OF_CONTENTS</w>
                      </s>
                    </item>
                    <item>
                      <s>
                        <w>TITLE</w>
                      </s>
                    </item>
                  </list>
                </s>
              </item>
            </list>
          </quote>
          <p>
            <s>
              <w>O</w>
              <w>que</w>
              <w>o</w>
              <emph>
                <w>wrapper</w>
              </emph>
              <w>faz</w>
              <w>é</w>
              <w>disponibilizar</w>
              <w>os</w>
              <w>metadados</w>
              <w>completos</w>
              <w>para</w>
              <w>um</w>
              <w>volume</w>
              <w>do</w>
              <w>HT</w>
              <w>como</w>
              <w>um</w>
              <w>objeto</w>
              <w>Python</w>
              <pc>.</pc>
            </s>
            <code rend="inline">hathitrust-api</code>
            <s>
              <w>Dado</w>
              <w>o</w>
              <w>identificador</w>
              <w>dum</w>
              <w>volume,</w>
              <w>nós</w>
              <w>podemos</w>
              <w>pedir</w>
              <w>os</w>
              <w>seus</w>
              <w>metadados</w>
              <w>e,</w>
              <w>depois,</w>
              <w>fazer</w>
              <w>o</w>
              <emph>
                <w>drill</w>
                <w>down</w>
              </emph>
              <w>através</w>
              <w>da</w>
              <emph>
                <w>sequência</w>
              </emph>
              <w>de</w>
              <w>páginas</w>
              <w>até</w>
              <w>à</w>
              <w>informação</w>
              <w>ao</w>
              <w>nível</w>
              <w>da</w>
              <w>página</w>
              <pc>.</pc>
            </s>
            <s>
              <w>A</w>
              <emph>
                <w>lista</w>
              </emph>
              <code rend="inline">htd:pfeat</code>
              <w>está</w>
              <w>associada</w>
              <w>com</w>
              <w>cada</w>
              <w>página</w>
              <w>num</w>
              <w>volume</w>
              <w>e,</w>
              <w>em</w>
              <w>teoria,</w>
              <w>contém</w>
              <w>todas</w>
              <w>as</w>
              <w>características</w>
              <w>que</w>
              <w>se</w>
              <w>aplicam</w>
              <w>a</w>
              <w>essa</w>
              <w>página</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Na</w>
              <w>prática,</w>
              <w>existem</w>
              <w>mais</w>
              <w>algumas</w>
              <emph>
                <w>tags</w>
              </emph>
              <w>de</w>
              <w>características</w>
              <w>do</w>
              <w>que</w>
              <w>as</w>
              <w>oito</w>
              <w>listadas</w>
              <w>em</w>
              <w>cima</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Aquela</w>
              <w>com</w>
              <w>a</w>
              <w>qual</w>
              <w>nós</w>
              <w>iremos</w>
              <w>trabalhar</w>
              <w>chama-se</w>
              <code rend="inline">IMAGE_ON_PAGE</code>
              <w>e</w>
              <w>é</w>
              <w>mais</w>
              <w>abstratamente</w>
              <w>visual</w>
              <w>que</w>
              <emph>
                <w>tags</w>
              </emph>
              <w>estruturais</w>
              <w>como</w>
              <code rend="inline">CHAPTER_START</code>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Tom</w>
              <w>Burton-West,</w>
              <w>um</w>
              <w>bibliotecário</w>
              <w>pesquisador</w>
              <w>na</w>
              <w>biblioteca</w>
              <w>da</w>
              <emph>
                <w>University</w>
                <w>of</w>
                <w>Michigan</w>
              </emph>
              <w>,</w>
              <w>trabalha</w>
              <w>em</w>
              <w>estreita</w>
              <w>colaboração</w>
              <w>com</w>
              <w>o</w>
              <w>HathiTrust</w>
              <w>e</w>
              <w>o</w>
              <w>HTRC,</w>
              <w>o</w>
              <w>Centro</w>
              <w>de</w>
              <w>Pesquisa</w>
              <w>do</w>
              <w>HathiTrust</w>
              <pc>.</pc>
            </s>
            <s>
              <w>O</w>
              <w>Tom</w>
              <w>disse-me</w>
              <w>por</w>
              <w>e-mail</w>
              <w>que</w>
              <w>o</w>
              <w>HathiTrust</w>
              <w>recebe</w>
              <w>a</w>
              <w>informação</w>
              <code rend="inline">htd:pfeat</code>
              <w>via</w>
              <w>o</w>
              <w>Google,</w>
              <w>com</w>
              <w>o</w>
              <w>qual</w>
              <w>trabalham</w>
              <w>proximamente</w>
              <w>desde</w>
              <w>a</w>
              <w>fundação</w>
              <w>do</w>
              <w>HT,</w>
              <w>em</w>
              <w>2008</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Um</w>
              <w>contacto</w>
              <w>no</w>
              <w>Google</w>
              <w>deu</w>
              <w>permissão</w>
              <w>ao</w>
              <w>Tom</w>
              <w>para</w>
              <w>partilhar</w>
              <w>o</w>
              <w>seguinte:</w>
            </s>
          </p>
          <quote>
            <p>
              <s>
                <w>Estas</w>
                <emph>
                  <w>tags</w>
                </emph>
                <w>são</w>
                <w>derivadas</w>
                <w>duma</w>
                <w>combinação</w>
                <w>de</w>
                <w>Heurística,</w>
                <w>de</w>
                <w>aprendizagem</w>
                <w>de</w>
                <w>máquina</w>
                <w>e</w>
                <w>de</w>
                <w>anotação</w>
                <w>humana</w>
                <pc>.</pc>
              </s>
            </p>
          </quote>
          <p>
            <s>
              <w>Um</w>
              <w>exemplo</w>
              <w>heurístico</w>
              <w>pode</w>
              <w>ser</w>
              <w>o</w>
              <w>facto</w>
              <w>do</w>
              <w>primeiro</w>
              <w>elemento</w>
              <w>na</w>
              <w>sequência</w>
              <w>de</w>
              <w>páginas</w>
              <w>do</w>
              <w>volume</w>
              <w>ser</w>
              <w>quase</w>
              <w>sempre</w>
              <w>a</w>
              <pc>.</pc>
            </s>
            <code rend="inline">FRONT_COVER</code>
            <s>
              <w>A</w>
              <w>aprendizagem</w>
              <w>de</w>
              <w>máquina</w>
              <w>pode</w>
              <w>ser</w>
              <w>usada</w>
              <w>para</w>
              <w>treinar</w>
              <w>modelos</w>
              <w>a</w>
              <w>discriminar,</w>
              <w>digamos,</w>
              <w>entre</w>
              <w>dados</w>
              <w>de</w>
              <w>imagem</w>
              <w>que</w>
              <w>são</w>
              <w>mais</w>
              <w>típicos</w>
              <w>das</w>
              <w>linhas</w>
              <w>de</w>
              <w>prosa</w>
              <w>numa</w>
              <w>escrita</w>
              <w>ocidental</w>
              <w>ou</w>
              <w>das</w>
              <w>linhas</w>
              <w>numa</w>
              <w>gravura</w>
              <pc>.</pc>
            </s>
            <s>
              <w>A</w>
              <w>anotação</w>
              <w>humana</w>
              <w>é</w>
              <w>a</w>
              <w>atribuição</w>
              <w>manual</w>
              <w>de</w>
              <w>etiquetas</w>
              <w>a</w>
              <w>imagens</w>
              <pc>.</pc>
            </s>
            <s>
              <w>A</w>
              <w>habilidade</w>
              <w>de</w>
              <w>ver</w>
              <w>as</w>
              <w>ilustrações</w>
              <w>dum</w>
              <w>volume</w>
              <w>nos</w>
              <w>bancos</w>
              <w>de</w>
              <w>dados</w>
              <w>do</w>
              <w>EEBO</w>
              <w>e</w>
              <w>do</w>
              <w>ECCO</w>
              <w>é</w>
              <w>um</w>
              <w>exemplo</w>
              <w>de</w>
              <w>anotação</w>
              <w>humana</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>O</w>
              <w>uso</w>
              <w>da</w>
              <w>"aprendizagem</w>
              <w>de</w>
              <w>máquina"</w>
              <w>pelo</w>
              <w>Google</w>
              <w>parece</w>
              <w>um</w>
              <w>pouco</w>
              <w>misterioso</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Até</w>
              <w>o</w>
              <w>Google</w>
              <w>publicitar</w>
              <w>os</w>
              <w>seus</w>
              <w>métodos,</w>
              <w>é</w>
              <w>impossível</w>
              <w>saber</w>
              <w>todos</w>
              <w>os</w>
              <w>detalhes</w>
              <pc>.</pc>
            </s>
            <s>
              <w>No</w>
              <w>entanto,</w>
              <w>é</w>
              <w>provável</w>
              <w>que</w>
              <w>as</w>
              <emph>
                <w>tags</w>
              </emph>
              <code rend="inline">IMAGE_ON_PAGE</code>
              <w>tenham</w>
              <w>sido</w>
              <w>propostas</w>
              <w>pela</w>
              <w>primeira</w>
              <w>vez</w>
              <w>após</w>
              <w>a</w>
              <w>deteção</w>
              <w>de</w>
              <w>blocos</w>
              <w>de</w>
              <w>"Imagens"</w>
              <w>nos</w>
              <w>ficheiros</w>
              <w>de</w>
              <emph>
                <w>output</w>
              </emph>
              <w>do</w>
              <w>OCR</w>
              <w>(um</w>
              <w>processo</w>
              <w>discutido</w>
              <w>em</w>
              <w>baixo,</w>
              <w>na</w>
              <w>secção</w>
              <w>do</w>
              <w>Internet</w>
              <w>Archive)</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Mais</w>
              <w>filtragem</w>
              <w>pode,</w>
              <w>então,</w>
              <w>ser</w>
              <w>aplicada</w>
              <pc>.</pc>
            </s>
          </p>
        </div>
        <div type="3" n="5.4">
          <head>
            <s>
              <w>Passo</w>
              <w>a</w>
              <w>Passo</w>
              <w>Para</w>
              <w>o</w>
              <w>Código</w>
            </s>
          </head>
          <div type="4" n="5.4.1">
            <head>
              <s>
                <w>Encontrar</w>
                <w>as</w>
                <w>imagens</w>
              </s>
            </head>
            <p>
              <s>
                <w>Nós</w>
                <w>vimos</w>
                <w>como</w>
                <w>criar</w>
                <w>uma</w>
                <w>lista</w>
                <w>de</w>
                <w>volumes</w>
                <w>e</w>
                <w>observámos</w>
                <w>que</w>
                <w>a</w>
                <w>API</w>
                <w>de</w>
                <w>dados</w>
                <w>pode</w>
                <w>ser</w>
                <w>usada</w>
                <w>para</w>
                <w>obter</w>
                <w>objetos</w>
                <w>metadados</w>
                <w>contendo</w>
                <w>características</w>
                <w>experimentais</w>
                <w>ao</w>
                <w>nível</w>
                <w>da</w>
                <w>página</w>
                <pc>.</pc>
              </s>
              <s>
                <w>A</w>
                <w>função</w>
                <w>essencial</w>
                <w>no</w>
                <emph>
                  <w>notebook</w>
                </emph>
                <w>do</w>
                <w>HT</w>
                <w>tem</w>
                <w>a</w>
                <w>assinatura</w>
                <w>digital</w>
                <code rend="inline">ht_picture_download(item_id, out_dir=None)</code>
                <pc>.</pc>
              </s>
              <s>
                <w>Dado</w>
                <w>um</w>
                <w>identificador</w>
                <w>exclusivo</w>
                <w>e</w>
                <w>um</w>
                <w>diretório</w>
                <w>de</w>
                <w>destino</w>
                <w>opcional,</w>
                <w>esta</w>
                <w>função</w>
                <w>irá,</w>
                <w>em</w>
                <w>primeiro</w>
                <w>lugar,</w>
                <w>obter</w>
                <w>os</w>
                <w>metadados</w>
                <w>do</w>
                <w>volume</w>
                <w>a</w>
                <w>partir</w>
                <w>da</w>
                <w>API</w>
                <w>e</w>
                <w>convertê-los</w>
                <w>num</w>
                <w>formato</w>
                <w>JSON</w>
                <pc>.</pc>
              </s>
              <s>
                <w>Depois,</w>
                <w>percorre</w>
                <w>a</w>
                <w>sequência</w>
                <w>de</w>
                <w>páginas</w>
                <w>e</w>
                <w>verifica</w>
                <w>se</w>
                <w>a</w>
                <emph>
                  <w>tag</w>
                </emph>
                <code rend="inline">IMAGE_ON_PAGE</code>
                <w>está</w>
                <w>na</w>
                <w>lista</w>
                <code rend="inline">htd:pfeat</code>
                <w>(se</w>
                <w>a</w>
                <w>mesma</w>
                <w>existir)</w>
                <pc>.</pc>
              </s>
            </p>
            <ab>
              <code lang="language-python" xml:id="code_extrair-paginas-ilustradas-com-python_11" corresp="code_extrair-paginas-ilustradas-com-python_11.txt" rend="block"/>
            </ab>
            <p>
              <s>
                <w>Note</w>
                <w>que</w>
                <w>nós</w>
                <w>precisamos</w>
                <w>de</w>
                <w>fazer</w>
                <w>o</w>
                <emph>
                  <w>drill</w>
                  <w>down</w>
                </emph>
                <w>por</w>
                <w>vários</w>
                <w>níveis</w>
                <w>até</w>
                <w>ao</w>
                <w>objeto</w>
                <w>do</w>
                <w>nível</w>
                <w>de</w>
                <w>topo</w>
                <w>para</w>
                <w>obter</w>
                <w>o</w>
                <w>objeto</w>
                <code rend="inline">htd:seq</code>
                <w>,</w>
                <w>sobre</w>
                <w>o</w>
                <w>qual</w>
                <w>nós</w>
                <w>podemos</w>
                <w>iterar</w>
                <pc>.</pc>
              </s>
            </p>
            <p>
              <s>
                <w>As</w>
                <w>duas</w>
                <w>exceções</w>
                <w>que</w>
                <w>eu</w>
                <w>quero</w>
                <w>evitar</w>
                <w>são</w>
                <w>o</w>
                <w>,</w>
                <w>que</w>
                <w>ocorre</w>
                <w>quando</w>
                <w>a</w>
                <w>página</w>
                <w>não</w>
                <w>tem</w>
                <w>qualquer</w>
                <w>característica</w>
                <w>ao</w>
                <w>nível</w>
                <w>da</w>
                <w>página</w>
                <w>a</w>
                <w>si</w>
                <w>associada,</w>
                <w>e</w>
                <w>o</w>
                <w>,</w>
                <w>que</w>
                <w>ocorre</w>
                <w>quando</w>
                <w>o</w>
                <w>campo</w>
                <w>para</w>
                <w>a</w>
                <w>página</w>
                <w>é,</w>
                <w>por</w>
                <w>alguma</w>
                <w>razão,</w>
                <w>não</w>
                <w>numérico</w>
                <w>e,</w>
                <w>portanto,</w>
                <w>não</w>
                <w>pode</w>
                <w>ser</w>
                <w>destinado</w>
                <w>a</w>
                <w>um</w>
                <pc>.</pc>
              </s>
              <code rend="inline">KeyError</code>
              <code rend="inline">TypeError</code>
              <code rend="inline">pseq</code>
              <code rend="inline">int</code>
              <s>
                <w>Se</w>
                <w>algo</w>
                <w>correr</w>
                <w>mal</w>
                <w>com</w>
                <w>uma</w>
                <w>página,</w>
                <w>nós</w>
                <w>simplesmente</w>
                <w>executamos</w>
                <code rend="inline">continue</code>
                <w>para</w>
                <w>passar</w>
                <w>à</w>
                <w>próxima</w>
                <pc>.</pc>
              </s>
              <s>
                <w>O</w>
                <w>plano</w>
                <w>é</w>
                <w>obter</w>
                <w>todos</w>
                <w>os</w>
                <w>dados</w>
                <w>bons</w>
                <w>que</w>
                <w>conseguirmos</w>
                <pc>.</pc>
              </s>
              <s>
                <w>Não</w>
                <w>é</w>
                <w>limpar</w>
                <w>inconsistências</w>
                <w>ou</w>
                <w>falhas</w>
                <w>nos</w>
                <w>metadados</w>
                <w>do</w>
                <w>item</w>
                <pc>.</pc>
              </s>
            </p>
          </div>
          <div type="4" n="5.4.2">
            <head>
              <s>
                <w>Fazer</w>
                <w>o</w>
                <emph>
                  <w>Download</w>
                </emph>
                <w>das</w>
                <w>Imagens</w>
              </s>
            </head>
            <p>
              <s>
                <w>Assim</w>
                <w>que</w>
                <w>contém</w>
                <w>a</w>
                <w>lista</w>
                <w>completa</w>
                <w>de</w>
                <w>páginas</w>
                <w>com</w>
                <w>a</w>
                <emph>
                  <w>tag</w>
                </emph>
                <w>,</w>
                <w>nós</w>
                <w>podemos</w>
                <w>fazer</w>
                <w>o</w>
                <w>download</w>
                <w>dessas</w>
                <w>páginas</w>
                <pc>.</pc>
              </s>
              <code rend="inline">img_pages</code>
              <code rend="inline">IMAGE_ON_PAGE</code>
              <s>
                <w>Note</w>
                <w>que,</w>
                <w>se</w>
                <w>nenhum</w>
                <code rend="inline">out_dir</code>
                <w>for</w>
                <w>fornecido</w>
                <w>a</w>
                <code rend="inline">ht_picture_download()</code>
                <w>,</w>
                <w>então</w>
                <w>a</w>
                <w>função</w>
                <w>simplesmente</w>
                <w>retorna</w>
                <w>a</w>
                <w>lista</w>
                <code rend="inline">img_pages</code>
                <w>e</w>
                <w>NÃO</w>
                <w>faz</w>
                <w>o</w>
                <emph>
                  <w>download</w>
                </emph>
                <w>do</w>
                <w>quer</w>
                <w>que</w>
                <w>seja</w>
                <pc>.</pc>
              </s>
            </p>
            <p>
              <s>
                <w>A</w>
                <w>chamada</w>
                <w>da</w>
                <w>API</w>
                <w>retorna</w>
                <w>um</w>
                <w>JPEG</w>
                <w>por</w>
                <w>predefinição</w>
                <pc>.</pc>
              </s>
              <code rend="inline">getpageimage()</code>
              <s>
                <w>Nós</w>
                <w>simplesmente</w>
                <w>colocamos</w>
                <w>os</w>
                <w>bytes</w>
                <w>do</w>
                <w>JPEG</w>
                <w>num</w>
                <w>ficheiro</w>
                <w>na</w>
                <w>forma</w>
                <w>normal</w>
                <pc>.</pc>
              </s>
              <s>
                <w>Dentro</w>
                <w>da</w>
                <w>subpasta</w>
                <w>do</w>
                <w>volume</w>
                <w>(ela</w>
                <w>própria</w>
                <w>dentro</w>
                <w>do</w>
                <code rend="inline">out_dir</code>
                <w>),</w>
                <w>as</w>
                <w>páginas</w>
                <w>serão</w>
                <w>nomeadas</w>
                <code rend="inline">1.jpg</code>
                <w>para</w>
                <w>a</w>
                <w>página</w>
                <w>1</w>
                <w>e</w>
                <w>assim</w>
                <w>sucessivamente</w>
                <pc>.</pc>
              </s>
            </p>
            <p>
              <s>
                <w>Uma</w>
                <w>coisa</w>
                <w>a</w>
                <w>considerar</w>
                <w>é</w>
                <w>a</w>
                <w>nossa</w>
                <w>taxa</w>
                <w>de</w>
                <w>uso</w>
                <w>da</w>
                <w>API</w>
                <pc>.</pc>
              </s>
              <s>
                <w>Nós</w>
                <w>não</w>
                <w>queremos</w>
                <w>abusar</w>
                <w>do</w>
                <w>nosso</w>
                <w>acesso</w>
                <w>ao</w>
                <w>fazer</w>
                <w>centenas</w>
                <w>de</w>
                <w>pedidos</w>
                <w>por</w>
                <w>minuto</w>
                <pc>.</pc>
              </s>
              <s>
                <w>Para</w>
                <w>estar</w>
                <w>a</w>
                <w>salvo,</w>
                <w>especialmente</w>
                <w>se</w>
                <w>pretendermos</w>
                <w>executar</w>
                <w>grandes</w>
                <w>trabalhos,</w>
                <w>nós</w>
                <w>esperamos</w>
                <w>dois</w>
                <w>segundos</w>
                <w>antes</w>
                <w>de</w>
                <w>fazer</w>
                <w>cada</w>
                <w>pedido</w>
                <w>de</w>
                <w>página</w>
                <pc>.</pc>
              </s>
              <s>
                <w>Isto</w>
                <w>pode</w>
                <w>ser</w>
                <w>frustrante</w>
                <w>a</w>
                <w>curto</w>
                <w>prazo,</w>
                <w>mas</w>
                <w>ajuda</w>
                <w>a</w>
                <w>evitar</w>
                <w>o</w>
                <w>sufocamento</w>
                <w>ou</w>
                <w>a</w>
                <w>suspenção</w>
                <w>da</w>
                <w>API</w>
                <pc>.</pc>
              </s>
            </p>
            <ab>
              <code lang="language-python" xml:id="code_extrair-paginas-ilustradas-com-python_12" corresp="code_extrair-paginas-ilustradas-com-python_12.txt" rend="block"/>
            </ab>
          </div>
        </div>
      </div>
      <div type="2" n="6">
        <head>
          <s>
            <w>Internet</w>
            <w>Archive</w>
          </s>
        </head>
        <div type="3" n="6.1">
          <head>
            <s>
              <w>Acesso</w>
              <w>à</w>
              <w>API</w>
            </s>
          </head>
          <p>
            <s>
              <w>Nós</w>
              <w>conectamos</w>
              <w>à</w>
              <w>biblioteca</w>
              <w>API</w>
              <w>do</w>
              <w>Python</w>
              <w>usando</w>
              <w>uma</w>
              <w>conta</w>
              <w>no</w>
              <w>Archive</w>
              <pc>.</pc>
            </s>
            <s>
              <w>org</w>
              <w>com</w>
              <w>e-mail</w>
              <w>e</w>
              <w>palavra-chave</w>
              <w>ao</w>
              <w>invés</w>
              <w>das</w>
              <w>chaves</w>
              <w>de</w>
              <w>acesso</w>
              <w>do</w>
              <w>API</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Isto</w>
              <w>é</w>
              <w>discutido</w>
              <w>no</w>
              <ref target="https://archive.org/services/docs/api/internetarchive/quickstart.html">
                <w>Guia</w>
                <w>Quickstart</w>
              </ref>
              <pc>.</pc>
            </s>
            <s>
              <w>Se</w>
              <w>não</w>
              <w>tiver</w>
              <w>uma</w>
              <w>conta,</w>
              <ref target="https://archive.org/account/login.createaccount.php">
                <w>registre-se</w>
              </ref>
              <w>para</w>
              <w>obter</w>
              <w>o</w>
              <w>seu</w>
              <w>"Virtual</w>
              <w>Library</w>
              <w>Card"</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Na</w>
              <w>primeira</w>
              <w>célula</w>
              <w>do</w>
              <emph>
                <w>notebook</w>
              </emph>
              <w>,</w>
              <w>introduza</w>
              <w>as</w>
              <w>suas</w>
              <w>credenciais</w>
              <w>como</w>
              <w>indicado</w>
              <pc>.</pc>
            </s>
            <code rend="inline">internetarchive.ipynb</code>
            <s>
              <w>Execute</w>
              <w>a</w>
              <w>célula</w>
              <w>para</w>
              <w>autenticar-se</w>
              <w>perante</w>
              <w>a</w>
              <w>API</w>
              <pc>.</pc>
            </s>
          </p>
          <quote>
            <p>
              <s>
                <w>:</w>
                <w>O</w>
                <w>comando</w>
                <w>é</w>
                <w>atualmente</w>
                <w>desnecessário</w>
                <w>e</w>
                <w>pode</w>
                <w>gerar</w>
                <w>um</w>
                <w>erro</w>
                <w>extenso,</w>
                <w>em</w>
                <w>cuja</w>
                <w>mensagem</w>
                <w>final</w>
                <w>consta:</w>
                <pc>.</pc>
              </s>
              <hi rend="bold">
                <s>
                  <w>Nota</w>
                  <w>de</w>
                  <w>tradução</w>
                </s>
              </hi>
              <code rend="inline">ia.configure(ia_email, ia_password)</code>
              <code rend="inline">InvalidURL: Invalid URL 'https:///services/xauthn/': No host supplied</code>
              <s>
                <w>Sugerimos</w>
                <w>que</w>
                <w>o</w>
                <w>mesmo</w>
                <w>não</w>
                <w>seja</w>
                <w>executado</w>
                <w>no</w>
                <w>ficheiro</w>
                <w>IPYNB</w>
                <pc>.</pc>
              </s>
            </p>
          </quote>
        </div>
        <div type="3" n="6.2">
          <head>
            <s>
              <w>Criar</w>
              <w>uma</w>
              <w>Lista</w>
              <w>de</w>
              <w>Volumes</w>
            </s>
          </head>
          <p>
            <s>
              <w>A</w>
              <w>biblioteca</w>
              <w>IA</w>
              <w>do</w>
              <w>Python</w>
              <w>permite-lhe</w>
              <w>submeter</w>
              <emph>
                <w>query</w>
                <w>strings</w>
              </emph>
              <w>e</w>
              <w>receber</w>
              <w>uma</w>
              <w>lista</w>
              <w>de</w>
              <w>pares</w>
              <w>chave-valor</w>
              <w>correspondentes</w>
              <w>na</w>
              <w>qual</w>
              <w>a</w>
              <w>palavra</w>
              <w>"</w>
              <emph>
                <w>identifier</w>
              </emph>
              <w>",</w>
              <w>ou</w>
              <w>identificador,</w>
              <w>em</w>
              <w>português,</w>
              <w>é</w>
              <w>a</w>
              <w>chave</w>
              <w>e</w>
              <w>o</w>
              <w>verdadeiro</w>
              <w>identificador</w>
              <w>é</w>
              <w>o</w>
              <w>valor</w>
              <pc>.</pc>
            </s>
            <s>
              <w>A</w>
              <w>sintaxe</w>
              <w>para</w>
              <w>uma</w>
              <emph>
                <w>query</w>
              </emph>
              <w>é</w>
              <w>explicada</w>
              <w>na</w>
              <ref target="https://archive.org/advancedsearch.php">
                <w>página</w>
                <w>de</w>
                <w>Advanced</w>
                <w>Search</w>
              </ref>
              <w>para</w>
              <w>o</w>
              <w>IA</w>
              <pc>.</pc>
            </s>
            <s>
              <w>O</w>
              <w>leitor</w>
              <w>pode</w>
              <w>especificar</w>
              <w>parâmetros</w>
              <w>ao</w>
              <w>usar</w>
              <w>uma</w>
              <w>palavra-chave</w>
              <w>como</w>
              <w>"</w>
              <emph>
                <w>date</w>
              </emph>
              <w>"</w>
              <w>ou</w>
              <w>"</w>
              <emph>
                <w>mediatype</w>
              </emph>
              <w>"</w>
              <w>seguida</w>
              <w>de</w>
              <w>dois</w>
              <w>pontos</w>
              <w>e</w>
              <w>o</w>
              <w>valor</w>
              <w>que</w>
              <w>quer</w>
              <w>atribuir</w>
              <w>a</w>
              <w>esse</w>
              <w>parâmetro</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Por</w>
              <w>exemplo,</w>
              <w>eu</w>
              <w>só</w>
              <w>quero</w>
              <w>resultados</w>
              <w>que</w>
              <w>são</w>
              <emph>
                <w>textos</w>
              </emph>
              <w>(em</w>
              <w>oposição</w>
              <w>a</w>
              <w>vídeos,</w>
              <emph>
                <w>etc</w>
                <pc>.</pc>
              </emph>
              <w>)</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Certifique-se</w>
              <w>que</w>
              <w>os</w>
              <w>parâmetros</w>
              <w>e</w>
              <w>as</w>
              <w>opções</w>
              <w>que</w>
              <w>está</w>
              <w>a</w>
              <w>tentar</w>
              <w>usar</w>
              <w>são</w>
              <w>suportadas</w>
              <w>pela</w>
              <w>funcionalidade</w>
              <w>de</w>
              <w>pesquisa</w>
              <w>do</w>
              <w>IA</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Caso</w>
              <w>contrário,</w>
              <w>pode</w>
              <w>perder</w>
              <w>ou</w>
              <w>obter</w>
              <w>resultados</w>
              <w>estranhos</w>
              <w>e</w>
              <w>não</w>
              <w>saber</w>
              <w>porquê</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>No</w>
              <emph>
                <w>notebook</w>
              </emph>
              <w>,</w>
              <w>eu</w>
              <w>gero</w>
              <w>uma</w>
              <w>lista</w>
              <w>de</w>
              <w>IDs</w>
              <w>do</w>
              <w>IA</w>
              <w>com</w>
              <w>o</w>
              <w>seguinte</w>
              <w>código:</w>
            </s>
          </p>
          <ab>
            <code lang="language-python" xml:id="code_extrair-paginas-ilustradas-com-python_13" corresp="code_extrair-paginas-ilustradas-com-python_13.txt" rend="block"/>
          </ab>
        </div>
        <div type="3" n="6.3">
          <head>
            <s>
              <w>Característica</w>
              <w>Visual:</w>
              <w>Blocos</w>
              <w>de</w>
              <w>Imagens</w>
            </s>
          </head>
          <p>
            <s>
              <w>O</w>
              <w>Internet</w>
              <w>Archive</w>
              <w>não</w>
              <w>apresenta</w>
              <w>quaisquer</w>
              <w>características</w>
              <w>ao</w>
              <w>nível</w>
              <w>da</w>
              <w>página</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Ao</w>
              <w>invés,</w>
              <w>disponibiliza</w>
              <w>um</w>
              <w>certo</w>
              <w>número</w>
              <w>de</w>
              <w>ficheiros</w>
              <w>brutos</w>
              <w>do</w>
              <w>processo</w>
              <w>de</w>
              <w>digitalização</w>
              <w>aos</w>
              <w>utilizadores</w>
              <pc>.</pc>
            </s>
            <s>
              <w>O</w>
              <w>mais</w>
              <w>importante</w>
              <w>destes</w>
              <w>para</w>
              <w>os</w>
              <w>nossos</w>
              <w>propósitos</w>
              <w>é</w>
              <w>o</w>
              <w>ficheiro</w>
              <w>XML</w>
              <w>Abbyy</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Abbyy</w>
              <w>é</w>
              <w>uma</w>
              <w>empresa</w>
              <w>russa</w>
              <w>cujo</w>
              <emph>
                <w>software</w>
              </emph>
              <w>FineReader</w>
              <w>domina</w>
              <w>o</w>
              <w>mercado</w>
              <w>do</w>
              <w>OCR</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Todas</w>
              <w>as</w>
              <w>versões</w>
              <w>recentes</w>
              <w>do</w>
              <w>FineReader</w>
              <w>produzem</w>
              <w>um</w>
              <ref target="https://perma.cc/83EK-LXP2">
                <w>documento</w>
                <w>XML</w>
              </ref>
              <w>que</w>
              <w>associa</w>
              <w>diferentes</w>
              <w>"blocos"</w>
              <w>com</w>
              <w>cada</w>
              <w>página</w>
              <w>no</w>
              <w>documento</w>
              <w>digitalizado</w>
              <pc>.</pc>
            </s>
            <s>
              <w>O</w>
              <w>tipo</w>
              <w>de</w>
              <w>bloco</w>
              <w>mais</w>
              <w>comum</w>
              <w>é</w>
              <code rend="inline">Text</code>
              <w>mas</w>
              <w>também</w>
              <w>existem</w>
              <w>blocos</w>
              <code rend="inline">Picture</code>
              <w>ou</w>
              <w>"Imagem",</w>
              <w>em</w>
              <w>português</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Aqui</w>
              <w>está</w>
              <w>um</w>
              <w>bloco</w>
              <w>de</w>
              <w>exemplo</w>
              <w>tirado</w>
              <w>dum</w>
              <w>ficheiro</w>
              <w>de</w>
              <w>XML</w>
              <w>Abbyy</w>
              <w>do</w>
              <w>IA</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Os</w>
              <w>cantos</w>
              <w>superior</w>
              <w>esquerdo</w>
              <w>("t"</w>
              <w>e</w>
              <w>"l")</w>
              <w>e</w>
              <w>inferior</w>
              <w>direito</w>
              <w>("b"</w>
              <w>e</w>
              <w>"r")</w>
              <w>são</w>
              <w>suficientes</w>
              <w>para</w>
              <w>identificar</w>
              <w>a</w>
              <w>região</w>
              <w>de</w>
              <w>bloco</w>
              <w>retangular</w>
              <pc>.</pc>
            </s>
          </p>
          <ab>
            <code lang="language-xml" xml:id="code_extrair-paginas-ilustradas-com-python_14" corresp="code_extrair-paginas-ilustradas-com-python_14.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>O</w>
              <w>equivalente</w>
              <w>no</w>
              <w>IA</w>
              <w>a</w>
              <w>ver</w>
              <w>as</w>
              <emph>
                <w>tags</w>
              </emph>
              <w>no</w>
              <w>HT</w>
              <w>é</w>
              <w>a</w>
              <w>análise</w>
              <w>do</w>
              <w>ficheiro</w>
              <w>XML</w>
              <w>Abbyy</w>
              <w>e</w>
              <w>a</w>
              <w>iteração</w>
              <w>sobre</w>
              <w>cada</w>
              <w>página</w>
              <pc>.</pc>
            </s>
            <code rend="inline">IMAGE_ON_PAGE</code>
            <s>
              <w>Se</w>
              <w>existir</w>
              <w>pelo</w>
              <w>menos</w>
              <w>um</w>
              <w>bloco</w>
              <code rend="inline">Picture</code>
              <w>nessa</w>
              <w>página,</w>
              <w>a</w>
              <w>página</w>
              <w>é</w>
              <w>sinalizada</w>
              <w>como</w>
              <w>possivelmente</w>
              <w>contendo</w>
              <w>uma</w>
              <w>imagem</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Enquanto</w>
              <w>a</w>
              <w>característica</w>
              <w>do</w>
              <w>HT</w>
              <w>não</w>
              <w>contém</w>
              <w>informação</w>
              <w>sobre</w>
              <w>a</w>
              <emph>
                <w>localização</w>
              </emph>
              <w>dessa</w>
              <w>imagem,</w>
              <w>os</w>
              <w>blocos</w>
              <w>no</w>
              <w>ficheiro</w>
              <w>XML</w>
              <w>estão</w>
              <w>associados</w>
              <w>a</w>
              <w>uma</w>
              <w>região</w>
              <w>retangular</w>
              <w>na</w>
              <w>página</w>
              <pc>.</pc>
            </s>
            <code rend="inline">IMAGE_ON_PAGE</code>
            <code rend="inline">Picture</code>
            <s>
              <w>No</w>
              <w>entanto,</w>
              <w>porque</w>
              <w>o</w>
              <w>FineReader</w>
              <w>se</w>
              <w>especializa</w>
              <w>no</w>
              <w>reconhecimento</w>
              <w>de</w>
              <w>letras</w>
              <w>de</w>
              <w>conjuntos</w>
              <w>de</w>
              <w>caracteres</w>
              <w>ocidentais,</w>
              <w>é</w>
              <w>muito</w>
              <w>menos</w>
              <w>preciso</w>
              <w>a</w>
              <w>identificar</w>
              <w>regiões</w>
              <w>de</w>
              <w>imagem</w>
              <pc>.</pc>
            </s>
            <s>
              <w>O</w>
              <w>projeto</w>
              <w>de</w>
              <w>Leetaru</w>
              <w>(veja</w>
              <emph>
                <w>Visão</w>
                <w>Geral</w>
              </emph>
              <w>)</w>
              <w>usou</w>
              <w>as</w>
              <w>coordenadas</w>
              <w>da</w>
              <w>região</w>
              <w>para</w>
              <w>cortar</w>
              <w>imagens,</w>
              <w>mas</w>
              <w>nesta</w>
              <w>lição</w>
              <w>nós</w>
              <w>iremos</w>
              <w>simplesmente</w>
              <w>fazer</w>
              <w>o</w>
              <emph>
                <w>download</w>
              </emph>
              <w>da</w>
              <w>página</w>
              <w>inteira</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Parte</w>
              <w>da</w>
              <w>diversão</w>
              <w>intelectual</w>
              <w>desta</w>
              <w>lição</w>
              <w>é</w>
              <w>usar</w>
              <w>um</w>
              <emph>
                <w>dataset</w>
              </emph>
              <w>(</w>
              <emph>
                <w>tags</w>
              </emph>
              <w>de</w>
              <w>bloco</w>
              <w>do</w>
              <w>OCR)</w>
              <w>por</w>
              <w>vezes</w>
              <w>confuso</w>
              <w>para</w>
              <w>um</w>
              <w>propósito</w>
              <w>largamente</w>
              <w>não</w>
              <w>intencional:</w>
              <w>identificar</w>
              <w>imagens</w>
              <w>e</w>
              <w>não</w>
              <w>palavras</w>
              <pc>.</pc>
            </s>
            <s>
              <w>A</w>
              <w>certa</w>
              <w>altura,</w>
              <w>tornar-se-á</w>
              <w>computacionalmente</w>
              <w>viável</w>
              <w>executar</w>
              <w>modelos</w>
              <w>de</w>
              <w>aprendizagem</w>
              <w>aprofundada</w>
              <w>em</w>
              <w>todas</w>
              <w>as</w>
              <w>páginas</w>
              <w>ilustradas</w>
              <w>nuas</w>
              <w>num</w>
              <w>volume</w>
              <w>e</w>
              <w>escolher</w>
              <w>o(s)</w>
              <w>tipo(s)</w>
              <w>de</w>
              <w>imagem(/ns)</w>
              <w>desejada(s)</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Mas,</w>
              <w>como</w>
              <w>a</w>
              <w>maior</w>
              <w>parte</w>
              <w>das</w>
              <w>páginas</w>
              <w>na</w>
              <w>maioria</w>
              <w>dos</w>
              <w>volumes</w>
              <w>não</w>
              <w>são</w>
              <w>ilustradas,</w>
              <w>esta</w>
              <w>é</w>
              <w>uma</w>
              <w>tarefa</w>
              <w>dispendiosa</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Por</w>
              <w>agora,</w>
              <w>faz</w>
              <w>mais</w>
              <w>sentido</w>
              <w>aproveitar</w>
              <w>os</w>
              <w>dados</w>
              <w>existentes</w>
              <w>que</w>
              <w>nós</w>
              <w>detemos</w>
              <w>do</w>
              <w>processo</w>
              <w>de</w>
              <w>ingestão</w>
              <w>do</w>
              <w>OCR</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Para</w>
              <w>mais</w>
              <w>informações</w>
              <w>sobre</w>
              <w>como</w>
              <w>o</w>
              <w>próprio</w>
              <w>OCR</w>
              <w>funciona</w>
              <w>e</w>
              <w>interage</w>
              <w>com</w>
              <w>o</w>
              <w>processo</w>
              <w>de</w>
              <w>digitalização,</w>
              <w>por</w>
              <w>favor,</w>
              <w>veja</w>
              <w>a</w>
              <w>lição</w>
              <w>do</w>
              <emph>
                <w>PH</w>
              </emph>
              <w>de</w>
              <w>Mila</w>
              <w>Oiva,</w>
              <ref target="/en/lessons/retired/OCR-with-Tesseract-and-ScanTailor">
                <w>OCR</w>
                <w>With</w>
                <w>Tesseract</w>
                <w>and</w>
                <w>ScanTailor</w>
              </ref>
              <w>(atenção</w>
              <w>que</w>
              <w>esta</w>
              <w>lição</w>
              <w>já</w>
              <w>não</w>
              <w>é</w>
              <w>actualizada)</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Erros</w>
              <w>podem</w>
              <w>surgir</w>
              <w>por</w>
              <w>causa</w>
              <w>de</w>
              <w>distorções,</w>
              <w>artefactos</w>
              <w>e</w>
              <w>muitos</w>
              <w>outros</w>
              <w>problemas</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Estes</w>
              <w>erros</w>
              <w>acabam</w>
              <w>por</w>
              <w>afetar</w>
              <w>a</w>
              <w>fiabilidade</w>
              <w>e</w>
              <w>a</w>
              <w>precisão</w>
              <w>dos</w>
              <w>blocos</w>
              <w>"Picture"</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Em</w>
              <w>muitos</w>
              <w>casos,</w>
              <w>o</w>
              <w>Abbyy</w>
              <w>estimará</w>
              <w>que</w>
              <w>páginas</w>
              <w>em</w>
              <w>branco</w>
              <w>ou</w>
              <w>descoloridas</w>
              <w>são,</w>
              <w>na</w>
              <w>realidade,</w>
              <w>imagens</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Estas</w>
              <emph>
                <w>tags</w>
              </emph>
              <w>de</w>
              <w>bloco</w>
              <w>incorretas,</w>
              <w>ainda</w>
              <w>que</w>
              <w>indesejadas,</w>
              <w>podem</w>
              <w>ser</w>
              <w>combatidas</w>
              <w>com</w>
              <w>o</w>
              <w>uso</w>
              <w>de</w>
              <w>redes</w>
              <w>neurais</w>
              <w>convolucionais</w>
              <w>retreinadas</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Pense</w>
              <w>nas</w>
              <w>páginas</w>
              <w>com</w>
              <w>imagens</w>
              <w>cujo</w>
              <w>download</w>
              <w>foi</w>
              <w>feito</w>
              <w>nesta</w>
              <w>lição</w>
              <w>como</w>
              <w>um</w>
              <w>primeiro</w>
              <w>passo</w>
              <w>num</w>
              <w>processo</w>
              <w>mais</w>
              <w>longo</w>
              <w>para</w>
              <w>obter</w>
              <w>um</w>
              <emph>
                <w>dataset</w>
              </emph>
              <w>limpo</w>
              <w>e</w>
              <w>útil</w>
              <w>de</w>
              <w>ilustrações</w>
              <w>históricas</w>
              <pc>.</pc>
            </s>
          </p>
        </div>
        <div type="3" n="6.4">
          <head>
            <s>
              <w>Passo</w>
              <w>a</w>
              <w>Passo</w>
              <w>do</w>
              <w>Código</w>
            </s>
          </head>
          <div type="4" n="6.4.1">
            <head>
              <s>
                <w>Encontrar</w>
                <w>as</w>
                <w>Imagens</w>
              </s>
            </head>
            <p>
              <s>
                <w>Tal</w>
                <w>como</w>
                <w>com</w>
                <w>o</w>
                <w>HT,</w>
                <w>a</w>
                <w>função</w>
                <w>principal</w>
                <w>para</w>
                <w>o</w>
                <w>IA</w>
                <w>é</w>
                <code rend="inline">ia_picture_download(item_id, out_dir=None)</code>
                <pc>.</pc>
              </s>
            </p>
            <p>
              <s>
                <w>Visto</w>
                <w>que</w>
                <w>envolve</w>
                <w>o</w>
                <w>I/O</w>
                <w>dum</w>
                <w>ficheiro,</w>
                <w>o</w>
                <w>processo</w>
                <w>para</w>
                <w>obter</w>
                <w>a</w>
                <w>lista</w>
                <w>é</w>
                <w>mais</w>
                <w>complicado</w>
                <w>do</w>
                <w>que</w>
                <w>o</w>
                <w>do</w>
                <w>HT</w>
                <pc>.</pc>
              </s>
              <code rend="inline">img_pages</code>
              <s>
                <w>Usando</w>
                <w>a</w>
                <w>utilidade</w>
                <code rend="inline">ia</code>
                <w>(que</w>
                <w>é</w>
                <w>instalada</w>
                <w>com</w>
                <w>a</w>
                <w>biblioteca)</w>
                <w>da</w>
                <w>linha</w>
                <w>de</w>
                <w>comando,</w>
                <w>o</w>
                <w>leitor</w>
                <w>pode</w>
                <w>obter</w>
                <w>uma</w>
                <w>ideia</w>
                <w>dos</w>
                <w>ficheiros</w>
                <w>de</w>
                <w>metadados</w>
                <w>disponíveis</w>
                <w>para</w>
                <w>um</w>
                <w>volume</w>
                <pc>.</pc>
              </s>
              <s>
                <w>Com</w>
                <w>muitas</w>
                <w>poucas</w>
                <w>exceções,</w>
                <w>um</w>
                <w>ficheiro</w>
                <w>com</w>
                <w>o</w>
                <w>formato</w>
                <w>"Abbyy</w>
                <w>GZ"</w>
                <w>deveria</w>
                <w>estar</w>
                <w>disponível</w>
                <w>para</w>
                <w>volumes</w>
                <w>com</w>
                <w>o</w>
                <w>tipo</w>
                <w>de</w>
                <emph>
                  <w>media</w>
                </emph>
                <code rend="inline">text</code>
                <w>no</w>
                <w>Internet</w>
                <w>Archive</w>
                <pc>.</pc>
              </s>
            </p>
            <p>
              <s>
                <w>Estes</w>
                <w>ficheiros,</w>
                <w>mesmo</w>
                <w>quando</w>
                <w>comprimidos,</w>
                <w>podem</w>
                <w>facilmente</w>
                <w>ter</w>
                <w>centenas</w>
                <w>de</w>
                <w>megabytes</w>
                <w>de</w>
                <w>tamanho</w>
                <pc>!</pc>
              </s>
              <s>
                <w>Se</w>
                <w>existir</w>
                <w>um</w>
                <w>ficheiro</w>
                <w>Abbyy</w>
                <w>para</w>
                <w>o</w>
                <w>volume,</w>
                <w>nós</w>
                <w>obtemos</w>
                <w>o</w>
                <w>seu</w>
                <w>nome</w>
                <w>e</w>
                <w>depois</w>
                <w>fazemos</w>
                <w>o</w>
                <emph>
                  <w>download</w>
                </emph>
                <pc>.</pc>
              </s>
              <s>
                <w>A</w>
                <w>chamada</w>
                <code rend="inline">ia.download()</code>
                <w>usa</w>
                <w>alguns</w>
                <w>parâmetros</w>
                <w>úteis</w>
                <w>para</w>
                <w>ignorar</w>
                <w>a</w>
                <w>solicitação</w>
                <w>se</w>
                <w>o</w>
                <w>ficheiro</w>
                <w>já</w>
                <w>existe</w>
                <w>e,</w>
                <w>se</w>
                <w>não,</w>
                <w>para</w>
                <w>fazer</w>
                <w>o</w>
                <w>seu</w>
                <emph>
                  <w>download</w>
                </emph>
                <w>sem</w>
                <w>criar</w>
                <w>um</w>
                <w>diretório</w>
                <w>aninhado</w>
                <pc>.</pc>
              </s>
              <s>
                <w>Para</w>
                <w>salvar</w>
                <w>espaço,</w>
                <w>nós</w>
                <w>eliminamos</w>
                <w>o</w>
                <w>ficheiro</w>
                <w>Abbyy</w>
                <w>depois</w>
                <w>de</w>
                <w>o</w>
                <w>analisar</w>
                <pc>.</pc>
              </s>
            </p>
            <ab>
              <code lang="language-python" xml:id="code_extrair-paginas-ilustradas-com-python_15" corresp="code_extrair-paginas-ilustradas-com-python_15.txt" rend="block"/>
            </ab>
            <p>
              <s>
                <w>Assim</w>
                <w>que</w>
                <w>nós</w>
                <w>tivermos</w>
                <w>o</w>
                <w>ficheiro,</w>
                <w>nós</w>
                <w>precisamos</w>
                <w>de</w>
                <w>analisar</w>
                <w>o</w>
                <w>XML</w>
                <w>usando</w>
                <w>a</w>
                <w>biblioteca</w>
                <w>padrão</w>
                <w>do</w>
                <w>Python</w>
                <pc>.</pc>
              </s>
              <s>
                <w>Nós</w>
                <w>tomamos</w>
                <w>vantagem</w>
                <w>do</w>
                <w>facto</w>
                <w>de</w>
                <w>que</w>
                <w>nós</w>
                <w>podemos</w>
                <w>abrir</w>
                <w>o</w>
                <w>ficheiro</w>
                <w>comprimido</w>
                <w>diretamente</w>
                <w>com</w>
                <w>a</w>
                <w>biblioteca</w>
                <code rend="inline">gzip</code>
                <pc>.</pc>
              </s>
              <s>
                <w>Os</w>
                <w>ficheiros</w>
                <w>Abbyy</w>
                <w>são</w>
                <w>indexadas</w>
                <w>a</w>
                <w>partir</w>
                <w>do</w>
                <w>zero,</w>
                <w>por</w>
                <w>isso</w>
                <w>a</w>
                <w>primeira</w>
                <w>página</w>
                <w>na</w>
                <w>sequência</w>
                <w>digitalizada</w>
                <w>tem</w>
                <w>o</w>
                <w>índice</w>
                <w>de</w>
                <w>0</w>
                <pc>.</pc>
              </s>
              <s>
                <w>No</w>
                <w>entanto,</w>
                <w>nós</w>
                <w>temos</w>
                <w>que</w>
                <w>filtrar</w>
                <w>0</w>
                <w>porque</w>
                <w>não</w>
                <w>pode</w>
                <w>ser</w>
                <w>exigido</w>
                <w>do</w>
                <w>IA</w>
                <pc>.</pc>
              </s>
              <s>
                <w>A</w>
                <w>exclusão</w>
                <w>do</w>
                <w>índice</w>
                <w>0</w>
                <w>por</w>
                <w>parte</w>
                <w>do</w>
                <w>IA</w>
                <w>não</w>
                <w>está</w>
                <w>documentada</w>
                <w>em</w>
                <w>qualquer</w>
                <w>lugar;</w>
                <w>em</w>
                <w>vez</w>
                <w>disso,</w>
                <w>eu</w>
                <w>descobri</w>
                <w>através</w>
                <w>de</w>
                <w>tentativa</w>
                <w>e</w>
                <w>erro</w>
                <pc>.</pc>
              </s>
              <s>
                <w>Se</w>
                <w>o</w>
                <w>leitor</w>
                <w>ver</w>
                <w>uma</w>
                <w>mensagem</w>
                <w>de</w>
                <w>erro</w>
                <w>de</w>
                <w>explicação</w>
                <w>difícil,</w>
                <w>tente</w>
                <w>rastrear</w>
                <w>a</w>
                <w>origem</w>
                <w>e</w>
                <w>não</w>
                <w>tenha</w>
                <w>medo</w>
                <w>em</w>
                <w>pedir</w>
                <w>ajuda,</w>
                <w>seja</w>
                <w>a</w>
                <w>alguém</w>
                <w>com</w>
                <w>experiência</w>
                <w>relevante,</w>
                <w>seja</w>
                <w>a</w>
                <w>alguém</w>
                <w>da</w>
                <w>própria</w>
                <w>organização</w>
                <pc>.</pc>
              </s>
            </p>
            <ab>
              <code lang="language-python" xml:id="code_extrair-paginas-ilustradas-com-python_16" corresp="code_extrair-paginas-ilustradas-com-python_16.txt" rend="block"/>
            </ab>
          </div>
          <div type="4" n="6.4.2">
            <head>
              <s>
                <w>Fazer</w>
                <w>o</w>
                <emph>
                  <w>Download</w>
                </emph>
                <w>das</w>
                <w>Imagens</w>
              </s>
            </head>
            <p>
              <s>
                <w>O</w>
                <emph>
                  <w>wrapper</w>
                </emph>
                <w>do</w>
                <w>IA</w>
                <w>incorporado</w>
                <w>no</w>
                <w>Python</w>
                <w>não</w>
                <w>providencia</w>
                <w>uma</w>
                <w>função</w>
                <w>de</w>
                <w>download</w>
                <w>de</w>
                <w>páginas</w>
                <w>únicas—apenas</w>
                <w>em</w>
                <w>massa</w>
                <pc>.</pc>
              </s>
              <s>
                <w>Isto</w>
                <w>significa</w>
                <w>que</w>
                <w>nós</w>
                <w>usaremos</w>
                <w>a</w>
                <w>RESTful</w>
                <w>API</w>
                <w>do</w>
                <w>IA</w>
                <w>para</w>
                <w>obter</w>
                <w>páginas</w>
                <w>específicas</w>
                <pc>.</pc>
              </s>
              <s>
                <w>Primeiro,</w>
                <w>nós</w>
                <w>construímos</w>
                <w>um</w>
                <w>URL</w>
                <w>para</w>
                <w>cada</w>
                <w>página</w>
                <w>de</w>
                <w>que</w>
                <w>nós</w>
                <w>precisamos</w>
                <pc>.</pc>
              </s>
              <s>
                <w>Depois,</w>
                <w>nós</w>
                <w>usamos</w>
                <w>a</w>
                <w>biblioteca</w>
                <code rend="inline">requests</code>
                <w>para</w>
                <w>enviar</w>
                <w>uma</w>
                <w>solicitação</w>
                <code rend="inline">GET</code>
                <w>de</w>
                <w>HTTP</w>
                <w>e,</w>
                <w>se</w>
                <w>tudo</w>
                <w>correr</w>
                <w>bem</w>
                <w>(</w>
                <emph>
                  <w>i</w>
                  <pc>.</pc>
                  <w>e</w>
                  <pc>.</pc>
                </emph>
                <w>o</w>
                <w>código</w>
                <w>200</w>
                <w>é</w>
                <w>enviado</w>
                <w>na</w>
                <w>resposta),</w>
                <w>nós</w>
                <w>escrevemos</w>
                <w>o</w>
                <w>conteúdo</w>
                <w>da</w>
                <w>resposta</w>
                <w>num</w>
                <w>ficheiro</w>
                <w>JPEG</w>
                <pc>.</pc>
              </s>
            </p>
            <p>
              <s>
                <w>O</w>
                <w>IA</w>
                <w>tem</w>
                <w>estado</w>
                <w>a</w>
                <w>trabalhar</w>
                <w>numa</w>
                <ref target="https://perma.cc/F6HJ-YGM7">
                  <w>versão</w>
                  <emph>
                    <w>alpha</w>
                  </emph>
                </ref>
                <w>duma</w>
                <w>API</w>
                <w>para</w>
                <w>o</w>
                <w>corte</w>
                <w>e</w>
                <w>redimensionamento</w>
                <w>de</w>
                <w>imagens</w>
                <w>que</w>
                <w>obedeça</w>
                <w>às</w>
                <w>exigências</w>
                <w>do</w>
                <w>International</w>
                <w>Image</w>
                <w>Interoperability</w>
                <w>Framework</w>
                <w>(</w>
                <ref target="https://perma.cc/7ABF-GGJM">
                  <w>IIIF</w>
                </ref>
                <w>)</w>
                <pc>.</pc>
              </s>
              <s>
                <w>O</w>
                <w>IIIF</w>
                <w>representa</w>
                <w>uma</w>
                <w>profunda</w>
                <w>melhoria</w>
                <w>face</w>
                <w>ao</w>
                <w>antigo</w>
                <w>método</w>
                <w>para</w>
                <emph>
                  <w>downloads</w>
                </emph>
                <w>de</w>
                <w>páginas</w>
                <w>únicas</w>
                <w>que</w>
                <w>requeriam</w>
                <w>a</w>
                <w>realização</w>
                <w>do</w>
                <emph>
                  <w>download</w>
                </emph>
                <w>de</w>
                <w>ficheiros</w>
                <w>JP2,</w>
                <w>um</w>
                <w>formato</w>
                <w>de</w>
                <w>ficheiro</w>
                <w>largamente</w>
                <w>não</w>
                <w>suportado</w>
                <pc>.</pc>
              </s>
              <s>
                <w>Agora,</w>
                <w>é</w>
                <w>extremamente</w>
                <w>simples</w>
                <w>obter</w>
                <w>um</w>
                <w>só</w>
                <w>JPEG</w>
                <w>duma</w>
                <w>página:</w>
              </s>
            </p>
            <ab>
              <code lang="language-python" xml:id="code_extrair-paginas-ilustradas-com-python_17" corresp="code_extrair-paginas-ilustradas-com-python_17.txt" rend="block"/>
            </ab>
          </div>
        </div>
      </div>
      <div type="2" n="7">
        <head>
          <s>
            <w>Próximos</w>
            <w>Passos</w>
          </s>
        </head>
        <p>
          <s>
            <w>Assim</w>
            <w>que</w>
            <w>o</w>
            <w>leitor</w>
            <w>tiver</w>
            <w>entendido</w>
            <w>as</w>
            <w>principais</w>
            <w>funções</w>
            <w>e</w>
            <w>o</w>
            <w>código</w>
            <w>de</w>
            <emph>
              <w>unpacking</w>
            </emph>
            <w>dos</w>
            <w>dados</w>
            <w>nos</w>
            <emph>
              <w>notebooks</w>
            </emph>
            <w>,</w>
            <w>sinta-se</w>
            <w>livre</w>
            <w>para</w>
            <w>executar</w>
            <w>as</w>
            <w>células</w>
            <w>em</w>
            <w>sequência</w>
            <w>ou</w>
            <w>carregar</w>
            <w>em</w>
            <w>"</w>
            <emph>
              <w>Run</w>
              <w>All</w>
            </emph>
            <w>"</w>
            <w>e</w>
            <w>ver</w>
            <w>as</w>
            <w>páginas</w>
            <w>ilustradas</w>
            <w>a</w>
            <w>entrar</w>
            <w>nas</w>
            <w>pastas</w>
            <pc>.</pc>
          </s>
          <s>
            <w>O</w>
            <w>leitor</w>
            <w>é</w>
            <w>encorajado</w>
            <w>a</w>
            <w>adaptar</w>
            <w>estes</w>
            <emph>
              <w>scripts</w>
            </emph>
            <w>e</w>
            <w>funções</w>
            <w>para</w>
            <w>as</w>
            <w>suas</w>
            <w>próprias</w>
            <w>questões</w>
            <w>de</w>
            <w>pesquisa</w>
            <pc>.</pc>
          </s>
        </p>
        <p>
          <s>
            <ref type="footnotemark" target="#pt_note_1"/>
            <w>:</w>
            <w>:</w>
            <w>Aconselhamos</w>
            <w>o</w>
            <w>leitor</w>
            <w>a</w>
            <w>adicionar</w>
            <w>o</w>
            <w>Python</w>
            <w>ao</w>
            <w>PATH,</w>
            <w>processo</w>
            <w>que</w>
            <w>pode</w>
            <w>ser</w>
            <w>feito</w>
            <w>na</w>
            <w>ocasião</w>
            <w>da</w>
            <w>sua</w>
            <w>instalação</w>
            <pc>.</pc>
          </s>
          <hi rend="bold">
            <s>
              <w>Nota</w>
              <w>de</w>
              <w>tradução</w>
            </s>
          </hi>
          <s>
            <w>Isto</w>
            <w>irá</w>
            <w>suavizar</w>
            <w>a</w>
            <w>incorporação</w>
            <w>das</w>
            <w>dependências</w>
            <w>(veja</w>
            <emph>
              <w>Dependências</w>
            </emph>
            <w>)</w>
            <pc>.</pc>
          </s>
        </p>
        <p>
          <s>
            <ref type="footnotemark" target="#pt_note_2"/>
            <w>:</w>
            <w>:</w>
            <w>Inicialmente,</w>
            <w>aparece</w>
            <w>uma</w>
            <w>página</w>
            <w>de</w>
            <w>transição,</w>
            <w>a</w>
            <w>qual</w>
            <w>deverá</w>
            <w>remeter</w>
            <w>rapidamente</w>
            <w>para</w>
            <w>o</w>
            <w>Jupyter</w>
            <pc>.</pc>
          </s>
          <hi rend="bold">
            <s>
              <w>Nota</w>
              <w>de</w>
              <w>tradução</w>
            </s>
          </hi>
          <s>
            <w>Caso</w>
            <w>tal</w>
            <w>não</w>
            <w>aconteça,</w>
            <w>basta</w>
            <w>seguir</w>
            <w>as</w>
            <w>instruções</w>
            <w>nesta</w>
            <w>página</w>
            <pc>.</pc>
          </s>
        </p>
      </div>
    </body>
  </text>
</TEI>
