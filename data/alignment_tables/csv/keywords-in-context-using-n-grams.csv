Lesson GoalsþObjetivos de la lecciónþObjetivos da Lição
Like in Output Data as HTML File , this lesson takes the frequency pairs collected in Counting Frequencies and outputs them in HTML .þAl igual que en Salida de datos como archivo HTML , esta lección retoma los pares de frecuencias recolectados en Contar frecuencias de palabras y crea una salida de datos en HTML .þComo em Saída de Dados como um Ficheiro HTML com Python , esta lição toma os pares de frequência criados na lição Contar Frequências de Palavras com Python e os apresenta em um ficheiro HTML .
This time the focus is on keywords in context ( KWIC ) which creates n-grams from the original document content – in this case a trial transcript from the Old Bailey Online .þEsta vez el objetivo son las palabras clave en contexto ( `` KWIC ” , por sus siglas en inglés ) que crea n-gramas del contenido del documento original -en este caso la transcripción de un juicio del `` Old Bailey Online '' .þDessa vez o foco está nas palavras-chave em contexto , ou keywords in context ( KWIC ) no inglês , que criam n-gramas a partir do conteúdo do documento original - nesse caso , uma transcrição do julgamento do Old Bailey Online .
You can use your program to select a keyword and the computer will output all instances of that keyword , along with the words to the left and right of it , making it easy to see at a glance how the keyword is used .þPuedes utilizar tu programa para seleccionar una palabra clave y la computadora producirá una salida de datos con todas las veces en que aparece esa palabra clave , junto con las palabras a la derecha e izquierda de la misma , haciendo sencillo observar a simple vista cómo es utilizada dicha palabra .þPode usar o seu programa para selecionar uma palavra-chave e o computador retornará todas as instâncias dessa palavra-chave , junto com as palavras à esquerda e à direita dela , tornando mais fácil visualizar rapidamente como a palavra-chave é usada .
Once the KWICs have been created , they are then wrapped in HTML and sent to the browser where they can be viewed .þUna vez que se han creado las KWCIs , se envuelven en HTML y se envían al navegador en donde se pueden ver .þUma vez que as KWICs forem criadas , elas são envolvidas em HTML ( isto é , passam pelo HTML wrapper ) e são enviadas ao navegador , onde podem ser visualizadas .
This reinforces what was learned in Output Data as HTML File , opting for a slightly different output .þEsto refuerza lo aprendido en Salida de datos como archivo HTML optando por una salida ligeramente distinta .þIsso reforça o que foi aprendido em Saída de Dados como um Ficheiro HTML com Python , optando por uma saída ligeiramente diferente .
At the end of this lesson , you will be able to extract all possible n-grams from the text .þAl final de la lección serás capaz de extraer todos los n-gramas posibles del texto .þNo final dessa lição , será capaz de extrair todos os n-gramas possíveis de um texto .
In the next lesson , you will be learn how to output all of the n-grams of a given keyword in a document downloaded from the Internet , and display them clearly in your browser window .þEn la siguiente lección , aprenderás cómo crear salida de todos los n-gramas de una palabra clave dada en un documento descargado de Internet , y visualizarla claramente en la ventana de tu navegador .þNa próxima lição , aprenderá como gerar todos os n-gramas de uma determinada palavra-chave em um documento baixado da Internet e exibi-los claramente na janela do navegador .
Files Needed For This LessonþArchivos necesarios para esta lecciónþFicheiros Necessários para esta Lição
If you do not have these files from the previous lesson , you can download programming-historian-7 , a zip file from the previous lessonþSi no tienes estos archivos de las lecciones anteriores , puedes descargar python-es-lecciones7 , un archivo zip de las lecciones anteriores .þCaso não possua esses ficheiros da lição anterior , pode fazer o download do programming-historian-7 , um ficheiro zip da lição anterior .
From Text to N-Grams to KWICþDe texto a n-gramas a KWICþDe Texto para N-gramas e para KWIC
Now that you know how to harvest the textual content of a web page automatically with Python , and have begun to use strings , lists and dictionaries for text processing , there are many other things that you can do with the text besides counting frequencies .þAhora que ya sabes cómo recolectar el contenido textual de una página Web de manera automática con Python , y has empezado a utilizar cadenas de caracteres , listas y diccionarios para procesamiento de texto , hay muchas otras cosas que puedes hacer con los textos aparte de contar frecuencias .þAgora que já sabe como coletar o conteúdo textual de uma página web automaticamente com Python e começou a usar strings , listas e dicionários para processamento de texto , há muitas outras coisas que pode fazer com texto além de contar frequências .
People who study the statistical properties of language have found that studying linear sequences of linguistic units can tell us a lot about a text .þQuienes estudian las propiedades estadísticas del lenguaje han encontrado que el estudiar las secuencias lineales de unidades lingüísticas puede decirnos muchas cosas acerca de un texto .þPessoas que estudam propriedades estatísticas da linguagem descobriram que estudar sequências lineares de unidades linguísticas pode nos dizer muito a respeito de um texto .
These linear sequences are known as bigrams ( 2 units ) , trigrams ( 3 units ) , or more generally as n-grams .þEstas secuencias lineales son conocidas como * bigramas+ ( 2 unidades ) , trigramas ( 3 unidades ) o más generalmente como n-gramas .þEssas sequências lineares são conhecidas como bigramas ( 2 unidades ) , trigramas ( 3 unidades ) e de forma geral como n-gramas .
You have probably seen n-grams many times before .þProbablemente has visto con anterioridad n-gramas muchas veces .þProvavelmente já viu n-gramas muitas vezes antes .
They are commonly used on search results pages to give you a preview of where your keyword appears in a document and what the surrounding context of the keyword is .þSe utilizan generalmente en páginas de resultados de investigación para dar una previsualización del lugar en que aparece tu palabra clave en un documento y cuál es el contexto que la rodea .þEles são comumente utilizados em páginas de resultados de pesquisa para oferecer uma prévia de onde a sua palavra-chave aparece em um documento e qual é o contexto ao redor da palavra-chave .
This application of n-grams is known as keywords in context ( often abbreviated as KWIC ) .þEsta aplicación de los n-gramas es conocida como `` palabras clave en contexto '' ( generalmente abreviada como KWIC ) .þEssa aplicação de n-gramas é conhecida como palavras-chave em contexto ( keywords in context , às vezes abreviada como KWIC ) .
For example , if the string in question were `` it was the best of times it was the worst of times it was the age of wisdom it was the age of foolishness '' then a 7-gram for the keyword `` wisdom '' would be :þPor ejemplo , si la cadena en cuestión fuese `` it was the best of times it was the worst of times it was the age of wisdom it was the age of foolishness '' , entonces un 7-grama para la palabra clave `` wisdom '' sería :þPor exemplo , se a string em questão fosse `` it was the best of times it was the worst of times it was the age of wisdom it was the age of foolishness `` , então o 7-grama para a palavra-chave `` wisdom `` seria :
An n-gram could contain any type of linguistic unit you like .þUn n-grama puede contener cualquier tipo de unidad lingüística que quieras .þUm n-grama poderia conter qualquer tipo de unidade linguística desejada .
For historians you are most likely to use characters as in the bigram `` qu '' or words as in the trigram `` the dog barked '' ; however , you could also use phonemes , syllables , or any number of other units depending on your research question .þLos historiadores tienen más probabilidades de utilizar caracteres como en el bigrama `` qu '' o palabras como en el trigrama `` el perro ladró '' ; sin embargo , puedes utilizar también fonemas , sílabas o cualquier número de otras unidades en función de tu pregunta de investigación .þPara historiadores , é mais provável que use caracteres como no bigrama `` qu '' ou palavras como no trigrama `` o cão ladrou '' ; no entanto , também poderia utilizar fonemas , sílabas , ou qualquer número de outras unidades dependendo da sua pergunta de investigação .
What we 're going to do next is develop the ability to display KWIC for any keyword in a body of text , showing it in the context of a fixed number of words on either side .þLo que vamos a hacer ahora es desarrollar la habilidad de visualizar KWIC para cualquier palabra clave en un cuerpo de texto y mostrarla en el contexto de un número fijo de palabras en cada lado .þO que faremos a seguir é desenvolver a habilidade de exibir KWIC para qualquer palavra-chave em um corpo de texto , mostrando-a no contexto de um número fixo de palavras em cada um dos lados .
As before , we will wrap the output so that it can be viewed in Firefox and added easily to Zotero .þComo antes , vamos a `` encerrar '' ( en HTML ) la salida de datos para que se pueda ver en Firefox y añadir fácilmente a Zotero .þComo antes , envolveremos a saída de modo que ela possa ser visualizada no Firefox e adicionada ao Zotero facilmente .
From Text to N-gramsþDe texto a n-gramasþDe Texto para N-gramas
Since we want to work with words as opposed to characters or phonemes , it will be much easier to create n-grams using a list of words rather than strings .þDado que queremos trabajar con palabras en lugar de caracteres o fonemas , será mucho más fácil crear n-gramas utilizando una lista de palabras en vez de cadenas .þUma vez que desejamos trabalhar com palavras ao invés de caracteres ou fonemas , será muito mais fácil criar um n-grama usando uma lista de palavras em vez de strings .
As you already know , Python can easily turn a string into a list using the split operation .þComo ya sabes , Python puede convertir fácilmente una cadena en una lista utilizando la operación dividir ( split ) .þComo já sabe , o Python pode facilmente transformar strings em uma lista usando a operação split .
Once split it becomes simple to retrieve a subsequence of adjacent words in the list by using a slice , represented as two indexes separated by a colon .þUna vez dividida resulta sencillo recuperar una subsecuencia de palabras adyacentes en la lista utilizando un fragmento representado por dos índices separados por dos puntos .þUma vez dividida , torna-se simples recuperar uma subsequência de palavras adjacentes na lista usando um slice , representado por dois índices separados por dois pontos .
This was introduced when working with strings in Manipulating Strings in Python .þAprendimos esto cuando trabajamos con cadenas en Manipular cadenas de caracteres en PythonþIsso foi introduzido ao trabalhar com strings em Manipular strings com Python :
However , we can also use this technique to take a predetermined number of neighbouring words from the list with very little effort .þSin embargo , también podemos utilizar esta técnica para tomar un número predeterminado de palabras vecinas de la lista con poco esfuerzo .þNo entanto , também podemos utilizar essa técnica para obter um número pré-determinado de palavras vizinhas em uma lista com pouquíssimo esforço .
Study the following examples , which you can try out in a Python Shell .þEstudia los siguientes ejemplos que puedes probar en un intérprete de Python .þEstude os exemplos a seguir , os quais você pode testar em um Python shell :
In these examples we have used the slice method to return parts of our list .þEn estos ejemplos se ha utilizado el método de división ( slice ) para recuperar partes de nuestra lista .þNesses exemplos usamos o método slice para retornar partes da nossa lista .
Note that there are two sides to the colon in a slice .þTen en cuenta que hay dos lados respecto a los dos puntos en un slice .þNote que há dois lados para os dois pontos em um slice .
If the right of the colon is left blank as in the last example above , the program knows to automatically continue to the end – in this case , to the end of the list .þSi a la derecha de los dos puntos se deja en blanco como en el último ejemplo anterior , el programa sabe continuar automáticamente hasta el final -en este caso , el final de la lista .þSe o lado direito dos dois pontos for deixado em branco , como no último exemplo acima , o programa sabe que deve continuar até o final automaticamente - nesse caso , até o fim da lista .
The second last example above shows that we can start at the beginning by leaving the space before the colon empty .þEn el penúltimo ejemplo anterior se muestra que podemos comenzar desde el principio dejando vacío el espacio anterior a los dos puntos .þO penúltimo exemplo acima mostra que podemos começar no início deixando vazio o espaço antes dos dois pontos .
This is a handy shortcut available to keep your code shorter .þEste es un atajo útil y que está disponible para mantener tu código más corto .þEste é um atalho útil disponível para manter seu código mais curto .
You can also use variables to represent the index positions .þTambién puedes utilizar variables para representar las posiciones del índice .þTambém pode usar variáveis para representar a posição dos índices .
Used in conjunction with a for loop , you could easily create every possible n-gram of your list .þUtilizado conjuntamente con un bucle for , puedes crear fácilmente cualquier n-grama posible a partir de tu lista .þUsado conjuntamente com um for loop , pode facilmente criar todos os n-gramas possíveis a partir da sua lista .
The following example returns all 5-grams of our string from the example above .þEl siguiente ejemplo recupera todos los 5-gramas de nuestra cadena a partir del ejemplo anterior .þO exemplo a seguir retorna todos os 5-gramas da nossa string do exemplo acima .
Keeping with our modular approach , we will create a function and save it to the obo.py module that can create n-grams for us .þSiguiendo con nuestro enfoque modular , vamos a crear una función y a guardarla en el módulo obo.py que puede crear n-gramas .þMantendo a nossa abordagem modular , criaremos e armazenaremos no módulo obo.py uma função que será capaz de criar n-gramas para nós .
Study and type or copy the following code :þEstudia y escribe o copia el siguiente código :þEstude e digite ou copie o seguinte código :
This function may look a little confusing as there is a lot going on here in not very much code .þEsta función puede parecer un poco confusa ya que hace muchas cosas sin mucho código .þEssa função pode parecer um pouco confusa , pois há muita coisa acontecendo aqui em pouco código .
It uses a list comprehension to keep the code compact .þUtiliza una lista por comprensión para mantener el código compacto .þEla usa uma compreensão de lista para manter o código compacto .
The following example does exactly the same thing :þEl siguiente ejemplo hace exactamente lo mismo :þO exemplo a seguir faz exatamente a mesma coisa :
Use whichever makes most sense to you .þUtiliza el que tenga más sentido para ti .þUse a opção que fizer mais sentido .
A concept that may still be confusing to you are the two function arguments .þUn concepto que todavía te puede resultar confuso es el par de argumentos de la función .þUm conceito que ainda pode ser confuso é a função de dois argumentos .
Notice that our function has two variable names in the parentheses after its name when we declared it : wordlist , n .þTen en cuenta que nuestra función tiene dos nombres de variables en el paréntesis después de su nombre cuando la declaramos : listaPalabras , n .þObserve que a nossa função possui dois nomes de variáveis entre parênteses depois do seu nome quando a declaramos : wordlist , n .
These two variables are the function arguments .þEstas dos variables son los argumentos de la función .þEssas duas variáveis são os argumentos da função .
When you call ( run ) this function , these variables will be used by the function for its solution .þCuando llamas ( ejecutas ) esta función , estas variables serán utilizadas por la función para su solución .þQuando chama ( executa ) a função , essas variáveis serão usadas pela função para a sua solução .
Without these arguments there is not enough information to do the calculations .þSin estos argumentos no hay suficiente información para hacer los cálculos .þSem esses argumentos não há informação suficiente para que os cálculos sejam feitos .
In this case , the two pieces of information are the list of words you want to turn into n-grams ( wordlist ) , and the number of words you want in each n-gram ( n ) .þEn este caso , las dos piezas de información son la lista de palabras que quieres covertir en n-gramas ( listaPalabras ) , y el número de palabras que quieres en cada n-grama ( n ) .þNesse caso , as duas informações são a lista de palavras que você deseja transformar em n-gramas ( wordlist ) e o número de palavras que você deseja em cada n-grama ( n ) .
For the function to work it needs both , so you call it in like this ( save the following as useGetNGrams.py and run ) :þPara que la función trabaje necesita ambas , así que la llamas como en este ejemplo ( guarda el siguiente programa como usaobtenNGramas.py y ejecútalo ) :þPara a função funcionar ela precisa das duas informações , que são chamadas da seguinte forma ( armazene o código a seguir como useGetNGrams.py e execute-o ) :
Notice that the arguments you enter do not have to have the same names as the arguments named in the function declaration .þObserva que los argumentos introducidos no tienen que tener el mismo nombre que los argumentos mencionados en la declaración de la función .þObserve que os argumentos que inseriu não precisam possuir os mesmos nomes dos argumentos nomeados na declaração da função .
Python knows to use allMyWords everywhere in the function that wordlist appears , since this is given as the first argument .þPython sabe utilizar todasMisPalabras en cualquier lugar de la función en la que aparezca listaPalabras , ya que esto se dio desde el primer argumento .þO Python sabe utilizar a variável allMyWords em todos os lugares da função em que wordlist aparece , já que ela é dada como o primeiro argumento .
Likewise , all instances of n will be replaced by the integer 5 in this case .þDel mismo modo , todas las apariciones de n serán remplazadas por el entero 5 en este caso .þDa mesma forma , todas as instâncias de n serão substituídas pelo inteiro 5 nesse caso .
Try changing the 5 to a string , such as `` elephants '' and see what happens when you run your program .þIntenta cambiar el 5 a una cadena , como `` elefantes '' y observa lo que sucede cuando ejecutas tu programa .þTente mudar 5 para uma string , como `` elefantes '' , e veja o que acontece quando executa o programa .
Note that because n is being used as an integer , you have to ensure the argument sent is also an integer .þTen en cuenta que debido a que n se utiliza como un entero , debes asegurarte que el argumento enviado es también un entero .þNote que , já que n está sendo usado como um inteiro , precisa garantir que o argumento fornecido também é um inteiro .
The same is true for strings , floats or any other variable type sent as an argument .þLo mismo es válido para cadenas de caracteres , puntos flotantes o cualquier otro tipo de variable enviada como argumento .þO mesmo vale para strings , pontos flutuantes ou qualquer outro tipo de variável fornecido como argumento .
You can also use a Python shell to play around with the code to get a better understanding of how it works .þTambién puedes utilizar un terminal de Python para jugar con el código y tener una mejor comprensión de cómo funciona .þTambém pode usar um Python shell para brincar com o código e entender melhor como ele funciona .
Paste the function declaration for getNGrams ( either of the two functions above ) into your Python shell .þPega la declaración de función para obtenNGramas ( cualquiera de las dos funciones anteriores ) en el intérprete de Python .þCole a declaração da função getNGrams ( qualquer uma das duas funções acima ) no seu Python shell :
There are two concepts that we see in this example of which you need to be aware .þEn este ejemplo vemos dos cosas que debes tener en cuenta .þHá dois conceitos que vemos nesse exemplo para os quais precisa estar atento .
Firstly , because our function expects a list of words rather than a string , we have to convert the strings into lists before our function can handle them .þEn primer lugar , como nuestra función espera una lista de palabras en lugar de una cadena , tenemos que convertir las cadenas en listas antes de que nuestro programa pueda manejarlas .þPrimeiro , como a nossa função espera uma lista de palavras ao invés de uma string , temos que converter as strings em listas antes que a nossa função possa manipulá-las .
We could have done this by adding another line of code above the function call , but instead we used the split method directly in the function argument as a bit of a shortcut .þPodríamos haberlo hecho mediante la adición de otra línea de código por encima de la llamada a la función , pero en su lugar utilizamos el método split directamente en el argumento de la función como una especie de atajo .þNós poderíamos ter feito isso adicionando outra linha de código acima da chamada da função , mas em vez disso usamos o método split diretamente no argumento da função como um atalho .
Secondly , why did the first example return an empty list rather than the n-grams we were after ?þEn segundo lugar , ¿por qué el primer ejemplo devuelve una lista vacía en lugar del n-grama que buscamos ?þEm segundo lugar , por que o primeiro exemplo retornou uma lista vazia em vez dos n-gramas que estávamos procurando ?
In test1 , we have tried to ask for an n-gram that is longer than the number of words in our list . This has resulted in a blank list .þEn test1 hemos pedido un n-grama que es más largo que el número de palabras en nuestra lista , lo cual ha resutado en una lista en blanco .þEm test1 , tentamos pedir um n-grama maior que o número de palavras em nossa lista . Isso resultou em uma lista em branco .
In test2 we have no such problem and get all possible 5-grams for the longer list of words .þEn test2 no tenemos tal problema y obtuvimos todos los posibles 5-gramas para una lista de palabras más larga .þEm test2 não temos esse problema e recebemos todos os 5-gramas possíveis para a lista de palavras mais longa .
If you wanted to you could adapt your function to print a warning message or to return the entire string instead of an empty list .þSi quieres puedes adaptar tu función para que imprima un mensaje de advertencia o para recuperar toda la cadena en lugar de una lista vacía .þSe desejasse , poderia adaptar a sua função para exibir uma mensagem de aviso ( warning message ) ou para retornar a string completa em vez de uma lista vazia .
We now have a way to extract all possible n-grams from a body of text .þAhora tenemos una manera de extraer todos los posibles n-gramas de un cuerpo de texto .þAgora temos uma maneira de extrair todos os n-gramas possíveis de um corpo textual .
In the next lesson , we can focus our attention on isolating those n-grams that are of interest to us .þEn la siguiente lección podemos centrar nuestra atención en aislar los n-gramas que sean de interés para nosotros .þNa próxima lição , poderemos concentrar a nossa atenção em isolar aqueles n-gramas que forem do nosso interesse .
Code SyncingþSincronización de códigoþSincronização de Código
To follow along with future lessons it is important that you have the right files and programs in your `` programming-historian '' directory .þPara seguir a lo largo de las lecciones futuras es importante que tengas los archivos correctos y programas en el directorio `` programming-historian '' de tu disco duro .þPara acompanhar lições futuras , é importante ter os ficheiros e programas corretos no seu diretório “ programming-historian ” .
At the end of each chapter you can download the `` programming-historian '' zip file to make sure you have the correct code .þAl final de cada lección puedes descargar el archivo zip `` python-es-lecciones '' para asegurarte que tienes el código correcto .þAo final de cada capítulo pode fazer o download do ficheiro zip `` programming-historian '' para garantir que possui o código correto .
If you are following along with the Mac / Linux version you may have to open the obo.py file and change `` file : ///Users/username/Desktop/programming-historian/ '' to the path to the directory on your own computer . python-lessons8.py ( zip sync )þSi estás trabajando con la versión Mac o Linux de las lecciones deberás abrir el archivo obo.py y cambiar `` file : ///Users/username/Desktop/programming-historian/ '' a la ruta del directorio de tu propia computadora . python-es-lecciones8.zip ( zip sync )þCaso esteja acompanhando com a versão para Mac / Linux , deve ter que abrir o ficheiro obo.py e mudar `` file : ///Users/username/Desktop/programming-historian/ '' para o caminho até o diretório no seu próprio computador .
