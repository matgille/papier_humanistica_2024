<TEI xmlns="http://www.tei-c.org/ns/1.0" xml:id="intro-aux-bots-twitter">
    <teiHeader>
        <fileDesc>
            <titleStmt>
                <title>Une introduction aux Bots Twitter avec Tracery</title>
                <author role="original_author">Shawn Graham</author>
                <editor role="reviewers">
                    <persName>Lee Skallerup Bessette</persName>
                    <persName>Adam Crymble</persName>
                    <persName>Nick Ruest</persName>
                </editor>
                <author role="translators">Géraldine Castel</author>
                <editor role="translation-reviewers">
                    <persName>Antoine Courtin</persName>
                    <persName>Sylvain Machefert</persName>
                    <persName>Alix Chagué</persName>
                </editor>
                <editor role="editors">Jessica Parr</editor>
            </titleStmt>
            <publicationStmt>
                <distributor>Programming Historian</distributor>
                <date type="translated">05/09/2020</date>
                <idno type="doi">10.46430/phfr0010</idno>
                <date type="published">08/29/2017</date>
            </publicationStmt>
            <sourceDesc>
                <p>Born digital, in a markdown format. Original file: <ref type="original_file" target="#intro-to-twitterbots"/>.</p>
                <p>There are other translations: <ref target=""/>
                </p>
                <p>There are other translations: <ref target=""/>
                </p>
            </sourceDesc>
        </fileDesc>
        <profileDesc>
            <abstract>
                <p>Cette leçon explique comment créer de simples bots Twitter à l'aide de la grammaire Tracery et du service Cheap Bots Done Quick. Tracery est interopérable avec plusieurs langages de programmation et peut être intégrée dans des sites web, des jeux ou des bots.</p>
            </abstract>
            <textClass>
                <keywords>
                    <term xml:lang="en">api</term>
                </keywords>
            </textClass>
        </profileDesc>
    </teiHeader>
    <text xml:lang="fr">
        <body>
            <p style="alert alert-warning">
L'accès à l'API de Twitter a récemment changé. Le niveau gratuit ne permet plus de rechercher et de télécharger les données de Twitter. Malheureusement, cela signifie que certains éléments de cette leçon ne fonctionneront que pour les personnes qui disposent d’un accès payant à l’API. Pour l'instant, il n'existe pas de plan d'accès spécial pour les chercheur·es ou les universitaires. [2023]
</p>
            <div type="2">
                <head>Une introduction aux bots Twitter avec Tracery</head>
                <p>Cette leçon explique comment créer des bots basiques sur Twitter à l’aide de la <ref target="http://tracery.io">grammaire générative Tracery</ref> et du service <ref target="http://cheapbotsdonequick.com/">Cheap Bots Done Quick</ref>. Tracery est interopérable avec plusieurs langages de programmation et peut être intégrée dans des sites web, des jeux ou des bots. Vous pouvez en faire une copie (fork) sur github <ref target="https://github.com/galaxykate/tracery/tree/tracery2">ici</ref>.</p>
                <div type="3">
                    <head>Pourquoi des bots?</head>
                    <p>Pour être exact, un bot Twitter est un logiciel permettant de contrôler automatiquement un compte Twitter. Lorsque des centaines de bots sont créés et tweetent plus ou moins le même message, ils peuvent façonner le discours sur Twitter, ce qui influence ensuite le discours d’autres médias. Des bots de ce type <ref target="http://www.sciencedirect.com/science/article/pii/S0747563213003129">peuvent même être perçus comme des sources crédibles d’information</ref>. Des projets tels que <ref target="http://www.docnow.io/">Documenting the Now</ref> mettent au point des outils qui permettent aux chercheur(e)s de créer et d’interroger des archives de réseaux sociaux en ligne à propos d’événements récents qui comprennent très probablement un bon nombre de messages générés par des bots. Dans ce tutoriel, je veux montrer comment construire un bot Twitter basique afin que des historiens et des historiennes, ayant connaissance de leur fonctionnement, puissent plus facilement les repérer dans des archives et, peut-être, même les neutraliser grâce à leurs propres bots.</p>
                    <p>Mais je crois aussi qu’il y a de la place en histoire et dans les humanités numériques de façon plus large pour un travail créatif, expressif, voire artistique. Les historiens et les historiennes qui connaissent la programmation peuvent profiter des possibilités offertes par les médias numériques pour monter des créations, autrement impossibles à réaliser pour nous émouvoir, nous inspirer, nous interpeller. Il y a de la place pour de la satire, il y a de la place pour commenter. Comme Mark Sample, je crois qu’il y a besoin de « <ref target="https://medium.com/@samplereality/a-protest-bot-is-a-bot-so-specific-you-cant-mistake-it-for-bullshit-90fe10b7fbaa">bots de conviction</ref>».
Ce sont des bots de contestation, des bots si pointus et pertinents, qu’il devient impossible de les prendre pour autre chose par erreur. Selon Sample, il faudrait que de tels bots soient:</p>
                    <list type="unordered">
                        <item>
                            <p>
                                <hi rend="bold">d’actualité</hi>: « Ils traitent les informations du matin et les horreurs qui ne font pas la une des journaux ».</p>
                        </item>
                        <item>
                            <p>
                                <hi rend="bold">factuels</hi>: « Ils s’appuient sur de la recherche, des statistiques, des tableurs, des bases de données. Les bots n’ont pas de subconscient. S’ils utilisent des images, elles sont à prendre au pied de la lettre ».</p>
                        </item>
                        <item>
                            <p>
                                <hi rend="bold">cumulatifs</hi>: « La répétition s’auto-alimente, le bot reprend le même air encore et encore, imperturbable et inébranlable, empilant les débris sur nos écrans ».</p>
                        </item>
                        <item>
                            <p>
                                <hi rend="bold">partisans</hi>: « Les bots de contestation sont engagés. La société étant ce qu’elle est, ce parti pris sera probablement mal vu, peut-être même déstabilisant ».</p>
                        </item>
                        <item>
                            <p>
                                <hi rend="bold">déroutants</hi>:« La révélation de ce que nous voulions dissimuler ».</p>
                        </item>
                    </list>
                    <p>J'aimerais voir plus de bots de contestation, des bots nous plaçant face à des vérités implacables et qui, dans leur persévérance dépourvue d'humanité, réclament justice. <ref target="https://twitter.com/Every3Minutes">
                            <emph>Every 3 minutes</emph>
                        </ref> de Caleb McDaniel nous fait honte en nous rappelant sans cesse que toutes les trois minutes, un être humain était vendu en esclavage dans le Sud des États-Unis avant la guerre civile.</p>
                    <figure>
                        <desc>Capture d'écran de la page Twitter du bot Every3Minutes</desc>
                        <graphic url="bot-lesson-every3minutes.png"/>
                    </figure>
                    <p>
                        <emph>À lui tout seul, every3minutes justifie la création d’un bot en histoire</emph>.</p>
                    <p>Pour entamer la réflexion, voici quelques suggestions de personnes qui m’ont répondu sur Twitter lorsque j’ai demandé à quoi pourraient ressembler des bots de conviction en histoire et archéologie:</p>
                    <quote>
                        <list type="unordered">
                            <item>un bot qui tweeterait des images en haute résolution issues du patrimoine culturel rendues inaccessibles par des visionneuses en mosaïque et des appropriations de droits d’auteur frauduleuses de la part des institutions où elles se trouvent ?
— Ryan Baumann (@ryanfb) 22 avril 2017</item>
                        </list>
                    </quote>
                    <quote>
                        <list type="unordered">
                            <item>un bot qui tweeterait des images de lieux sacrés amérindiens profanés au nom de la cupidité des entreprises.
— Cory Taylor (@CoryTaylor_) 22 avril 2017</item>
                        </list>
                    </quote>
                    <quote>
                        <list type="unordered">
                            <item>un bot qui référencerait les actifs historiques bénéficiant d’une exemption d’impôt sur la succession car supposés être « accessibles » au public
— Sarah Saunders (@Tick_Tax) 22 avril 2017</item>
                        </list>
                    </quote>
                    <quote>
                        <list type="unordered">
                            <item>un bot qui tweeterait le nom d’esclaves ayant appartenu à des universités prestigieuses ou ayant participé à la construction de bâtiments gouvernementaux tels que la Maison blanche.
— Cory Taylor (@CoryTaylor_) 22 avril 2017</item>
                        </list>
                    </quote>
                    <quote>
                        <list type="unordered">
                            <item>à chaque fois que quelqu’un dirait « depuis la nuit des temps, les humains ont », un bot qui répondrait automatiquement CONNERIES.
— Colleen Morgan (@clmorgan) 22 avril 2017</item>
                        </list>
                    </quote>
                    <quote>
                        <list type="unordered">
                            <item>un bot qui imaginerait la réaction d’Afghans, d’Irakiens, de Syriens, de Yéménites lorsque des membres de leur famille sont tués dans des attaques de drones.
— Cory Taylor (@CoryTaylor_) 22 avril 2017</item>
                        </list>
                    </quote>
                    <p>Dans la mesure où beaucoup de données historiques en ligne sont disponibles en format <ref target="http://json.org/">JSON</ref>, en cherchant un peu, vous devriez en trouver à utiliser avec votre bot.</p>
                    <p>Ma méthode est celle du bricoleur qui adapte et assemble des morceaux de code trouvés ici et là. En vérité, la programmation fonctionne en grande partie comme ça. Il existe beaucoup de logiciels pour interagir avec l’API (<emph>Application Programming Interface</emph> soit l'interface de programmation d'application) de Twitter. Dans cette leçon, il y aura peu de « programmation »: les bots ne seront pas écrits en Python, par exemple. Dans cette leçon d’introduction, je vais vous montrer comment construire un bot qui raconte des histoires, qui compose de la poésie, qui fait des choses merveilleuses à l’aide de <ref target="http://tracery.io/">Tracery.io</ref> comme <emph>grammaire générative</emph> et du service Cheap Bots Done Quick comme hébergeur du bot. Pour davantage de tutoriels pour apprendre à construire et héberger des bots Twitter sur d’autres services, voir <ref target="https://botwiki.org/tutorials/twitterbots/">la liste de tutoriels de Botwiki</ref> (en anglais).</p>
                    <p>Celui de mes bots qui a connu le plus de succès est <ref target="http://twitter.com/tinyarchae">@tinyarchae</ref>, un bot qui tweete des scènes de dysfonctionnements au sein d’un horrible projet d’excavation archéologique. Tout projet archéologique est confronté à des problèmes de sexisme, d’insultes, de mauvaise foi. Ainsi, @tinyarchae prend tout ce qui se murmure dans les colloques et le pousse à l’extrême. C’est, en réalité, une caricature qui comporte une part de vérité embarrassante. D’autres bots que j’ai construits détournent de la <ref target="https://twitter.com/archaeoglitch">photographie archéologique</ref>; l’un est même utile puisqu’il <ref target="https://twitter.com/botarchaeo">annonce la sortie de nouveaux articles de revues en archéologie</ref> et fait donc office d’assistant de recherche. Pour plus de réflexions sur le rôle joué par les bots en archéologie publique, voir ce <ref target="https://electricarchaeology.ca/2017/04/27/bots-of-archaeology-machines-writing-public-archaeology/">discours inaugural</ref> tiré du <ref target="http://web.archive.org/web/20180131161516/https://publicarchaeologyconference.wordpress.com/">colloque Twitter sur l’archéologie publique</ref>).</p>
                </div>
            </div>
            <div type="2">
                <head>Préparation : que fera votre bot ?</head>
                <p>Commençons avec un bloc-notes et du papier. À l'école primaire, une activité que nous faisions souvent pour apprendre les bases de la grammaire anglaise s'appelait « mad-libs » (des improvisations un peu folles). L'enseignant en charge de l’activité demandait par exemple à la classe de donner un nom, puis un adverbe, puis un verbe, puis un autre adverbe. Puis, de l'autre côté de la feuille, il y avait une histoire avec des espaces vides du type :</p>
                <p>"Susie la _nom_ était _adverbe_ mais elle _verbe_ _adverbe_."</p>
                <p>et les élèves remplissaient les blancs comme demandé. C'était un peu bête et, surtout, c'était amusant. Les Twitterbots sont à ce type d'improvisation ce que les voitures de sport sont aux attelages de chevaux. Les blancs à remplir pourraient, par exemple, être des valeurs dans des graphiques vectoriels svg. Il pourrait s'agir de nombres dans des noms de fichiers numériques (et donc de liens aléatoires vers une base de données ouverte, par exemple). Cela pourrait même être des noms et des adverbes. Comme les bots Twitter vivent sur le web, les blocs de construction à assembler peuvent être autre chose que du texte, même si, pour l'instant, le texte est le plus facile à utiliser.</p>
                <p>Nous allons commencer par esquisser une <emph>grammaire de remplacement</emph>. Cette grammaire s’appelle <ref target="http://tracery.io">Tracery.io</ref> et ses conventions ont été développées par Kate Compton (<ref target="https://twitter.com/galaxykate">@galaxykate</ref> sur Twitter). Elle s’utilise comme une bibliothèque <ref target="https://fr.wikipedia.org/wiki/JavaScript">javascript</ref> dans des pages web, des jeux, et des bots. Une grammaire de remplacement fonctionne en grande partie comme les improvisations ci-dessus.</p>
                <p>Afin de clarifier d'abord ce que fait la <emph>grammaire</emph>, nous n'allons <emph>pas</emph> créer un bot en histoire pour l'instant. Νous allons plutôt construire quelque chose de surréaliste pour montrer comment cette grammaire fonctionne.
Imaginons que vous souhaitiez créer un bot qui parle avec la voix d'une plante en pot. Que pourrait-il bien dire ce bot que nous appelerons tout simplement <emph>PlanteEnPot</emph>? Notez quelques idées.</p>
                <list type="unordered">
                    <item>Je suis une plante en pot. C’est vraiment ennuyeux !</item>
                    <item>S'il vous plaît, arrosez-moi. Je vous en supplie.</item>
                    <item>Ce pot. Il est si petit. Mes racines sont tellement à l'étroit !</item>
                    <item>Je me suis tournée vers le soleil. Mais ce n'était qu'une ampoule.</item>
                    <item>Je suis si seule. Où sont toutes les abeilles ?</item>
                </list>
                <p>Voyons maintenant comment ces phrases ont été construites. Nous allons remplacer les mots et les phrases par des variables, que nous appelerons des <emph>symboles</emph>, afin de pouvoir regénerer les phrases d’origine. Plusieurs phrases commencent par « je », créons donc un <emph>symbole</emph> "être" pour préciser un état ou une action pour le sujet:</p>
                <ab>
                    <code xml:id="code_intro-aux-bots-twitter_0" corresp="code_intro-aux-bots-twitter_0.txt" rend="block"/>
                </ab>
                <p>Cette configuration nous dit que le symbole "être" peut correspondre aux expressions "suis une plante", "vous en supplie" et ainsi de suite.</p>
                <p>Nous pouvons mélanger les symboles et du texte dans notre bot. Si nous configurons le bot de manière que les phrases commencent par le mot « je »  nous pouvons insérer le <emph>symbole</emph> "être" après celui-ci et compléter ainsi la phrase par "suis une plante" ou "me suis tournée". La phrase reste ainsi <emph>grammaticalement</emph> correcte. Construisons un autre symbole et appelons le, pourquoi pas, "endroit" :</p>
                <ab>
                    <code xml:id="code_intro-aux-bots-twitter_1" corresp="code_intro-aux-bots-twitter_1.txt" rend="block"/>
                </ab>
                <p>("endroit" est le <emph>symbole</emph> (notre variable) et "dans un pot" etc… sont les <emph>règles</emph> (les valeurs de la variable) qui le remplacent)</p>
                <p>Dans les phrases de notre brainstorming, nous n'avons jamais utilisé l'expression "sur le bord de la fenêtre", mais une fois que nous avons identifié "dans un pot", d'autres équivalences possibles surgissent. Notre bot va par la suite utiliser ces <emph>symboles</emph> pour faire des phrases. Les symboles - dans notre cas: "être" et "endroit" - sont comme nos improvisations de type madlib où il fallait une liste de noms, d'adverbes et ainsi de suite. Imaginons alors transmettre à notre bot l’expression suivante :</p>
                <ab>
                    <code xml:id="code_intro-aux-bots-twitter_2" corresp="code_intro-aux-bots-twitter_2.txt" rend="block"/>
                </ab>
                <p>Les résultats possibles seront :</p>
                <list type="unordered">
                    <item>Je me sens si seule sur le bord de la fenêtre.</item>
                    <item>Je me sens si seule dans un pot.</item>
                    <item>Je me suis tournée vers le soleil.</item>
                </list>
                <p>En bricolant, et en décomposant les unités d'expression en symboles plus petits et précis, on peut corriger toute maladresse d'expression - ou alors décider de les laisser pour rendre la voix du bot plus « authentique ».</p>
                <div type="3">
                    <head>Prototypage à l’aide d’un éditeur Tracery</head>
                    <p>Pour rectifier les imperfections du bot <emph>PlanteEnPot</emph>, nous avons utilisé l'éditeur Tracery de Brightspiral, qui n'existe malheureusement plus. Vous pouvez pourtant essayer un éditeur alternatif, tel que <ref target="https://tracery.io/editor/">https://tracery.io/editor/</ref>. L'éditeur visualise la façon dont les symboles et les règles de la grammaire interagissent, à savoir la manière dont ils sont imbriqués et le type de résultats que votre grammaire va générer. Si vous ouvrez l'éditeur dans une nouvelle fenêtre, vous devriez voir ça :</p>
                    <figure>
                        <desc>L'éditeur Tracery sur Brightspiral.com</desc>
                        <graphic url="bot-lesson-editor.png"/>
                    </figure>
                    <p>Le menu déroulant en haut à gauche, marqué <code rend="inline">tinygrammar</code>, contient d'autres exemples de grammaires que l'on peut explorer ; ils montrent à quel point Tracery peut devenir complexe. Pour l'instant, conservez <code rend="inline">tinygrammar</code>. L'un des avantages de cet éditeur est que vous pouvez appuyer sur le bouton <code rend="inline">show colors</code> (<emph>Afficher les couleurs</emph>), qui va attribuer une couleur à chaque symbole et ses règles, en codant par couleur le texte généré afin que vous puissiez voir quel élément appartient à quel symbole.</p>
                    <p>Si vous double-cliquez sur un symbole dans la grammaire par défaut, par exemple <code rend="inline">name</code> (<emph>nom</emph>) ou <code rend="inline">occupation</code> (<emph>profession</emph>), et que vous appuyez sur la touche <hi rend="bold">Supprimer</hi> de votre clavier, vous enlèverez ce symbole de la grammaire. Faites-le pour <code rend="inline">name</code> (<emph>nom</emph>) et <code rend="inline">occupation</code> (<emph>profession</emph>), en ne laissant que <code rend="inline">origin</code>(<emph>origine</emph>). Maintenant, ajoutez un nouveau symbole en cliquant sur le bouton <code rend="inline">new symbol</code>(<emph>nouveau symbole</emph>). Cliquez sur le titre (<code rend="inline">symbol1</code>) et renommez-le <code rend="inline">être</code>. Ensuite, cliquez sur le signe <code rend="inline">+</code>et ajoutez certaines de nos règles ci-dessus. Répétez l'opération pour un nouveau symbole appelé <code rend="inline">endroit</code>.</p>
                    <figure>
                        <desc>Construction de la grammaire pour le bot PlanteEnPot</desc>
                        <graphic url="bot-lesson-plantbot-fr.png"/>
                    </figure>
                    <p>À ce moment-là, l'éditeur affichera un message d'erreur en haut à droite, <code rend="inline">ERROR: symbol 'name' not found in tinygrammar</code>(<emph>ERREUR : le symbole <code rend="inline">name</code> n'a pas été trouvé dans tinygrammar</emph>). C'est parce que nous avons déjà supprimé <code rend="inline">name</code>, mais que ce symbole-là est aussi présent comme l'une une des règles du symbole <code rend="inline">origin</code>! C'est intéressant, car cela nous montre que nous pouvons <emph>imbriquer</emph> des symboles dans des règles. Nous pourrions par exemple avoir un symbole appelé <code rend="inline">character</code>(<emph>personnage</emph>), combinant des sous-symboles nommés <code rend="inline">first name</code> (<emph>prénom</emph>), <code rend="inline">last name</code> (<emph>nom de famille</emph>) et <code rend="inline">occupation</code> (<emph>profession</emph>), et chacun de ces sous-symboles contiendrait comme <emph>règles</emph> une liste de prénoms, noms et professions. Chaque fois que la grammaire serait exécutée, vous obtiendriez par exemple « Shawn Graham archéologue » stocké dans le symbole <code rend="inline">character</code> (<emph>personnage</emph>).</p>
                    <p>Une autre chose intéressante ici, c'est que le symbole <code rend="inline">origin</code> joue un rôle spécial, puisqu'il génère au final le texte (la grammaire est ici <emph>aplatie</emph>). Changeons donc les règles à l'intérieur de ce symbole pour que notre bot <emph>PlanteEnPot</emph> puisse enfin parler. (Attention, lorsque vous utilisez d'autres symboles comme régles à l'intérieur d'un symbole donné, vous devez les entourer de croisillons <code rend="inline">#</code>; ici donc vous obtiendrez: <code rend="inline">#être# #endroit#</code>).</p>
                    <p>Toutefois, il manque encore quelque chose: le mot « je ». Vous savez qu'il est posible de combiner du texte ordinaire avec les règles, faites-le donc maintenant: appuyez sur le <code rend="inline">+</code> à côté des règles à l'intérieur du symbole <code rend="inline">origin</code> et insérez le mot <emph>je</emph>. Ainsi, le symbole <code rend="inline">origin</code> affiche maintenant <code rend="inline">Je #être# #endroit#</code>. Peut-être que votre bot parlerait même avec une diction plus poétique en utilisant la combinaison inverse <code rend="inline">#endroit# #être#</code>.</p>
                    <p>Si vous appuyez sur <code rend="inline">save</code>(<emph>Enregistrer</emph>) dans l'éditeur, votre grammaire sera horodatée et apparaîtra dans la liste déroulante des grammaires. Elle sera sauvegardée dans le cache de votre navigateur, sachant que, si vous videz le cache, vous la perdrez.</p>
                    <p>Avant de poursuivre, il y a une dernière chose à examiner. En cliquant sur le bouton <code rend="inline">JSON</code>de l'éditeur, vous devriez voir quelque chose comme ça :</p>
                    <ab>
                        <code xml:id="code_intro-aux-bots-twitter_3" corresp="code_intro-aux-bots-twitter_3.txt" lang="language-JSON" rend="block"/>
                    </ab>
                    <p>Chaque grammaire Tracery est en réalité un objet <ref target="https://fr.wikipedia.org/wiki/JavaScript_Object_Notation">JSON</ref> composé de paires clé/valeur, ce que Tracery appelle de son côté symboles et règles. JSON est le format que nous utiliserons lorsque nous configurerons notre bot pour commencer à tweeter. Pour en savoir plus, vous pouvez consulter <ref target="/en/lessons/json-and-jq">ce tutoriel de Matthew Lincoln</ref> (en anglais). Sachez que le format JSON est tatillon, notez donc bien que les symboles sont entourés de <code rend="inline">"</code>, tout comme les règles, sauf que ces dernières sont en plus énumérées par des crochets <code rend="inline">[</code> et <code rend="inline">]</code>. Gardez à l'esprit ce schéma:</p>
                    <ab>
                        <code xml:id="code_intro-aux-bots-twitter_4" corresp="code_intro-aux-bots-twitter_4.txt" lang="language-JSON" rend="block"/>
                    </ab>
                    <p>Bien sûr, le nombre de symboles et de règles est sans importance, mais veillez à ce que les virgules soient placées correctement !</p>
                    <p>C'est une bonne pratique de copier ce JSON dans un éditeur de texte et d'enregistrer une copie dans un répertoire pérenne.</p>
                </div>
                <div type="3">
                    <head>Mais à quoi pourrait bien ressembler un bot historique ?</head>
                    <p>Maintenant, refaites l'exercice ci-dessus, mais réfléchissez bien à ce à quoi pourrait ressembler un bot en histoire étant donné les contraintes de Tracery. Construisez une grammaire simple pour exprimer cette idée et veillez à bien la sauvegarder. Voici d'autres éléments à prendre en compte lors de la conception de votre grammaire :</p>
                    <p>La sérendipité peut rendre les bots Twitter amusants, car les tweets se placent au hasard entre d’autres tweets sur un fil d’actualité (il vous faut suivre votre propre bot, pour garder un œil sur ce qu’il fait):</p>
                    <figure>
                        <desc>Maniacallaughbot a encore gagné</desc>
                        <graphic url="bot-lesson-maniacallaughbot.jpg"/>
                    </figure>
                    <p>N'oubliez pas que votre bot apparaîtra sur le fil d'autres personnes. Le potentiel de juxtaposition du ou des messages de votre bot avec les tweets d'autres personnes influencera également le succès relatif du bot.</p>
                    <figure>
                        <desc>Une interaction avec Tinyarchae occasionne des réflexions mélancoliques</desc>
                        <graphic url="bot-lesson-interaction-with-tinyarchae.png"/>
                    </figure>
                </div>
            </div>
            <div type="2">
                <head>Créez un compte Twitter pour votre bot et connectez-le à Cheap Bots Done Quick</head>
                <p>Vous pouvez certes associer un bot à votre propre compte Twitter. Toutefois, si vous ne voulez pas qu'un bot tweete <emph>en votre_nom</emph> ou <emph>pour vous</emph>, créez un nouveau compte Twitter. Pour ce faire, Twitter vous demande une adresse e-mail. Vous pouvez utiliser une nouvelle adresse ou, si vous avez un compte Gmail, vous pouvez utiliser l'astuce <code rend="inline">+tag</code>, c'est-à-dire qu'au lieu de <code rend="inline">nomdecompte</code> sur @gmail, vous utilisez <code rend="inline">nomdecompte+twitterbot</code> sur @gmail. Twitter l’acceptera comme une adresse électronique distincte de votre adresse habituelle.</p>
                <p>Normalement, quand on construit un bot Twitter, il faut créer <ref target="https://developer.twitter.com/">une application sur Twitter en tant que développeur ou développeuse</ref>), obtenir les clés d'accès d'utilisateur/utilisatrice de l'API (Application Programming Interface, il s'agit de l'interface de programmation applicative), ainsi que le <emph>token</emph> (jeton). Ensuite, il faudrait programmer l'authentification pour que Twitter sache que le programme essayant d'accéder à la plate-forme est autorisé.</p>
                <p>Heureusement, nous n'avons pas à faire tout cela, puisque George Buckenham a créé le site d'hébergement de bot <ref target="http://cheapbotsdonequick.com/">Cheap Bots Done Quick</ref> (ce site web montre également la grammaire source en JSON pour un certain nombre de bots différents, ce qui peut vous donner des idées). Une fois que vous avez créé le compte Twitter de votre bot et que vous y êtes connecté, allez sur Cheap Bots Done Quick et cliquez sur le bouton <code rend="inline">Sign in with Twitter</code>(<emph>Connexion avec Twitter</emph>). Le site vous redirigera vers Twitter pour approuver l'autorisation, puis vous ramènera à Cheap Bots Done Quick.</p>
                <p>Le JSON qui décrit votre bot peut être rédigé ou collé dans la case blanche principale qui se trouve en bas. Copiez le script que vous avez préparé dans Tracery depuis votre éditeur de texte et collez-le dans la case blanche principale. S'il y a des erreurs dans votre JSON, la fenêtre de résultat en bas deviendra rouge et le site essaiera de vous indiquer ce qui pose problème. Dans la plupart des cas, ce sera à cause d'une virgule ou d'un guillemet erronés ou égarés. Si vous cliquez sur le bouton d'actualisation à droite de la fenêtre de résultat (attention, il n'est PAS question ici du bouton d'actualisation de votre navigateur!), le site va générer un nouveau texte à partir de votre grammaire.</p>
                <figure>
                    <desc>L'interface du site Cheap Bots, Done Quick</desc>
                    <graphic url="bot-lesson-cbdq-fr.png"/>
                </figure>
                <p>Sous la fenêtre blanche qui accueille notre JSON se trouvent quelques paramètres qui déterminent la fréquence à laquelle votre bot tweetera, s'il répondra ou non aux messages ou mentions le cas échéant, enfin si votre grammaire source sera visible pour les autres:</p>
                <figure>
                    <desc>Les paramètres de votre bot</desc>
                    <graphic url="bot-lesson-settings-fr.png"/>
                </figure>
                <p>Configurez ces paramètres selon vos préférences. Ensuite, c'est le moment de vérité! Appuyez sur le bouton <code rend="inline">Tweet</code>, puis allez vérifier le flux Twitter de votre bot. Si tout se présente bien, cliquez sur <code rend="inline">Save</code> (<emph>Enregistrer</emph>).</p>
                <p>Félicitations, vous venez de configurer un bot Twitter!</p>
                <div type="3">
                    <head>Code de bonne conduite</head>
                    <p>Cheap Bots Done Quick est un service fourni par George Buckenham dans un esprit de bonne volonté. N'utilisez donc pas ce service pour créer des bots offensants ou injurieux ou qui pourraient gâcher le service pour tout autre utilisateur. Comme le créateur du service l'écrit,</p>
                    <quote>
                        <p>Si vous créez un bot que je juge spammeux, injurieux ou désagréable d'une manière ou d'une autre (par exemple, en @mentionnant des personnes qui n'ont pas donné leur consentement, en publiant des insultes ou en proférant des calomnies), je le retirerai.</p>
                    </quote>
                    <p>Darius Kazemi, l'un des grands artistes du bot, fournit davantage de conseils en matière de bonnes manières concernant les bots <ref target="http://tinysubversions.com/2013/03/basic-twitter-bot-etiquette/">ici</ref>.</p>
                </div>
            </div>
            <div type="2">
                <head>Aller plus loin avec Tracery</head>
                <p>Ce que nous avons décrit ici est suffisant pour vous permettre de vous lancer. Toutefois, beaucoup de bots sont plus compliqués que cela et il est possible d'en créer qui sont étonnamment efficaces en utilisant Tracery.</p>
                <div type="3">
                    <head>Changer des symboles</head>
                    <p>Tracery peut être configuré pour mettre les mots au pluriel ou en majuscules. Cela signifie, en réalité, que vous pouvez fournir le mot de base dans une règle, puis ajouter des modificateurs le cas échéant. Prenez par exemple:</p>
                    <ab>
                        <code xml:id="code_intro-aux-bots-twitter_5" corresp="code_intro-aux-bots-twitter_5.txt" rend="block"/>
                    </ab>
                    <p>Les modificateurs <code rend="inline">.capitalize</code> et <code rend="inline">.s</code> sont ajoutés à l'intérieur du <code rend="inline">#</code> du symbole qu'ils sont destinés à modifier. D'autres modificateurs sont <code rend="inline">.ed</code>pour le passé, et <code rend="inline">.a</code> pour a/an. Il y en a peut-être plus, car Tracery est en cours de développement.</p>
                    <p>
                        <emph>N.D.L.R.: Cet exemple est adapté à l'anglais, nous avons néanmoins opté pour le présenter tel quel afin de démontrer les possibilités de Tracery, dont les fonctionnalités peuvent être développées selon les besoins d'une langue. Pour l'instant, les fonctionnalités les plus subtiles sont développées dans des contextes anglophones, elles sont donc plus adaptées aux règles de grammaire et de syntaxe de l'anglais.</emph>
                    </p>
                </div>
                <div type="3">
                    <head>Utiliser des emoji</head>
                    <p>Les emojis peuvent être utilisés avec beaucoup d'efficacité dans des bots Twitter. Vous pouvez copier et coller des emojis directement dans l'éditeur Cheap Bots Done Quick, en les plaçant chacun entre guillemets comme toute autre valeur qui vous sert de règle. Utilisez <ref target="http://unicode.org/emoji/charts/full-emoji-list.html">cette liste</ref> pour repérer les emojis que vous souhaitez utiliser, en veillant à les copier/coller depuis la colonne Twitter pour vous assurer qu'ils vont bien s'afficher.</p>
                </div>
                <div type="3">
                    <head>Réutilisation de symboles générés avec la fonctionnalité action</head>
                    <p>Cette fonctionnalité ne serait probablement pas très utile dans le cas d'un bot Twitter, qui par définition produit du texte court. Mais lorsqu'il s'agit de générer du texte plus long, par exemple une histoire ou un poème, cette fonctionnalité peut être employée pour que Tracery retienne la première fois qu'une règle particulière a été affectée à un symbole. Ainsi, nous pourrions faire en sorte que la même valeur soit toujours utilisée lors de chaque appel suivant de <code rend="inline">creature</code>. C'est ce que Tracery appelle une « action ». La convention est #[uneAction]unSymbole#. Toutefois, cette fonctionnalité reste en cours de développement et peut prêter à confusion. Vous pouvez néanmoins voir comment elle fonctionne, si vous copiez-collez le JSON ci-dessous dans cet éditeur Tracery de Beau Gunderson : <ref target="https://beaugunderson.com/tracery-writer/">https://beaugunderson.com/tracery-writer/</ref> (veiller à sélectionner et à supprimer le texte qui s'affiche par défaut). L'éditeur Tracery utilisé précédemment ne gère pas très bien la sauvegarde des données, donc cette alternative-ci constitue un meilleur outil pour nos besoins actuels.</p>
                    <ab>
                        <code xml:id="code_intro-aux-bots-twitter_6" corresp="code_intro-aux-bots-twitter_6.txt" lang="language-JSON" rend="block"/>
                    </ab>
                    <p>Un autre exemple un peu plus complexe est le numéro 5 sur le site du tutoriel de Kate Compton à l'adresse <ref target="http://www.crystalcodepalace.com/traceryTut.html">http://www.crystalcodepalace.com/traceryTut.html</ref> :</p>
                    <ab>
                        <code xml:id="code_intro-aux-bots-twitter_7" corresp="code_intro-aux-bots-twitter_7.txt" lang="language-JSON" rend="block"/>
                    </ab>
                    <p>Tracery lit le symbole <code rend="inline">origin</code> (<emph>N.D.L.R.: si vous travaillez sur un exemple en français, ce qui est tout à fait possible, veillez à ne pas traduire ce symbole; vous gardez donc bien <code rend="inline">origin</code>, car sinon il ne sera pas reconnu et le code ne fonctionnera pas</emph>), et avant d'arriver au symbole <code rend="inline">story</code>, il voit une action appelée <code rend="inline">hero</code> qu'il définit à partir du symbole <code rend="inline">name</code>. Il fait la même chose pour <code rend="inline">heroPet</code> à partir d'<code rend="inline">animal</code>. Avec ces ensembles, il lit alors l’histoire définie dans la variable <code rend="inline">story</code>. Dans <code rend="inline">story</code> le symbole <code rend="inline">hero</code> lit ce qui vient d'être défini par l'action, et retourne la même valeur à chaque fois. Donc, si 'Yuuma' a été sélectionné par l'action, l'histoire dira <code rend="inline">Yuuma traveled with her pet [nom d'animal] Yuuma was never [variable d'humeur]</code> (<emph>
                            <code rend="inline">Yuuma a voyagé avec son animal de compagnie.... Yuuma n'a jamais...</code>
                        </emph>). Si nous n'avions pas défini le nom du héros via l'action, alors l'histoire générée pourrait changer le nom du héros au milieu de l'histoire !</p>
                </div>
                <div type="3">
                    <head>Répondre à des mentions dans Cheap Bots Done Quick</head>
                    <p>
                        <ref target="http://cheapbotsdonequick.com/">Cheap Bots Done Quick</ref> possède une fonctionnalité bêta qui permet à votre robot de répondre aux mentions. Attention, si vous créez deux bots configurés pour que l'un mentionne l'autre, la « conversation » qui s'ensuit peut durer très longtemps. A noter qu'il y a 5% de chances dans tout échange que le bot ne réponde pas, interrompant ainsi la conversation.</p>
                    <p>Pour configurer un modèle de réponse, cliquez au bas de la page pour paramétrer le bouton pour répondre aux tweets (<code rend="inline">Reply</code>). Dans la fenêtre de modification JSON qui apparaît, configurez le modèle pour les phrases auxquelles votre bot va répondre. Par exemple, voici ci-dessous une partie de ce que mon bot @tinyarchae détecte :</p>
                    <ab>
                        <code xml:id="code_intro-aux-bots-twitter_8" corresp="code_intro-aux-bots-twitter_8.txt" lang="language-JSON" rend="block"/>
                    </ab>
                    <p>Les symboles ici peuvent inclure des motifs d'expressions régulières (Regex) (pour en savoir plus, voir <ref target="/fr/lecons/comprendre-les-expressions-regulieres">cette leçon</ref> sur les expressions régulières). Ainsi, dans l'exemple ci-dessus, le dernier symbole recherche <emph>Should</emph> " OU <emph>should</emph> OU  <emph>Maybe</emph> OU  <emph>maybe</emph> OU <emph>if</emph> OU <emph>If</emph>. Pour répondre à tout ce qui lui est adressé, le symbole serait le point : <code rend="inline">.</code>. Les règles peuvent inclure du texte simple (comme dans la réponse à "hello") ou peuvent être un autre symbole. Les règles doivent être incluses dans votre grammaire principale dans la première case d'édition JSON de la page. Ainsi, <code rend="inline">#shouldanswer#</code> est dans la case principale de l'éditeur de grammaire @tinyarchae sous la forme d'une ligne :</p>
                    <ab>
                        <code xml:id="code_intro-aux-bots-twitter_9" corresp="code_intro-aux-bots-twitter_9.txt" lang="language-JSON" rend="block"/>
                    </ab>
                    <p>Tout en bas de la page, vous pouvez tester vos mentions en écrivant un exemple de tweet que votre bot va détecter. Si vous avez bien configuré les choses, vous devriez voir une réponse. S'il y a une erreur, la case <code rend="inline">Response</code> (<emph>Réponse</emph>) devient rouge et vous indique où se trouve l'erreur.</p>
                    <figure>
                        <desc>Tester la réponse du bot</desc>
                        <graphic url="bot-lesson-response.png"/>
                    </figure>
                </div>
                <div type="3">
                    <head>Graphiques SVG</head>
                    <p>Puisque le <ref target="https://fr.wikipedia.org/wiki/Scalable_Vector_Graphics">SVG</ref> est un format de données qui décrit la géométrie d'un graphique vectoriel, Tracery peut être utilisé pour réaliser un travail plutôt artistique. Par exemple, il existe le bot <ref target="https://twitter.com/TinyAdv">Tiny Space Adventure</ref> qui dessine un champ d'étoiles, un vaisseau spatial et un descriptif. Sa grammaire <ref target="https://pastebin.com/YYtZnzZ0">peut être consultée ici</ref>. Pour que le format SVG soit généré correctement, il est d'une importance capitale d'avoir paramétré correctement Tracery. N'hésitez donc pas de prendre comme modèle le code source du <ref target="http://cheapbotsdonequick.com/source/softlandscapes">bot softlandscapes</ref> qui commence par définir le texte critique qui délimite le SVG :</p>
                    <ab>
                        <code xml:id="code_intro-aux-bots-twitter_10" corresp="code_intro-aux-bots-twitter_10.txt" rend="block"/>
                    </ab>
                    <p>et ensuite :</p>
                    <ab>
                        <code xml:id="code_intro-aux-bots-twitter_11" corresp="code_intro-aux-bots-twitter_11.txt" rend="block"/>
                    </ab>
                    <p>Travailler avec SVG peut être délicat, car des éléments comme les barres obliques inverses, les fins de ligne, les guillemets et ainsi de suite doivent être « échappés » pour que le script fonctionne correctement. Comme dit sur le site,</p>
                    <quote>
                        <p>La syntaxe ressemble à ceci : {svg &lt;svg &lt;svg ...&gt; .... }. Les balises SVG devront spécifier un attribut de largeur et de hauteur (<emph>width</emph>, <emph>height</emph>). Notez que, dans celles-ci, les guillemets (<code rend="inline">"</code>) et les croisillons (<code rend="inline">#</code>) doivent être échappés en se faisant précéder par une double barre oblique inversée (antislash), comme ceci \" et cela \#. Par ailleurs, les accolades (<code rend="inline">{</code> et <code rend="inline">}</code>) doivent aussi être échappées en utilisant quatre barres obliques inversées, de la manière qui suit: \\{ et \\}.
Note : cette fonctionnalité est encore en développement, le bouton tweet sur cette page ne fonctionnera donc pas. Et les informations de débogage sont meilleures dans FF que dans d'autres navigateurs.</p>
                    </quote>
                    <p>Les bots qui génèrent du SVG dépassent le cadre de cette leçon, mais une étude minutieuse des bots existants devrait pouvoir vous aider, si vous souhaitez approfondir cette question.</p>
                </div>
                <div type="3">
                    <head>Musique</head>
                    <p>À proprement parler, il ne s'agit plus de bots, mais comme la musique peut être écrite en texte, on peut utiliser Tracery pour composer de la musique et utiliser d'autres bibliothèques pour convertir cette notation en fichiers Midi. Pour aller plus loin, vous pouvez consulter <ref target="http://www.codingblocks.net/videos/generating-music-in-javascript/">cet article-ci</ref> et mon <ref target="https://electricarchaeology.ca/2017/04/07/tracery-continues-to-be-awesome/">propre retour d'expérience</ref>.</p>
                </div>
            </div>
            <div type="2">
                <head>Autres tutoriels et ressources sur les bots</head>
                <p>
                    <hi rend="bold">En anglais:</hi>
                </p>
                <list type="unordered">
                    <item>Zach Whalen, <ref target="http://www.zachwhalen.net/posts/how-to-make-a-twitter-bot-with-google-spreadsheets-version-04/">How to make a Twitter Bot with Google Spreadsheets</ref>, site web de Zach Whalen, <ref target="http://www.zachwhalen.net/">http://www.zachwhalen.net/</ref>, 7 mai 2015</item>
                    <item>Casey Bergman, <ref target="https://caseybergman.wordpress.com/2014/02/24/keeping-up-with-the-scientific-literature-using-twitterbots-the-flypapers-experiment/">Keeping Up With the Scientific Literature using Twitterbots: The FlyPapers Experiment</ref> (et aussi <ref target="https://github.com/roblanf/phypapers">ce repository de Robert Lanfear sur Github</ref>). Cette méthode consiste à collecter les flux RSS des articles de revues, puis à utiliser un service tel que <ref target="https://dlvrit.com/">Dlvr.it</ref> pour rediriger les liens vers un compte Twitter.</item>
                    <item>Abandonnée: Stefan Bohacek propose des modèles de code pour différents types de bots sur le site de remixage de code Glitch.com. Si vous vous rendez sur sa page, vous verrez une liste de différents types de bots. Séléctionnez-en un, cliquez sur le bouton <code rend="inline">remix</code> puis étudiez attentivement la documentation <code rend="inline">README.md</code> qui s'affiche sur la page. Glitch nécessite une identification (login) via un compte Github ou Facebook.</item>
                    <item>Enfin, je suggère de rejoindre le groupe BotMakers Slack pour découvrir d'autres tutoriels, des personnes partageant les mêmes intérêts, et d'autres ressources : <ref target="https://botmakers.org">Inscrivez-vous ici</ref>.</item>
                    <item>Le wiki des Botmakers' propose également une liste de <ref target="https://botwiki.org/tutorials/twitterbots/">tutoriels sur des bots Twitter</ref>.</item>
                </list>
                <p>Enfin, voici une liste de bots fonctionnant avec Tracery tenue à jour par Compton [ici]https://twitter.com/GalaxyKate/lists/tracery-bots). Amusez-vous bien ! Que vos bots déconcertent, divertissent, inspirent et déroutent.</p>
                <p>
                    <hi rend="bold">En français (N.D.L.R.: il s'agit de notes ajoutées à la version traduite):</hi>
                </p>
                <list type="unordered">
                    <item>Antoine Courtin, <ref target="https://medium.com/@seeksanusername/botinfocom-1a89605c0953">#BotInfocom</ref>, <emph>Medium.com/@seeksanusername/</emph>, 11 décembre 2016.</item>
                </list>
            </div>
            <div type="2">
                <head>Exemples de bots en français</head>
                <p>
                    <hi rend="bold">Avec un compte Twitter dédié</hi>
                </p>
                <list type="unordered">
                    <item>
                        <ref target="https://www.cafedefaune.org/ougepro/bot-de-sept-lieues">Bot de sept lieues</ref>: un bot voyageur qui raconte ses découvertes faites dans des contrées imaginaires.</item>
                    <item>
                        <ref target="https://twitter.com/envoisdeRomeBot">EnvoisdeRomeBot</ref>: un bot de valorisation d'une base de données patrimoniales.</item>
                    <item>
                        <ref target="https://twitter.com/lebotde7lieux">Le bot de 7 lieux</ref>: un bot qui explore les données géolocalisées de Wikidata.</item>
                    <item>
                        <ref target="https://twitter.com/memo_guerra_bot">Mémoire de la guerre d'Espagne - Bot</ref>: un bot de mémoire sur la Guerre d'Espagne qui liste les noms recensés de ses victimes.</item>
                </list>
                <p>
                    <hi rend="bold">Émis à partir du compte d'utilisateur du créateur du bot</hi>
                </p>
                <list type="unordered">
                    <item>Le <ref target="https://twitter.com/search?q=GallicaBot&amp;src=typed_query&amp;f=live">GallicaBot</ref> d'Olivier Jacquot qui tweete les titres d'ouvrages en accès libre disponibles sur la bibliothèque <ref target="https://gallica.bnf.fr/">Gallica</ref>.</item>
                    <item>Le <ref target="https://twitter.com/search?q=%23botInfocom&amp;src=typd&amp;f=live">#BotInfoCom </ref> d'Antoine Courtin, un bot qui simule des titres d'articles (imaginaires) en sciences de l'information et de la communication.</item>
                </list>
            </div>
            <div type="2">
                <head>Références</head>
                <p>Compton, K., Kybartas, B., Mateas, M.: Tracery: « An author-focused generative text tool » dans <emph>Proceedings of the 8th International Conference on Interactive Digital Storytelling</emph>, pp. 154–161 (2015).</p>
            </div>
        </body>
    </text>
</TEI>
