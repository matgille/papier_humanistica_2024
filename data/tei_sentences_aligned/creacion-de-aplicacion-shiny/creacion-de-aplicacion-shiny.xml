<TEI xmlns="http://www.tei-c.org/ns/1.0" xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="creacion-de-aplicacion-shiny" type="translation">
    <teiHeader>
        <fileDesc>
            <titleStmt>
                <title>Creación de aplicaciones web interactivas con R y Shiny</title>
                <author role="original_author">Yann Ryan</author>
                <editor role="reviewers">
                    <persName>Amanda Regan</persName>
                    <persName>Nicole Lemire Garlic</persName>
                </editor>
                <author role="translators">Jennifer Isasi</author>
                <editor role="translation-reviewers">
                    <persName>Angélica Avilés Bosques</persName>
                    <persName>Isabelle Gribomont</persName>
                    <persName>Riva Quiroga</persName>
                </editor>
                <editor role="editors">
                    <persName>Tiago Sousa Garcia</persName>
                    <persName>Alex Wermer-Colan</persName>
                </editor>
            </titleStmt>
            <publicationStmt>
                <distributor>Programming Historian</distributor>
                <date type="translated">04/26/2023</date>
                <idno type="doi">10.46430/phes0062</idno>
                <date type="published">10/19/2022</date>
            </publicationStmt>
            <sourceDesc>
                <p>Born digital, in a markdown format. Original file: <ref type="original_file" target="#shiny-leaflet-newspaper-map-tutorial"/>.</p>
                <p>There are other translations: <ref target="#aplicacao-web-interativa-r-shiny-leaflet"/>
                </p>
            </sourceDesc>
        </fileDesc>
        <profileDesc>
            <abstract>
                <p>Esta lección demuestra cómo crear un mapa web interactivo usando R y Shiny. En la lección, diseñarás e implementarás una aplicación simple, que consiste en un control deslizante que permite a los usuarios seleccionar un rango de fechas y mostrar un conjunto de puntos correspondientes en un mapa interactivo.</p>
            </abstract>
            <textClass>
                <keywords>
                    <term xml:lang="en">mapping</term>
                    <term xml:lang="en">website</term>
                    <term xml:lang="en">r</term>
                    <term xml:lang="en">data-visualization</term>
                </keywords>
            </textClass>
        </profileDesc>
    </teiHeader>
    <text xml:lang="es">
        <body><div type="2" n="1"><head><s xml:id="s_mdLV2c" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Bbdb6J']}"><w>Introducción</w></s></head><p><s xml:id="s_eWAtA6" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_q54j9U']}"><w>Esta</w><w>lección</w><w>te</w><w>muestra</w><w>cómo</w><w>crear</w><w>una</w><w>aplicación</w><w>web</w><w>interactiva</w><w>básica</w><w>con</w><w>Shiny</w><pc>.</pc></s><s xml:id="s_uRcJnO" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_eHEleD']}"><w>Shiny</w><w>es</w><w>un</w><w>paquete</w><w>(</w><w>un</w><w>conjunto</w><w>de</w><w>funciones</w><w>)</w><w>para</w><w>el</w><w>lenguaje</w><w>de</w><w>programación</w><w>R.</w><w>Su</w><w>propósito</w><w>es</w><w>facilitar</w><w>el</w><w>desarrollo</w><w>de</w><w>aplicaciones</w><w>web</w><w>que</w><w>permiten</w><w>a</w><w>los</w><w>usuarios</w><w>interactuar</w><w>con</w><w>el</w><w>código</w><w>de</w><w>R</w><w>en</w><w>un</w><w>navegador</w><w>y</w><w>mediante</w><w>elementos</w><w>de</w><w>la</w><w>interfaz</w><w>de</w><w>usuario</w><w>(</w><w>UI</w><w>)</w><w>como</w><w>controles</w><w>deslizantes</w><w>,</w><w>menús</w><w>desplegables</w><w>,</w><w>etc</w><pc>.</pc></s><s xml:id="s_OWwv0o" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_NTaRKD']}"><w>En</w><w>esta</w><w>lección</w><w>diseñarás</w><w>e</w><w>implementarás</w><w>una</w><w>aplicación</w><w>sencilla</w><w>que</w><w>contiene</w><w>un</w><w>control</w><w>deslizante</w><w>que</w><w>permite</w><w>al</w><w>usuario</w><w>seleccionar</w><w>un</w><w>rango</w><w>de</w><w>fechas</w><w>para</w><w>mostrar</w><w>un</w><w>conjunto</w><w>de</w><w>puntos</w><w>correspondientes</w><w>en</w><w>un</w><w>mapa</w><w>interactivo</w><pc>.</pc></s></p></div><div type="2" n="2"><head><s xml:id="s_JtsZnh" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_j7Babi']}"><w>Objetivos</w><w>de</w><w>la</w><w>lección</w></s></head><p><s xml:id="s_ukGXBs" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_tUdE9c']}"><w>En</w><w>esta</w><w>lección</w><w>vas</w><w>a</w><w>aprender</w><w>:</w></s></p><list type="unordered"><item><s xml:id="s_GT7Nba" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_3Hp7zL']}"><w>Cómo</w><w>crear</w><w>una</w><w>aplicación</w><w>básica</w><w>interactiva</w><w>en</w><w>Shiny</w><pc>.</pc></s></item><item><s xml:id="s_oqxid9" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_ODH6Td']}"><w>Los</w><w>diseños</w><w>clave</w><w>y</w><w>los</w><w>principios</w><w>de</w><w>diseño</w><w>de</w><w>la</w><w>interfaz</w><w>de</w><w>usuario</w><w>de</w><w>Shiny</w><pc>.</pc></s></item><item><s xml:id="s_m0R2CG" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_SQ9EaW']}"><w>El</w><w>concepto</w><w>y</w><w>la</w><w>práctica</w><w>de</w><w>``</w><w>programación</w><w>reactiva</w><w>''</w><w>tal</w><w>y</w><w>como</w><w>es</w><w>implementada</w><w>en</w><w>aplicaciones</w><w>Shiny</w><pc>.</pc></s><s xml:id="s_4wmXu7" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_yk7Z1c']}"><w>Específicamente</w><w>,</w><w>aprenderás</w><w>cómo</w><w>puedes</w><w>usar</w><w>Shiny</w><w>para</w><w>``</w><w>escuchar</w><w>''</w><w>ciertos</w><w>datos</w><w>entrantes</w><w>y</w><w>cómo</w><w>se</w><w>conectan</w><w>con</w><w>datos</w><w>salientes</w><w>para</w><w>que</w><w>se</w><w>muestren</w><w>en</w><w>tu</w><w>aplicación</w><pc>.</pc></s></item></list><p style="alert alert-info"><s xml:id="s_7BeXYH" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_AsQ2uh']}"><w>Tener</w><w>conocimiento</w><w>básico</w><w>de</w><w>R</w><w>y</w><w>de</w><ref target="https://programminghistorian.org/es/lecciones/administracion-de-datos-en-r"><w>tidyverse</w></ref><w>en</w><w>particular</w><w>será</w><w>de</w><w>gran</w><w>utilidad</w><pc>.</pc></s><s xml:id="s_A6yrfj" corresp="{&quot;shiny-leaflet-newspaper-map-tutorial&quot;: [&quot;s_AsQ2uh&quot;]}"><w>Sin</w><w>embargo</w><w>,</w><w>en</w><w>esta</w><w>lección</w><w>no</w><w>te</w><w>enseñamos</w><w>a</w><w>programar</w><w>en</w><w>R</w><w>más</w><w>allá</w><w>de</w><w>lo</w><w>necesario</w><w>para</w><w>crear</w><w>una</w><w>aplicación</w><pc>.</pc></s><s xml:id="s_FKnA6W" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_U1D4o6']}"><w>Tampoco</w><w>se</w><w>explica</w><w>cómo</w><w>publicar</w><w>la</w><w>aplicación</w><w>en</w><w>la</w><w>web</w><pc>.</pc></s></p><div type="3" n="2.1"><head><s xml:id="s_yvfBzo" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_kfBisX']}"><w>Interfaces</w><w>gráficas</w><w>de</w><w>usuario</w><w>y</w><w>las</w><w>Humanidades</w><w>Digitales</w></s></head><p><s xml:id="s_2GoOsw" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_a5TvC0']}"><w>Las</w><ref target="https://perma.cc/U4Z4-SP73"><w>interfaces</w><w>gráficas</w><w>de</w><w>usuario</w><w>(</w><w>GUI</w><w>)</w></ref><w>y</w><w>los</w><w>elementos</w><w>interactivos</w><w>pueden</w><w>ayudar</w><w>a</w><w>que</w><w>ciertos</w><w>tipos</w><w>de</w><w>trabajos</w><w>académicos</w><w>basados</w><w>en</w><w>datos</w><w>sean</w><w>más</w><w>accesibles</w><w>o</w><w>legibles</w><pc>.</pc></s><s xml:id="s_IYXGEj" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_E0vUOP']}"><w>Por</w><w>ejemplo</w><w>,</w><w>los</w><w>historiadores</w><w>que</w><w>trabajan</w><w>con</w><w>datos</w><w>a</w><w>gran</w><w>escala</w><w>pueden</w><w>querer</w><w>demostrar</w><w>el</w><w>cambio</w><w>en</w><w>una</w><w>variable</w><w>a</w><w>lo</w><w>largo</w><w>del</w><w>tiempo</w><pc>.</pc></s><s xml:id="s_N0MlCr" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_tGslLg']}"><w>Un</w><w>mapa</w><w>interactivo</w><w>con</w><w>una</w><w>línea</w><w>de</w><w>tiempo</w><w>regulable</w><w>es</w><w>,</w><w>en</w><w>algunos</w><w>casos</w><w>,</w><w>más</w><w>fácil</w><w>de</w><w>leer</w><w>y</w><w>permite</w><w>mostrar</w><w>una</w><w>mayor</w><w>cantidad</w><w>de</w><w>información</w><w>que</w><w>una</w><w>serie</w><w>de</w><w>mapas</w><w>estáticos</w><pc>.</pc></s><s xml:id="s_dvFoKY" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_ianyoP']}"><w>Adicionalmente</w><w>,</w><w>permitirle</w><w>al</w><w>usuario</w><w>elegir</w><w>los</w><w>parámetros</w><w>de</w><w>la</w><w>visualización</w><w>puede</w><w>ayudar</w><w>a</w><w>evitar</w><w>algunos</w><w>de</w><w>los</w><w>sesgos</w><w>que</w><w>a</w><w>menudo</w><w>se</w><w>encuentran</w><w>en</w><w>las</w><w>visualizaciones</w><w>de</w><w>datos</w><w>que</w><w>utilizan</w><w>series</w><w>temporales</w><w>(</w><w>por</w><w>ejemplo</w><w>,</w><w>dibujar</w><w>arbitrariamente</w><w>un</w><w>mapa</w><w>por</w><w>décadas</w><w>)</w><pc>.</pc></s></p><p><s xml:id="s_6tQc73" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_fQw9ev']}"><w>Muchos</w><w>proyectos</w><w>de</w><w>investigación</w><w>tienen</w><w>elementos</w><w>interactivos</w><w>como</w><w>parte</w><w>de</w><w>sus</w><w>resultados</w><pc>.</pc></s><s xml:id="s_tPwhvF" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_pnYW5B']}"><w>Algunos</w><w>ejemplos</w><w>son</w><ref target="https://www.cartografiadigital.cl/map"><emph><w>Cartografía</w><w>de</w><w>la</w><w>Literatura</w><w>Digital</w><w>Latinoamericana</w></emph></ref><w>o</w><ref target="https://xpmethod.columbia.edu/torn-apart/volume/2/"><emph><w>Torn</w><w>Apart/Separados</w></emph></ref><w>,</w><w>y</w><w>como</w><w>ejemplo</w><w>de</w><w>un</w><w>proyecto</w><w>que</w><w>utiliza</w><w>Shiny</w><w>,</w><ref target="https://utrecht-university.shinyapps.io/GeoNewsMiner"><w>GeoNewsMiner</w></ref><w>muestra</w><w>la</w><w>geolocalización</w><w>de</w><w>lugares</w><w>mencionados</w><w>en</w><w>un</w><w>grupo</w><w>de</w><w>periódicos</w><pc>.</pc></s><s xml:id="s_i2tNb9" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_tGSnda']}"><w>Las</w><w>aplicaciones</w><w>interactivas</w><w>pueden</w><w>ser</w><w>herramientas</w><w>útiles</w><w>también</w><w>en</w><w>los</w><w>archivos</w><pc>.</pc></s><s xml:id="s_Y3eEn0" corresp="{&quot;shiny-leaflet-newspaper-map-tutorial&quot;: [&quot;s_tGSnda&quot;]}"><w>Por</w><w>ejemplo</w><w>,</w><w>los</w><w>investigadores</w><w>de</w><w>los</w><w>Archivos</w><w>Nacionales</w><w>del</w><w>Reino</w><w>Unido</w><w>han</w><w>creado</w><w>una</w><w>aplicación</w><w>que</w><w>evalúa</w><w>el</w><w>nivel</w><w>de</w><w>riesgo</w><w>en</w><w>una</w><w>colección</w><w>digital</w><w>,</w><w>utilizando</w><w>Shiny</w><w>y</w><w>a</w><w>través</w><w>de</w><w>una</w><w>serie</w><w>de</w><w>preguntas</w><w>respondidas</w><w>por</w><w>un</w><w>usuario</w><pc>.</pc></s></p><p><s xml:id="s_St68Hg" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_aweQRb']}"><w>Otro</w><w>caso</w><w>de</w><w>uso</w><w>típico</w><w>para</w><w>las</w><w>aplicaciones</w><w>interactivas</w><w>es</w><w>obtener</w><w>una</w><w>forma</w><w>sencilla</w><w>de</w><w>explorar</w><w>tu</w><w>propio</w><w>conjunto</w><w>de</w><w>datos</w><w>sin</w><w>tener</w><w>la</w><w>intención</w><w>de</w><w>que</w><w>la</w><w>aplicación</w><w>esté</w><w>disponible</w><w>de</w><w>forma</w><w>pública</w><pc>.</pc></s><s xml:id="s_VqRgIE" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_5nwMzO']}"><w>Podrías</w><w>simplemente</w><w>usarla</w><w>para</w><w>encontrar</w><w>patrones</w><w>interesantes</w><w>o</w><w>como</w><w>punto</w><w>de</w><w>partida</w><w>para</w><w>futuras</w><w>investigaciones</w><pc>.</pc></s><s xml:id="s_mThSuA" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Fsie1m']}"><w>De</w><w>esta</w><w>manera</w><w>,</w><w>la</w><w>interactividad</w><w>puede</w><w>ser</w><w>particularmente</w><w>útil</w><w>para</w><w>ayudarte</w><w>a</w><w>explorar</w><w>y</w><w>encontrar</w><w>patrones</w><w>dentro</w><w>de</w><w>conjuntos</w><w>de</w><w>datos</w><w>a</w><w>gran</w><w>escala</w><pc>.</pc></s></p></div><div type="3" n="2.2"><head><s xml:id="s_uWasVP" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_QySMd4']}"><w>Opciones</w><w>para</w><w>crear</w><w>una</w><w>GUI</w></s></head><p><s xml:id="s_WR2iH1" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Il7Tx0']}"><w>Hay</w><w>varias</w><w>opciones</w><w>a</w><w>la</w><w>hora</w><w>de</w><w>abordar</w><w>el</w><w>desarrollo</w><w>de</w><w>visualizaciones</w><w>interactivas</w><w>similares</w><w>a</w><w>los</w><w>ejemplos</w><w>anteriores</w><pc>.</pc></s><s xml:id="s_lsatCB" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_zemibb']}"><w>Una</w><w>es</w><w>aprender</w><w>una</w><w>herramienta</w><w>especializada</w><w>y</w><w>diseñada</w><w>para</w><w>manipular</w><w>páginas</w><w>web</w><w>en</w><w>respuesta</w><w>a</w><w>entradas</w><w>de</w><w>datos</w><w>,</w><w>como</w><w>la</w><ref target="https://perma.cc/BG9S-KPJE"><w>biblioteca</w><w>Javascript</w><w>D3</w></ref><pc>.</pc></s><s xml:id="s_jKXtOU" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_LGEYgM']}"><w>Una</w><w>segunda</w><w>opción</w><w>es</w><w>utilizar</w><w>alguna</w><w>de</w><w>las</w><w>herramientas</w><w>web</w><w>ya</w><w>existentes</w><w>,</w><w>algunas</w><w>generales</w><w>como</w><ref target="https://perma.cc/M6Y9-9ZCP"><w>Tableau</w></ref><w>o</w><ref target="https://perma.cc/TAA2-W7WA"><w>Rawgraphs</w></ref><w>,</w><w>o</w><w>algunas</w><w>con</w><w>un</w><w>propósito</w><w>más</w><w>específico</w><w>como</w><ref target="https://perma.cc/2W5A-PBJU"><w>Palladio</w></ref><w>o</w><ref target="https://perma.cc/SS9Z-6DAG"><w>Gephi</w></ref><pc>.</pc></s><s xml:id="s_VPIz36" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_O310nQ']}"><w>Un</w><w>tercer</w><w>acercamiento</w><w>podría</w><w>ser</w><w>usar</w><ref target="https://perma.cc/9MNM-G5WQ"><w>cuadernos</w><w>Jupyter</w></ref><w>que</w><w>permiten</w><w>compartir</w><w>código</w><w>interactivo</w><w>e</w><w>,</w><w>incluso</w><w>,</w><w>con</w><w>algunos</w><ref target="https://perma.cc/ESA5-9MEJ"><w>paquetes</w><w>adicionales</w></ref><w>,</w><w>crear</w><w>una</w><w>interfaz</w><w>de</w><w>usuario</w><pc>.</pc></s></p><p><s xml:id="s_w3AIue" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_9cByrT']}"><w>Esta</w><w>lección</w><w>presenta</w><w>una</w><w>cuarta</w><w>opción</w><w>:</w><w>crear</w><w>aplicaciones</w><w>interactivas</w><w>usando</w><w>una</w><w>GUI</w><w>con</w><w>un</w><w>paquete</w><w>para</w><w>un</w><w>lenguaje</w><w>de</w><w>programación</w><w>de</w><w>propósito</w><w>general</w><w>,</w><w>como</w><ref target="https://perma.cc/LXR5-BYC9"><w>Bokeh</w></ref><w>o</w><ref target="https://perma.cc/J7T9-EHTJ"><w>Dash</w></ref><w>para</w><w>Python</w><w>o</w><w>,</w><w>en</w><w>esta</w><w>lección</w><w>,</w><ref target="https://perma.cc/CK9W-VRKN"><w>Shiny</w></ref><w>para</w><w>R.</w><w>Tanto</w><w>Python</w><w>como</w><w>R</w><w>son</w><w>lenguajes</w><w>de</w><w>programación</w><w>versátiles</w><w>,</w><w>muy</w><w>utilizados</w><w>y</w><w>de</w><w>código</w><w>abierto</w><w>,</w><w>con</w><w>comunidades</w><w>activas</w><w>y</w><w>una</w><w>amplia</w><w>gama</w><w>de</w><w>paquetes</w><w>creados</w><w>por</w><w>estas</w><pc>.</pc></s><s xml:id="s_YfqwZE" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_3bVjZA']}"><w>Hay</w><w>muchas</w><w>circunstancias</w><w>en</w><w>las</w><w>que</w><w>tiene</w><w>sentido</w><w>utilizarlas</w><w>como</w><w>base</w><w>para</w><w>aplicaciones</w><w>interactivas</w><pc>.</pc></s><s xml:id="s_8e0xHW" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_TamNAy']}"><w>Básicamente</w><w>,</w><w>estos</w><w>paquetes</w><w>actúan</w><w>como</w><w>interfaces</w><w>interactivas</w><w>del</w><w>lenguaje</w><w>de</w><w>programación</w><w>con</w><w>las</w><w>que</w><w>se</w><w>pueden</w><w>crear</w><w>controles</w><w>deslizantes</w><w>,</w><w>selectores</w><w>y</w><w>otros</w><w>elementos</w><w>que</w><w>pueden</w><w>ser</w><w>usados</w><w>dinámicamente</w><w>para</w><w>cambiar</w><w>partes</w><w>del</w><w>código</w><pc>.</pc></s><s xml:id="s_SqbiKL" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_H5c76I']}"><w>En</w><w>la</w><w>mayoría</w><w>de</w><w>los</w><w>casos</w><w>,</w><w>no</w><w>requieren</w><w>conocimientos</w><w>técnicos</w><w>por</w><w>parte</w><w>de</w><w>los</w><w>usuarios</w><pc>.</pc></s><s xml:id="s_28zDxK" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_DDlU3Z']}"><w>Como</w><w>están</w><w>diseñados</w><w>para</w><w>funcionar</w><w>en</w><w>un</w><w>navegador</w><w>,</w><w>funcionan</w><w>en</w><w>cualquier</w><w>plataforma</w><w>y</w><w>son</w><w>fáciles</w><w>de</w><w>compartir</w><pc>.</pc></s></p></div><div type="3" n="2.3"><head><s xml:id="s_t9WzJx" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_qioHFU']}"><w>Shiny</w><w>y</w><w>la</w><w>programación</w><w>reactiva</w></s></head><p><s xml:id="s_WXvxNs" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_xGfDsS']}"><w>Shiny</w><w>está</w><w>basado</w><w>en</w><w>el</w><w>concepto</w><w>de</w><w>la</w><ref target="https://perma.cc/2XNF-W56K"><w>reactividad</w></ref><pc>.</pc></s><s xml:id="s_vP0bme" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_UmjOnD']}"><w>Normalmente</w><w>,</w><w>al</w><w>programar</w><w>,</w><w>establecemos</w><w>un</w><w>valor</w><w>específico</w><w>para</w><w>una</w><w>variable</w><w>,</w><w>por</w><w>ejemplo</w><w>,</w><code rend="inline"><w>x</w><w>=</w><w>5</w></code><pc>.</pc></s><s xml:id="s_f3eJ2V" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_GSbuUh']}"><w>En</w><w>la</w><emph><w>programación</w><w>reactiva</w></emph><w>,</w><w>el</w><w>valor</w><w>de</w><w>la</w><w>variable</w><w>depende</w><w>de</w><w>una</w><w>entrada</w><w>cambiante</w><w>,</w><w>generalmente</w><w>establecida</w><w>por</w><w>quienes</w><w>interactúan</w><w>con</w><w>la</w><w>aplicación</w><w>(</w><w>desde</w><w>un</w><w>control</w><w>deslizante</w><w>o</w><w>una</w><w>lista</w><w>desplegable</w><w>,</w><w>por</w><w>ejemplo</w><w>)</w><pc>.</pc></s><s xml:id="s_Dheh2p" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_z01Ecj']}"><w>El</w><w>código</w><w>``</w><w>escucha</w><w>''</w><w>los</w><w>cambios</w><w>en</w><w>estas</w><w>variables</w><w>reactivas</w><w>y</w><w>,</w><w>cada</w><w>vez</w><w>que</w><w>estas</w><w>cambian</w><w>,</w><w>actualiza</w><w>los</w><w>resultados</w><w>salientes</w><w>de</w><w>forma</w><w>automática</w><pc>.</pc></s></p><p><s xml:id="s_E6SndP" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_nyJJ6s']}"><w>Sin</w><w>embargo</w><w>,</w><w>esta</w><w>actualización</w><w>solo</w><w>ocurre</w><w>dentro</w><w>de</w><pc>.</pc></s><hi rend="bold"><s xml:id="s_7Nw3tw" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_9VKEvw']}"><w>entornos</w><w>reactivos</w></s></hi><s xml:id="s_Mpym3W" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_5M1qK8']}"><w>Shiny</w><w>tiene</w><w>tres</w><w>contextos</w><w>reactivos</w><w>importantes</w><w>:</w><w>funciones</w><w>de</w><code rend="inline"><w>render</w><w>*</w></code><w>,</w><w>usadas</w><w>para</w><w>crear</w><w>objetos</w><w>de</w><w>R</w><w>y</w><w>mostrarlos</w><w>en</w><w>la</w><w>aplicación</w><w>,</w><code rend="inline"><w>observe</w><w>(</w><w>{</w><w>}</w><w>)</w></code><w>,</w><w>y</w><code rend="inline"><w>reactive</w><w>(</w><w>{</w><w>}</w><w>)</w></code><pc>.</pc></s><s xml:id="s_7947r6" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_nDTVIX']}"><w>En</w><w>este</w><w>tutorial</w><w>vas</w><w>a</w><w>utilizar</w><w>la</w><w>reactividad</w><w>para</w><w>crear</w><w>un</w><emph><w>data</w><w>frame</w></emph><w>resumido</w><w>con</w><w>títulos</w><w>de</w><w>periódicos</w><w>y</w><w>sus</w><w>fechas</w><w>,</w><w>el</w><w>cual</w><w>se</w><w>actualiza</w><w>dinámicamente</w><w>basándose</w><w>en</w><w>los</w><w>datos</w><w>escogidos</w><w>por</w><w>quienes</w><w>usen</w><w>la</w><w>aplicación</w><pc>.</pc></s><s xml:id="s_ECPsmi" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_rS3I5S']}"><w>Para</w><w>tu</w><w>aplicación</w><w>usarás</w><w>una</w><w>función</w><w>de</w><code rend="inline"><w>render</w><w>*</w></code><w>para</w><w>mostrar</w><w>un</w><w>mapa</w><w>que</w><w>se</w><w>adapta</w><w>a</w><w>los</w><w>cambios</w><w>del</w><emph><w>data</w><w>frame</w></emph><w>reactivo</w><w>y</w><w>se</w><w>actualiza</w><w>con</w><w>ellos</w><pc>.</pc></s></p></div><div type="3" n="2.4"><head><s xml:id="s_FpKkg7" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_tYamoR']}"><w>Ventajas</w><w>y</w><w>desventajas</w><w>de</w><w>utilizar</w><w>Shiny</w></s></head><p><s xml:id="s_FRiKyK" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_NQebDH']}"><w>La</w><w>ventaja</w><w>de</w><w>este</w><w>método</w><w>es</w><w>que</w><w>crear</w><w>aplicaciones</w><w>Shiny</w><w>es</w><emph><w>relativamente</w></emph><w>fácil</w><w>si</w><w>ya</w><w>sabes</w><w>programar</w><w>con</w><w>R</w><w>porque</w><w>,</w><w>además</w><w>,</w><w>Shiny</w><w>puede</w><w>aprovechar</w><w>toda</w><w>la</w><w>gama</w><w>de</w><w>sus</w><w>paquetes</w><w>y</w><w>características</w><pc>.</pc></s><s xml:id="s_UGg7PC" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_XI3ngz']}"><w>En</w><w>algunas</w><w>circunstancias</w><w>esto</w><w>puede</w><w>ser</w><w>mejor</w><w>que</w><w>aprender</w><w>un</w><w>nuevo</w><w>lenguaje</w><w>desde</w><w>cero</w><pc>.</pc></s><s xml:id="s_jdbM7N" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_n8mpuQ']}"><w>Si</w><w>tienes</w><w>experiencia</w><w>usando</w><w>R</w><w>y</w><w>un</w><w>poco</w><w>de</w><w>conocimiento</w><w>sobre</w><w>Shiny</w><w>,</w><w>puedes</w><w>crear</w><w>aplicaciones</w><w>muy</w><w>complejas</w><w>y</w><w>útiles</w><w>,</w><w>desde</w><ref target="https://perma.cc/LHP6-6LRT"><w>mapas</w><w>interactivos</w></ref><w>al</w><ref target="https://perma.cc/25G9-2T8R"><w>análisis</w><w>de</w><w>redes</w></ref><w>,</w><w>a</w><ref target="https://perma.cc/NR2G-F4F7"><w>modelos</w><w>de</w><w>aprendizaje</w><w>automático</w></ref><w>o</w><w>paneles</w><w>completos</w><w>con</w><w>mucha</w><w>funcionalidad</w><pc>.</pc></s><s xml:id="s_ImUqhe" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_12wGMD']}"><w>Si</w><w>puedes</w><w>programar</w><w>algo</w><w>en</w><w>R</w><w>,</w><w>probablemente</w><w>también</w><w>puedes</w><w>hacerlo</w><w>interactivo</w><w>con</w><w>Shiny</w><pc>.</pc></s><s xml:id="s_IeKzQ3" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_QP4kfb']}"><w>El</w><w>proceso</w><w>de</w><w>crear</w><w>una</w><w>interfaz</w><w>de</w><w>usuario</w><w>de</w><w>Shiny</w><w>es</w><w>muy</w><w>flexible</w><w>y</w><w>fácil</w><w>de</w><w>personalizar</w><w>,</w><w>por</w><w>lo</w><w>cual</w><w>es</w><w>sencillo</w><w>crear</w><w>una</w><w>aplicación</w><w>en</w><w>un</w><w>formato</w><w>que</w><w>podría</w><w>ser</w><w>integrado</w><w>en</w><w>el</w><w>sitio</w><w>web</w><w>de</w><w>un</w><w>proyecto</w><w>utilizando</w><emph><w>iframes</w></emph><pc>.</pc></s><s xml:id="s_VT4mxY" corresp="{&quot;shiny-leaflet-newspaper-map-tutorial&quot;: [&quot;s_QP4kfb&quot;]}"><w>Aunque</w><w>tiene</w><w>su</w><w>interfaz</w><w>en</w><w>inglés</w><w>,</w><w>puedes</w><w>consultar</w><w>el</w><w>proyecto</w><emph><ref target="https://www.mappingthegayguides.org/map/"><w>Mapping</w><w>the</w><w>Gay</w><w>Guides</w></ref></emph><w>como</w><w>un</w><w>ejemplo</w><w>de</w><w>esto</w><pc>.</pc></s></p><p><s xml:id="s_vnqQ5z" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Y5YuhC']}"><w>Pero</w><w>también</w><w>hay</w><w>ciertas</w><w>desventajas</w><w>que</w><w>hay</w><w>que</w><w>tener</w><w>en</w><w>cuenta</w><pc>.</pc></s><s xml:id="s_Pn4QS4" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Vp5yKy']}"><w>Para</w><w>aquellas</w><w>personas</w><w>que</w><w>no</w><w>tienen</w><w>la</w><w>intención</w><w>de</w><w>usar</w><w>un</w><w>lenguaje</w><w>como</w><w>R</w><w>en</w><w>otros</w><w>aspectos</w><w>de</w><w>su</w><w>trabajo</w><w>,</w><w>aprenderlo</w><w>solo</w><w>para</w><w>crear</w><w>aplicaciones</w><w>Shiny</w><w>puede</w><w>ser</w><w>una</w><w>exageración</w><pc>.</pc></s><s xml:id="s_xex5yr" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_87BEDS']}"><w>Shiny</w><w>es</w><w>de</w><w>código</w><w>abierto</w><w>y</w><w>de</w><w>uso</w><w>gratuito</w><w>,</w><w>y</w><w>la</w><w>forma</w><w>más</w><w>fácil</w><w>de</w><w>publicar</w><w>una</w><w>aplicación</w><w>terminada</w><w>en</w><w>la</w><w>web</w><w>es</w><w>usando</w><w>un</w><w>servicio</w><w>llamado</w><w>shinyapps.io</w><pc>.</pc></s><s xml:id="s_St8gqP" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_EfjI5e']}"><w>Este</w><w>es</w><w>un</w><w>producto</w><w>comercial</w><w>con</w><w>una</w><w>opción</w><w>gratuita</w><w>pero</w><w>que</w><w>brinda</w><w>un</w><w>número</w><w>limitado</w><w>de</w><w>horas</w><w>de</w><w>uso</w><w>(</w><w>25h</w><w>)</w><w>,</w><w>tras</w><w>lo</w><w>cual</w><w>hay</w><w>que</w><w>pagar</w><w>una</w><w>tarifa</w><w>mensual</w><pc>.</pc></s><s xml:id="s_lqiB2B" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_R6rCgW']}"><w>Puedes</w><w>ejecutar</w><w>Shiny</w><w>en</w><w>tu</w><w>propio</w><w>servidor</w><w>(</w><w>o</w><w>a</w><w>través</w><w>de</w><w>algo</w><w>como</w><ref target="https://perma.cc/DEA2-HCC7"><w>Amazon</w><w>Web</w><w>Services</w></ref><w>)</w><w>,</w><w>pero</w><w>es</w><w>un</w><w>proceso</w><w>bastante</w><w>complicado</w><w>y</w><w>requiere</w><w>un</w><w>conocimiento</w><w>bastante</w><w>avanzado</w><w>de</w><w>configuración</w><w>de</w><w>servidores</w><w>web</w><pc>.</pc></s><s xml:id="s_l0KOgc" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_mRlTLx']}"><w>Debes</w><w>tener</w><w>esto</w><w>en</w><w>cuenta</w><w>si</w><w>está</w><w>pensando</w><w>en</w><w>usar</w><w>Shiny</w><w>para</w><w>una</w><w>aplicación</w><w>pública</w><w>,</w><w>especialmente</w><w>si</w><w>crees</w><w>que</w><w>podría</w><w>tener</w><w>mucho</w><w>tráfico</w><w>y</w><w>un</w><w>uso</w><w>intensivo</w><pc>.</pc></s><s xml:id="s_V03A56" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_sTx85Q']}"><w>Como</w><w>alternativa</w><w>,</w><w>se</w><w>puede</w><w>replicar</w><w>parte</w><w>de</w><w>la</w><w>funcionalidad</w><w>de</w><w>Shiny</w><w>en</w><w>una</w><w>página</w><w>HTML</w><w>simple</w><w>usando</w><w>el</w><w>paquete</w><w>de</w><w>R</w><ref target="https://rstudio.github.io/crosstalk/index.html"><w>crosstalk</w></ref><pc>.</pc></s></p></div></div><div type="2" n="3"><head><s xml:id="s_QhTINo" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_XE5N86']}"><w>Contexto</w><w>histórico</w><w>y</w><w>datos</w></s></head><p><s xml:id="s_ADeKpe" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_QFWFMc', 's_fFGTj5']}"><w>La</w><w>Hemeroteca</w><w>Digital</w><w>de</w><w>la</w><w>Biblioteca</w><w>Nacional</w><w>de</w><w>España</w><w>alberga</w><w>publicaciones</w><w>periódicas</w><w>de</w><w>la</w><w>prensa</w><w>histórica</w><w>española</w><w>desde</w><w>su</w><w>inicio</w><w>hasta</w><w>mediados</w><w>del</w><w>XX</w><w>,</w><w>digitalizadas</w><w>según</w><w>su</w><w>presupuesto</w><w>desde</w><w>2007</w><w>y</w><w>limitada</w><w>siempre</w><w>por</w><w>la</w><w>legislación</w><w>de</w><w>propiedad</w><w>intelectual</w><w>vigente</w><pc>.</pc></s><s xml:id="s_XuPjdJ" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Z10Eo2']}"><w>Con</w><w>una</w><w>clara</w><w>intención</w><w>didáctica</w><w>y</w><w>representativa</w><w>de</w><w>cada</w><w>época</w><w>,</w><w>se</w><w>puede</w><w>consultar</w><w>prensa</w><w>de</w><w>todo</w><w>tipo</w><w>,</w><w>desde</w><w>la</w><w>científica</w><w>o</w><w>religiosa</w><w>hasta</w><w>la</w><w>satírica</w><w>o</w><w>deportiva</w><w>,</w><w>tanto</w><w>de</w><w>corta</w><w>como</w><w>de</w><w>larga</w><w>tirada</w><ref type="footnotemark" target="#es_note_1"/><pc>.</pc></s><s xml:id="s_XzHi7m" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_FaNLEb']}"><w>Aunque</w><w>podemos</w><w>consultar</w><w>esta</w><w>colección</w><w>de</w><w>forma</w><w>individual</w><w>y</w><w>,</w><w>después</w><w>,</w><w>página</w><w>por</w><w>página</w><w>,</w><w>aquí</w><w>nos</w><w>interesa</w><w>explorar</w><w>el</w><w>conjunto</w><w>de</w><w>datos</w><w>de</w><w>los</w><w>documentos</w><w>de</w><w>la</w><w>hemeroteca</w><w>digital</w><pc>.</pc></s><s xml:id="s_C69isS" corresp="{&quot;shiny-leaflet-newspaper-map-tutorial&quot;: [&quot;s_FaNLEb&quot;]}"><w>Para</w><w>ello</w><w>vamos</w><w>a</w><w>descargar</w><w>únicamente</w><w>el</w><w>listado</w><w>de</w><w>títulos</w><w>disponible</w><w>en</w><w>la</w><w>base</w><w>de</w><w>datos</w><w>del</w><w>Gobierno</w><w>de</w><w>España</w><ref type="footnotemark" target="#es_note_2"/><pc>.</pc></s></p><p><s xml:id="s_muMvkm" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_G3ylVI']}"><w>Estos</w><w>metadatos</w><w>estructurados</w><w>son</w><w>el</w><w>recurso</w><w>que</w><w>utilizarás</w><w>en</w><w>esta</w><w>lección</w><pc>.</pc></s><s xml:id="s_krk7bA" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_wzxg4h']}"><w>Para</w><w>quienes</w><w>estudian</w><w>historia</w><w>,</w><w>rastrear</w><w>los</w><w>metadatos</w><w>de</w><w>esta</w><w>colección</w><w>puede</w><w>ser</w><w>una</w><w>forma</w><w>para</w><w>entender</w><w>el</w><w>crecimiento</w><w>y</w><w>el</w><w>cambio</w><w>en</w><w>la</w><w>prensa</w><w>a</w><w>lo</w><w>largo</w><w>del</w><w>tiempo</w><w>y</w><w>en</w><w>diferentes</w><w>regiones</w><pc>.</pc></s><s xml:id="s_ZBUi3N" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Vkq3st']}"><w>Además</w><w>,</w><w>puede</w><w>ayudarnos</w><w>a</w><w>comprender</w><w>más</w><w>sobre</w><w>la</w><w>colección</w><w>de</w><w>la</w><w>Biblioteca</w><w>Nacional</w><w>de</w><w>España</w><w>en</w><w>sí</w><w>,</w><w>incluidos</w><w>sus</w><w>silencios</w><w>,</w><w>sesgos</w><w>,</w><w>estrategias</w><w>de</w><w>digitalización</w><w>y</w><w>puntos</w><w>ciegos</w><pc>.</pc></s><s xml:id="s_3FDsWc" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_EmyYW5']}"><w>Los</w><w>datos</w><w>podrían</w><w>incluso</w><w>indicar</w><w>algo</w><w>sobre</w><w>los</w><w>cambios</w><w>demográficos</w><w>y</w><w>la</w><w>industrialización</w><w>de</w><w>España</w><w>,</w><w>así</w><w>como</w><w>los</w><w>desarrollos</w><w>en</w><w>las</w><w>tecnologías</w><w>de</w><w>la</w><w>comunicación</w><w>(</w><w>los</w><w>trenes</w><w>y</w><w>luego</w><w>los</w><w>telégrafos</w><w>hicieron</w><w>posible</w><w>tener</w><w>prensas</w><w>regionales</w><w>y</w><w>locales</w><w>,</w><w>por</w><w>ejemplo</w><w>)</w><pc>.</pc></s></p><p><s xml:id="s_WOvZlH" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_TDgU5m']}"><w>La</w><w>industria</w><w>de</w><w>los</w><w>periódicos</w><w>(</w><w>y</w><w>,</w><w>por</w><w>lo</w><w>tanto</w><w>,</w><w>la</w><w>colección</w><w>)</w><w>pasó</w><w>de</w><w>un</w><w>pequeño</w><w>número</w><w>de</w><w>títulos</w><w>publicados</w><w>en</w><w>Madrid</w><w>a</w><w>principios</w><w>del</w><w>siglo</w><w>XVII</w><w>,</w><w>concretamente</w><w>iniciando</w><w>con</w><w>la</w><emph><w>Gaceta</w><w>de</w><w>Madrid</w></emph><w>en</w><w>1661</w><w>a</w><w>una</w><w>floreciente</w><w>prensa</w><w>provincial</w><w>semanal</w><w>y</w><w>diaria</w><w>en</w><w>el</w><w>XVIII</w><w>,</w><w>y</w><w>luego</w><w>a</w><w>una</w><w>gran</w><w>prensa</w><w>local</w><w>en</w><w>los</w><w>siglos</w><w>XIX</w><w>y</w><w>XX</w><pc>.</pc></s><s xml:id="s_7Av3Ko" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_30aDaK']}"><w>Durante</w><w>gran</w><w>parte</w><w>del</w><w>siglo</w><w>XVIII</w><w>,</w><w>se</w><w>agregó</w><w>un</w><w>impuesto</w><w>a</w><w>cada</w><w>copia</w><w>de</w><w>un</w><w>periódico</w><w>,</w><w>haciéndolos</w><w>caros</w><w>y</w><w>solo</w><w>disponibles</w><w>para</w><w>la</w><w>élite</w><pc>.</pc></s><s xml:id="s_OM6aci" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_7OLfWO']}"><w>En</w><w>el</w><w>siglo</w><w>siguiente</w><w>esto</w><w>fue</w><w>derogado</w><w>y</w><w>la</w><w>prensa</w><w>comenzó</w><w>—aunque</w><w>lentamente—</w><w>a</w><w>reflejar</w><w>con</w><w>mayor</w><w>amplitud</w><w>las</w><w>aspiraciones</w><w>y</w><w>la</w><w>diversidad</w><w>del</w><w>país</w><w>y</w><w>sus</w><w>diversas</w><w>regiones</w><pc>.</pc></s><s xml:id="s_4w2esK" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_UEE0SI', 's_7y7Jbc']}"><w>La</w><w>aplicación</w><w>que</w><w>crearás</w><w>en</w><w>este</w><w>tutorial</w><w>,</w><w>un</w><w>mapa</w><w>interactivo</w><w>de</w><w>títulos</w><w>publicados</w><w>,</w><w>controlado</w><w>por</w><w>un</w><w>control</w><w>deslizante</w><w>de</w><w>tiempo</w><w>seleccionado</w><w>por</w><w>el</w><w>usuario</w><w>,</w><w>es</w><w>una</w><w>forma</w><w>útil</w><w>de</w><w>visualizar</w><w>estos</w><w>cambios</w><pc>.</pc></s></p><p><s xml:id="s_UmhBYJ" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_1b1KSk', 's_CCJx4a']}"><w>Debemos</w><w>añadir</w><w>que</w><w>en</w><w>el</w><w>listado</w><w>de</w><w>títulos</w><w>de</w><w>esta</w><w>colección</w><w>están</w><w>incluidos</w><w>algunos</w><w>diarios</w><w>extranjeros</w><w>que</w><w>contienen</w><w>,</w><w>de</w><w>una</w><w>forma</w><w>u</w><w>otra</w><w>,</w><w>información</w><w>referente</w><w>a</w><w>España</w><pc>.</pc></s><s xml:id="s_CyiZlF" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Aup87z', 's_1QaaVH']}"><w>Por</w><w>ejemplo</w><w>,</w><w>encontramos</w><w>el</w><w>alemán</w><ref target="https://perma.cc/XKQ7-7MJK"><emph><w>Darmstädter</w><w>Zeitung</w></emph></ref><w>publicado</w><w>desde</w><w>el</w><w>cinco</w><w>de</w><w>mayo</w><w>hasta</w><w>el</w><w>dos</w><w>de</w><w>junio</w><w>de</w><w>1872</w><w>o</w><w>el</w><ref target="https://perma.cc/S5B5-FSRN"><emph><w>Almanaque</w><w>sud-americano</w></emph></ref><pc>.</pc></s><s xml:id="s_MxshBA" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_HacA5g']}"><w>Aunque</w><w>quedan</w><w>guardados</w><w>en</w><w>el</w><w>documento</w><w>,</w><w>aquí</w><w>no</w><w>los</w><w>vamos</w><w>a</w><w>mostrar</w><w>en</w><w>la</w><w>visualización</w><w>,</w><w>que</w><w>enfocaremos</w><w>en</w><w>la</w><w>Península</w><w>Ibérica</w><ref type="footnotemark" target="#es_note_3"/><pc>.</pc></s></p><div type="3" n="3.1"><head><s xml:id="s_nIYwF9" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Z7P6V7']}"><w>Descargar</w><w>los</w><w>datos</w></s></head><p><s xml:id="s_yO4pBO" corresp="{&quot;shiny-leaflet-newspaper-map-tutorial&quot;: [&quot;s_Z7P6V7&quot;]}"><w>Para</w><w>este</w><w>tutorial</w><w>,</w><w>descargarás</w><w>dos</w><w>archivos</w><w>:</w><w>primero</w><w>,</w><w>una</w><w>lista</w><w>a</w><w>nivel</w><w>de</w><w>los</w><w>títulos</w><w>periódicos</w><w>presentes</w><w>en</w><w>la</w><w>Hemeroteca</w><w>Digital</w><w>de</w><w>la</w><w>Biblioteca</w><w>Nacional</w><w>de</w><w>España</w><w>(</w><w>a</w><w>la</w><w>que</w><w>nos</w><w>referiremos</w><w>como</w><w>la</w><w>'lista</w><w>de</w><w>títulos</w><w>'</w><w>)</w><w>y</w><w>segundo</w><w>,</w><w>un</w><w>conjunto</w><w>de</w><w>datos</w><w>de</w><w>poblaciones</w><w>de</w><w>España</w><w>y</w><w>sus</w><w>coordenadas</w><w>que</w><ref target="https://www.businessintelligence.info/varios/longitud-latitud-pueblos-espana.html"><w>encontramos</w><w>online</w></ref><w>(</w><w>al</w><w>que</w><w>nos</w><w>referiremos</w><w>como</w><w>la</w><w>'lista</w><w>de</w><w>coordenadas</w><w>'</w><w>)</w><w>y</w><w>que</w><w>hemos</w><w>convertido</w><w>en</w><w>un</w><w>archivo</w><w>separado</w><w>por</w><w>comas</w><w>y</w><w>editado</w><w>ligeramente</w><w>para</w><w>hacer</w><w>coincidir</w><w>los</w><w>lugares</w><w>que</w><w>se</w><w>encuentran</w><w>en</w><w>la</w><w>lista</w><w>de</w><w>títulos</w><w>con</w><w>las</w><w>ubicaciones</w><w>en</w><w>un</w><w>mapa</w><pc>.</pc></s></p><list type="ordered"><item><s xml:id="s_2bWiJL" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_xpU26N']}"><w>Descarga</w><w>el</w><ref target="/assets/creacion-de-aplicacion-shiny/bne_hemeroteca-digital.csv"><w>listado</w><w>de</w><w>títulos</w><w>desde</w><w>el</w><w>repositorio</w><w>de</w><w>Github</w></ref><w>para</w><w>esta</w><w>lección</w><pc>.</pc></s><s xml:id="s_qLbeDg" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_raVMdE']}"><w>El</w><ref target="https://perma.cc/JT88-ZXPD"><w>archivo</w><w>original</w></ref><w>está</w><w>disponible</w><w>en</w><w>la</w><w>base</w><w>de</w><w>datos</w><w>del</w><w>Ministerio</w><w>de</w><w>Asuntos</w><w>Económicos</w><w>y</w><w>Transformación</w><w>Digital</w><w>de</w><w>España</w><pc>.</pc></s><s xml:id="s_CkZGad" corresp="{&quot;shiny-leaflet-newspaper-map-tutorial&quot;: [&quot;s_raVMdE&quot;]}"><w>Para</w><w>nuestro</w><w>propósito</w><w>,</w><w>y</w><w>como</w><w>indicamos</w><w>más</w><w>abajo</w><w>,</w><w>tuvimos</w><w>que</w><w>realizar</w><w>algunos</w><w>cambios</w><pc>.</pc></s></item><item><s xml:id="s_9BgrxC" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_zQduBQ', 's_5B7v0v']}"><w>Las</w><ref target="/assets/creacion-de-aplicacion-shiny/listado-longitud-latitud-municipios-espana.csv"><w>coordenadas</w></ref><w>también</w><w>está</w><w>disponibles</w><w>en</w><w>el</w><w>repositorio</w><w>de</w><w>la</w><w>lección</w><pc>.</pc></s></item></list></div><div type="3" n="3.2"><head><s xml:id="s_Je3oPC" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_rN3iF5']}"><w>Entender</w><w>los</w><w>datos</w></s></head><p><s xml:id="s_Z2Whay" corresp="{&quot;shiny-leaflet-newspaper-map-tutorial&quot;: [&quot;s_rN3iF5&quot;]}"><w>Puesto</w><w>que</w><w>en</w><w>los</w><w>datos</w><w>proporcionados</w><w>por</w><w>la</w><w>BNE</w><w>la</w><w>información</w><w>original</w><w>sobre</w><w>la</w><w>fecha</w><w>(</w><code rend="inline"><w>comprende</w></code><w>)</w><w>no</w><w>sigue</w><w>un</w><w>formato</w><w>normalizado</w><w>(</w><w>común</w><w>a</w><w>todos</w><w>los</w><w>documentos</w><w>)</w><w>,</w><w>hemos</w><w>creado</w><w>dos</w><w>nuevas</w><w>columnas</w><w>con</w><w>inicio</w><w>y</w><w>final</w><w>de</w><w>la</w><w>fecha</w><w>de</w><w>publicación</w><pc>.</pc></s><s xml:id="s_34KDUA" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_fcx7H6', 's_08FZfM']}"><w>Por</w><w>ejemplo</w><w>,</w><w>en</w><w>el</w><w>original</w><w>algunas</w><w>casillas</w><w>indican</w><w>el</w><w>rango</w><w>de</w><w>fechas</w><w>con</w><w>preposiciones</w><w>(</w><w>``</w><w>del</w><w>''</w><w>y</w><w>``</w><w>al</w><w>''</w><w>o</w><w>``</w><w>a</w><w>''</w><w>)</w><w>y</w><w>en</w><w>otras</w><w>,</w><w>en</w><w>cambio</w><w>,</w><w>tienen</w><w>un</w><w>guión</w><w>o</w><w>una</w><w>coma</w><pc>.</pc></s><s xml:id="s_jl3rVX" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_lJB7XM', 's_v24vMD']}"><w>Aquí</w><w>añadimos</w><w>el</w><w>primer</w><w>año</w><w>en</w><w>la</w><w>columna</w><code rend="inline"><w>año_inicio</w></code><w>y</w><w>el</w><w>final</w><w>en</w><code rend="inline"><w>año_final</w></code><pc>.</pc></s></p><ab><code xml:id="code_creacion-de-aplicacion-shiny_0" corresp="code_creacion-de-aplicacion-shiny_0.txt" rend="block"/></ab><p><s xml:id="s_Z3xtoz" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_QnbjEt', 's_11Jr0M']}"><w>En</w><w>los</w><w>casos</w><w>en</w><w>los</w><w>que</w><w>aparecían</w><w>tres</w><w>años</w><w>,</w><w>hemos</w><w>tomado</w><w>la</w><w>decisión</w><w>de</w><w>utilizar</w><w>el</w><w>primero</w><w>y</w><w>el</w><w>último</w><w>,</w><w>suponiendo</w><w>que</w><w>hubo</w><w>una</w><w>pausa</w><w>intermedia</w><w>en</w><w>la</w><w>publicación</w><w>pero</w><w>siempre</w><w>siendo</w><w>el</w><w>último</w><w>año</w><w>la</w><w>fecha</w><w>final</w><pc>.</pc></s><s xml:id="s_Wyo56O" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_7BbVcG', 's_EDVO80']}"><w>En</w><w>las</w><w>publicaciones</w><w>en</w><w>las</w><w>que</w><w>hubo</w><w>una</w><w>pausa</w><w>pero</w><w>siguen</w><w>publicándose</w><w>hoy</w><w>en</w><w>día</w><w>,</w><w>se</w><w>ha</w><w>decidido</w><w>duplicar</w><w>su</w><w>entrada</w><w>(</w><w>con</w><w>el</w><w>mismo</w><w>ISSN</w><w>,</w><w>Título</w><w>y</w><w>Ámbito</w><w>geográfico</w><w>)</w><w>para</w><w>poder</w><w>notar</w><w>su</w><w>reaparición</w><w>(</w><w>ejemplo</w><w>:</w><code rend="inline"><w>De</w><w>2002</w><w>a</w><w>2009</w><pc>.</pc><w>2014-</w></code><w>)</w><pc>.</pc></s><s xml:id="s_horyap" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_bTllCT']}"><w>En</w><w>caso</w><w>de</w><w>aparecer</w><w>solo</w><w>un</w><w>año</w><w>,</w><w>se</w><w>utiliza</w><w>como</w><w>fecha</w><w>única</w><w>de</w><w>principio</w><w>y</w><w>fin</w><pc>.</pc></s><s xml:id="s_XfZETN" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_4miLrV', 's_UP81NZ']}"><w>Y</w><w>en</w><w>aquellas</w><w>publicaciones</w><w>sin</w><w>fecha</w><w>final</w><w>,</w><w>hemos</w><w>puesto</w><w>2023</w><w>como</w><w>año</w><w>final</w><pc>.</pc></s></p><p><s xml:id="s_mHPlFB" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_T9CfHg', 's_uJTukf']}"><w>También</w><w>hemos</w><w>tenido</w><w>que</w><w>adaptar</w><w>el</w><w>ámbito</w><w>geográfico</w><w>dado</w><w>por</w><w>los</w><w>datos</w><w>de</w><w>BNE</w><w>,</w><w>en</w><w>su</w><w>mayoría</w><w>la</w><w>capital</w><w>de</w><w>provincia</w><w>,</w><w>a</w><w>la</w><w>ciudad</w><w>concreta</w><w>en</w><w>que</w><w>se</w><w>imprimió</w><w>la</w><w>publicación</w><pc>.</pc></s><s xml:id="s_pESc0W" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_9EapLo', 's_40zAYt']}"><w>Mucha</w><w>de</w><w>esta</w><w>información</w><w>estaba</w><w>disponible</w><w>entre</w><w>paréntesis</w><w>o</w><w>en</w><w>los</w><w>propios</w><w>títulos</w><w>de</w><w>los</w><w>periódicos</w><pc>.</pc></s><s xml:id="s_Piyohj" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_eU229J', 's_xGrCSQ']}"><w>Sin</w><w>embargo</w><w>,</w><w>también</w><w>se</w><w>han</w><w>comprobado</w><w>algunas</w><w>localidades</w><w>mediante</w><w>una</w><w>búsqueda</w><w>en</w><w>la</w><w>web</w><w>de</w><w>la</w><w>hemeroteca</w><w>digital</w><pc>.</pc></s><s xml:id="s_eXFS6F" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_NcEitW']}"><w>Esto</w><w>ofrece</w><w>mayor</w><w>granularidad</w><w>a</w><w>nuestra</w><w>visualización</w><pc>.</pc></s><s xml:id="s_PVlWSg" corresp="{&quot;shiny-leaflet-newspaper-map-tutorial&quot;: [&quot;s_NcEitW&quot;]}"><w>Hemos</w><w>añadido</w><w>una</w><w>columna</w><w>con</w><w>el</w><w>nombre</w><w>de</w><w>la</w><w>comunidad</w><w>autónoma</w><w>a</w><w>la</w><w>que</w><w>pertenece</w><w>cada</w><w>ciudad</w><w>para</w><w>permitir</w><w>más</w><w>opciones</w><w>hacia</w><w>el</w><w>final</w><w>de</w><w>la</w><w>lección</w><pc>.</pc></s></p></div></div><div type="2" n="4"><head><s xml:id="s_2KqJJz" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_dDWvAs']}"><w>Configurar</w><w>el</w><w>entorno</w><w>R</w><w>y</w><w>creación</w><w>de</w><w>una</w><w>aplicación</w><w>Shiny</w></s></head><p><s xml:id="s_g0WDWF" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_I7jmxR']}"><w>Para</w><w>demostrarte</w><w>como</w><w>funciona</w><w>Shiny</w><w>,</w><w>en</w><w>este</w><w>tutorial</w><w>usarás</w><w>un</w><w>conjunto</w><w>de</w><w>datos</w><w>con</w><w>títulos</w><w>de</w><w>periódicos</w><w>,</w><w>sus</w><w>lugares</w><w>y</w><w>fechas</w><w>de</w><w>publicación</w><w>para</w><w>crear</w><w>una</w><w>aplicación</w><w>interactiva</w><w>sencilla</w><pc>.</pc></s><s xml:id="s_y2UAAh" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_WKR27L']}"><w>En</w><w>total</w><w>,</w><w>hay</w><w>cinco</w><w>pasos</w><w>de</w><w>codificación</w><w>que</w><w>deberás</w><w>llevar</w><w>a</w><w>cabo</w><w>:</w></s></p><list type="ordered"><item><s xml:id="s_IZDLq8" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_zaYGoy']}"><w>Cargar</w><w>los</w><w>dos</w><w>conjuntos</w><w>de</w><w>datos</w><w>necesarios</w></s></item><item><s xml:id="s_RR3Bz1" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_JDl8LC']}"><w>Crear</w><w>una</w><w>interfaz</w><w>de</w><w>usuario</w><w>(</w><w>UI</w><w>)</w></s></item><item><s xml:id="s_NG1kM9" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_6afPYk']}"><w>Crear</w><w>un</w><w>conjunto</w><w>de</w><w>datos</w><w>``</w><w>reactivo</w><w>''</w><w>de</w><w>lugares</w><w>,</w><w>conteo</w><w>de</w><w>sus</w><w>apariciones</w><w>y</w><w>sus</w><w>coordenadas</w><w>geográficas</w></s></item><item><s xml:id="s_qGfIMG" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_cVPFqp']}"><w>Transformar</w><w>aquella</w><w>en</w><w>un</w><w>set</w><w>de</w><w>datos</w><w>geográfico</w><w>especial</w><w>llamado</w><w>en</w><w>R</w><w>un</w><emph><w>simple</w><w>features</w><w>object</w></emph><w>(</w><w>objeto</w><w>de</w><w>características</w><w>simples</w><w>)</w></s></item><item><s xml:id="s_583hmj" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_MDLiUr']}"><w>Crear</w><w>un</w><w>mapa</w><w>interactivo</w><w>con</w><w>otro</w><w>paquete</w><w>de</w><w>R</w><w>llamado</w><ref target="https://perma.cc/RW6M-ZCG2"><w>Leaflet</w></ref></s></item></list><p><s xml:id="s_HGy16O" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_tFcDvg']}"><w>Antes</w><w>de</w><w>hacer</w><w>todo</w><w>esto</w><w>tienes</w><w>que</w><w>configurar</w><w>un</w><w>entorno</w><w>adecuado</w><w>y</w><w>crear</w><w>una</w><w>nueva</w><w>aplicación</w><w>de</w><w>Shiny</w><pc>.</pc></s></p><div type="3" n="4.1"><head><s xml:id="s_893Jt8" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_a2EIJE']}"><w>Instalar</w><w>R</w><w>y</w><w>RStudio</w></s></head><p><s xml:id="s_D1IIUb" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_jmN9oY']}"><w>Debes</w><w>tener</w><w>la</w><w>última</w><w>versión</w><w>de</w><w>R</w><w>y</w><w>RStudio</w><w>en</w><w>tu</w><w>computadora</w><w>para</w><w>completar</w><w>la</w><w>lección</w><pc>.</pc></s><s xml:id="s_DbwASU" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_hMIBnB']}"><w>R</w><w>tiene</w><w>un</w><w>entorno</w><w>de</w><w>desarrollo</w><w>integrado</w><w>(</w><w>IDE</w><w>por</w><w>sus</w><w>siglas</w><w>en</w><w>inglés</w><w>)</w><w>llamado</w><w>RStudio</w><w>y</w><w>que</w><w>proporciona</w><w>muchas</w><w>características</w><w>que</w><w>hacen</w><w>que</w><w>la</w><w>codificación</w><w>sea</w><w>más</w><w>conveniente</w><pc>.</pc></s><s xml:id="s_CxAqwQ" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_TrrkvC']}"><w>Usaremos</w><w>RStudio</w><w>a</w><w>lo</w><w>largo</w><w>de</w><w>la</w><w>lección</w><pc>.</pc></s></p><p><s xml:id="s_iB7732" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_QCzzwC']}"><w>Otras</w><w>lecciones</w><w>de</w><emph><w>Programming</w><w>Historian</w></emph><w>te</w><w>enseñan</w><ref target="/es/lecciones/datos-tabulares-en-r"><w>a</w><w>trabajar</w><w>con</w><w>R</w></ref><w>y</w><ref target="/es/lecciones/administracion-de-datos-en-r"><w>con</w><emph><w>tidyverse</w></emph></ref><pc>.</pc></s><s xml:id="s_p3lVHO" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_leKNSU']}"><w>Si</w><w>no</w><w>tienes</w><w>mucho</w><w>conocimiento</w><w>sobre</w><w>R</w><w>,</w><w>su</w><w>instalación</w><w>y</w><w>la</w><w>administración</w><w>de</w><w>datos</w><w>,</w><w>te</w><w>aconsejamos</w><w>que</w><w>completes</w><w>primero</w><w>dichas</w><w>lecciones</w><w>antes</w><w>de</w><w>completar</w><w>esta</w><w>lección</w><pc>.</pc></s></p></div><div type="3" n="4.2"><head><s xml:id="s_tse4Ut" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_3l5FSy']}"><w>Crear</w><w>un</w><w>nuevo</w><w>proyecto</w><w>en</w><w>RStudio</w></s></head><p><s xml:id="s_91nGLd" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_VILOIT']}"><w>Una</w><w>vez</w><w>que</w><w>tienes</w><w>R</w><w>y</w><w>RStudios</w><w>instalados</w><w>,</w><w>abre</w><w>el</w><w>segundo</w><w>y</w><w>crea</w><w>un</w><w>nuevo</w><w>proyecto</w><w>para</w><w>trabajar</w><w>en</w><w>tu</w><w>aplicación</w><pc>.</pc></s><s xml:id="s_3UEj6S" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_EwSQRH']}"><w>Para</w><w>ello</w><w>,</w><w>abre</w><w>la</w><w>ventana</w><code rend="inline"><w>Create</w><w>a</w><w>Project</w></code><w>desde</w><w>el</w><w>menú</w><w>(</w><w>File</w><w>-</w><w>&gt;</w><w>New</w><w>Project</w><w>)</w><pc>.</pc></s><s xml:id="s_sd07vF" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_DAAQkd']}"><w>Selecciona</w><code rend="inline"><w>New</w><w>Directory</w></code><w>(</w><w>directorio</w><w>nuevo</w><w>)</w><w>y</w><w>después</w><code rend="inline"><w>New</w><w>Project</w></code><w>(</w><w>proyecto</w><w>nuevo</w><w>)</w><pc>.</pc></s><s xml:id="s_7UXsfo" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_tRL3Pt']}"><w>Da</w><w>un</w><w>nombre</w><w>al</w><w>directorio</w><w>de</w><w>tu</w><w>proyecto</w><w>,</w><w>haz</w><w>click</w><w>en</w><code rend="inline"><w>Use</w><w>renv</w><w>with</w><w>the</w><w>project</w></code><w>(</w><w>usar</w><code rend="inline"><w>renv</w></code><w>con</w><w>tu</w><w>proyecto</w><w>)</w><w>y</w><w>pulsa</w><w>en</w><code rend="inline"><w>Create</w><w>Project</w></code><w>(</w><w>crear</w><w>proyecto</w><w>)</w><pc>.</pc></s></p><p style="alert alert-info"><s xml:id="s_co67Qu" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_YUEqf7']}"><w>Por</w><w>lo</w><w>general</w><w>,</w><w>se</w><w>recomienda</w><w>iniciar</w><w>un</w><w>proyecto</w><w>con</w><w>el</w><ref target="https://rstudio.github.io/renv/index.html"><w>paquete</w><w>R</w><w>renv</w></ref><w>para</w><w>administrar</w><w>las</w><w>dependencias</w><w>de</w><w>los</w><w>paquetes</w><pc>.</pc></s><s xml:id="s_0amIb4" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_nROASI']}"><w>En</w><w>este</w><w>caso</w><w>,</w><w>uno</w><w>de</w><w>los</w><w>paquetes</w><w>necesarios</w><w>,</w><code rend="inline"><w>sf</w></code><w>,</w><w>tiene</w><w>algunos</w><w>problemas</w><w>de</w><w>compatibilidad</w><w>con</w><w>renv</w><w>,</w><w>particularmente</w><w>con</w><w>macOS</w><pc>.</pc></s></p><p><s xml:id="s_cK3009" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_qohqvy']}"><w>Antes</w><w>de</w><w>continuar</w><w>,</w><w>instala</w><w>los</w><w>tres</w><w>paquetes</w><w>necesarios</w><w>para</w><w>completar</w><w>el</w><w>tutorial</w><w>si</w><w>es</w><w>que</w><w>todavía</w><w>no</w><w>los</w><w>tienes</w><pc>.</pc></s><s xml:id="s_3c46jS" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_EItGNX', 's_Wuld1B']}"><w>Ejecuta</w><w>los</w><w>siguientes</w><w>comandos</w><w>:</w></s></p><ab><code lang="language-r" xml:id="code_creacion-de-aplicacion-shiny_1" corresp="code_creacion-de-aplicacion-shiny_1.txt" rend="block"/></ab><p><s xml:id="s_YILOcp" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_vYu7ZZ']}"><w>Dependiendo</w><w>de</w><w>la</w><w>configuración</w><w>de</w><w>tu</w><w>sistema</w><w>,</w><w>el</w><w>cuarto</w><w>paquete</w><w>,</w><code rend="inline"><w>sf</w></code><w>,</w><w>puede</w><w>que</w><w>requiera</w><w>pasos</w><w>adicionales</w><w>antes</w><w>de</w><w>instalarlo</w><pc>.</pc></s><s xml:id="s_DQEWUF" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_yThW6E', 's_QsePOp']}"><w>Los</w><w>usuarios</w><w>de</w><w>Windows</w><w>deberían</w><w>poder</w><w>instalarlo</w><w>directamente</w><w>usando</w><w>el</w><w>comando</w><code rend="inline"><w>install.packages</w><w>(</w><w>'sf</w><w>'</w><w>)</w></code><w>pero</w><w>los</w><w>usuarios</w><w>de</w><w>Mac</w><w>y</w><w>Linux</w><w>tienen</w><w>que</w><w>instalar</w><w>la</w><w>librería</w><w>externa</w><code rend="inline"><w>gdal</w></code><w>con</w><ref target="https://brew.sh/es/"><w>Homebrew</w></ref><w>para</w><w>que</w><code rend="inline"><w>sf</w></code><w>funcione</w><w>dentro</w><w>de</w><w>R.</w><w>En</w><w>Mac</w><w>,</w><w>instala</w><code rend="inline"><w>gdal</w></code><w>a</w><w>través</w><w>de</w><w>la</w><w>Terminal</w><w>con</w><w>los</w><w>siguientes</w><w>comandos</w><w>:</w></s></p><ab><code xml:id="code_creacion-de-aplicacion-shiny_2" corresp="code_creacion-de-aplicacion-shiny_2.txt" rend="block"/></ab><p><s xml:id="s_xjmb8U" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_UOnvlH']}"><w>Las</w><w>instrucciones</w><w>más</w><w>recientes</w><w>,</w><w>con</w><w>más</w><w>detalles</w><w>,</w><w>se</w><w>pueden</w><w>encontrar</w><w>en</w><ref target="https://github.com/r-spatial/sf"><w>la</w><w>página</w><w>del</w><w>paquete</w><w>en</w><w>Github</w></ref><w>(</w><w>solo</w><w>disponible</w><w>en</w><w>inglés</w><w>)</w><pc>.</pc></s><s xml:id="s_M6yQYB" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_DziV0q', 's_Aw7BIt']}"><w>Consulta</w><w>las</w><w>instrucciones</w><w>debajo</w><w>del</w><w>encabezado</w><w>``</w><w>Instalación</w><w>''</w><w>en</w><w>el</w><w>archivo</w><w>ReadMe</w><pc>.</pc></s></p></div><div type="3" n="4.3"><head><s xml:id="s_iloIXo" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_qWJzY0']}"><w>Crear</w><w>una</w><w>aplicación</w><w>Shiny</w><w>vacía</w></s></head><p><s xml:id="s_DhlhEK" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_GoU3p1']}"><w>Una</w><w>aplicación</w><w>de</w><w>Shiny</w><w>consiste</w><w>en</w><w>un</w><emph><w>script</w></emph><w>con</w><w>un</w><w>nombre</w><w>especial</w><w>,</w><code rend="inline"><w>app.R</w></code><w>,</w><w>que</w><w>comunica</w><w>a</w><w>RStudio</w><w>que</w><w>se</w><w>trata</w><w>de</w><w>una</w><w>aplicación</w><w>y</w><w>que</w><w>debe</w><w>abrirla</w><w>en</w><w>una</w><w>ventana</w><w>del</w><w>navegador</w><w>al</w><w>ejecutarla</w><pc>.</pc></s><s xml:id="s_QiMA0D" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_qjJCzC']}"><w>En</w><w>esta</w><w>primera</w><w>sección</w><w>,</w><w>vas</w><w>a</w><w>crear</w><w>una</w><w>aplicación</w><w>que</w><w>cargará</w><w>los</w><w>paquetes</w><w>y</w><w>conjuntos</w><w>de</w><w>datos</w><w>necesarios</w><w>,</w><w>y</w><w>mostrará</w><w>el</w><w>mensaje</w><w>``</w><w>Hola</w><w>mundo</w><w>''</w><pc>.</pc></s><s xml:id="s_FnMPar" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_9tSAyy']}"><w>Para</w><w>ello</w><w>,</w><w>lleva</w><w>a</w><w>cabo</w><w>los</w><w>siguientes</w><w>pasos</w><w>:</w></s></p><p><s xml:id="s_7pnCnF" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_4KJqjZ']}"><w>1</w><pc>.</pc></s><s xml:id="s_frt5LR" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_7JA5gd']}"><w>Configura</w><w>una</w><w>carpeta</w><w>para</w><w>la</w><w>aplicación</w></s></p><p><s xml:id="s_BqnMwD" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_tG2L55']}"><w>Es</w><w>una</w><w>buena</w><w>práctica</w><w>colocar</w><w>todos</w><w>los</w><w>archivos</w><w>necesarios</w><w>para</w><w>la</w><w>aplicación</w><w>en</w><w>una</w><w>misma</w><w>carpeta</w><w>,</w><w>dentro</w><w>del</w><w>proyecto</w><w>de</w><w>RStudio</w><pc>.</pc></s><s xml:id="s_FoFfna" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Z0YTKR']}"><w>Haz</w><w>esto</w><w>creando</w><w>una</w><w>nueva</w><w>carpeta</w><w>llamada</w><w>``</w><w>aplicación</w><w>de</w><w>periódicos</w><w>''</w><w>dentro</w><w>de</w><w>la</w><w>carpeta</w><w>del</w><w>proyecto</w><w>RStudio</w><w>que</w><w>has</w><w>creado</w><pc>.</pc></s><s xml:id="s_jnPr6H" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_0bCsex']}"><w>Guarda</w><w>los</w><w>archivos</w><w>que</w><w>has</w><w>descargado</w><w>más</w><w>arriba</w><w>en</w><w>esa</w><w>nueva</w><w>carpeta</w><pc>.</pc></s></p><p><s xml:id="s_VxZYX9" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_MXb8sF']}"><w>2</w><pc>.</pc></s><s xml:id="s_aTpgCj" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_jlXRBE']}"><w>Crea</w><w>el</w><w>archivo</w><w>app.R</w></s></p><p><s xml:id="s_P6DBY2" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_i3apXl']}"><w>Haz</w><w>click</w><w>en</w><w>File</w><w>-</w><w>&gt;</w><w>New</w><w>file</w><w>-</w><w>&gt;</w><w>R</w><w>Script</w><pc>.</pc></s><s xml:id="s_6dqQ2W" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_cTKMK2']}"><w>Usa</w><w>el</w><w>menú</w><w>o</w><code rend="inline"><w>command/ctrl</w><w>+</w><w>s</w></code><w>para</w><w>guardar</w><w>el</w><w>archivo</w><pc>.</pc></s><s xml:id="s_0nTlv4" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_2tXVg0']}"><w>Navega</w><w>a</w><w>la</w><w>nueva</w><w>carpeta</w><w>que</w><w>acabas</w><w>de</w><w>crear</w><w>y</w><w>guarda</w><w>el</w><w>archivo</w><w>ahí</w><w>,</w><w>con</w><code rend="inline"><w>app.R</w></code><w>como</w><w>nombre</w><w>del</w><w>archivo</w><pc>.</pc></s><s xml:id="s_qowh6t" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_quVuB7']}"><w>Ahora</w><w>deberías</w><w>tener</w><w>los</w><w>siguientes</w><w>archivos</w><w>en</w><w>la</w><w>carpeta</w><w>``</w><w>aplicación</w><w>de</w><w>periódicos</w><w>''</w><w>que</w><w>acabas</w><w>de</w><w>crear</w><w>:</w></s></p><figure><desc><s xml:id="s_5xidDZ" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_4eSwWU', 's_DCAM27']}"><w>Figura</w><w>1</w><w>:</w><w>Captura</w><w>de</w><w>pantalla</w><w>del</w><w>panel</w><w>de</w><w>archivos</w><w>R</w><pc>.</pc></s></desc><figDesc><s xml:id="s_Zg1tX6" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_3bEKeE', 's_QoQNOQ']}"><w>Figura</w><w>1</w><w>:</w><w>Captura</w><w>de</w><w>pantalla</w><w>del</w><w>panel</w><w>de</w><w>archivos</w><w>R</w><w>,</w><w>que</w><w>muestra</w><w>los</w><w>archivos</w><w>necesarios</w><pc>.</pc></s><s xml:id="s_oFa6jC" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Lo58Jb']}"><w>Hay</w><w>tres</w><w>archivos</w><w>en</w><w>total</w><w>,</w><w>app.R</w><w>,</w><w>el</w><w>CSV</w><w>de</w><w>los</w><w>periódicos</w><w>y</w><w>el</w><w>de</w><w>las</w><w>coordenadas</w><w>del</w><w>poblaciones</w><pc>.</pc></s></figDesc><graphic url="es-tr-creacion-de-aplicacion-shiny-1.png"/></figure><p><s xml:id="s_yN1IUN" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_b5bcWT']}"><w>3</w><pc>.</pc></s><s xml:id="s_DDhy7t" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_9ztMig']}"><w>Carga</w><w>los</w><w>paquetes</w><w>relevantes</w></s></p><p style="alert alert-warning"><s xml:id="s_4CoKoF" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_CC0uMF']}"><w>Es</w><w>importante</w><w>tener</w><w>en</w><w>cuenta</w><w>que</w><w>,</w><w>a</w><w>diferencia</w><w>de</w><w>en</w><w>otras</w><w>lecciones</w><w>,</w><w>el</w><w>código</w><w>que</w><w>estás</w><w>a</w><w>punto</w><w>de</w><w>ejecutar</w><w>no</w><w>funcionará</w><w>si</w><w>se</w><w>ejecuta</w><w>línea</w><w>por</w><w>línea</w><w>,</w><w>sino</w><w>solo</w><w>cuando</w><w>todo</w><w>el</w><w>script</w><code rend="inline"><w>app.R</w></code><w>se</w><w>ejecuta</w><w>desde</w><w>RStudio</w><pc>.</pc></s></p><p><s xml:id="s_p7lb3h" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_kjiH0p', 's_oAS7qa']}"><w>Lo</w><w>primero</w><w>que</w><w>necesita</w><w>hacer</w><w>la</w><w>aplicación</w><w>es</w><w>preparar</w><w>y</w><w>cargar</w><w>los</w><w>datos</w><w>mediante</w><w>el</w><emph><w>script</w></emph><code rend="inline"><w>app.R</w></code><w>,</w><w>pero</w><w>fuera</w><w>de</w><w>la</w><w>interfaz</w><w>de</w><w>usuario</w><w>y</w><w>elementos</w><w>del</w><w>servidor</w><w>que</w><w>crearás</w><w>más</w><w>adelante</w><pc>.</pc></s><s xml:id="s_49dxFM" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_JvQuo0']}"><w>Primero</w><w>,</w><w>activa</w><w>todas</w><w>las</w><w>librerías</w><w>que</w><w>vas</w><w>a</w><w>usar</w><w>con</w><w>el</w><w>siguiente</w><w>código</w><w>:</w></s></p><ab><code lang="language-r" xml:id="code_creacion-de-aplicacion-shiny_3" corresp="code_creacion-de-aplicacion-shiny_3.txt" rend="block"/></ab><p><s xml:id="s_XW3FM7" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_tkOsnF']}"><w>4</w><pc>.</pc></s><s xml:id="s_IRXGxM" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_kBrDlp']}"><w>Carga</w><w>los</w><w>conjuntos</w><w>de</w><w>datos</w></s></p><p><s xml:id="s_nrGTdg" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_nEcLYb']}"><w>Ahora</w><w>,</w><w>la</w><w>aplicación</w><w>debería</w><w>cargar</w><w>los</w><w>archivos</w><w>con</w><w>la</w><w>lista</w><w>de</w><w>títulos</w><w>y</w><w>las</w><w>coordenadas</w><w>en</w><w>dos</w><emph><w>data</w><w>frames</w></emph><w>que</w><w>vamos</w><w>a</w><w>llamar</w><code rend="inline"><w>lista_de_titulos</w></code><w>y</w><code rend="inline"><w>lista_de_coordenadas</w></code><w>respectivamente</w><pc>.</pc></s><s xml:id="s_mtqSlA" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_lLR5tr']}"><w>Añade</w><w>la</w><w>siguiente</w><w>línea</w><w>al</w><w>código</w><w>de</w><w>la</w><code rend="inline"><w>app.R</w></code><w>,</w><w>que</w><w>debería</w><w>aparecer</w><w>en</w><w>la</w><w>parte</w><w>de</w><w>arriba</w><w>a</w><w>la</w><w>izquierda</w><w>de</w><w>RStudio</w><pc>.</pc></s><s xml:id="s_wc5IZB" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_lfndbX']}"><w>Nota</w><w>que</w><w>al</w><w>ser</w><w>el</w><w>directorio</w><w>de</w><w>trabajo</w><w>diferente</w><w>del</w><w>directorio</w><w>de</w><w>la</w><w>aplicación</w><w>,</w><w>estos</w><w>comandos</w><w>solo</w><w>funcionarán</w><w>cuando</w><w>ejecutes</w><w>la</w><w>app</w><w>en</w><w>sí</w><w>misma</w><pc>.</pc></s></p><ab><code lang="language-r" xml:id="code_creacion-de-aplicacion-shiny_4" corresp="code_creacion-de-aplicacion-shiny_4.txt" rend="block"/></ab></div><div type="3" n="4.4"><head><s xml:id="s_dDTsxd" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_JTWSVo']}"><w>Añade</w><w>los</w><w>elementos</w><w>necesarios</w><w>de</w><w>Shiny</w></s></head><p><s xml:id="s_neXjVp" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_IbRa6K']}"><w>Para</w><w>transformar</w><w>lo</w><w>anterior</w><w>en</w><w>una</w><w>aplicación</w><w>Shiny</w><w>,</w><w>el</w><emph><w>script</w></emph><code rend="inline"><w>app.R</w></code><w>necesita</w><w>tres</w><w>elementos</w><w>que</w><w>crearás</w><w>a</w><w>continuación</w><w>,</w><w>en</w><w>este</w><w>orden</w><w>:</w></s></p><list type="ordered"><item><s xml:id="s_k2V7zi" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_oeQz5q', 's_dLFk36']}"><w>Una</w><hi rend="bold"><s xml:id="s_6o4Ewl" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_tTWsxv', 's_AY3I5F']}"><w>interfaz</w><w>de</w><w>usuario</w></s></hi><w>(</w><w>UI</w><w>)</w><w>,</w><w>donde</w><w>se</w><w>guardará</w><w>la</w><w>apariencia</w><w>de</w><w>la</w><w>aplicación</w><pc>.</pc></s></item><item><s xml:id="s_Qz7s9w" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Ezxr99']}"><w>Un</w><hi rend="bold"><s xml:id="s_uzy0P4" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_rtqngO']}"><w>servidor</w></s></hi><w>(</w><w>server</w><w>)</w><w>,</w><w>que</w><w>contendrá</w><w>el</w><w>código</w><pc>.</pc></s></item><item><s xml:id="s_5dTle8" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_hWtlRN', 's_mrAfdx']}"><w>El</w><w>comando</w><w>o</w><w>línea</w><w>de</w><w>código</w><w>para</w><w>ejecutar</w><w>la</w><w>aplicación</w><w>en</w><w>sí</w><w>misma</w><pc>.</pc></s></item></list><p><s xml:id="s_6yI14w" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_zbSD4B']}"><w>A</w><w>continuación</w><w>,</w><w>crearás</w><w>cada</w><w>uno</w><w>de</w><w>estos</w><w>elementos</w><w>de</w><w>uno</w><w>en</w><w>uno</w><pc>.</pc></s></p><p><s xml:id="s_ihQKdl" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_1KTo5d']}"><w>1</w><pc>.</pc></s><s xml:id="s_cIr8yI" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_psDshu']}"><w>Crea</w><w>un</w><w>elemento</w><w>UI</w><w>vacío</w></s></p><p><s xml:id="s_Qi65uQ" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_0l4zrI']}"><w>La</w><w>interfaz</w><w>de</w><w>usuario</w><w>es</w><w>un</w><w>elemento</w><w>que</w><w>contendrá</w><w>varios</w><w>comandos</w><w>especiales</w><w>Shiny</w><w>que</w><w>definirán</w><w>la</w><w>apariencia</w><w>de</w><w>la</w><w>aplicación</w><pc>.</pc></s><s xml:id="s_UCXWHr" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_vkwSJh']}"><w>Examinaremos</w><w>las</w><w>opciones</w><w>específicas</w><w>más</w><w>abajo</w><w>pero</w><w>,</w><w>en</w><w>general</w><w>,</w><w>se</w><w>empieza</w><w>especificando</w><w>un</w><w>tipo</w><w>de</w><w>página</w><w>dentro</w><w>de</w><w>la</w><w>cual</w><w>se</w><w>anidan</w><w>varios</w><w>componentes</w><w>de</w><w>la</w><w>UI</w><w>;</w><w>después</w><w>,</w><w>se</w><w>añade</w><w>un</w><w>tipo</w><w>de</w><w>plano</w><w>y</w><w>,</w><w>dentro</w><w>de</w><w>éste</w><w>,</w><w>los</w><w>elementos</w><w>específicos</w><w>al</w><w>plano</w><w>;</w><w>y</w><w>finalmente</w><w>,</w><w>dentro</w><w>de</w><w>estos</w><w>,</w><w>los</w><w>varios</w><w>componentes</w><w>de</w><w>la</w><w>aplicación</w><pc>.</pc></s></p><p><s xml:id="s_fnhxsI" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_T7MUUp']}"><w>El</w><w>tipo</w><w>que</w><w>vas</w><w>a</w><w>usar</w><w>se</w><w>llama</w><code rend="inline"><w>fluidPage</w><w>(</w><w>)</w></code><w>,</w><w>una</w><w>página</w><w>que</w><w>contiene</w><w>un</w><w>plano</w><w>fluído</w><w>de</w><w>lineas</w><w>que</w><w>,</w><w>a</w><w>su</w><w>vez</w><w>,</w><w>tienen</w><w>columnas</w><w>y</w><w>que</w><w>se</w><w>auto-redimensiona</w><w>para</w><w>adaptarse</w><w>a</w><w>la</w><w>ventana</w><w>del</w><w>navegador</w><pc>.</pc></s></p><p><s xml:id="s_ILScpV" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_ZovjTS']}"><w>El</w><w>primer</w><w>paso</w><w>es</w><w>crear</w><w>todos</w><w>los</w><w>elementos</w><w>básicos</w><w>para</w><w>una</w><w>aplicación</w><w>,</w><w>antes</w><w>de</w><w>rellenarlos</w><w>con</w><w>los</w><w>componentes</w><w>necesarios</w><pc>.</pc></s><s xml:id="s_rGEJJp" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_jX7o8Y']}"><w>Para</w><w>empezar</w><w>,</w><w>crea</w><w>un</w><w>elemento</w><w>UI</w><w>vacío</w><w>con</w><w>la</w><w>variable</w><code rend="inline"><w>interfaz_usuario</w></code><w>en</w><w>el</w><w>elemento</w><code rend="inline"><w>fluidPage</w><w>(</w><w>)</w></code><pc>.</pc></s><s xml:id="s_rtUg20" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_uCwivA']}"><w>Para</w><w>saber</w><w>si</w><w>la</w><w>aplicación</w><w>está</w><w>funcionando</w><w>cuando</w><w>la</w><w>ejecutes</w><w>por</w><w>primera</w><w>vez</w><w>,</w><w>añade</w><w>un</w><w>simple</w><w>mensaje</w><w>de</w><w>``</w><w>Hola</w><w>mundo</w><w>''</w><w>en</w><w>el</w><w>elemento</w><w>UI</w><pc>.</pc></s><s xml:id="s_JMWfFi" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_9jtVb9']}"><w>Añade</w><w>el</w><w>siguiente</w><w>código</w><w>en</w><code rend="inline"><w>app.R</w></code><w>:</w></s></p><ab><code lang="language-r" xml:id="code_creacion-de-aplicacion-shiny_5" corresp="code_creacion-de-aplicacion-shiny_5.txt" rend="block"/></ab><p><s xml:id="s_8ZBIZh" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Jp2GVl']}"><w>2</w><pc>.</pc></s><s xml:id="s_09WmUs" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_yREGmO']}"><w>Crea</w><w>un</w><w>servidor</w><w>(</w><w>server</w><w>)</w></s></p><p><s xml:id="s_1F5TiM" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_ZRRIjb', 's_wcvNDA']}"><w>El</w><w>servidor</w><w>es</w><w>creado</w><w>como</w><w>una</w><w>función</w><w>de</w><w>R</w><w>con</w><w>dos</w><w>argumentos</w><w>,</w><code rend="inline"><w>input</w></code><w>(</w><w>entrada</w><w>)</w><w>y</w><code rend="inline"><w>output</w></code><w>(</w><w>salida</w><w>)</w><w>-</w><w>no</w><w>necesitas</w><w>saber</w><w>lo</w><w>que</w><w>hace</w><w>cada</w><w>uno</w><w>por</w><w>ahora</w><ref type="footnotemark" target="#es_note_4"/><pc>.</pc></s><s xml:id="s_9O3uly" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_pUhbzW', 's_tYCT4u']}"><w>En</w><w>R</w><w>una</w><w>función</w><w>se</w><w>crea</w><w>con</w><w>el</w><w>comando</w><code rend="inline"><w>function</w><w>{</w><w>}</w></code><w>,</w><w>especificando</w><w>los</w><w>argumentos</w><w>entre</w><w>paréntesis</w><w>y</w><w>el</w><w>código</w><w>de</w><w>la</w><w>función</w><w>dentro</w><w>de</w><w>las</w><w>llaves</w><code rend="inline"><w>{</w><w>}</w></code><pc>.</pc></s><s xml:id="s_xW8DwD" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_fgDyim']}"><w>Especifica</w><w>la</w><w>parte</w><w>del</w><w>servidor</w><w>con</w><w>este</w><w>código</w><w>:</w></s></p><ab><code lang="language-r" xml:id="code_creacion-de-aplicacion-shiny_6" corresp="code_creacion-de-aplicacion-shiny_6.txt" rend="block"/></ab><p><s xml:id="s_mWQ7L2" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_vI5Qum']}"><w>3</w><pc>.</pc></s><s xml:id="s_kWQDeU" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_UfaBnG']}"><w>Añade</w><w>la</w><w>línea</w><w>para</w><w>ejecutar</w><w>la</w><w>aplicación</w><pc>.</pc></s></p><p><s xml:id="s_vYD6a3" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Vyv5tN']}"><w>Finalmente</w><w>,</w><w>añade</w><w>el</w><w>comando</w><w>que</w><w>hará</w><w>ejecutar</w><w>la</w><w>aplicación</w><pc>.</pc></s><s xml:id="s_xKmg9N" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_uRQkm9']}"><w>Este</w><w>es</w><w>otra</w><w>línea</w><w>específica</w><w>de</w><w>Shiny</w><w>,</w><code rend="inline"><w>shinyApp</w><w>(</w><w>)</w></code><w>,</w><w>que</w><w>lleva</w><w>la</w><w>UI</w><w>y</w><w>los</w><w>objetos</w><w>del</w><w>servidor</w><w>que</w><w>acabas</w><w>de</w><w>crear</w><w>como</w><w>argumentos</w><pc>.</pc></s><code rend="inline"><w>shinyApp</w><w>(</w><w>ui</w><w>,</w><w>server</w><w>)</w></code></p><p><s xml:id="s_goW7wI" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_BMRucV']}"><w>El</w><w>archivo</w><code rend="inline"><w>app.R</w></code><w>ahora</w><w>debería</w><w>,</w><w>por</w><w>tanto</w><w>,</w><w>contener</w><w>las</w><w>siguientes</w><w>líneas</w><w>:</w></s></p><ab><code lang="language-r" xml:id="code_creacion-de-aplicacion-shiny_7" corresp="code_creacion-de-aplicacion-shiny_7.txt" rend="block"/></ab></div><div type="3" n="4.5"><head><s xml:id="s_Z8MEMu" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Yd1UWE']}"><w>Prueba</w><w>la</w><w>aplicación</w></s></head><p><s xml:id="s_3yfwZV" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_0JePQt']}"><w>Una</w><w>vez</w><w>que</w><w>hayas</w><w>creado</w><w>estos</w><w>objetos</w><w>,</w><w>guarda</w><w>de</w><w>nuevo</w><w>el</w><w>archivo</w><code rend="inline"><w>app.R</w></code><pc>.</pc></s><s xml:id="s_HH0vpV" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_ZbAzyb']}"><w>Ahora</w><w>RStudio</w><w>lo</w><w>reconocerá</w><w>como</w><w>una</w><w>aplicación</w><w>Shiny</w><w>y</w><w>los</w><w>iconos</w><w>en</w><w>la</w><w>barra</w><w>superior</w><w>del</w><w>panel</w><w>cambiarán</w><w>,</w><w>con</w><w>un</w><w>botón</w><w>que</w><w>dice</w><code rend="inline"><w>Run</w><w>App</w></code><w>o</w><w>ejecutar</w><w>aplicación</w><w>(</w><w>Figura</w><w>2</w><w>)</w><pc>.</pc></s><s xml:id="s_O1u53A" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_ZIHLZR']}"><w>Si</w><w>haces</w><w>click</w><w>en</w><w>él</w><w>,</w><w>ejecutará</w><w>la</w><w>aplicación</w><w>en</w><w>una</w><w>nueva</w><w>ventana</w><w>con</w><w>el</w><w>navegador</w><w>propio</w><w>de</w><w>RStudio</w><pc>.</pc></s></p><figure><desc><s xml:id="s_jAqreE" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Kj2IOB']}"><w>Figura</w><w>2</w><w>:</w><w>Captura</w><w>de</w><w>pantalla</w><w>mostrando</w><w>el</w><w>panel</w><w>de</w><w>control</w><w>con</w><w>el</w><w>botón</w><w>para</w><w>ejecutar</w><w>la</w><w>aplicación</w><w>,</w><w>Run</w><w>App</w><w>,</w><w>marcado</w><w>en</w><w>rojo</w><pc>.</pc></s></desc><figDesc><s xml:id="s_r4Lxn4" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_btCWFC']}"><w>Figura</w><w>2</w><w>:</w><w>Captura</w><w>de</w><w>pantalla</w><w>mostrando</w><w>el</w><w>panel</w><w>de</w><w>control</w><w>con</w><w>el</w><w>botón</w><w>para</w><w>ejecutar</w><w>la</w><w>aplicación</w><w>,</w><w>Run</w><w>App</w><w>,</w><w>marcado</w><w>en</w><w>rojo</w><pc>.</pc></s></figDesc><graphic url="es-tr-creacion-de-aplicacion-shiny-2.png"/></figure><p><s xml:id="s_PwBrNO" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_OO6PHe']}"><w>Deberías</w><w>ver</w><w>una</w><w>página</w><w>web</w><w>casi</w><w>en</w><w>blanco</w><w>con</w><w>la</w><w>frase</w><w>``</w><w>Hola</w><w>mundo</w><w>''</w><w>en</w><w>la</w><w>parte</w><w>superior</w><w>izquierda</w><pc>.</pc></s><s xml:id="s_JkpMkE" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_nPIBXR']}"><w>También</w><w>notarás</w><w>que</w><w>mientras</w><w>la</w><w>aplicación</w><w>esté</w><w>siendo</w><w>ejecutada</w><w>,</w><w>no</w><w>puedes</w><w>ejecutar</w><w>ninguna</w><w>línea</w><w>de</w><w>código</w><w>en</w><w>RStudio</w><w>:</w><w>la</w><w>consola</w><w>aparece</w><w>como</w><w>ocupado</w><w>(</w><emph><w>busy</w></emph><w>)</w><pc>.</pc></s><s xml:id="s_be1aNz" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_MiWTKw']}"><w>Para</w><w>parar</w><w>la</w><w>aplicación</w><w>,</w><w>simplemente</w><w>cierra</w><w>el</w><w>navegador</w><pc>.</pc></s><s xml:id="s_yPeWwI" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_30guzZ']}"><w>También</w><w>puedes</w><w>usar</w><w>la</w><w>opción</w><w>de</w><code rend="inline"><w>open</w><w>in</w><w>browser</w></code><w>para</w><w>que</w><w>la</w><w>aplicación</w><w>se</w><w>abra</w><w>en</w><w>tu</w><w>navegador</w><w>por</w><w>defecto</w><pc>.</pc></s></p></div></div><div type="2" n="5"><head><s xml:id="s_fmt617" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_nNcZgO']}"><w>Configurar</w><w>la</w><w>aplicación</w></s></head><div type="3" n="5.1"><head><s xml:id="s_c8FXR6" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_BYoFgd']}"><w>Diseño</w><w>de</w><w>la</w><w>interfaz</w><w>de</w><w>usuario</w></s></head><p><s xml:id="s_sqn7RH" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_PJGrpt']}"><w>La</w><w>interfaz</w><w>de</w><w>usuario</w><w>(</w><w>UI</w><w>)</w><w>de</w><w>Shiny</w><w>utiliza</w><w>el</w><w>formato</w><ref target="https://getbootstrap.esdocu.com"><w>Bootstrap</w></ref><pc>.</pc></s><s xml:id="s_KXvXQv" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_weAknl']}"><w>La</w><w>UI</w><w>está</w><w>basada</w><w>en</w><w>un</w><w>sistema</w><w>cuadricular</w><w>formado</w><w>por</w><w>filas</w><w>y</w><w>columnas</w><pc>.</pc></s><s xml:id="s_YuZzfs" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_xGi8vu']}"><w>Para</w><w>este</w><w>ejemplo</w><w>,</w><w>vamos</w><w>a</w><w>utilizar</w><w>el</w><w>diseño</w><w>conocido</w><w>como</w><code rend="inline"><w>sidebarLayout</w></code><w>,</w><w>que</w><w>consta</w><w>de</w><w>un</w><w>título</w><w>,</w><w>una</w><w>barra</w><w>lateral</w><w>a</w><w>la</w><w>izquierda</w><w>de</w><w>la</w><w>página</w><w>para</w><w>las</w><w>entradas</w><w>del</w><w>usuario</w><w>y</w><w>un</w><w>panel</w><w>principal</w><w>para</w><w>mostrar</w><w>los</w><w>resultados</w><pc>.</pc></s><s xml:id="s_BHptnF" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_o8NThq']}"><w>El</w><w>siguiente</w><w>diagrama</w><w>o</w><w>esquema</w><w>te</w><w>ayudará</w><w>a</w><w>visualizar</w><w>el</w><w>diseño</w><w>:</w></s></p><figure><desc><s xml:id="s_BW9LNG" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_pANAC9', 's_XNBeyc']}"><w>Figura</w><w>3</w><w>:</w><w>Diagrama</w><w>o</w><w>esquema</w><w>que</w><w>muestra</w><w>la</w><w>estructura</w><w>del</w><w>diseño</w><w>de</w><w>la</w><w>aplicación</w><pc>.</pc></s></desc><figDesc><s xml:id="s_v65UUO" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_WFmpKh', 's_9MARaP']}"><w>Figura</w><w>3</w><w>:</w><w>Diagrama</w><w>o</w><w>esquema</w><w>que</w><w>muestra</w><w>la</w><w>estructura</w><w>del</w><w>diseño</w><w>de</w><w>la</w><w>aplicación</w><pc>.</pc></s></figDesc><graphic url="es-tr-creacion-de-aplicacion-shiny-3.png"/></figure><p><s xml:id="s_33yVlG" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_XJswMv']}"><w>El</w><w>próximo</w><w>paso</w><w>es</w><w>rellenar</w><w>el</w><w>elemento</w><code rend="inline"><w>ui</w></code><w>(</w><w>interfaz</w><w>de</w><w>usuario</w><w>)</w><w>con</w><w>los</w><w>componentes</w><w>necesarios</w><w>para</w><w>representar</w><w>dicho</w><w>diseño</w><pc>.</pc></s><s xml:id="s_4MiNK7" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_8cDze4']}"><w>Primero</w><w>,</w><w>usa</w><w>el</w><w>elemento</w><code rend="inline"><w>titlePanel</w><w>(</w><w>)</w></code><w>(</w><w>panel</w><w>de</w><w>título</w><w>)</w><w>para</w><w>dar</w><w>un</w><w>título</w><w>a</w><w>tu</w><w>aplicación</w><w>y</w><w>añade</w><w>la</w><w>barra</w><w>lateral</w><pc>.</pc></s><s xml:id="s_8cYZGQ" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_L5iQfp']}"><w>Borra</w><w>el</w><w>mensaje</w><w>de</w><w>``</w><w>Hola</w><w>mundo</w><w>''</w><w>dentro</w><w>del</w><w>objeto</w><code rend="inline"><w>fluidPage</w><w>(</w><w>)</w></code><w>(</w><w>página</w><w>)</w><w>y</w><w>reemplázalo</w><w>por</w><w>lo</w><w>siguiente</w><w>:</w></s></p><ab><code lang="language-r" xml:id="code_creacion-de-aplicacion-shiny_8" corresp="code_creacion-de-aplicacion-shiny_8.txt" rend="block"/></ab><p><s xml:id="s_nbO4IS" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Ja9JEa', 's_c9B4iG']}"><w>A</w><w>continuación</w><w>,</w><w>completa</w><w>el</w><w>diseño</w><w>con</w><w>partes</w><w>específicas</w><w>de</w><w>la</w><w>página</w><w>web</w><w>,</w><w>en</w><w>concreto</w><w>,</w><w>con</w><w>los</w><w>componentes</w><w>llamados</w><code rend="inline"><w>sidebarPanel</w><w>(</w><w>)</w></code><w>(</w><w>panel</w><w>de</w><w>la</w><w>barra</w><w>)</w><w>y</w><code rend="inline"><w>mainPanel</w><w>(</w><w>)</w></code><w>(</w><w>panel</w><w>principal</w><w>)</w><w>dentro</w><w>del</w><w>elemento</w><code rend="inline"><w>sidebarLayout</w><w>(</w><w>)</w></code><w>(</w><w>diseño</w><w>lateral</w><w>)</w><pc>.</pc></s></p><p style="alert alert-info"><s xml:id="s_wclkcC" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_7JA6Pq']}"><w>Debido</w><w>a</w><w>que</w><w>el</w><w>código</w><w>de</w><w>interfaz</w><w>de</w><w>usuario</w><w>de</w><w>Shiny</w><w>a</w><w>menudo</w><w>termina</w><w>con</w><w>muchos</w><w>paréntesis</w><w>anidados</w><w>,</w><w>dividirlos</w><w>en</w><w>dos</w><w>líneas</w><w>(</w><w>como</w><w>en</w><w>el</w><w>fragmento</w><w>de</w><w>código</w><w>a</w><w>continuación</w><w>)</w><w>puede</w><w>facilitar</w><w>la</w><w>lectura</w><w>,</w><w>pero</w><w>no</w><w>es</w><w>necesario</w><w>para</w><w>que</w><w>el</w><w>código</w><w>funcione</w><pc>.</pc></s></p><p><s xml:id="s_H8MNtA" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_sob6zs']}"><w>El</w><w>elemento</w><w>de</w><w>la</w><w>interfaz</w><w>de</w><w>usuario</w><w>debería</w><w>contener</w><w>este</w><w>código</w><w>:</w></s></p><ab><code lang="language-r" xml:id="code_creacion-de-aplicacion-shiny_9" corresp="code_creacion-de-aplicacion-shiny_9.txt" rend="block"/></ab><p><s xml:id="s_QFSb21" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Hlh8N4']}"><w>Notarás</w><w>que</w><w>estos</w><w>comandos</w><w>anidados</w><w>corresponden</w><w>al</w><w>diseño</w><w>del</w><w>diagrama</w><w>de</w><w>la</w><w>Figura</w><w>3</w><pc>.</pc></s></p></div><div type="3" n="5.2"><head><s xml:id="s_ekRDPH" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_HQdJLd']}"><w>Añade</w><w>un</w><w>'Widget</w><w>'</w><w>:</w><w>El</w><w>control</w><w>del</w><w>deslizador</w></s></head><p><s xml:id="s_qxiZbI" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_yU9PQf']}"><w>En</w><w>Shiny</w><w>,</w><w>los</w><w>usuarios</w><w>actualizan</w><w>los</w><w>valores</w><w>en</w><w>la</w><w>visualización</w><w>con</w><w>varios</w><w>controles</w><w>interactivos</w><w>y</w><w>customizables</w><w>llamados</w><w>'widgets</w><w>'</w><pc>.</pc></s><s xml:id="s_PLVR2X" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_43Q5kY']}"><w>Puedes</w><w>consultar</w><w>el</w><w>listado</w><w>completo</w><w>de</w><w>esta</w><w>opción</w><w>en</w><ref target="https://perma.cc/GW78-FQEJ"><w>la</w><w>galería</w><w>de</w><w>widgets</w><w>de</w><w>Shiny</w></ref><w>(</w><w>disponible</w><w>en</w><w>inglés</w><w>)</w><pc>.</pc></s></p><p><s xml:id="s_Np8ntC" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_xgAeFV', 's_19V1ym']}"><w>El</w><w>que</w><w>vas</w><w>a</w><w>usar</w><w>aquí</w><w>se</w><w>llama</w><code rend="inline"><w>sliderInput</w><w>(</w><w>)</w></code><w>y</w><w>mostrará</w><w>una</w><w>barra</w><w>deslizante</w><w>interactiva</w><w>con</w><w>una</w><w>gran</w><w>cantidad</w><w>de</w><w>opciones</w><w>,</w><w>como</w><w>los</w><w>valores</w><w>mínimo</w><w>,</w><w>máximo</w><w>y</w><w>de</w><w>inicio</w><pc>.</pc></s><s xml:id="s_7PtELW" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_KbfbYO']}"><w>También</w><w>puedes</w><w>establecer</w><w>el</w><w>paso</w><w>y</w><w>el</w><w>formato</w><w>de</w><w>los</w><w>números</w><w>(</w><w>escriba</w><code rend="inline"><pc>?</pc><w>sliderInput</w></code><w>en</w><w>la</w><w>consola</w><w>para</w><w>obtener</w><w>una</w><w>lista</w><w>completa</w><w>de</w><w>opciones</w><w>y</w><w>explicaciones</w><w>,</w><w>en</w><w>inglés</w><w>)</w><pc>.</pc></s><s xml:id="s_6h5rd2" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_PT8aPx']}"><w>Aquí</w><w>vas</w><w>a</w><w>crear</w><w>uno</w><w>con</w><w>un</w><w>año</w><w>mínimo</w><w>de</w><w>1678</w><w>(</w><w>el</w><w>punto</w><w>de</w><w>datos</w><w>más</w><w>antiguo</w><w>en</w><w>la</w><w>lista</w><w>de</w><w>títulos</w><w>)</w><w>y</w><w>un</w><w>máximo</w><w>de</w><w>2023</w><w>(</w><w>el</w><w>más</w><w>reciente</w><w>)</w><pc>.</pc></s></p><p><s xml:id="s_tLSBWG" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_7Hv0Uk']}"><w>El</w><w>valor</w><w>inicial</w><w>(</w><w>predeterminado</w><w>)</w><w>puede</w><w>ser</w><w>un</w><w>solo</w><w>número</w><w>o</w><w>un</w><w>vector</w><w>de</w><w>dos</w><w>números</w><pc>.</pc></s><s xml:id="s_XnjcfD" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_z7uSEd']}"><w>Si</w><w>utilizas</w><w>este</w><w>último</w><w>,</w><w>el</w><w>control</w><w>deslizante</w><w>será</w><w>de</w><w>doble</w><w>,</w><w>con</w><w>un</w><w>primer</w><w>y</w><w>segundo</w><w>valor</w><pc>.</pc></s><s xml:id="s_jWc6cm" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_SWEU01']}"><w>Esto</w><w>es</w><w>lo</w><w>que</w><w>queremos</w><w>usar</w><w>,</w><w>para</w><w>que</w><w>los</w><w>usuarios</w><w>puedan</w><w>especificar</w><w>un</w><w>rango</w><w>de</w><w>años</w><pc>.</pc></s></p><p><s xml:id="s_ESFOXi" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Zst9m5']}"><w>El</w><w>siguiente</w><w>código</w><w>creará</w><w>un</w><w>control</w><w>deslizante</w><w>con</w><w>dos</w><w>extremos</w><w>deslizables</w><w>,</w><w>configurado</w><w>de</w><w>forma</w><w>predeterminada</w><w>en</w><w>1800</w><w>y</w><w>1850</w><w>:</w></s></p><ab><code lang="language-r" xml:id="code_creacion-de-aplicacion-shiny_10" corresp="code_creacion-de-aplicacion-shiny_10.txt" rend="block"/></ab><p><s xml:id="s_iO9bRH" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_IoLMvS']}"><w>Inserta</w><w>este</w><w>código</w><w>entre</w><w>los</w><w>paréntesis</w><w>del</w><w>comando</w><code rend="inline"><w>sidebarPanel</w><w>=</w><w>sidebarPanel</w><w>(</w><w>)</w></code><pc>.</pc></s><s xml:id="s_SNmOdI" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_cxtN5C']}"><w>Si</w><w>te</w><w>pierdes</w><w>o</w><w>algo</w><w>no</w><w>está</w><w>del</w><w>todo</w><w>claro</w><w>,</w><w>echa</w><w>un</w><w>vistazo</w><w>al</w><w>código</w><w>completo</w><w>al</w><w>final</w><w>de</w><w>esta</w><w>lección</w><pc>.</pc></s></p><p><s xml:id="s_YpNPZO" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_HegJtv']}"><w>En</w><w>este</w><w>punto</w><w>,</w><w>ejecuta</w><w>la</w><w>aplicación</w><w>para</w><w>ver</w><w>cómo</w><w>se</w><w>ve</w><w>el</w><w>control</w><w>deslizante</w><pc>.</pc></s><s xml:id="s_w6CJOA" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_tghya6']}"><w>Deberías</w><w>ver</w><w>un</w><w>panel</w><w>gris</w><w>a</w><w>la</w><w>izquierda</w><w>(</w><w>el</w><w>panel</w><w>de</w><w>la</w><w>barra</w><w>lateral</w><w>)</w><w>con</w><w>el</w><w>control</w><w>deslizante</w><pc>.</pc></s><s xml:id="s_uTVSps" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_5Oyd1U']}"><w>Si</w><w>pasas</w><w>el</w><w>cursor</w><w>sobre</w><w>el</w><w>control</w><w>,</w><w>notarás</w><w>que</w><w>puedes</w><w>arrastrar</w><w>cada</w><w>extremo</w><w>(</w><w>para</w><w>seleccionar</w><w>un</w><w>tamaño</w><w>de</w><w>rango</w><w>)</w><w>y</w><w>también</w><w>puedes</w><w>arrastrar</w><w>el</w><w>medio</w><w>(</w><w>que</w><w>moverá</w><w>todo</w><w>el</w><w>control</w><w>deslizante</w><w>sobre</w><w>una</w><w>ventana</w><w>del</w><w>tamaño</w><w>de</w><w>rango</w><w>seleccionado</w><w>)</w><pc>.</pc></s></p><figure><desc><s xml:id="s_P5WXuS" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_HeprsU', 's_vORHNO']}"><w>Figura</w><w>4</w><w>:</w><w>GIF</w><w>animado</w><w>demostrando</w><w>la</w><w>funcionalidad</w><w>del</w><w>control</w><w>deslizante</w><pc>.</pc></s></desc><figDesc><s xml:id="s_IhXipA" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_45fBKg']}"><w>Figura</w><w>4</w><w>:</w><w>GIF</w><w>animado</w><w>demostrando</w><w>la</w><w>funcionalidad</w><w>del</w><w>control</w><w>deslizante</w><pc>.</pc></s></figDesc><graphic url="es-tr-creacion-de-aplicacion-shiny-4.gif"/></figure></div><div type="3" n="5.3"><head><s xml:id="s_7BpzL4" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_ScciJd']}"><w>Colocar</w><w>el</w><w>leafletOutput</w><w>en</w><w>el</w><w>elemento</w><w>mainPanel</w></s></head><p><s xml:id="s_4ogU0R" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_EBCVgk']}"><w>En</w><w>Shiny</w><w>,</w><w>debes</w><w>decirle</w><w>a</w><w>la</w><w>UI</w><w>que</w><w>debe</w><w>mostrar</w><w>el</w><emph><w>output</w></emph><w>creado</w><w>en</w><w>el</w><w>código</w><w>del</w><w>servidor</w><w>(</w><w>algún</w><w>tipo</w><w>de</w><w>elemento</w><w>de</w><w>R</w><w>como</w><w>una</w><w>tabla</w><w>de</w><w>datos</w><w>o</w><w>un</w><w>gráfico</w><w>o</w><w>algo</w><w>tan</w><w>sencillo</w><w>como</w><w>una</w><w>línea</w><w>de</w><w>texto</w><w>)</w><pc>.</pc></s><s xml:id="s_1na1M6" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_F36OcB']}"><w>Esto</w><w>se</w><w>hace</w><w>creando</w><w>un</w><w>elemento</w><w>UI</w><w>de</w><w>la</w><w>familia</w><w>de</w><code rend="inline"><w>*</w><w>Output</w></code><pc>.</pc></s><s xml:id="s_Y0RaMz" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_tLeeXq']}"><w>Cada</w><w>elemento</w><w>de</w><w>R</w><w>que</w><w>puedes</w><w>mostrar</w><w>en</w><w>Shiny</w><w>tiene</w><w>su</w><w>propio</w><w>comando</w><code rend="inline"><w>*</w><w>Output</w></code><w>:</w><w>aquí</w><w>,</w><w>vamos</w><w>a</w><w>usar</w><w>el</w><code rend="inline"><w>leafletOutput</w><w>(</w><w>)</w></code><w>que</w><w>le</w><w>dice</w><w>a</w><w>la</w><w>UI</w><w>que</w><w>cree</w><w>un</w><w>mapa</w><w>Leaflet</w><pc>.</pc></s><s xml:id="s_VicnmH" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_YnEdr0']}"><code rend="inline"><w>leafletOutput</w></code><w>requiere</w><w>un</w><w>argumento</w><w>:</w><w>la</w><w>identificación</w><w>(</w><w>ID</w><w>)</w><w>del</w><emph><w>output</w></emph><pc>.</pc></s><s xml:id="s_Yp6Fxj" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_C8mkd9']}"><w>Esta</w><w>etiqueta</w><w>se</w><w>usará</w><w>para</w><w>hacer</w><w>coincidir</w><w>el</w><w>elemento</w><w>de</w><w>la</w><w>interfaz</w><w>de</w><w>usuario</w><w>con</w><w>el</w><w>objeto</w><w>de</w><w>mapa</w><w>real</w><w>que</w><w>vas</w><w>a</w><w>crear</w><w>en</w><w>el</w><w>código</w><w>del</w><w>servidor</w><w>más</w><w>adelante</w><pc>.</pc></s><s xml:id="s_sG4htv" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_MOjbtw', 's_SVhW1E']}"><w>Establece</w><w>esta</w><w>etiqueta</w><w>como</w><w>'mapa</w><w>'</w><w>e</w><w>inserta</w><w>el</w><w>siguiente</w><w>código</w><w>entre</w><w>paréntesis</w><w>del</w><code rend="inline"><w>mainPanel</w><w>(</w><w>)</w></code><w>:</w></s></p><ab><code lang="language-r" xml:id="code_creacion-de-aplicacion-shiny_11" corresp="code_creacion-de-aplicacion-shiny_11.txt" rend="block"/></ab></div></div><div type="2" n="6"><head><s xml:id="s_bCftZO" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_dXsS3V']}"><w>Crear</w><w>la</w><w>lógica</w><w>del</w><w>servidor</w></s></head><p><s xml:id="s_NLzaxV" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_mA19Cm']}"><w>A</w><w>continuación</w><w>,</w><w>tienes</w><w>que</w><w>escribir</w><w>la</w><w>lógica</w><w>para</w><w>crear</w><w>el</w><w>objeto</w><w>a</w><w>mostrar</w><w>en</w><w>la</w><w>UI</w><pc>.</pc></s><s xml:id="s_PrSnHO" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_O5iUDM']}"><w>Esto</w><w>se</w><w>hace</w><w>en</w><w>dos</w><w>partes</w><pc>.</pc></s><s xml:id="s_t7iqHl" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_JS5S2a']}"><w>Primero</w><w>,</w><w>crearás</w><w>un</w><w>elemento</w><w>reactivo</w><w>que</w><w>,</w><w>como</w><w>se</w><w>explicó</w><w>más</w><w>arriba</w><w>,</w><w>es</w><w>un</w><w>objeto</w><w>especial</w><w>que</w><w>interpretará</w><w>los</w><w>cambios</w><w>pedidos</w><w>por</w><w>el</w><w>usuario</w><w>para</w><w>reajustar</w><w>la</w><w>visualización</w><pc>.</pc></s><s xml:id="s_9aXK8j" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_lGgmVT']}"><w>En</w><w>segundo</w><w>lugar</w><w>,</w><w>crearás</w><w>la</w><w>visualización</w><w>que</w><w>contenga</w><w>el</w><w>propio</w><w>mapa</w><w>interactivo</w><pc>.</pc></s></p><div type="3" n="6.1"><head><s xml:id="s_WiyuJU" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_ggh6NT']}"><w>Crear</w><w>el</w><w>elemento</w><w>reactivo</w><w>con</w><w>el</w><w>mapa</w><w>Leaflet</w></s></head><p><s xml:id="s_VhiYsE" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_wPoANf']}"><w>Primero</w><w>,</w><w>crea</w><w>el</w><w>elemento</w><w>reactivo</w><pc>.</pc></s><s xml:id="s_Ejz7Xf" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_piQORv']}"><w>En</w><w>este</w><w>caso</w><w>,</w><w>vamos</w><w>a</w><w>usar</w><w>un</w><w>conjunto</w><w>de</w><w>datos</w><w>geográficos</w><w>especial</w><w>que</w><w>se</w><w>llama</w><emph><w>objeto</w><w>de</w><w>características</w><w>simples</w></emph><w>(</w><emph><w>simple</w><w>features</w><w>object</w></emph><w>)</w><pc>.</pc></s><s xml:id="s_KEikDN" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_lk9l90']}"><w>Este</w><w>provee</w><w>una</w><w>representación</w><w>de</w><w>un</w><w>objeto</w><w>en</w><w>el</w><w>mundo</w><w>real</w><w>mediante</w><w>uno</w><w>o</w><w>varios</w><w>puntos</w><w>que</w><w>pueden</w><w>o</w><w>no</w><w>estar</w><w>conectados</w><w>por</w><w>segmentos</w><w>en</w><w>línea</w><w>recta</w><w>para</w><w>formar</w><w>líneas</w><w>y</w><w>polígonos</w><pc>.</pc></s></p><p><s xml:id="s_A4Y5lH" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_NSC5xG']}"><w>Cada</w><w>vez</w><w>que</w><w>los</w><w>usuarios</w><w>cambien</w><w>las</w><w>variables</w><w>en</w><w>el</w><w>control</w><w>deslizante</w><w>de</w><w>alguna</w><w>manera</w><w>(</w><w>para</w><w>ampliar</w><w>o</w><w>reducir</w><w>el</w><w>rango</w><w>de</w><w>fechas</w><w>)</w><w>,</w><w>la</w><w>aplicación</w><w>ejecutará</w><w>una</w><w>serie</w><w>de</w><w>comandos</w><w>:</w></s></p><list type="unordered"><item><s xml:id="s_inIk6X" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_hcV0JH']}"><w>Filtra</w><w>la</w><w>lista</w><w>de</w><w>títulos</w><w>según</w><w>las</w><w>fechas</w><w>seleccionadas</w></s></item><item><s xml:id="s_XocSL2" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_I6AZJ6']}"><w>Cuenta</w><w>el</w><w>número</w><w>de</w><w>veces</w><w>que</w><w>cada</w><w>lugar</w><w>aparece</w><w>en</w><w>ese</w><w>rango</w><w>de</w><w>fechas</w></s></item><item><s xml:id="s_ZkLtPP" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_MKkWO6']}"><w>Une</w><w>los</w><w>lugares</w><w>con</w><w>sus</w><w>coordenadas</w></s></item><item><s xml:id="s_DOKF5o" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_fdnfhT']}"><w>Convierte</w><w>el</w><w>resultado</w><w>a</w><w>un</w><w>objeto</w><w>de</w><w>características</w><w>simples</w></s></item></list><p><s xml:id="s_z55wb5" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_gs3otO']}"><w>Para</w><w>crear</w><w>un</w><w>objeto</w><w>llamado</w><code rend="inline"><w>mapa_df</w></code><w>,</w><w>añade</w><w>el</w><w>siguiente</w><w>código</w><w>dentro</w><w>de</w><w>las</w><w>llaves</w><w>del</w><w>componente</w><w>del</w><w>servidor</w><w>:</w></s></p><ab><code lang="language-r" xml:id="code_creacion-de-aplicacion-shiny_12" corresp="code_creacion-de-aplicacion-shiny_12.txt" rend="block"/></ab><p><s xml:id="s_YScd2x" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_AFfsRT', 's_uIkGjY']}"><w>Este</w><w>código</w><w>hace</w><w>lo</w><w>siguiente</w><w>:</w></s></p><list type="ordered"><item><s xml:id="s_nucUya" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_TKFetf']}"><w>Filtra</w><w>el</w><w>conjunto</w><w>de</w><w>datos</w><w>de</w><w>periódicos</w><w>con</w><w>el</w><w>comando</w><w>de</w><w>filtrado</w><code rend="inline"><w>filter</w><w>(</w><w>)</w></code><w>,</w><w>con</w><w>los</w><w>valores</w><w>del</w><w>widget</w><code rend="inline"><w>sliderInput</w></code><pc>.</pc></s><s xml:id="s_p0EPo6" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_OQhvUw']}"><w>Se</w><w>accede</w><w>a</w><w>estos</w><w>valores</w><w>usando</w><w>el</w><code rend="inline"><w>input</w><w>$</w><w>&lt;</w><w>NombreEtiqueta</w><w>&gt;</w></code><w>que</w><w>en</w><w>este</w><w>caso</w><w>es</w><code rend="inline"><w>input</w><w>$</w><w>años</w></code><w>,</w><w>aunque</w><w>hay</w><w>algo</w><w>más</w><w>a</w><w>notar</w><pc>.</pc></s><s xml:id="s_BIeJSI" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_giXVxT']}"><w>¿Te</w><w>acuerdas</w><w>de</w><w>que</w><w>estableciste</w><w>el</w><w>valor</w><w>de</w><code rend="inline"><w>sliderInput</w></code><w>en</w><w>un</w><w>vector</w><w>de</w><w>dos</w><w>valores</w><w>,</w><w>de</w><w>modo</w><w>que</w><w>se</w><w>pueda</w><w>seleccionar</w><w>un</w><w>rango</w><pc>?</pc></s><s xml:id="s_5RUjvO" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_sIGoJw']}"><w>Los</w><w>dos</w><w>números</w><w>de</w><w>este</w><w>rango</w><w>se</w><w>almacenan</w><w>en</w><code rend="inline"><w>input</w><w>$</w><w>años</w><w>[</w><w>1</w><w>]</w></code><w>e</w><code rend="inline"><w>input</w><w>$</w><w>años</w><w>[</w><w>2</w><w>]</w></code><pc>.</pc></s><s xml:id="s_imjo6J" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_MSZUbN']}"><w>Estos</w><w>son</w><w>los</w><w>valores</w><w>a</w><w>los</w><w>que</w><w>necesitas</w><w>acceder</w><w>para</w><w>filtrar</w><w>los</w><w>datos</w><pc>.</pc></s><s xml:id="s_ajiPXN" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_GbmNsC']}"><w>La</w><w>función</w><w>de</w><w>filtro</w><w>(</w><emph><w>filter</w></emph><w>)</w><w>devuelve</w><w>filas</w><w>en</w><w>un</w><emph><w>data</w><w>frame</w></emph><w>(</w><code rend="inline"><w>df</w></code><w>)</w><w>en</w><w>el</w><w>que</w><w>un</w><w>conjunto</w><w>específico</w><w>de</w><w>condiciones</w><w>son</w><w>verdaderas</w><w>:</w><w>en</w><w>este</w><w>caso</w><w>,</w><w>donde</w><w>la</w><w>columna</w><code rend="inline"><w>año_inicio</w></code><w>es</w><w>mayor</w><w>que</w><w>el</w><w>primer</w><w>año</w><w>e</w><w>inferior</w><w>que</w><w>el</w><w>segundo</w><pc>.</pc></s></item><item><s xml:id="s_h6R4KE" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_fHAgcN', 's_Q0TdId']}"><w>La</w><w>función</w><code rend="inline"><w>count</w><w>(</w><w>)</w></code><w>produce</w><w>un</w><emph><w>data</w><w>frame</w></emph><w>de</w><w>cada</w><w>ciudad</w><w>y</w><w>un</w><w>recuento</w><w>de</w><w>cuántas</w><w>veces</w><w>aparece</w><w>cada</w><w>una</w><w>,</w><w>en</w><w>el</w><w>conjunto</w><w>de</w><w>datos</w><w>ya</w><w>filtrado</w><w>entre</w><w>dos</w><w>rangos</w><w>de</w><w>fechas</w><pc>.</pc></s><s xml:id="s_FRA9tl" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_pMW9nP', 's_SWubIe']}"><w>Especificamos</w><w>el</w><w>nombre</w><w>de</w><w>la</w><w>nueva</w><w>columna</w><w>para</w><w>el</w><w>recuento</w><w>con</w><w>el</w><w>argumento</w><code rend="inline"><w>name</w><w>=</w><w>'titulo</w><w>'</w></code><pc>.</pc></s></item><item><s xml:id="s_KZFwPQ" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_jlw9PQ', 's_DEcysr']}"><w>Utiliza</w><code rend="inline"><w>left_join</w><w>(</w><w>)</w></code><w>para</w><w>unir</w><w>el</w><w>conjunto</w><w>de</w><w>coordenadas</w><w>con</w><w>el</w><emph><w>data</w><w>frame</w></emph><w>que</w><w>contiene</w><w>el</w><w>recuento</w><w>de</w><w>las</w><w>ciudades</w><w>,</w><w>especificando</w><w>que</w><w>el</w><w>elemento</w><w>común</w><w>entre</w><w>ambos</w><w>es</w><w>la</w><w>columna</w><w>llamada</w><code rend="inline"><w>poblacion</w></code><w>(</w><w>En</w><w>general</w><w>,</w><emph><w>join</w></emph><w>es</w><w>un</w><w>tipo</w><w>de</w><w>función</w><w>que</w><w>hace</w><w>coincidir</w><w>o</w><w>que</w><w>une</w><w>dos</w><w>dataframes</w><w>diferentes</w><w>en</w><w>función</w><w>a</w><w>un</w><w>elemento</w><w>común</w><w>)</w><pc>.</pc></s></item><item><s xml:id="s_4kewKA" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_efcogT', 's_GCP2xV']}"><w>Podría</w><w>haber</w><w>una</w><w>pequeña</w><w>cantidad</w><w>de</w><w>títulos</w><w>de</w><w>publicaciones</w><w>sin</w><w>coordenadas</w><w>,</w><w>lo</w><w>cual</w><w>podría</w><w>causar</w><w>un</w><w>error</w><w>al</w><w>crear</w><w>el</w><w>objeto</w><w>geográfico</w><pc>.</pc></s><s xml:id="s_1oYiG1" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_VGFuPe', 's_vVDTyp']}"><w>Para</w><w>evitar</w><w>que</w><w>estos</w><w>rompan</w><w>la</w><w>aplicación</w><w>,</w><w>puedes</w><w>quitarlos</w><w>con</w><w>el</w><w>código</w><code rend="inline"><w>filter</w><w>(</w><pc>!</pc><w>is.na</w><w>(</w><w>lng</w><w>)</w><w>&amp;</w><pc>!</pc><w>is.na</w><w>(</w><w>lat</w><w>)</w><w>)</w></code><pc>.</pc></s></item><item><s xml:id="s_DzYUYI" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_C7n25E']}"><w>Finalmente</w><w>,</w><w>convierte</w><w>todo</w><w>en</w><w>un</w><w>objeto</w><w>de</w><w>características</w><w>simples</w><w>,</w><w>usando</w><w>la</w><w>función</w><code rend="inline"><w>st_as_sf</w><w>(</w><w>)</w></code><pc>.</pc></s><s xml:id="s_P85dwl" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_xTMYBi']}"><w>En</w><w>ella</w><w>,</w><w>especifica</w><w>el</w><w>nombre</w><w>de</w><w>las</w><w>columnas</w><w>que</w><w>contienen</w><w>las</w><w>coordenadas</w><w>y</w><w>establece</w><w>un</w><w>sistema</w><w>de</w><w>referencias</w><w>de</w><w>las</w><w>mismas</w><w>con</w><code rend="inline"><w>st_set_crs</w><w>(</w><w>)</w></code><ref type="footnotemark" target="#es_note_5"/><pc>.</pc></s></item></list><p><s xml:id="s_SeLouh" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_oGJxqo']}"><w>Shiny</w><w>puede</w><w>acceder</w><w>a</w><w>este</w><emph><w>data</w><w>frame</w></emph><w>de</w><w>características</w><w>simples</w><w>en</w><w>cualquier</w><w>contexto</w><w>reactivo</w><w>con</w><w>la</w><w>función</w><code rend="inline"><w>mapa_df</w><w>(</w><w>)</w></code><w>y</w><w>puede</w><w>ser</w><w>utilizado</w><w>por</w><w>múltiples</w><w>salidas</w><w>a</w><w>la</w><w>vez</w><w>:</w><w>por</w><w>ejemplo</w><w>,</w><w>podrías</w><w>crear</w><w>una</w><w>aplicación</w><w>que</w><w>muestre</w><w>un</w><w>mapa</w><w>y</w><w>un</w><w>gráfico</w><w>de</w><w>barras</w><w>,</w><w>cada</w><w>uno</w><w>usando</w><w>el</w><w>mismo</w><w>objeto</w><w>reactivo</w><pc>.</pc></s></p></div><div type="3" n="6.2"><head><s xml:id="s_XoTJLC" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_sEBmvn']}"><w>Crea</w><w>un</w><w>mapa</w><w>Leaflet</w></s></head><p><s xml:id="s_UFSMOF" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_sGFFXw', 's_RfBrzv']}"><w>Lo</w><w>último</w><w>que</w><w>hay</w><w>que</w><w>hacer</w><w>es</w><w>crear</w><w>el</w><w>mapa</w><w>en</w><w>sí</w><w>mismo</w><w>con</w><w>la</w><w>biblioteca</w><code rend="inline"><w>leaflet</w></code><w>,</w><w>la</w><w>cual</w><w>crea</w><w>mapas</w><w>interactivos</w><w>con</w><w>zoom</w><w>y</w><w>funciona</w><w>particularmente</w><w>bien</w><w>con</w><w>Shiny</w><pc>.</pc></s><s xml:id="s_ikvGWU" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_C0BLoX']}"><w>Agrega</w><w>el</w><w>siguiente</w><w>código</w><w>dentro</w><w>del</w><w>elemento</w><code rend="inline"><w>server</w><w>(</w><w>)</w></code><w>,</w><w>justo</w><w>debajo</w><w>del</w><w>elemento</w><w>reactivo</w><code rend="inline"><w>mapa_df</w></code><w>:</w></s></p><ab><code lang="language-r" xml:id="code_creacion-de-aplicacion-shiny_13" corresp="code_creacion-de-aplicacion-shiny_13.txt" rend="block"/></ab><p><s xml:id="s_DG9gmG" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_eU8KdJ']}"><w>Hay</w><w>varias</w><w>cosas</w><w>complejas</w><w>dentro</w><w>de</w><w>esa</w><w>pieza</w><w>de</w><w>código</w><w>así</w><w>que</w><w>es</w><w>importante</w><w>revisarlas</w><w>en</w><w>detalle</w><pc>.</pc></s><s xml:id="s_yEgNWY" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_o37fae', 's_TYxy7O']}"><w>En</w><w>Shiny</w><w>,</w><w>se</w><w>crea</w><w>reactividad</w><w>conectando</w><w>entradas</w><w>(</w><emph><w>inputs</w></emph><w>)</w><w>con</w><w>salidas</w><w>(</w><emph><w>outputs</w></emph><w>)</w><pc>.</pc></s></p><p><s xml:id="s_pGjlzl" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_DHm0rn', 's_3gpLed']}"><w>,</w><w>en</w><w>este</w><w>contexto</w><w>,</w><w>son</w><w>las</w><w>variables</w><w>que</w><w>el</w><w>usuario</w><w>puede</w><w>ir</w><w>cambiando</w><pc>.</pc></s><hi rend="bold"><s xml:id="s_QDlMP4" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_WLlZWM']}"><w>Input</w></s></hi><s xml:id="s_2FO41M" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_BqMpei']}"><w>¿Recuerdas</w><w>el</w><code rend="inline"><w>sliderInput</w><w>(</w><w>)</w></code><w>que</w><w>creaste</w><w>en</w><w>la</w><w>interfaz</w><w>de</w><w>usuario</w><w>anterior</w><w>,</w><w>con</w><w>la</w><w>etiqueta</w><w>``</w><w>años</w><w>''</w><pc>?</pc></s><s xml:id="s_xxj0l7" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_ONmG30']}"><w>Ya</w><w>hemos</w><w>visto</w><w>que</w><w>Shiny</w><w>almacena</w><w>dicho</w><w>valor</w><w>en</w><w>la</w><w>variable</w><code rend="inline"><w>input</w><w>$</w><w>años</w></code><pc>.</pc></s><hi rend="bold"><s xml:id="s_Jk3uaL" corresp="{&quot;shiny-leaflet-newspaper-map-tutorial&quot;: [&quot;s_ONmG30&quot;]}"><w>Output</w></s></hi><s xml:id="s_ivEilV" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_H82lkg']}"><w>,</w><w>aquí</w><w>,</w><w>son</w><w>la</w><w>información</w><w>que</w><w>le</w><w>indica</w><w>a</w><w>Shiny</w><w>qué</w><w>mostrar</w><w>en</w><w>la</w><w>interfaz</w><w>de</w><w>usuario</w><w>y</w><w>se</w><w>crean</w><w>en</w><w>el</w><w>servidor</w><w>con</w><w>la</w><w>variable</w><code rend="inline"><w>output</w><w>$</w><w>*</w></code><pc>.</pc></s><s xml:id="s_qLDjWs" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_TOPgU7', 's_obue1y']}"><w>Esta</w><w>información</w><w>debe</w><w>coincidir</w><w>con</w><w>un</w><w>elemento</w><code rend="inline"><w>*</w><w>Output</w></code><w>en</w><w>la</w><w>UI</w><pc>.</pc></s><s xml:id="s_6nCyeW" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_DwAtXg']}"><w>En</w><w>esta</w><w>,</w><w>creaste</w><w>un</w><emph><w>output</w></emph><code rend="inline"><w>leaflet</w></code><w>con</w><w>la</w><w>etiqueta</w><w>mapa</w><w>usando</w><w>el</w><w>código</w><code rend="inline"><w>leafletOutput</w><w>(</w><w>outputId</w><w>=</w><w>'mapa</w><w>'</w><w>)</w></code><pc>.</pc></s><s xml:id="s_FeavJs" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_vpXoZL']}"><w>Esto</w><w>debería</w><w>coincidir</w><w>con</w><w>una</w><w>salida</w><w>o</w><emph><w>output</w></emph><w>llamada</w><code rend="inline"><w>output</w><w>$</w><w>mapa</w></code><w>en</w><w>el</w><w>servidor</w><pc>.</pc></s></p><p><s xml:id="s_mUY9qe" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_8k1ZiR']}"><w>A</w><w>su</w><w>vez</w><w>,</w><w>esta</w><w>variable</w><code rend="inline"><w>output</w><w>$</w><w>mapa</w></code><w>tiene</w><w>que</w><w>estar</w><w>conectada</w><w>con</w><w>una</w><w>función</w><code rend="inline"><w>render</w><w>*</w></code><w>que</w><w>le</w><w>indica</w><w>a</w><w>Shiny</w><w>qué</w><w>tipo</w><w>de</w><w>objeto</w><w>tiene</w><w>que</w><w>representar</w><w>en</w><w>la</w><w>UI</w><pc>.</pc></s><s xml:id="s_GD1eA5" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_twMZtE']}"><w>El</w><w>que</w><w>necesitamos</w><w>se</w><w>llama</w><code rend="inline"><w>renderLeaflet</w></code><w>,</w><w>con</w><w>la</w><w>que</w><w>indicamos</w><w>a</w><w>la</w><w>UI</w><w>que</w><w>el</w><w>mapa</w><w>debe</w><w>salir</w><w>de</w><w>la</w><w>librería</w><code rend="inline"><w>leaflet</w></code><pc>.</pc></s><s xml:id="s_Nyg07c" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_ijIlIV']}"><w>El</w><w>objeto</w><code rend="inline"><w>renderLeaflet</w></code><w>tiene</w><w>tanto</w><w>paréntesis</w><w>como</w><w>llaves</w><w>,</w><w>como</w><w>los</w><w>objetos</w><w>reactivos</w><w>de</w><w>más</w><w>arriba</w><pc>.</pc></s></p><p><s xml:id="s_P2Zcok" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_B5nNM3']}"><w>El</w><w>mapa</w><w>Leaflet</w><w>en</w><w>sí</w><w>mismo</w><w>se</w><w>crea</w><w>ahí</w><pc>.</pc></s><s xml:id="s_uVAh52" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_gNZxpN']}"><w>Primero</w><w>,</w><w>añade</w><w>la</w><w>función</w><code rend="inline"><w>leaflet</w><w>(</w><w>)</w></code><pc>.</pc></s><s xml:id="s_rHKYS1" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_VrGsac']}"><w>Luego</w><w>,</w><w>añade</w><w>las</w><w>imágenes</w><w>predeterminadas</w><w>(</w><w>con</w><w>zoom</w><w>)</w><w>con</w><w>la</w><w>función</w><code rend="inline"><w>addTiles</w><w>(</w><w>)</w></code><w>(</w><w>añadir</w><w>teselado</w><w>)</w><pc>.</pc></s><s xml:id="s_r02qNK" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_xm9nrX']}"><w>Para</w><w>finalizar</w><w>,</w><w>escoge</w><w>la</w><w>posición</w><w>y</w><w>nivel</w><w>de</w><w>zoom</w><w>por</w><w>defecto</w><w>a</w><w>la</w><w>Península</w><w>Ibérica</w><w>con</w><w>el</w><w>comando</w><code rend="inline"><w>setView</w><w>(</w><w>lng</w><w>=-3.700346</w><w>,</w><w>lat</w><w>=</w><w>40.41669</w><w>,</w><w>zoom</w><w>=</w><w>5.2</w><w>)</w></code><w>utilizando</w><w>las</w><w>coordenadas</w><w>de</w><w>Madrid</w><w>ciudad</w><w>como</w><w>centro</w><pc>.</pc></s></p></div><div type="3" n="6.3"><head><s xml:id="s_cfLHKN" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_xzEm0O']}"><w>Muestra</w><w>los</w><w>puntos</w><w>con</w><w>el</w><w>dataframe</w><w>reactivo</w></s></head><p><s xml:id="s_Zq4uAc" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_CegSzM']}"><w>Haz</w><w>una</w><w>pausa</w><w>aquí</w><w>y</w><w>vuelve</w><w>a</w><w>ejecutar</w><w>la</w><w>aplicación</w><pc>.</pc></s><s xml:id="s_1wfRbj" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_J9FYap']}"><w>Si</w><w>todo</w><w>va</w><w>bien</w><w>,</w><w>deberías</w><w>ver</w><w>un</w><w>mapa</w><w>interactivo</w><w>de</w><w>la</w><w>Península</w><w>Ibérica</w><w>a</w><w>la</w><w>derecha</w><w>del</w><w>control</w><w>deslizante</w><pc>.</pc></s><s xml:id="s_9FzzYu" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_NFQ6ww']}"><w>Puedes</w><w>hacer</w><w>zoom</w><w>y</w><w>moverte</w><w>sobre</w><w>él</w><w>y</w><w>poco</w><w>más</w><pc>.</pc></s><s xml:id="s_sNo1Bh" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_fZjFcf']}"><w>Ahora</w><w>necesitas</w><w>añadir</w><w>los</w><w>puntos</w><w>que</w><w>representan</w><w>el</w><w>recuento</w><w>de</w><w>títulos</w><w>por</w><w>cada</w><w>lugar</w><w>y</w><w>según</w><w>el</w><w>rango</w><w>de</w><w>fechas</w><w>escogido</w><pc>.</pc></s></p><figure><desc><s xml:id="s_19nnVZ" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_MlPs91', 's_qacbaf']}"><w>Figura</w><w>5</w><w>:</w><w>Captura</w><w>de</w><w>pantalla</w><w>del</w><w>mapa</w><w>Leaflet</w><w>en</w><w>la</w><w>aplicación</w><w>y</w><w>su</w><w>widget</w><w>interactivo</w><pc>.</pc></s></desc><figDesc><s xml:id="s_o1bLrx" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_pXgTSq', 's_E4mKFw']}"><w>Figura</w><w>5</w><w>:</w><w>Captura</w><w>de</w><w>pantalla</w><w>del</w><w>mapa</w><w>Leaflet</w><w>en</w><w>la</w><w>aplicación</w><w>y</w><w>su</w><w>widget</w><w>interactivo</w><pc>.</pc></s></figDesc><graphic url="es-tr-creacion-de-aplicacion-shiny-5.png"/></figure><p><s xml:id="s_eSU6v6" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_3yEme9']}"><w>Para</w><w>eso</w><w>,</w><w>usa</w><w>el</w><w>comando</w><code rend="inline"><w>addCircleMarkers</w><w>(</w><w>)</w></code><w>(</w><w>añadir</w><w>marcadores</w><w>circulares</w><w>)</w><w>,</w><w>que</w><w>añade</w><w>una</w><w>capa</w><w>gráfica</w><w>de</w><w>círculos</w><w>al</w><w>mapa</w><code rend="inline"><w>leaflet</w></code><w>tomando</w><w>las</w><w>coordenadas</w><w>del</w><w>objeto</w><w>con</w><w>datos</w><w>geográficos</w><pc>.</pc></s><s xml:id="s_meUS42" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_YQPrxh']}"><w>Con</w><w>un</w><emph><w>pipe</w></emph><code rend="inline"><w>%</w><w>&gt;</w><w>%</w></code><w>,</w><w>añade</w><w>la</w><w>siguiente</w><w>línea</w><w>después</w><w>de</w><w>la</w><w>función</w><w>anterior</w><w>con</w><w>un</w><code rend="inline"><w>addCircleMarkers</w><w>(</w><w>)</w></code><w>(</w><w>mira</w><w>el</w><w>código</w><w>final</w><w>si</w><w>no</w><w>sabes</w><w>dónde</w><w>va</w><w>esto</w><w>)</w><w>:</w></s></p><ab><code lang="language-r" xml:id="code_creacion-de-aplicacion-shiny_14" corresp="code_creacion-de-aplicacion-shiny_14.txt" rend="block"/></ab><p><s xml:id="s_yCK1BE" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_LrtRr9']}"><w>Lo</w><w>más</w><w>importante</w><w>:</w><w>en</w><w>vez</w><w>de</w><w>una</w><w>fuente</w><w>de</w><w>datos</w><w>fija</w><w>,</w><w>dicha</w><w>línea</w><w>especifica</w><w>que</w><code rend="inline"><w>addCircleMarkers</w></code><w>debe</w><w>usar</w><w>el</w><emph><w>data</w><w>frame</w></emph><w>reactivo</w><w>que</w><w>hemos</w><w>creado</w><w>antes</w><w>,</w><w>con</w><w>el</w><w>argumento</w><code rend="inline"><w>data</w><w>=</w><w>mapa_df</w><w>(</w><w>)</w></code><pc>.</pc></s><s xml:id="s_Dt8CzM" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_z4lcJP']}"><w>Nota</w><w>que</w><w>a</w><w>diferencia</w><w>de</w><w>variables</w><w>regulares</w><w>en</w><w>R</w><w>,</w><w>esta</w><w>tiene</w><w>dos</w><w>paréntesis</w><w>al</w><w>final</w><w>,</w><w>indicando</w><w>que</w><w>se</w><w>trata</w><w>de</w><w>una</w><w>variable</w><w>reactiva</w><w>especial</w><pc>.</pc></s><s xml:id="s_9FkuqX" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_fonUmI']}"><w>Cada</w><w>vez</w><w>que</w><w>la</w><w>aplicación</w><w>nota</w><w>un</w><w>cambio</w><w>en</w><w>este</w><w>objeto</w><w>reactivo</w><w>,</w><w>redibuja</w><w>el</w><w>mapa</w><w>con</w><w>los</w><w>datos</w><w>nuevos</w><pc>.</pc></s></p><p><s xml:id="s_6GNDa6" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_wFIify']}"><w>En</w><w>este</w><w>punto</w><w>también</w><w>puedes</w><w>configurar</w><w>el</w><w>radio</w><w>de</w><w>los</w><w>círculos</w><w>para</w><w>que</w><w>se</w><w>corresponda</w><w>con</w><w>la</w><w>columna</w><w>que</w><w>contiene</w><w>el</w><w>recuento</w><w>de</w><w>títulos</w><w>de</w><w>cada</w><w>ciudad</w><pc>.</pc></s><s xml:id="s_5v096J" corresp="{&quot;shiny-leaflet-newspaper-map-tutorial&quot;: [&quot;s_wFIify&quot;]}"><w>Para</w><w>ello</w><w>usa</w><code rend="inline"><w>radio</w><w>=</w><w>~sqrt</w><w>(</w><w>titulo</w><w>)</w></code><pc>.</pc></s><s xml:id="s_gONf7i" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_mixZdX']}"><w>Usamos</w><w>la</w><w>raíz</w><w>cuadrada</w><w>(</w><code rend="inline"><w>sqrt</w></code><w>)</w><w>porque</w><w>eso</w><w>hace</w><w>que</w><w>el</w><w>área</w><w>de</w><w>los</w><w>círculos</w><w>se</w><w>adapte</w><w>proporcionalmente</w><w>al</w><w>conteo</w><pc>.</pc></s></p></div><div type="3" n="6.4"><head><s xml:id="s_rAQIjX" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_NwvnND']}"><w>Prueba</w><w>la</w><w>aplicación</w></s></head><p><s xml:id="s_L9EHOr" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_wUPsZM']}"><w>Ya</w><w>puedes</w><w>volver</w><w>a</w><w>ejecutar</w><w>la</w><w>aplicación</w><pc>.</pc></s><s xml:id="s_rUFFHW" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_omlPVZ']}"><w>Ahora</w><w>,</w><w>debería</w><w>haber</w><w>círculos</w><w>de</w><w>varios</w><w>tamaños</w><w>repartidos</w><w>por</w><w>el</w><w>mapa</w><pc>.</pc></s><s xml:id="s_FP68yU" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_5lhloW']}"><w>Intenta</w><w>mover</w><w>o</w><w>arrastrar</w><w>los</w><w>controles</w><w>deslizantes</w><w>para</w><w>ajustar</w><w>el</w><w>rango</w><w>de</w><w>años</w><w>que</w><w>quieres</w><w>explorar</w><w>:</w><w>El</w><w>mapa</w><w>debería</w><w>de</w><w>actualizarse</w><w>con</w><w>cada</w><w>cambio</w><pc>.</pc></s><s xml:id="s_e859ib" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_IX2IRT']}"><w>¡Felicidades</w><w>,</w><w>has</w><w>creado</w><w>tu</w><w>primera</w><w>aplicación</w><w>Shiny</w><pc>!</pc></s></p><figure><desc><s xml:id="s_vNHTQN" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_bzwr0j', 's_EH958w']}"><w>Figura</w><w>6</w><w>:</w><w>GIF</w><w>animado</w><w>mostrando</w><w>cómo</w><w>el</w><w>mapa</w><w>Leaflet</w><w>se</w><w>actualiza</w><w>al</w><w>cambiar</w><w>los</w><w>valores</w><w>del</w><w>control</w><pc>.</pc></s></desc><figDesc><s xml:id="s_nqV0Xo" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_pbPOMp', 's_aaVlZX']}"><w>Figura</w><w>6</w><w>:</w><w>GIF</w><w>animado</w><w>mostrando</w><w>cómo</w><w>el</w><w>mapa</w><w>Leaflet</w><w>se</w><w>actualiza</w><w>al</w><w>cambiar</w><w>los</w><w>valores</w><w>del</w><w>control</w></s></figDesc><graphic url="es-tr-creacion-de-aplicacion-shiny-6.gif"/></figure></div></div><div type="2" n="7"><head><s xml:id="s_viz7pl" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_2YDAlV']}"><w>Mejorar</w><w>la</w><w>aplicación</w></s></head><p><s xml:id="s_3IzHSx" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_eL6cOd']}"><w>Para</w><w>aprender</w><w>más</w><w>sobre</w><w>Shiny</w><w>y</w><w>Leaflet</w><w>y</w><w>,</w><w>a</w><w>la</w><w>vez</w><w>,</w><w>hacer</w><w>tu</w><w>aplicación</w><w>más</w><w>informativa</w><w>o</w><w>incluso</w><w>útil</w><w>,</w><w>puedes</w><w>integrar</w><w>algunas</w><w>de</w><w>las</w><w>siguientes</w><w>características</w><w>:</w></s></p><p><s xml:id="s_zAHW2d" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_I16xyn']}"><w>Primero</w><w>,</w><w>por</w><w>ejemplo</w><w>,</w><w>puedes</w><w>añadir</w><w>una</w><w>forma</w><w>de</w><w>filtrar</w><w>los</w><w>datos</w><w>del</w><w>mapa</w><pc>.</pc></s><s xml:id="s_X3KajP" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_8g33qD']}"><w>Usando</w><w>otro</w><w>widget</w><w>llamado</w><code rend="inline"><w>selectInput</w></code><w>,</w><w>puedes</w><w>hacer</w><w>que</w><w>tus</w><w>usuarios</w><w>vean</w><w>datos</w><w>de</w><w>una</w><w>o</w><w>varias</w><w>de</w><w>las</w><w>comunidades</w><w>autónomas</w><w>en</w><w>la</w><w>lista</w><w>de</w><w>títulos</w><w>añadiendo</w><w>el</w><w>filtro</w><w>al</w><code rend="inline"><w>sidebarPanel</w></code><w>en</w><w>la</w><w>UI</w><w>y</w><w>en</w><w>el</w><w>servidor</w><w>:</w></s></p><ab><code lang="language-r" xml:id="code_creacion-de-aplicacion-shiny_15" corresp="code_creacion-de-aplicacion-shiny_15.txt" rend="block"/></ab><p><s xml:id="s_X23oSW" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_UsnGta']}"><w>Para</w><w>que</w><w>esta</w><w>opción</w><w>funcione</w><w>,</w><w>debes</w><w>dejar</w><w>un</w><w>valor</w><w>por</w><w>defecto</w><w>en</w><code rend="inline"><w>selected</w><w>=</w></code><w>;</w><w>aquí</w><w>dejamos</w><w>``</w><w>País</w><w>Vasco</w><w>''</w><w>pero</w><w>puedes</w><w>elegir</w><w>otra</w><w>comunidad</w><pc>.</pc></s></p><p><s xml:id="s_i8GkVe" corresp="{&quot;shiny-leaflet-newspaper-map-tutorial&quot;: [&quot;s_UsnGta&quot;]}"><w>Luego</w><w>,</w><w>en</w><w>el</w><w>código</w><w>del</w><w>servidor</w><w>como</w><w>tal</w><w>,</w><w>debes</w><w>añadir</w><w>también</w><w>una</w><w>indicación</w><w>del</w><w>filtrado</w><w>por</w><w>comunidades</w><w>autónomas</w><w>en</w><w>su</w><w>filtro</w><w>o</w><code rend="inline"><w>filter</w></code><w>:</w></s></p><ab><code lang="language-r" xml:id="code_creacion-de-aplicacion-shiny_16" corresp="code_creacion-de-aplicacion-shiny_16.txt" rend="block"/></ab><p><s xml:id="s_ntcoLP" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_8HF6E9']}"><w>Se</w><w>pueden</w><w>incluir</w><w>más</w><w>tipos</w><w>de</w><w>opciones</w><w>interactivas</w><w>en</w><w>el</w><code rend="inline"><w>sliderInput</w></code><w>,</w><w>separando</w><w>los</w><w>comandos</w><w>con</w><w>comas</w><pc>.</pc></s><s xml:id="s_hpH4aA" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_3R6wWI']}"><w>Lee</w><w>sobre</w><w>ellos</w><w>,</w><w>si</w><w>sabes</w><w>inglés</w><w>,</w><w>con</w><code rend="inline"><pc>?</pc><w>selectInput</w></code><w>en</w><w>la</w><w>consola</w><pc>.</pc></s></p><p><s xml:id="s_5ueiJX" corresp="{&quot;shiny-leaflet-newspaper-map-tutorial&quot;: [&quot;s_3R6wWI&quot;]}"><w>Por</w><w>otro</w><w>lado</w><w>,</w><w>también</w><w>puedes</w><w>añadir</w><w>algunos</w><w>elementos</w><w>al</w><w>mapa</w><w>Leaflet</w><w>en</w><w>el</w><w>propio</w><w>addCircleMarkers</w><code rend="inline"><pc>.</pc><w>Por</w><w>ejemplo</w><w>,</w><w>si</w><w>quieres</w><w>que</w><w>aparezcan</w><w>etiquetas</w><w>con</w><w>los</w><w>nombres</w><w>de</w><w>las</w><w>poblaciones</w><w>en</w><w>el</w><w>mapa</w><w>,</w><w>puedes</w><w>usar</w><w>el</w><w>comando</w></code><w>label</w><w>=</w><w>poblacion</w><w>`</w><w>:</w></s></p><ab><code lang="language-r" xml:id="code_creacion-de-aplicacion-shiny_17" corresp="code_creacion-de-aplicacion-shiny_17.txt" rend="block"/></ab><p><s xml:id="s_884F05" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_fruOcE', 's_K1Hmrs']}"><w>Puedes</w><w>encontrar</w><w>todas</w><w>las</w><w>opciones</w><w>de</w><w>estos</w><w>elementos</w><w>ejecutando</w><code rend="inline"><pc>?</pc><w>addCircleMarkers</w></code><w>en</w><w>la</w><w>consola</w><pc>.</pc></s></p><p><s xml:id="s_M6UIqk" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_4zfQbF']}"><w>Notarás</w><w>que</w><w>cada</w><w>vez</w><w>que</w><w>mueves</w><w>el</w><w>control</w><w>deslizante</w><w>,</w><w>la</w><w>aplicación</w><w>restablece</w><w>la</w><w>visualización</w><w>del</w><w>mapa</w><w>,</w><w>lo</w><w>cual</w><w>no</w><w>es</w><w>muy</w><w>cómodo</w><pc>.</pc></s><s xml:id="s_2dwDBo" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_PZayYb']}"><w>Esto</w><w>se</w><w>puede</w><w>evitar</w><w>usando</w><w>otra</w><w>función</w><w>llamada</w><code rend="inline"><w>leafletProxy</w></code><pc>.</pc></s><s xml:id="s_KjD1qM" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_mr6AcC']}"><w>En</w><w>esencia</w><w>,</w><w>crea</w><w>un</w><w>mapa</w><w>Leaflet</w><w>vacío</w><w>como</w><w>arriba</w><w>(</w><w>sin</w><w>los</w><w>marcadores</w><w>circulares</w><w>)</w><pc>.</pc></s><s xml:id="s_QX18VL" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_mZsaoG']}"><w>Después</w><w>,</w><w>en</w><w>otro</w><w>contexto</w><w>reactivo</w><w>,</w><code rend="inline"><w>observe</w></code><w>,</w><w>añadirás</w><w>el</w><w>código</w><w>para</w><w>redibujar</w><w>las</w><w>partes</w><w>cambiantes</w><w>del</w><w>mapa</w><w>usando</w><code rend="inline"><w>leafletProxy</w></code><pc>.</pc></s><s xml:id="s_ZuINjT" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_TPXfaW']}"><w>Si</w><w>sabes</w><w>inglés</w><w>puedes</w><w>leer</w><w>las</w><w>instrucciones</w><w>para</w><w>ello</w><w>en</w><ref target="https://perma.cc/CZ84-CW9F"><w>la</w><w>documentación</w><w>de</w><w>Leaflet</w></ref><pc>.</pc></s></p></div><div type="2" n="8"><head><s xml:id="s_qNLCDp" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_39YefV']}"><w>Conclusión</w></s></head><p><s xml:id="s_hcBkee" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_UqAgmN']}"><w>Las</w><w>visualizaciones</w><w>interactivas</w><w>pueden</w><w>ayudar</w><w>a</w><w>aportar</w><w>nuevos</w><w>conocimientos</w><w>a</w><w>los</w><w>datos</w><w>históricos</w><pc>.</pc></s><s xml:id="s_AK8WIL" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_KUjbjC']}"><w>En</w><w>este</w><w>tutorial</w><w>,</w><w>usamos</w><w>algunos</w><w>paquetes</w><w>R</w><w>potentes</w><w>,</w><w>como</w><code rend="inline"><w>tidyverse</w></code><w>y</w><code rend="inline"><w>leaflet</w></code><w>en</w><w>un</w><w>entorno</w><w>interactivo</w><w>,</w><w>en</w><w>lugar</w><w>de</w><w>tener</w><w>que</w><w>preparar</w><w>todos</w><w>los</w><w>datos</w><w>por</w><w>adelantado</w><pc>.</pc></s><s xml:id="s_HY1IP3" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_GpixdX']}"><w>Aprendimos</w><w>cómo</w><w>y</w><w>por</w><w>qué</w><w>podríamos</w><w>usar</w><w>la</w><w>programación</w><w>reactiva</w><w>,</w><w>puesto</w><w>que</w><w>esta</w><w>nos</w><w>permite</w><w>crear</w><w>código</w><w>R</w><w>dinámico</w><w>donde</w><w>las</w><w>opciones</w><w>elegidas</w><w>por</w><w>los</w><w>usuarios</w><w>sustituyen</w><w>a</w><w>variables</w><w>fijas</w><pc>.</pc></s></p><p><s xml:id="s_95scgT" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_HyOsFY']}"><w>Este</w><w>enfoque</w><w>se</w><w>puede</w><w>adaptar</w><w>fácilmente</w><w>para</w><w>formatos</w><w>de</w><w>datos</w><w>y</w><w>modos</w><w>de</w><w>análisis</w><w>diferentes</w><pc>.</pc></s><s xml:id="s_9ZVfDj" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_5YY2qq']}"><w>La</w><w>barrera</w><w>de</w><w>entrada</w><w>relativamente</w><w>baja</w><w>facilita</w><w>la</w><w>creación</w><w>de</w><w>aplicaciones</w><w>rápidas</w><w>que</w><w>pueden</w><w>hacer</w><w>que</w><w>trabajar</w><w>con</w><w>datos</w><w>a</w><w>gran</w><w>escala</w><w>sea</w><w>menos</w><w>complicado</w><pc>.</pc></s><s xml:id="s_TfFwT3" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_5yPkAV']}"><w>Las</w><w>aplicaciones</w><w>Shiny</w><w>también</w><w>son</w><w>una</w><w>forma</w><w>útil</w><w>de</w><w>compartir</w><w>los</w><w>beneficios</w><w>de</w><w>la</w><w>programación</w><w>en</w><w>R</w><w>con</w><w>una</w><w>audiencia</w><w>no</w><w>técnica</w><w>o</w><w>miembros</w><w>del</w><w>equipo</w><w>de</w><w>un</w><w>proyecto</w><pc>.</pc></s><s xml:id="s_xMBFhG" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_6IsB2J']}"><w>Es</w><w>relativamente</w><w>fácil</w><w>crear</w><w>una</w><w>aplicación</w><w>que</w><w>permita</w><w>a</w><w>un</w><w>usuario</w><w>visualizar</w><w>su</w><w>propio</w><w>análisis</w><w>de</w><w>datos</w><w>con</w><w>R</w><w>,</w><w>sin</w><w>tener</w><w>que</w><w>codificar</w><w>o</w><w>usar</w><w>la</w><w>línea</w><w>de</w><w>comandos</w><pc>.</pc></s></p></div><div type="2" n="9"><head><s xml:id="s_GcZYCA" corresp="{&quot;shiny-leaflet-newspaper-map-tutorial&quot;: [&quot;s_6IsB2J&quot;]}"><w>Código</w><w>final</w><w>(</w><w>sin</w><w>añadidos</w><w>)</w></s></head><ab><code lang="language-r" xml:id="code_creacion-de-aplicacion-shiny_18" corresp="code_creacion-de-aplicacion-shiny_18.txt" rend="block"/></ab></div><div type="2" n="10"><head><s xml:id="s_o2qmU6" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_ts0bRh']}"><w>Código</w><w>final</w><w>(</w><w>con</w><w>añadidos</w><w>)</w></s></head><ab><code lang="language-r" xml:id="code_creacion-de-aplicacion-shiny_19" corresp="code_creacion-de-aplicacion-shiny_19.txt" rend="block"/></ab></div><div type="2" n="11"><head><s xml:id="s_6OCFjZ" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_uuJ8Vu']}"><w>Notas</w></s></head><p><s xml:id="s_7uf4Yi" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_wHS61Z']}"><ref type="footnotemark" target="#es_note_1"/><w>:</w><w>Para</w><w>más</w><w>información</w><w>y</w><w>contenidos</w><w>relacionados</w><w>,</w><w>visita</w><ref target="https://www.bne.es/es/catalogos/hemeroteca-digital"><w>la</w><w>página</w><w>web</w><w>de</w><w>la</w><w>Hemeroteca</w><w>Digital</w><pc>.</pc></ref><ref type="footnotemark" target="#es_note_2"/><w>:</w><w>Estos</w><ref target="https://perma.cc/JT88-ZXPD"><w>datos</w></ref><w>,</w><w>que</w><w>luego</w><w>modificamos</w><w>,</w><w>están</w><w>disponibles</w><w>bajo</w><w>licencia</w><w>CCO</w><w>(</w><w>gratuito</w><w>y</w><w>editable</w><w>)</w><w>por</w><w>parte</w><w>del</w><w>Ministerio</w><w>de</w><w>Cultura</w><w>y</w><w>Deporte</w><pc>.</pc></s><s xml:id="s_HsHHX0" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_zHLlQI', 's_bSJ2nR']}"><ref type="footnotemark" target="#es_note_3"/><w>:</w><w>Podrían</w><w>añadirse</w><w>las</w><w>coordenadas</w><w>de</w><w>dichas</w><w>poblaciones</w><w>extranjeras</w><w>en</w><w>el</w><w>mismo</w><w>CSV</w><w>para</w><w>visualizar</w><w>el</w><w>panorama</w><w>completo</w><w>de</w><w>publicaciones</w><w>referidas</w><w>o</w><w>en</w><w>relación</w><w>a</w><w>España</w><w>disponibles</w><w>en</w><w>la</w><w>Hemeroteca</w><w>Digital</w><w>de</w><w>la</w><w>BNE</w><pc>.</pc></s><s xml:id="s_SdZXm5" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_XIrgW2']}"><ref type="footnotemark" target="#es_note_4"/><w>:</w><w>El</w><w>objeto</w><w>del</w><w>servidor</w><w>es</w><w>en</w><w>realidad</w><w>una</w><w>lista</w><w>de</w><w>R</w><w>con</w><w>todos</w><w>los</w><w>objetos</w><w>de</w><w>entrada</w><w>o</w><emph><w>inputs</w></emph><w>guardados</w><w>en</w><w>el</w><w>primer</w><w>elemento</w><w>,</w><w>llamado</w><code rend="inline"><w>input</w></code><w>y</w><w>todos</w><w>los</w><w>objetos</w><w>resultantes</w><w>u</w><emph><w>outputs</w></emph><w>en</w><w>el</w><w>segundo</w><w>elemento</w><w>,</w><w>llamado</w><code rend="inline"><w>output</w></code><pc>.</pc></s><s xml:id="s_c5hieW" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_QjjS8X']}"><ref type="footnotemark" target="#es_note_5"/><w>:</w><w>Debido</w><w>a</w><w>que</w><w>hay</w><w>varias</w><w>formas</w><w>de</w><w>transformar</w><w>un</w><w>globo</w><w>terráqueo</w><w>en</w><w>una</w><w>representación</w><w>2D</w><w>,</w><w>la</w><w>visualización</w><w>correcta</w><w>de</w><w>datos</w><w>geográficos</w><w>requiere</w><w>establecer</w><w>un</w><w>sistema</w><w>de</w><w>referencia</w><w>de</w><w>coordenadas</w><pc>.</pc></s><s xml:id="s_0SNJko" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_WR73Dy']}"><w>4326</w><w>es</w><w>uno</w><w>de</w><w>uso</w><w>común</w><w>para</w><w>datos</w><w>geográficos</w><w>en</w><w>todo</w><w>el</w><w>mundo</w><pc>.</pc></s></p></div></body>
    </text>
</TEI>
