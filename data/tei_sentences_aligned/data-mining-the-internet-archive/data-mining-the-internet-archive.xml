<TEI xmlns="http://www.tei-c.org/ns/1.0" xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="data-mining-the-internet-archive" type="original">
    <teiHeader>
        <fileDesc>
            <titleStmt>
                <title>Data Mining the Internet Archive Collection</title>
                <author role="original_author">Caleb McDaniel</author>
                <editor role="reviewers">Adam Crymble</editor>
                <editor role="editors">
                    <persName>William J. Turkel</persName>
                    <persName>Adam Crymble</persName>
                </editor>
            </titleStmt>
            <publicationStmt>
                <distributor>Programming Historian</distributor>
                <idno type="doi">10.46430/phen0035</idno>
                <date type="published">03/03/2014</date>
            </publicationStmt>
            <sourceDesc>
                <p>Born digital, in a markdown format. This lesson is original. Available translations are the following:<ref type="translations" target="#mineria-de-datos-en-internet-archive"/>
                </p>
            </sourceDesc>
        </fileDesc>
        <profileDesc>
            <abstract>
                <p>The collections of the Internet Archive include many digitized historical sources. Many contain rich bibliographic data in a format called MARC. In this lesson, you'll learn how to use Python to automate the downloading of large numbers of MARC files from the Internet Archive and the parsing of MARC records for specific information such as authors, places of publication, and dates. The lesson can be applied more generally to other Internet Archive files and to MARC records found elsewhere.</p>
            </abstract>
            <textClass>
                <keywords>
                    <term xml:lang="en">web-scraping</term>
                </keywords>
            </textClass>
        </profileDesc>
    </teiHeader>
    <text xml:lang="en">
        <body><div type="2" n="1"><head><s xml:id="s_xzNEyC" corresp="{'mineria-de-datos-en-internet-archive': ['s_4Iyibf']}"><w>Lesson</w><w>Goals</w></s></head><p><s xml:id="s_zRIKMp" corresp="{'mineria-de-datos-en-internet-archive': ['s_x85L8s']}"><w>The</w><w>collections</w><w>of</w><w>the</w><ref target="http://archive.org/"><w>Internet</w><w>Archive</w></ref><w>(</w><w>IA</w><w>)</w><w>include</w><w>many</w><w>digitized</w><w>sources</w><w>of</w><w>interest</w><w>to</w><w>historians</w><w>,</w><w>including</w><ref target="https://archive.org/details/jstor_ejc"><w>early</w><w>JSTOR</w><w>journal</w><w>content</w></ref><w>,</w><ref target="https://archive.org/details/johnadamsBPL"><w>John</w><w>Adams</w><w>'s</w><w>personal</w><w>library</w></ref><w>,</w><w>and</w><w>the</w><ref target="https://archive.org/details/jcbhaiti"><w>Haiti</w><w>collection</w></ref><w>at</w><w>the</w><w>John</w><w>Carter</w><w>Brown</w><w>Library</w><pc>.</pc></s><s xml:id="s_0WSsYS" corresp="{'mineria-de-datos-en-internet-archive': ['s_tjb7a5']}"><w>In</w><w>short</w><w>,</w><w>to</w><w>quote</w><w>Programming</w><w>Historian</w><ref target="http://activehistory.ca/2013/09/the-internet-archive-rocks-or-two-million-plus-free-sources-to-explore/"><w>Ian</w><w>Milligan</w></ref><w>,</w><w>``</w><w>The</w><w>Internet</w><w>Archive</w><w>rocks</w><pc>.</pc></s><s xml:id="s_CqBKBA" corresp="{'mineria-de-datos-en-internet-archive': ['s_Q0ZRLD']}"><w>''</w></s></p><p><s xml:id="s_K7qKnb" corresp="{'mineria-de-datos-en-internet-archive': ['s_gOPuxs']}"><w>In</w><w>this</w><w>lesson</w><w>,</w><w>you</w><w>'ll</w><w>learn</w><w>how</w><w>to</w><w>download</w><w>files</w><w>from</w><w>such</w><w>collections</w><w>using</w><w>a</w><w>Python</w><w>module</w><w>specifically</w><w>designed</w><w>for</w><w>the</w><w>Internet</w><w>Archive</w><pc>.</pc></s><s xml:id="s_vgKPQ4"><w>You</w><w>will</w><w>also</w><w>learn</w><w>how</w><w>to</w><w>use</w><w>another</w><w>Python</w><w>module</w><w>designed</w><w>for</w><w>parsing</w><w>MARC</w><w>XML</w><w>records</w><w>,</w><w>a</w><w>widely</w><w>used</w><w>standard</w><w>for</w><w>formatting</w><w>bibliographic</w><w>metadata</w><pc>.</pc></s></p><p><s xml:id="s_hFtaH7" corresp="{'mineria-de-datos-en-internet-archive': ['s_aG3JIM']}"><w>For</w><w>demonstration</w><w>purposes</w><w>,</w><w>this</w><w>lesson</w><w>will</w><w>focus</w><w>on</w><w>working</w><w>with</w><w>the</w><w>digitized</w><w>version</w><w>of</w><w>the</w><ref target="http://archive.org/details/bplscas"><w>Anti-Slavery</w><w>Collection</w></ref><w>at</w><w>the</w><w>Boston</w><w>Public</w><w>Library</w><w>in</w><w>Copley</w><w>Square</w><pc>.</pc></s><s xml:id="s_qJbqeH" corresp="{'mineria-de-datos-en-internet-archive': ['s_FC9jnF']}"><w>We</w><w>will</w><w>first</w><w>download</w><w>a</w><w>large</w><w>collection</w><w>of</w><w>MARC</w><w>records</w><w>from</w><w>this</w><w>collection</w><w>,</w><w>and</w><w>then</w><w>use</w><w>Python</w><w>to</w><w>retrieve</w><w>and</w><w>analyze</w><w>bibliographic</w><w>information</w><w>about</w><w>items</w><w>in</w><w>the</w><w>collection</w><pc>.</pc></s><s xml:id="s_wG8fhk" corresp="{'mineria-de-datos-en-internet-archive': ['s_tT9bCH']}"><w>For</w><w>example</w><w>,</w><w>by</w><w>the</w><w>end</w><w>of</w><w>this</w><w>lesson</w><w>,</w><w>you</w><w>will</w><w>be</w><w>able</w><w>to</w><w>create</w><w>a</w><w>list</w><w>of</w><w>every</w><w>named</w><w>place</w><w>from</w><w>which</w><w>a</w><w>letter</w><w>in</w><w>the</w><w>antislavery</w><w>collection</w><w>was</w><w>written</w><w>,</w><w>which</w><w>you</w><w>could</w><w>then</w><w>use</w><w>for</w><w>a</w><w>mapping</w><w>project</w><w>or</w><w>some</w><w>other</w><w>kind</w><w>of</w><w>analysis</w><pc>.</pc></s></p></div><div type="2" n="2"><head><s xml:id="s_xtIwQu" corresp="{'mineria-de-datos-en-internet-archive': ['s_gQV50a']}"><w>For</w><w>Whom</w><w>Is</w><w>This</w><w>Useful</w><pc>?</pc></s></head><p><s xml:id="s_EoiKlC" corresp="{'mineria-de-datos-en-internet-archive': ['s_GyIGDK']}"><w>This</w><w>intermediate</w><w>lesson</w><w>is</w><w>good</w><w>for</w><w>users</w><w>of</w><w>the</w><w>Programming</w><w>Historian</w><w>who</w><w>have</w><w>completed</w><w>general</w><w>lessons</w><w>on</w><w>downloading</w><w>files</w><w>and</w><w>performing</w><w>text</w><w>analysis</w><w>on</w><w>them</w><w>,</w><w>but</w><w>would</w><w>like</w><w>an</w><w>applied</w><w>example</w><w>of</w><w>these</w><w>principles</w><pc>.</pc></s><s xml:id="s_UXbEvv" corresp="{'mineria-de-datos-en-internet-archive': ['s_8UjELi']}"><w>It</w><w>will</w><w>also</w><w>be</w><w>of</w><w>interest</w><w>to</w><w>historians</w><w>or</w><w>archivists</w><w>who</w><w>work</w><w>with</w><w>the</w><w>MARC</w><w>format</w><w>or</w><w>the</w><w>Internet</w><w>Archive</w><w>on</w><w>a</w><w>regular</w><w>basis</w><pc>.</pc></s></p></div><div type="2" n="3"><head><s xml:id="s_wQi9rc" corresp="{'mineria-de-datos-en-internet-archive': ['s_NKSNJ7']}"><w>Before</w><w>You</w><w>Begin</w></s></head><p><s xml:id="s_5JeTGu" corresp="{'mineria-de-datos-en-internet-archive': ['s_1RD59I']}"><w>To</w><w>write</w><w>scripts</w><w>that</w><w>interact</w><w>with</w><w>the</w><w>Internet</w><w>Archive</w><w>,</w><w>you</w><w>will</w><w>first</w><w>need</w><w>to</w><ref target="https://archive.org/account/login.createaccount.php"><w>create</w><w>an</w><w>IA</w><w>account</w></ref><pc>.</pc></s><s xml:id="s_cpD2DN" corresp="{'mineria-de-datos-en-internet-archive': ['s_I9PlVF']}"><w>Follow</w><w>the</w><w>steps</w><w>to</w><w>confirm</w><w>your</w><w>account</w><w>and</w><w>carefully</w><w>note</w><w>down</w><w>your</w><w>email</w><w>address</w><w>and</w><w>password</w><pc>.</pc></s></p><p><s xml:id="s_6F5oPs" corresp="{'mineria-de-datos-en-internet-archive': ['s_NioXhK']}"><w>We</w><w>will</w><w>be</w><w>working</w><w>with</w><w>two</w><w>Python</w><w>modules</w><w>that</w><w>are</w><w>not</w><w>included</w><w>in</w><w>Python</w><w>'s</w><w>standard</w><w>library</w><pc>.</pc></s></p><p><s xml:id="s_6CtO6q" corresp="{'mineria-de-datos-en-internet-archive': ['s_833Ncu']}"><w>The</w><w>first</w><w>,</w><ref target="https://pypi.python.org/pypi/internetarchive"><w>internetarchive</w></ref><w>,</w><w>provides</w><w>programmatic</w><w>access</w><w>to</w><w>the</w><w>Internet</w><w>Archive</w><pc>.</pc></s><s xml:id="s_wBTbqx" corresp="{'mineria-de-datos-en-internet-archive': ['s_dUT2PG']}"><w>The</w><w>second</w><w>,</w><ref target="https://pypi.python.org/pypi/pymarc/"><w>pymarc</w></ref><w>,</w><w>makes</w><w>it</w><w>easier</w><w>to</w><w>parse</w><w>MARC</w><w>records</w><pc>.</pc></s></p><p><s xml:id="s_RjpYGz" corresp="{'mineria-de-datos-en-internet-archive': ['s_DTu33W']}"><w>The</w><w>easiest</w><w>way</w><w>to</w><w>download</w><w>both</w><w>is</w><w>to</w><w>use</w><w>pip</w><w>,</w><w>the</w><w>python</w><w>package</w><w>manager</w><pc>.</pc></s><s xml:id="s_RZWsWD" corresp="{'mineria-de-datos-en-internet-archive': ['s_HvMnd5']}"><w>Begin</w><w>by</w><w>installing</w><code rend="inline"><w>pip</w></code><w>using</w><w>Fred</w><w>Gibbs</w><w>'</w><ref target="/lessons/installing-python-modules-pip"><w>Installing</w><w>Python</w><w>Modules</w><w>with</w><w>pip</w></ref><pc>.</pc></s><s xml:id="s_7rjsuX" corresp="{'mineria-de-datos-en-internet-archive': ['s_hmYwsd']}"><w>Then</w><w>issue</w><w>these</w><w>commands</w><w>at</w><w>the</w><w>command</w><w>line</w><w>:</w><w>To</w><w>install</w><code rend="inline"><w>internetarchive</w></code><w>:</w></s></p><ab><code lang="language-bash" xml:id="code_data-mining-the-internet-archive_0" corresp="code_data-mining-the-internet-archive_0.txt" rend="block"/></ab><p><s xml:id="s_X3tfFH" corresp="{'mineria-de-datos-en-internet-archive': ['s_8wLPzN']}"><w>Now</w><w>you</w><w>will</w><w>need</w><w>to</w><w>configure</w><w>your</w><w>computer</w><w>so</w><w>that</w><w>the</w><w>new</w><w>package</w><w>will</w><w>work</w><pc>.</pc></s><s xml:id="s_wEiWS8" corresp="{'mineria-de-datos-en-internet-archive': ['s_yBxkoA']}"><w>Type</w><code rend="inline"><w>ia</w><w>configure</w></code><w>at</w><w>the</w><w>command</w><w>line</w><w>,</w><w>and</w><w>then</w><w>enter</w><w>in</w><w>the</w><w>email</w><w>address</w><w>and</w><w>password</w><w>you</w><w>used</w><w>above</w><w>to</w><w>create</w><w>your</w><w>Internet</w><w>Archive</w><w>account</w><pc>.</pc></s></p><p><s xml:id="s_DXxw4t" corresp="{'mineria-de-datos-en-internet-archive': ['s_aIFPLp']}"><w>To</w><w>install</w><code rend="inline"><w>pymarc</w></code><w>:</w></s></p><ab><code lang="language-bash" xml:id="code_data-mining-the-internet-archive_1" corresp="code_data-mining-the-internet-archive_1.txt" rend="block"/></ab><p><s xml:id="s_lVo7Ts" corresp="{'mineria-de-datos-en-internet-archive': ['s_NFZS2q']}"><w>Now</w><w>you</w><w>are</w><w>ready</w><w>to</w><w>go</w><w>to</w><w>work</w><pc>!</pc></s></p></div><div type="2" n="4"><head><s xml:id="s_jlhRSI" corresp="{'mineria-de-datos-en-internet-archive': ['s_eEqnFH']}"><w>The</w><w>Antislavery</w><w>Collection</w><w>at</w><w>the</w><w>Internet</w><w>Archive</w></s></head><p><s xml:id="s_IjIJr6" corresp="{'mineria-de-datos-en-internet-archive': ['s_ceNnBi']}"><w>The</w><w>Boston</w><w>Public</w><w>Library</w><w>'s</w><w>anti-slavery</w><w>collection</w><w>at</w><w>Copley</w><w>Square</w><w>contains</w><w>not</w><w>only</w><w>the</w><w>letters</w><w>of</w><w>William</w><w>Lloyd</w><w>Garrison</w><w>,</w><w>one</w><w>of</w><w>the</w><w>icons</w><w>of</w><w>the</w><w>American</w><w>abolitionist</w><w>movement</w><w>,</w><w>but</w><w>also</w><w>large</w><w>collections</w><w>of</w><w>letters</w><w>by</w><w>and</w><w>to</w><w>reformers</w><w>somehow</w><w>connected</w><w>to</w><w>him</w><pc>.</pc></s><s xml:id="s_21bIs9" corresp="{'mineria-de-datos-en-internet-archive': ['s_a2fE4F']}"><w>And</w><w>by</w><w>``</w><w>large</w><w>collection</w><w>,</w><w>''</w><w>I</w><w>mean</w><w>large</w><pc>.</pc></s><s xml:id="s_a5BFZE" corresp="{'mineria-de-datos-en-internet-archive': ['s_rK1X02']}"><w>According</w><w>to</w><w>the</w><w>library</w><w>'s</w><w>estimates</w><w>,</w><w>there</w><w>are</w><w>over</w><w>16,000</w><w>items</w><w>at</w><w>Copley</w><pc>.</pc></s></p><p><s xml:id="s_uJCHCi" corresp="{'mineria-de-datos-en-internet-archive': ['s_HKqTAu']}"><w>As</w><w>of</w><w>this</w><w>writing</w><w>,</w><w>approximately</w><w>7,000</w><w>of</w><w>those</w><w>items</w><w>have</w><w>been</w><w>digitized</w><w>and</w><w>uploaded</w><w>to</w><w>the</w><ref target="http://archive.org/"><w>Internet</w><w>Archive</w></ref><pc>.</pc></s><s xml:id="s_1E5Zg5" corresp="{'mineria-de-datos-en-internet-archive': ['s_eySxdF']}"><w>This</w><w>is</w><w>good</w><w>news</w><w>,</w><w>not</w><w>only</w><w>because</w><w>the</w><w>Archive</w><w>is</w><w>committed</w><w>to</w><w>making</w><w>its</w><w>considerable</w><w>cultural</w><w>resources</w><w>free</w><w>for</w><w>download</w><w>,</w><w>but</w><w>also</w><w>because</w><w>each</w><w>uploaded</w><w>item</w><w>is</w><w>paired</w><w>with</w><w>a</w><w>wealth</w><w>of</w><w>metadata</w><w>suitable</w><w>for</w><w>machine-reading</w><pc>.</pc></s></p><p><s xml:id="s_VmxEQH" corresp="{'mineria-de-datos-en-internet-archive': ['s_GJzU19']}"><w>Take</w><ref target="http://archive.org/details/lettertowilliaml00doug"><w>this</w><w>letter</w></ref><w>sent</w><w>by</w><w>Frederick</w><w>Douglass</w><w>to</w><w>William</w><w>Lloyd</w><w>Garrison</w><pc>.</pc></s><s xml:id="s_n4iQ8j" corresp="{'mineria-de-datos-en-internet-archive': ['s_03VzYs']}"><w>Anyone</w><w>can</w><w>read</w><w>the</w><ref target="http://archive.org/stream/lettertowilliaml00doug/39999066767938#page/n0/mode/2up"><w>original</w><w>manuscript</w></ref><w>online</w><w>,</w><w>without</w><w>making</w><w>the</w><w>trip</w><w>to</w><w>Boston</w><w>,</w><w>and</w><w>that</w><w>alone</w><w>may</w><w>be</w><w>enough</w><w>to</w><w>revolutionize</w><w>and</w><w>democratize</w><w>future</w><w>abolitionist</w><w>historiography</w><pc>.</pc></s><s xml:id="s_ZKd88n" corresp="{'mineria-de-datos-en-internet-archive': ['s_PEsBBO']}"><w>But</w><w>you</w><w>can</w><w>also</w><w>download</w><ref target="http://archive.org/download/lettertowilliaml00doug"><w>multiple</w><w>files</w></ref><w>related</w><w>to</w><w>the</w><w>letter</w><w>that</w><w>are</w><w>rich</w><w>in</w><w>metadata</w><w>,</w><w>like</w><w>a</w><ref target="http://archive.org/download/lettertowilliaml00doug/lettertowilliaml00doug_dc.xml"><w>Dublin</w><w>Core</w></ref><w>record</w><w>and</w><w>a</w><w>fuller</w><ref target="http://archive.org/download/lettertowilliaml00doug/lettertowilliaml00doug_marc.xml"><w>MARCXML</w></ref><w>record</w><w>that</w><w>uses</w><w>the</w><ref target="http://www.loc.gov/marc/bibliographic/"><w>Library</w><w>of</w><w>Congress</w><w>'s</w><w>MARC</w><w>21</w><w>Format</w><w>for</w><w>Bibliographic</w><w>Data</w></ref><pc>.</pc></s></p><p><s xml:id="s_zOoSnZ" corresp="{'mineria-de-datos-en-internet-archive': ['s_ydP30s']}"><w>Stop</w><w>and</w><w>think</w><w>about</w><w>that</w><w>for</w><w>a</w><w>moment</w><w>:</w><w>every</w><w>item</w><w>uploaded</w><w>from</w><w>the</w><w>Collection</w><w>contains</w><w>these</w><w>things</w><pc>.</pc></s><s xml:id="s_hUtWZB"><w>Right</w><w>now</w><w>,</w><w>that</w><w>means</w><w>historians</w><w>have</w><w>access</w><w>to</w><w>rich</w><w>metadata</w><w>,</w><w>full</w><w>images</w><w>,</w><w>and</w><w>partial</w><w>descriptions</w><w>for</w><ref target="http://archive.org/search.php?query=collection%3Abplscas&amp;sort=-publicdate"><w>thousands</w><w>of</w><w>antislavery</w><w>letters</w><w>,</w><w>manuscripts</w><w>,</w><w>and</w><w>publications</w></ref><pc>.</pc></s></p></div><div type="2" n="5"><head><s xml:id="s_SrQD56" corresp="{'mineria-de-datos-en-internet-archive': ['s_UL7M5G']}"><w>Accessing</w><w>an</w><w>IA</w><w>Collection</w><w>in</w><w>Python</w></s></head><p><s xml:id="s_qB6J6C" corresp="{'mineria-de-datos-en-internet-archive': ['s_dCIdZm']}"><w>Internet</w><w>Archive</w><w>(</w><w>IA</w><w>)</w><w>collections</w><w>and</w><w>items</w><w>all</w><w>have</w><w>a</w><w>unique</w><w>identifier</w><w>,</w><w>and</w><w>URLs</w><w>to</w><w>collections</w><w>and</w><w>items</w><w>all</w><w>look</w><w>like</w><w>this</w><w>:</w></s></p><ab><code xml:id="code_data-mining-the-internet-archive_2" corresp="code_data-mining-the-internet-archive_2.txt" rend="block"/></ab><p><s xml:id="s_erpT8i" corresp="{'mineria-de-datos-en-internet-archive': ['s_gOoVJp']}"><w>So</w><w>,</w><w>for</w><w>example</w><w>,</w><w>here</w><w>is</w><w>a</w><w>URL</w><w>to</w><w>the</w><w>Archive</w><w>item</w><w>discussed</w><w>above</w><w>,</w><w>Douglass</w><w>'s</w><w>letter</w><w>to</w><w>Garrison</w><w>:</w></s></p><ab><code xml:id="code_data-mining-the-internet-archive_3" corresp="code_data-mining-the-internet-archive_3.txt" rend="block"/></ab><p><s xml:id="s_zsyapx" corresp="{'mineria-de-datos-en-internet-archive': ['s_4qgQFh']}"><w>And</w><w>here</w><w>is</w><w>a</w><w>URL</w><w>to</w><w>the</w><w>entire</w><w>antislavery</w><w>collection</w><w>at</w><w>the</w><w>Boston</w><w>Public</w><w>Library</w><w>:</w></s></p><ab><code xml:id="code_data-mining-the-internet-archive_4" corresp="code_data-mining-the-internet-archive_4.txt" rend="block"/></ab><p><s xml:id="s_NE4dPa" corresp="{'mineria-de-datos-en-internet-archive': ['s_ccJON4']}"><w>Because</w><w>the</w><w>URLs</w><w>are</w><w>so</w><w>similar</w><w>,</w><w>the</w><w>only</w><w>way</w><w>to</w><w>tell</w><w>that</w><w>you</w><w>are</w><w>looking</w><w>at</w><w>a</w><w>collection</w><w>page</w><w>,</w><w>instead</w><w>of</w><w>an</w><w>individual</w><w>item</w><w>page</w><w>,</w><w>is</w><w>to</w><w>examine</w><w>the</w><w>page</w><w>layout</w><pc>.</pc></s><s xml:id="s_eiasPx" corresp="{'mineria-de-datos-en-internet-archive': ['s_TOUOko']}"><w>An</w><w>item</w><w>page</w><w>usually</w><w>has</w><w>a</w><w>lefthand</w><w>sidebar</w><w>that</w><w>says</w><w>``</w><w>View</w><w>the</w><w>Book</w><w>''</w><w>and</w><w>lists</w><w>links</w><w>for</w><w>reading</w><w>the</w><w>item</w><w>online</w><w>or</w><w>accessing</w><w>other</w><w>file</w><w>formats</w><pc>.</pc></s><s xml:id="s_6vqdfV" corresp="{'mineria-de-datos-en-internet-archive': ['s_LET1sP']}"><w>A</w><w>collection</w><w>page</w><w>will</w><w>probably</w><w>have</w><w>a</w><w>''</w><w>Spotlight</w><w>Item</w><w>''</w><w>in</w><w>the</w><w>lefthand</w><w>sidebar</w><w>instead</w><pc>.</pc></s><s xml:id="s_MuZyXM" corresp="{'mineria-de-datos-en-internet-archive': ['s_4QoDlS', 's_3uMBli']}"><w>You</w><w>can</w><w>browse</w><w>to</w><w>different</w><w>collections</w><w>through</w><w>the</w><ref target="https://archive.org/details/texts"><w>eBook</w><w>and</w><w>Texts</w></ref><w>portal</w><w>,</w><w>and</w><w>you</w><w>may</w><w>also</w><w>want</w><w>to</w><w>read</w><w>a</w><w>little</w><w>bit</w><w>about</w><ref target="http://blog.archive.org/2011/03/31/how-archive-org-items-are-structured/"><w>the</w><w>way</w><w>that</w><w>items</w><w>and</w><w>item</w><w>URLs</w><w>are</w><w>structured</w></ref><pc>.</pc></s></p><p><s xml:id="s_pJtpco" corresp="{'mineria-de-datos-en-internet-archive': ['s_o8TDmQ']}"><w>Once</w><w>you</w><w>have</w><w>a</w><w>collection</w><w>'s</w><w>identifier—in</w><w>this</w><w>case</w><w>,</w><code rend="inline"><w>bplscas</w></code><w>—seeing</w><w>all</w><w>of</w><w>the</w><w>items</w><w>in</w><w>the</w><w>collection</w><w>is</w><w>as</w><w>easy</w><w>as</w><w>navigating</w><w>to</w><w>the</w><w>Archive</w><w>'s</w><ref target="https://archive.org/advancedsearch.php"><w>advanced</w><w>search</w></ref><w>page</w><w>,</w><w>selecting</w><w>the</w><w>id</w><w>from</w><w>the</w><w>drop</w><w>down</w><w>menu</w><w>next</w><w>to</w><w>``</w><w>Collection</w><w>,</w><w>''</w><w>and</w><w>hitting</w><w>the</w><w>search</w><w>button</w><pc>.</pc></s><s xml:id="s_u12rHH" corresp="{'mineria-de-datos-en-internet-archive': ['s_0bERr0']}"><w>Performing</w><w>that</w><w>search</w><w>with</w><code rend="inline"><w>bplscas</w></code><w>selected</w><w>returns</w><ref target="https://archive.org/search.php?query=collection%3A%28bplscas%29"><w>this</w><w>page</w></ref><w>,</w><w>which</w><w>as</w><w>of</w><w>this</w><w>writing</w><w>showed</w><w>7,029</w><w>results</w><pc>.</pc></s></p><p><s xml:id="s_TjWRrT" corresp="{'mineria-de-datos-en-internet-archive': ['s_u15VTf']}"><w>We</w><w>can</w><w>also</w><ref target="http://internetarchive.readthedocs.io/en/latest/quickstart.html#searching"><w>search</w><w>the</w><w>Archive</w><w>using</w><w>the</w><w>Python</w><w>module</w><w>that</w><w>we</w><w>installed</w></ref><w>,</w><w>and</w><w>doing</w><w>so</w><w>makes</w><w>it</w><w>easier</w><w>to</w><w>iterate</w><w>over</w><w>all</w><w>the</w><w>items</w><w>in</w><w>the</w><w>collection</w><w>for</w><w>purposes</w><w>of</w><w>further</w><w>inspection</w><w>and</w><w>downloading</w><pc>.</pc></s></p><p><s xml:id="s_9L5gT0" corresp="{'mineria-de-datos-en-internet-archive': ['s_pR6MQ9']}"><w>For</w><w>example</w><w>,</w><w>let</w><w>'s</w><w>modify</w><w>the</w><w>sample</w><w>code</w><w>from</w><w>the</w><w>module's</w><w>documentation</w><w>to</w><w>see</w><w>if</w><w>we</w><w>can</w><w>tell</w><w>,</w><w>with</w><w>Python</w><w>,</w><w>how</w><w>many</w><w>items</w><w>are</w><w>in</w><w>the</w><w>digital</w><w>Antislavery</w><w>Collection</w><pc>.</pc></s><s xml:id="s_c7bdcY" corresp="{'mineria-de-datos-en-internet-archive': ['s_bbSR07']}"><w>The</w><w>sample</w><w>code</w><w>looks</w><w>something</w><w>like</w><w>what</w><w>you</w><w>see</w><w>below</w><pc>.</pc></s><s xml:id="s_uTk6fQ" corresp="{'mineria-de-datos-en-internet-archive': ['s_qfAhhe']}"><w>The</w><w>only</w><w>difference</w><w>is</w><w>that</w><w>instead</w><w>of</w><w>importing</w><w>only</w><w>the</w><code rend="inline"><w>search_items</w></code><w>module</w><w>from</w><code rend="inline"><w>internetarchive</w></code><w>,</w><w>we</w><w>are</w><w>going</w><w>to</w><w>import</w><w>the</w><w>whole</w><w>library</w><pc>.</pc></s></p><ab><code lang="language-python" xml:id="code_data-mining-the-internet-archive_5" corresp="code_data-mining-the-internet-archive_5.txt" rend="block"/></ab><p><s xml:id="s_dHYOEW" corresp="{'mineria-de-datos-en-internet-archive': ['s_elkYih']}"><w>All</w><w>we</w><w>should</w><w>need</w><w>to</w><w>modify</w><w>is</w><w>the</w><w>collection</w><w>identifier</w><w>,</w><w>from</w><code rend="inline"><w>nasa</w></code><w>to</w><code rend="inline"><w>bplscas</w></code><pc>.</pc></s><s xml:id="s_aHjjYf" corresp="{'mineria-de-datos-en-internet-archive': ['s_BtDRgd']}"><w>After</w><w>starting</w><w>your</w><w>computer</w><w>'s</w><w>Python</w><w>interpreter</w><w>,</w><w>try</w><w>entering</w><w>each</w><w>of</w><w>the</w><w>above</w><w>lines</w><w>,</w><w>followed</w><w>by</w><w>enter</w><w>,</w><w>but</w><w>modify</w><w>the</w><w>collection</w><w>id</w><w>in</w><w>the</w><w>second</w><w>command</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_data-mining-the-internet-archive_6" corresp="code_data-mining-the-internet-archive_6.txt" rend="block"/></ab><p><s xml:id="s_v9vEU1" corresp="{'mineria-de-datos-en-internet-archive': ['s_4vZY14']}"><w>After</w><w>hitting</w><w>enter</w><w>on</w><w>the</w><w>print</w><w>command</w><w>,</w><w>you</w><w>should</w><w>see</w><w>a</w><w>number</w><w>that</w><w>matches</w><w>the</w><w>number</w><w>of</w><w>results</w><w>you</w><w>saw</w><w>when</w><w>doing</w><ref target="http://archive.org/search.php?query=collection%3Abplscas"><w>the</w><w>advanced</w><w>search</w><w>for</w><w>the</w><w>collection</w></ref><w>in</w><w>the</w><w>browser</w><pc>.</pc></s></p></div><div type="2" n="6"><head><s xml:id="s_jLUQ6x" corresp="{'mineria-de-datos-en-internet-archive': ['s_7EMBYg']}"><w>Accessing</w><w>an</w><w>IA</w><w>Item</w><w>in</w><w>Python</w></s></head><p><s xml:id="s_TEnEFj" corresp="{'mineria-de-datos-en-internet-archive': ['s_XyTXlq']}"><w>The</w><code rend="inline"><w>internetarchive</w></code><w>module</w><w>also</w><w>allows</w><w>you</w><w>to</w><w>access</w><w>individual</w><w>items</w><w>using</w><w>their</w><w>identifiers</w><pc>.</pc></s><s xml:id="s_7qxl61" corresp="{'mineria-de-datos-en-internet-archive': ['s_VaHH5N']}"><w>Let</w><w>'s</w><w>try</w><w>that</w><w>using</w><w>the</w><ref target="http://internetarchive.readthedocs.io/en/latest/quickstart.html#downloading"><w>documentation's</w><w>sample</w><w>code</w></ref><w>,</w><w>modifying</w><w>it</w><w>in</w><w>order</w><w>to</w><w>get</w><w>the</w><w>Douglass</w><w>letter</w><w>we</w><w>discussed</w><w>earlier</w><pc>.</pc></s></p><p><s xml:id="s_qNENiI" corresp="{'mineria-de-datos-en-internet-archive': ['s_I5DUmQ']}"><w>If</w><w>you</w><w>are</w><w>still</w><w>at</w><w>your</w><w>Python</w><w>interpreter</w><w>'s</w><w>command</w><w>prompt</w><w>,</w><w>you</w><w>don't</w><w>need</w><w>to</w><code rend="inline"><w>import</w><w>internetarchive</w></code><w>again</w><pc>.</pc></s><s xml:id="s_m5YJCl" corresp="{'mineria-de-datos-en-internet-archive': ['s_87iD4W']}"><w>Since</w><w>we</w><w>imported</w><w>the</w><w>whole</w><w>module</w><w>,</w><w>we</w><w>also</w><w>need</w><w>to</w><w>modify</w><w>the</w><w>sample</w><w>code</w><w>so</w><w>that</w><w>our</w><w>interpreter</w><w>will</w><w>know</w><w>that</w><code rend="inline"><w>get_item</w></code><w>is</w><w>from</w><w>the</w><code rend="inline"><w>internetarchive</w></code><w>module</w><pc>.</pc></s><s xml:id="s_iiCu7T" corresp="{'mineria-de-datos-en-internet-archive': ['s_Bi82Bk']}"><w>We</w><w>also</w><w>need</w><w>to</w><w>change</w><w>the</w><w>sample</w><w>identifier</w><code rend="inline"><w>stairs</w></code><w>to</w><w>our</w><w>item</w><w>identifier</w><w>,</w><emph><w>lettertowilliaml00doug</w></emph><w>(</w><w>note</w><w>that</w><w>the</w><w>character</w><w>before</w><w>the</w><w>two</w><w>zeroes</w><w>is</w><w>a</w><w>lowercase</w><w>L</w><w>,</w><w>not</w><w>the</w><w>number</w><w>1</w><w>)</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_data-mining-the-internet-archive_7" corresp="code_data-mining-the-internet-archive_7.txt" rend="block"/></ab><p><s xml:id="s_iUJ2ee" corresp="{'mineria-de-datos-en-internet-archive': ['s_Amfrif']}"><w>Enter</w><w>each</w><w>of</w><w>those</w><w>lines</w><w>in</w><w>your</w><w>interpreter</w><w>,</w><w>followed</w><w>by</w><w>enter</w><pc>.</pc></s><s xml:id="s_DiLpc6" corresp="{'mineria-de-datos-en-internet-archive': ['s_hANogt']}"><w>Depending</w><w>on</w><w>your</w><w>Internet</w><w>connection</w><w>speed</w><w>,</w><w>it</w><w>will</w><w>now</w><w>probably</w><w>take</w><w>a</w><w>minute</w><w>or</w><w>two</w><w>for</w><w>the</w><w>command</w><w>prompt</w><w>to</w><w>return</w><w>,</w><w>because</w><w>your</w><w>computer</w><w>is</w><w>downloading</w><w>all</w><w>of</w><w>the</w><w>files</w><w>associated</w><w>with</w><w>that</w><w>item</w><w>,</w><w>including</w><w>some</w><w>pretty</w><w>large</w><w>images</w><pc>.</pc></s><s xml:id="s_9OnCtb" corresp="{'mineria-de-datos-en-internet-archive': ['s_3VeqaL']}"><w>But</w><w>when</w><w>it</w><w>'s</w><w>done</w><w>downloading</w><w>,</w><w>you</w><w>should</w><w>be</w><w>see</w><w>a</w><w>new</w><w>directory</w><w>on</w><w>your</w><w>computer</w><w>whose</w><w>name</w><w>is</w><w>the</w><w>item</w><w>identifier</w><pc>.</pc></s><s xml:id="s_vNRJGC" corresp="{'mineria-de-datos-en-internet-archive': ['s_W3E02y']}"><w>To</w><w>check</w><w>,</w><w>first</w><w>exit</w><w>your</w><w>Python</w><w>interpreter</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_data-mining-the-internet-archive_8" corresp="code_data-mining-the-internet-archive_8.txt" rend="block"/></ab><p><s xml:id="s_8PTXLY" corresp="{'mineria-de-datos-en-internet-archive': ['s_NXjpL2']}"><w>Then</w><w>list</w><w>the</w><w>contents</w><w>of</w><w>the</w><w>current</w><w>directory</w><w>to</w><w>see</w><w>if</w><w>a</w><w>folder</w><w>now</w><w>appears</w><w>named</w><code rend="inline"><w>lettertowilliaml00doug</w></code><pc>.</pc></s><s xml:id="s_gjywAO" corresp="{'mineria-de-datos-en-internet-archive': ['s_Apeyim']}"><w>If</w><w>you</w><w>list</w><w>the</w><w>contents</w><w>of</w><w>that</w><w>folder</w><w>,</w><w>you</w><w>should</w><w>see</w><w>a</w><w>list</w><w>of</w><w>files</w><w>similar</w><w>to</w><w>this</w><w>:</w></s></p><ab><code xml:id="code_data-mining-the-internet-archive_9" corresp="code_data-mining-the-internet-archive_9.txt" rend="block"/></ab><p><s xml:id="s_dZPvN5" corresp="{'mineria-de-datos-en-internet-archive': ['s_GPN1mW']}"><w>Now</w><w>that</w><w>we</w><w>know</w><w>how</w><w>to</w><w>use</w><w>the</w><w>Search</w><w>and</w><w>Item</w><w>functions</w><w>in</w><w>the</w><code rend="inline"><w>internetarchive</w></code><w>module</w><w>,</w><w>we</w><w>can</w><w>turn</w><w>to</w><w>thinking</w><w>about</w><w>how</w><w>to</w><w>make</w><w>this</w><w>process</w><w>more</w><w>effective</w><w>for</w><w>downloading</w><w>lots</w><w>of</w><w>information</w><w>from</w><w>the</w><w>collection</w><w>for</w><w>further</w><w>analysis</w><pc>.</pc></s></p></div><div type="2" n="7"><head><s xml:id="s_HU0rRZ" corresp="{'mineria-de-datos-en-internet-archive': ['s_KbmS9S']}"><w>Downloading</w><w>MARC</w><w>Records</w><w>from</w><w>a</w><w>Collection</w></s></head><p><s xml:id="s_ZI9knY" corresp="{'mineria-de-datos-en-internet-archive': ['s_VLzsuM']}"><w>Downloading</w><w>one</w><w>item</w><w>is</w><w>nice</w><w>,</w><w>but</w><w>what</w><w>if</w><w>we</w><w>want</w><w>to</w><w>look</w><w>at</w><w>thousands</w><w>of</w><w>items</w><w>in</w><w>a</w><w>collection</w><pc>?</pc></s><s xml:id="s_r3qomV" corresp="{'mineria-de-datos-en-internet-archive': ['s_U36a8G']}"><w>We</w><w>'re</w><w>in</w><w>luck</w><w>,</w><w>because</w><w>the</w><code rend="inline"><w>internetarchive</w></code><w>module</w><w>'s</w><w>Search</w><w>function</w><w>allows</w><w>us</w><w>to</w><w>iterate</w><w>over</w><w>all</w><w>the</w><w>results</w><w>in</w><w>a</w><w>search</w><pc>.</pc></s></p><p><s xml:id="s_W1aeXK" corresp="{'mineria-de-datos-en-internet-archive': ['s_Op7x42']}"><w>To</w><w>see</w><w>how</w><w>,</w><w>let</w><w>'s</w><w>first</w><w>start</w><w>our</w><w>Python</w><w>interpreter</w><w>again</w><pc>.</pc></s><s xml:id="s_xrOYtO" corresp="{'mineria-de-datos-en-internet-archive': ['s_lHTArw']}"><w>We</w><w>'ll</w><w>need</w><w>to</w><w>import</w><w>our</w><w>module</w><w>again</w><w>,</w><w>and</w><w>perform</w><w>our</w><w>search</w><w>again</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_data-mining-the-internet-archive_10" corresp="code_data-mining-the-internet-archive_10.txt" rend="block"/></ab><p><s xml:id="s_Xw1nU5" corresp="{'mineria-de-datos-en-internet-archive': ['s_9ZlMZr']}"><w>Now</w><w>let</w><w>'s</w><w>enter</w><w>the</w><w>documentation</w><w>'s</w><w>sample</w><w>code</w><w>for</w><w>printing</w><w>out</w><w>the</w><w>item</w><w>identifier</w><w>of</w><w>every</w><w>item</w><w>returned</w><w>by</w><w>our</w><w>search</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_data-mining-the-internet-archive_11" corresp="code_data-mining-the-internet-archive_11.txt" rend="block"/></ab><p><s xml:id="s_nZ4ols" corresp="{'mineria-de-datos-en-internet-archive': ['s_3KZGhj']}"><w>Note</w><w>that</w><w>after</w><w>entering</w><w>the</w><w>first</w><w>line</w><w>,</w><w>your</w><w>Python</w><w>interpreter</w><w>will</w><w>automatically</w><w>print</w><w>an</w><w>ellipsis</w><w>on</w><w>line</w><w>two</w><pc>.</pc></s><s xml:id="s_ZMsczJ"><w>This</w><w>is</w><w>because</w><w>you</w><w>have</w><w>started</w><w>a</w><emph><w>for</w><w>loop</w><w>,</w></emph><w>and</w><w>Python</w><w>is</w><w>expecting</w><w>there</w><w>to</w><w>be</w><w>more</w><pc>.</pc></s><s xml:id="s_EGW2RO" corresp="{'mineria-de-datos-en-internet-archive': ['s_k1huX1']}"><w>It</w><w>wants</w><w>to</w><w>know</w><w>what</w><w>you</w><w>want</w><w>to</w><w>do</w><w>for</w><w>each</w><w>result</w><w>in</w><w>the</w><w>search</w><pc>.</pc></s><s xml:id="s_1luEKO"><w>That</w><w>'s</w><w>also</w><w>why</w><w>,</w><w>once</w><w>you</w><w>hit</w><w>enter</w><w>on</w><w>the</w><w>second</w><w>line</w><w>,</w><w>you</w><w>'ll</w><w>see</w><w>a</w><w>third</w><w>line</w><w>with</w><w>another</w><w>ellipsis</w><w>,</w><w>because</w><w>Python</w><w>does</w><w>n't</w><w>know</w><w>whether</w><w>you</w><w>are</w><w>finished</w><w>telling</w><w>it</w><w>what</w><w>to</w><w>do</w><w>with</w><w>each</w><w>result</w><pc>.</pc></s><s xml:id="s_M5ZwQE" corresp="{'mineria-de-datos-en-internet-archive': ['s_u2uCHw']}"><w>Hit</w><w>enter</w><w>again</w><w>to</w><w>end</w><w>the</w><w>for</w><w>loop</w><w>and</w><w>execute</w><w>the</w><w>command</w><pc>.</pc></s></p><p><s xml:id="s_ACYDPr" corresp="{'mineria-de-datos-en-internet-archive': ['s_LA0w8o']}"><w>You</w><w>should</w><w>now</w><w>see</w><w>your</w><w>terminal</w><w>begin</w><w>to</w><w>print</w><w>out</w><w>the</w><w>identifiers</w><w>for</w><w>each</w><w>result</w><w>returned</w><w>by</w><w>our</w><emph><w>bplscas</w><w>search</w></emph><w>--</w><w>-in</w><w>this</w><w>case</w><w>,</w><w>all</w><w>7,029</w><w>of</w><w>them</w><pc>!</pc></s><s xml:id="s_RPbDil" corresp="{'mineria-de-datos-en-internet-archive': ['s_R4EEeX']}"><w>You</w><w>can</w><w>interrupt</w><w>the</w><w>print</w><w>out</w><w>by</w><w>hitting</w><code rend="inline"><w>Ctrl-C</w></code><w>on</w><w>your</w><w>keyboard</w><w>,</w><w>which</w><w>will</w><w>return</w><w>you</w><w>to</w><w>the</w><w>prompt</w><pc>.</pc></s></p><p><s xml:id="s_5EclzY" corresp="{'mineria-de-datos-en-internet-archive': ['s_b6S2ZB']}"><w>If</w><w>you</w><w>did</w><w>n't</w><w>see</w><w>identifiers</w><w>printing</w><w>out</w><w>to</w><w>your</w><w>screen</w><w>,</w><w>but</w><w>instead</w><w>saw</w><w>an</w><w>error</w><w>like</w><w>this</w><w>,</w><w>you</w><w>may</w><w>have</w><w>forgotten</w><w>to</w><w>enter</w><w>a</w><w>few</w><w>spaces</w><w>before</w><w>your</w><w>print</w><w>command</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_data-mining-the-internet-archive_12" corresp="code_data-mining-the-internet-archive_12.txt" rend="block"/></ab><p><s xml:id="s_FkZbh0" corresp="{'mineria-de-datos-en-internet-archive': ['s_ZcSQAm']}"><w>Remember</w><w>that</w><w>whitespace</w><w>matters</w><w>in</w><w>Python</w><w>,</w><w>and</w><w>you</w><w>need</w><w>to</w><w>indent</w><w>the</w><w>lines</w><w>in</w><w>a</w><w>for</w><w>loop</w><w>so</w><w>that</w><w>Python</w><w>can</w><w>tell</w><w>which</w><w>command</w><w>(</w><w>s</w><w>)</w><w>to</w><w>perform</w><w>on</w><w>each</w><w>item</w><w>in</w><w>the</w><w>loop</w><pc>.</pc></s></p></div><div type="2" n="8"><head><s xml:id="s_DWG4lQ" corresp="{'mineria-de-datos-en-internet-archive': ['s_Sjrh8s']}"><w>Understanding</w><w>the</w><w>for</w><w>loop</w></s></head><p><s xml:id="s_pccmqT" corresp="{'mineria-de-datos-en-internet-archive': ['s_lg0cCv']}"><w>The</w><emph><w>for</w><w>loop</w><w>,</w></emph><w>expressed</w><w>in</w><w>plain</w><w>English</w><w>,</w><w>tells</w><w>Python</w><w>to</w><w>do</w><w>something</w><w>to</w><w>each</w><w>thing</w><w>in</w><w>a</w><w>collection</w><w>of</w><w>things</w><pc>.</pc></s><s xml:id="s_65TN43" corresp="{'mineria-de-datos-en-internet-archive': ['s_75JAaC']}"><w>In</w><w>the</w><w>above</w><w>case</w><w>,</w><w>we</w><w>printed</w><w>the</w><w>identifier</w><w>for</w><w>each</w><w>result</w><w>in</w><w>the</w><w>results</w><w>of</w><w>our</w><w>collection</w><w>search</w><pc>.</pc></s><s xml:id="s_yyLv6g" corresp="{'mineria-de-datos-en-internet-archive': ['s_EvCnvG']}"><w>Two</w><w>additional</w><w>points</w><w>about</w><w>the</w><emph><w>for</w><w>loop</w><w>:</w></emph></s></p><p><s xml:id="s_joXNc1" corresp="{'mineria-de-datos-en-internet-archive': ['s_VMmXvR']}"><w>First</w><w>,</w><w>the</w><w>word</w><w>we</w><w>used</w><w>after</w><code rend="inline"><w>for</w></code><w>is</w><w>what</w><w>'s</w><w>called</w><w>a</w><emph><w>local</w><w>variable</w></emph><w>in</w><w>Python</w><pc>.</pc></s><s xml:id="s_68RUtQ"><w>It</w><w>serves</w><w>as</w><w>a</w><w>placeholder</w><w>for</w><w>whatever</w><w>instance</w><w>or</w><w>item</w><w>we</w><w>are</w><w>going</w><w>to</w><w>be</w><w>working</w><w>with</w><w>inside</w><w>the</w><w>loop</w><pc>.</pc></s><s xml:id="s_MZu8Qp" corresp="{'mineria-de-datos-en-internet-archive': ['s_z7PMj7']}"><w>Usually</w><w>it</w><w>makes</w><w>sense</w><w>to</w><w>pick</w><w>a</w><w>name</w><w>that</w><w>describes</w><w>what</w><w>kind</w><w>of</w><w>thing</w><w>we</w><w>are</w><w>working</w><w>with—in</w><w>this</w><w>case</w><w>,</w><w>a</w><w>search</w><w>result—but</w><w>we</w><w>could</w><w>have</w><w>used</w><w>other</w><w>names</w><w>in</w><w>place</w><w>of</w><w>that</w><w>one</w><pc>.</pc></s><s xml:id="s_5Fcmxp" corresp="{'mineria-de-datos-en-internet-archive': ['s_6E8Hh5']}"><w>For</w><w>example</w><w>,</w><w>try</w><w>running</w><w>the</w><w>above</w><w>for</w><w>loop</w><w>again</w><w>,</w><w>but</w><w>substitute</w><w>a</w><w>different</w><w>name</w><w>for</w><w>the</w><w>local</w><w>variable</w><w>,</w><w>such</w><w>as</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_data-mining-the-internet-archive_13" corresp="code_data-mining-the-internet-archive_13.txt" rend="block"/></ab><p><s xml:id="s_T2Wxd4" corresp="{'mineria-de-datos-en-internet-archive': ['s_bKbGDL']}"><w>You</w><w>should</w><w>get</w><w>the</w><w>same</w><w>results</w><pc>.</pc></s></p><p><s xml:id="s_tFuaxh" corresp="{'mineria-de-datos-en-internet-archive': ['s_Go9ZOG']}"><w>The</w><w>second</w><w>thing</w><w>to</w><w>note</w><w>about</w><w>the</w><emph><w>for</w><w>loop</w></emph><w>is</w><w>that</w><w>the</w><w>indented</w><w>block</w><w>could</w><w>could</w><w>have</w><w>contained</w><w>other</w><w>commands</w><pc>.</pc></s><s xml:id="s_YFIpfn" corresp="{'mineria-de-datos-en-internet-archive': ['s_jfNBtJ']}"><w>In</w><w>this</w><w>case</w><w>,</w><w>we</w><w>printed</w><w>each</w><w>individual</w><w>search</w><w>result</w><w>'s</w><w>identifier</w><pc>.</pc></s><s xml:id="s_mulKLf"><w>But</w><w>we</w><w>could</w><w>have</w><w>chosen</w><w>to</w><w>do</w><w>,</w><w>for</w><w>each</w><w>result</w><w>,</w><w>anything</w><w>that</w><w>we</w><w>could</w><w>do</w><w>to</w><w>an</w><w>individual</w><w>Internet</w><w>Archive</w><w>item</w><pc>.</pc></s></p><p><s xml:id="s_7ia9gB" corresp="{'mineria-de-datos-en-internet-archive': ['s_rCEzqt']}"><w>For</w><w>example</w><w>,</w><w>earlier</w><w>we</w><w>downloaded</w><w>all</w><w>the</w><w>files</w><w>associated</w><w>with</w><w>the</w><w>item</w><emph><w>lettertowilliaml00doug</w><pc>.</pc></emph><w>We</w><w>could</w><w>have</w><w>done</w><w>that</w><w>to</w><w>each</w><w>item</w><w>returned</w><w>by</w><w>our</w><w>search</w><w>by</w><w>changing</w><w>the</w><w>line</w><code rend="inline"><w>print</w><w>result</w><w>[</w><w>'identifier</w><w>'</w><w>]</w></code><w>in</w><w>our</w><emph><w>for</w><w>loop</w></emph><w>to</w><code rend="inline"><w>result.download</w><w>(</w><w>)</w></code><pc>.</pc></s></p><p><s xml:id="s_u1XsX7" corresp="{'mineria-de-datos-en-internet-archive': ['s_LYOCjW']}"><w>We</w><w>probably</w><w>want</w><w>to</w><w>think</w><w>twice</w><w>before</w><w>doing</w><w>that</w><w>,</w><w>though—downloading</w><w>all</w><w>the</w><w>files</w><w>for</w><w>each</w><w>of</w><w>the</w><w>7,029</w><w>items</w><w>in</w><w>the</w><w>bplscas</w><w>collection</w><w>is</w><w>a</w><w>lot</w><w>of</w><w>files</w><pc>.</pc></s><s xml:id="s_FIphjt" corresp="{'mineria-de-datos-en-internet-archive': ['s_um2Qwv']}"><w>Fortunately</w><w>,</w><w>the</w><w>download</w><w>function</w><w>in</w><w>the</w><code rend="inline"><w>internetarchive</w></code><w>module</w><w>also</w><w>allows</w><w>you</w><w>to</w><ref target="http://internetarchive.readthedocs.io/en/latest/quickstart.html#downloading"><w>download</w><w>specific</w><w>files</w><w>associated</w><w>with</w><w>an</w><w>item</w></ref><pc>.</pc></s><s xml:id="s_yKshn1" corresp="{'mineria-de-datos-en-internet-archive': ['s_LkiIXY']}"><w>If</w><w>we</w><w>had</w><w>only</w><w>wanted</w><w>to</w><w>download</w><w>the</w><w>MARC</w><w>XML</w><w>record</w><w>associated</w><w>with</w><w>a</w><w>particular</w><w>item</w><w>,</w><w>we</w><w>could</w><w>have</w><w>instead</w><w>done</w><w>this</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_data-mining-the-internet-archive_14" corresp="code_data-mining-the-internet-archive_14.txt" rend="block"/></ab><p><s xml:id="s_jnVpGt" corresp="{'mineria-de-datos-en-internet-archive': ['s_qbZgp8']}"><w>Because</w><w>Internet</w><w>Archive</w><ref target="https://archive.org/about/faqs.php#140"><w>item</w><w>files</w><w>are</w><w>named</w><w>according</w><w>to</w><w>specific</w><w>rules</w></ref><w>,</w><w>we</w><w>can</w><w>also</w><w>figure</w><w>out</w><w>the</w><w>name</w><w>of</w><w>the</w><w>MARC</w><w>file</w><w>we</w><w>want</w><w>just</w><w>by</w><w>knowing</w><w>the</w><w>item</w><w>'s</w><w>unique</w><w>identifier</w><pc>.</pc></s><s xml:id="s_nqnOTn" corresp="{'mineria-de-datos-en-internet-archive': ['s_KmF7Xc']}"><w>And</w><w>armed</w><w>with</w><w>that</w><w>knowledge</w><w>,</w><w>we</w><w>can</w><w>proceed</w><w>to</w><w>…</w></s></p></div><div type="2" n="9"><head><s xml:id="s_xQ0SW3" corresp="{'mineria-de-datos-en-internet-archive': ['s_HTudPL']}"><w>Download</w><w>All</w><w>the</w><w>MARC</w><w>XML</w><w>Files</w><w>from</w><w>a</w><w>Collection</w></s></head><p><s xml:id="s_J4Uf7k" corresp="{'mineria-de-datos-en-internet-archive': ['s_rvYJ13']}"><w>For</w><w>the</w><w>next</w><w>section</w><w>,</w><w>we</w><w>'re</w><w>going</w><w>to</w><w>move</w><w>from</w><w>using</w><w>the</w><w>Python</w><w>shell</w><w>to</w><w>writing</w><w>a</w><w>Python</w><w>script</w><w>that</w><w>downloads</w><w>the</w><w>MARC</w><w>record</w><w>from</w><w>each</w><w>item</w><w>in</w><w>the</w><w>BPL</w><w>Antislavery</w><w>Collection</w><pc>.</pc></s><s xml:id="s_yhLfYa" corresp="{'mineria-de-datos-en-internet-archive': ['s_XTwGqW']}"><w>Try</w><w>putting</w><w>this</w><w>script</w><w>into</w><w>Komodo</w><w>or</w><w>your</w><w>preferred</w><w>text</w><w>editor</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_data-mining-the-internet-archive_15" corresp="code_data-mining-the-internet-archive_15.txt" rend="block"/></ab><p><s xml:id="s_yZ0Qtm" corresp="{'mineria-de-datos-en-internet-archive': ['s_sEj5ds']}"><w>This</w><w>script</w><w>looks</w><w>a</w><w>lot</w><w>like</w><w>the</w><w>experiments</w><w>we</w><w>have</w><w>done</w><w>above</w><w>with</w><w>the</w><w>Frederick</w><w>Douglass</w><w>letter</w><w>,</w><w>but</w><w>since</w><w>we</w><w>want</w><w>to</w><w>download</w><w>the</w><w>MARC</w><w>record</w><w>for</w><w>each</w><w>item</w><w>returned</w><w>by</w><w>our</w><w>collection</w><w>search</w><w>,</w><w>we</w><w>are</w><w>using</w><w>an</w><w>itemid</w><w>variable</w><w>to</w><w>account</w><w>for</w><w>the</w><w>fact</w><w>that</w><w>the</w><w>identifier</w><w>and</w><w>filename</w><w>will</w><w>be</w><w>different</w><w>for</w><w>each</w><w>result</w><pc>.</pc></s></p><p><s xml:id="s_KmVI52" corresp="{'mineria-de-datos-en-internet-archive': ['s_YTHKDz']}"><w>Before</w><w>running</w><w>this</w><w>script</w><w>(</w><w>which</w><w>,</w><w>I</w><w>should</w><w>note</w><w>,</w><w>is</w><w>going</w><w>to</w><w>download</w><w>thousands</w><w>of</w><w>small</w><w>XML</w><w>files</w><w>to</w><w>your</w><w>computer</w><w>)</w><w>,</w><w>make</w><w>a</w><w>directory</w><w>where</w><w>you</w><w>want</w><w>those</w><w>MARC</w><w>records</w><w>to</w><w>be</w><w>stored</w><w>and</w><w>place</w><w>the</w><w>above</w><w>script</w><w>in</w><w>that</w><w>directory</w><pc>.</pc></s><s xml:id="s_Z6R7Gw" corresp="{'mineria-de-datos-en-internet-archive': ['s_75LRHQ']}"><w>Then</w><w>run</w><w>the</w><w>script</w><w>from</w><w>within</w><w>the</w><w>directory</w><w>so</w><w>that</w><w>the</w><w>files</w><w>will</w><w>be</w><w>downloaded</w><w>in</w><w>an</w><w>easy-to-find</w><w>place</w><pc>.</pc></s></p><p><s xml:id="s_iW42cj" corresp="{'mineria-de-datos-en-internet-archive': ['s_evLLWS']}"><w>(</w><w>Note</w><w>that</w><w>if</w><w>you</w><w>receive</w><w>what</w><w>looks</w><w>like</w><w>a</w><code rend="inline"><w>ConnectionError</w></code><w>on</w><w>your</w><w>first</w><w>attempt</w><w>,</w><w>check</w><w>your</w><w>Internet</w><w>connection</w><w>,</w><w>wait</w><w>a</w><w>few</w><w>minutes</w><w>,</w><w>and</w><w>then</w><w>try</w><w>running</w><w>the</w><w>script</w><w>again</w><pc>.</pc></s><s xml:id="s_K3cpiD" corresp="{'mineria-de-datos-en-internet-archive': ['s_ePOULZ']}"><w>)</w></s></p><p><s xml:id="s_hR5wGW" corresp="{'mineria-de-datos-en-internet-archive': ['s_vlMbKg']}"><w>If</w><w>all</w><w>goes</w><w>well</w><w>,</w><w>when</w><w>you</w><w>run</w><w>your</w><w>script</w><w>,</w><w>you</w><w>should</w><w>see</w><w>the</w><w>program</w><w>begin</w><w>to</w><w>print</w><w>out</w><w>status</w><w>updates</w><w>telling</w><w>you</w><w>that</w><w>it</w><w>is</w><w>downloading</w><w>MARC</w><w>records</w><pc>.</pc></s><s xml:id="s_bHxnjN"><w>But</w><w>allowing</w><w>the</w><w>script</w><w>to</w><w>run</w><w>its</w><w>full</w><w>course</w><w>will</w><w>probably</w><w>take</w><w>a</w><w>couple</w><w>of</w><w>hours</w><w>,</w><w>so</w><w>let</w><w>'s</w><w>stop</w><w>the</w><w>script</w><w>and</w><w>look</w><w>a</w><w>little</w><w>more</w><w>closely</w><w>at</w><w>ways</w><w>to</w><w>improve</w><w>it</w><pc>.</pc></s><s xml:id="s_IbxIfJ" corresp="{'mineria-de-datos-en-internet-archive': ['s_zW5yah']}"><w>Pressing</w><code rend="inline"><w>Ctrl-C</w></code><w>while</w><w>in</w><w>your</w><w>terminal</w><w>window</w><w>should</w><w>make</w><w>the</w><w>script</w><w>stop</w><pc>.</pc></s></p></div><div type="2" n="10"><head><s xml:id="s_pWKiU7" corresp="{'mineria-de-datos-en-internet-archive': ['s_xCMFYi']}"><w>Building</w><w>Error</w><w>Reporting</w><w>into</w><w>the</w><w>Script</w></s></head><p><s xml:id="s_pmVyat" corresp="{'mineria-de-datos-en-internet-archive': ['s_UXzZ3Z']}"><w>Since</w><w>downloading</w><w>all</w><w>of</w><w>these</w><w>records</w><w>will</w><w>take</w><w>some</w><w>time</w><w>,</w><w>we</w><w>are</w><w>probably</w><w>going</w><w>to</w><w>want</w><w>to</w><w>walk</w><w>away</w><w>from</w><w>our</w><w>computer</w><w>for</w><w>a</w><w>while</w><pc>.</pc></s><s xml:id="s_LcVTxe" corresp="{'mineria-de-datos-en-internet-archive': ['s_a5vUPx']}"><w>But</w><w>the</w><w>chances</w><w>are</w><w>high</w><w>that</w><w>during</w><w>those</w><w>two</w><w>hours</w><w>,</w><w>something</w><w>could</w><w>go</w><w>wrong</w><w>that</w><w>would</w><w>prevent</w><w>our</w><w>script</w><w>from</w><w>working</w><pc>.</pc></s></p><p><s xml:id="s_CiAWJi" corresp="{'mineria-de-datos-en-internet-archive': ['s_9tSlrj']}"><w>Let</w><w>'s</w><w>say</w><w>,</w><w>for</w><w>example</w><w>,</w><w>that</w><w>we</w><w>had</w><w>forgotten</w><w>that</w><w>we</w><w>already</w><w>downloaded</w><w>an</w><w>individual</w><w>file</w><w>into</w><w>this</w><w>directory</w><pc>.</pc></s><s xml:id="s_DP2t01"><w>Or</w><w>maybe</w><w>your</w><w>computer</w><w>briefly</w><w>loses</w><w>its</w><w>Internet</w><w>connection</w><w>,</w><w>or</w><w>some</w><w>sort</w><w>of</w><w>outage</w><w>happens</w><w>on</w><w>the</w><w>Internet</w><w>Archive</w><w>server</w><w>that</w><w>prevents</w><w>the</w><w>script</w><w>from</w><w>getting</w><w>the</w><w>file</w><w>it</w><w>wants</w><pc>.</pc></s></p><p><s xml:id="s_RzeCpD" corresp="{'mineria-de-datos-en-internet-archive': ['s_snjv69']}"><w>In</w><w>those</w><w>and</w><w>other</w><w>error</w><w>cases</w><w>,</w><w>Python</w><w>will</w><w>raise</w><w>an</w><w>``</w><w>exception</w><w>''</w><w>telling</w><w>you</w><w>what</w><w>the</w><w>problem</w><w>is</w><pc>.</pc></s><s xml:id="s_dPt3TL" corresp="{'mineria-de-datos-en-internet-archive': ['s_Kgui3p']}"><w>Unfortunately</w><w>,</w><w>an</w><w>exception</w><w>will</w><w>also</w><w>crash</w><w>your</w><w>script</w><w>instead</w><w>of</w><w>continuing</w><w>on</w><w>to</w><w>the</w><w>next</w><w>item</w><pc>.</pc></s></p><p><s xml:id="s_qt6Ser" corresp="{'mineria-de-datos-en-internet-archive': ['s_3vELvg']}"><w>To</w><w>prevent</w><w>this</w><w>,</w><w>we</w><w>can</w><w>use</w><w>what</w><w>'s</w><w>called</w><w>a</w><emph><w>try</w><w>statement</w></emph><w>in</w><w>Python</w><w>,</w><w>which</w><w>does</w><w>exactly</w><w>what</w><w>it</w><w>sounds</w><w>like</w><pc>.</pc></s><s xml:id="s_ng0wJX"><w>The</w><w>statement</w><w>will</w><w>try</w><w>to</w><w>execute</w><w>a</w><w>certain</w><w>snippet</w><w>of</w><w>code</w><w>until</w><w>it</w><w>hits</w><w>an</w><w>exception</w><w>,</w><w>in</w><w>which</w><w>case</w><w>you</w><w>can</w><w>give</w><w>it</w><w>some</w><w>other</w><w>code</w><w>to</w><w>execute</w><w>instead</w><pc>.</pc></s><s xml:id="s_MYepg3" corresp="{'mineria-de-datos-en-internet-archive': ['s_TmJD60']}"><w>You</w><w>can</w><w>read</w><w>more</w><w>about</w><ref target="http://docs.python.org/2/tutorial/errors.html#handling-exceptions"><w>handling</w><w>exceptions</w></ref><w>in</w><w>the</w><w>Python</w><w>documentation</w><w>,</w><w>but</w><w>for</w><w>now</w><w>let</w><w>'s</w><w>just</w><w>update</w><w>our</w><w>above</w><w>script</w><w>so</w><w>that</w><w>it</w><w>looks</w><w>like</w><w>this</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_data-mining-the-internet-archive_16" corresp="code_data-mining-the-internet-archive_16.txt" rend="block"/></ab><p><s xml:id="s_IFV7t7" corresp="{'mineria-de-datos-en-internet-archive': ['s_3K3Ful']}"><w>The</w><w>main</w><w>thing</w><w>we</w><w>'ve</w><w>added</w><w>here</w><w>,</w><w>after</w><w>our</w><w>module</w><w>import</w><w>statements</w><w>,</w><w>is</w><w>a</w><w>line</w><w>that</w><w>opens</w><w>a</w><w>text</w><w>file</w><w>called</w><code rend="inline"><w>bpl-marcs-errors.log</w></code><w>and</w><w>prepares</w><w>it</w><w>to</w><w>have</w><w>text</w><w>appended</w><w>to</w><w>it</w><pc>.</pc></s><s xml:id="s_xt60kF" corresp="{'mineria-de-datos-en-internet-archive': ['s_PUvQm6']}"><w>We</w><w>are</w><w>going</w><w>to</w><w>use</w><w>this</w><w>file</w><w>to</w><w>log</w><w>exceptions</w><w>that</w><w>the</w><w>script</w><w>raises</w><pc>.</pc></s><s xml:id="s_2mwEjx" corresp="{'mineria-de-datos-en-internet-archive': ['s_XvBKYx']}"><w>The</w><emph><w>try</w><w>statement</w></emph><w>that</w><w>we</w><w>have</w><w>added</w><w>to</w><w>our</w><emph><w>for</w><w>loop</w></emph><w>will</w><w>attempt</w><w>to</w><w>download</w><w>the</w><w>MARC</w><w>record</w><pc>.</pc></s><s xml:id="s_u7x2SN"><w>If</w><w>it</w><w>ca</w><w>n't</w><w>,</w><w>it</w><w>will</w><w>write</w><w>a</w><w>descriptive</w><w>statement</w><w>about</w><w>what</w><w>went</w><w>wrong</w><w>to</w><w>our</w><w>log</w><w>file</w><pc>.</pc></s><s xml:id="s_ZN2xpv" corresp="{'mineria-de-datos-en-internet-archive': ['s_UhLMOW']}"><w>That</w><w>way</w><w>we</w><w>can</w><w>go</w><w>back</w><w>to</w><w>the</w><w>file</w><w>later</w><w>and</w><w>identify</w><w>which</w><w>items</w><w>we</w><w>will</w><w>need</w><w>to</w><w>try</w><w>to</w><w>download</w><w>again</w><pc>.</pc></s><s xml:id="s_eFWlPv" corresp="{'mineria-de-datos-en-internet-archive': ['s_tPAmvH']}"><w>If</w><w>the</w><w>try</w><w>clause</w><w>succeeds</w><w>and</w><w>can</w><w>download</w><w>the</w><w>record</w><w>,</w><w>then</w><w>the</w><w>script</w><w>will</w><w>execute</w><w>the</w><w>code</w><w>in</w><w>the</w><emph><w>else</w></emph><w>clause</w><pc>.</pc></s></p><p><s xml:id="s_8FWBmr" corresp="{'mineria-de-datos-en-internet-archive': ['s_iNQESq']}"><w>One</w><w>other</w><w>thing</w><w>we</w><w>have</w><w>added</w><w>,</w><w>upon</w><w>successful</w><w>download</w><w>,</w><w>is</w><w>this</w><w>line</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_data-mining-the-internet-archive_17" corresp="code_data-mining-the-internet-archive_17.txt" rend="block"/></ab><p><s xml:id="s_0Flqc3" corresp="{'mineria-de-datos-en-internet-archive': ['s_1DINId']}"><w>This</w><w>line</w><w>uses</w><w>the</w><code rend="inline"><w>time</w></code><w>module</w><w>that</w><w>we</w><w>are</w><w>now</w><w>importing</w><w>at</w><w>the</w><w>beginning</w><w>to</w><w>tell</w><w>our</w><w>script</w><w>to</w><w>pause</w><w>for</w><w>one</w><w>second</w><w>before</w><w>proceeding</w><w>,</w><w>which</w><w>is</w><w>basically</w><w>just</w><w>a</w><w>way</w><w>for</w><w>us</w><w>to</w><w>be</w><w>nice</w><w>to</w><w>Internet</w><w>Archive's</w><w>servers</w><w>by</w><w>not</w><w>clobbering</w><w>them</w><w>every</w><w>millisecond</w><w>or</w><w>so</w><w>with</w><w>a</w><w>request</w><pc>.</pc></s></p><p><s xml:id="s_lXkBkr" corresp="{'mineria-de-datos-en-internet-archive': ['s_gG6BjH']}"><w>Try</w><w>updating</w><w>your</w><w>script</w><w>to</w><w>look</w><w>like</w><w>the</w><w>above</w><w>lines</w><w>,</w><w>and</w><w>run</w><w>it</w><w>again</w><w>in</w><w>the</w><w>directory</w><w>where</w><w>you</w><w>want</w><w>to</w><w>store</w><w>your</w><w>MARC</w><w>files</w><pc>.</pc></s><s xml:id="s_9h9TKa" corresp="{'mineria-de-datos-en-internet-archive': ['s_UwX7mo']}"><w>Do</w><w>n't</w><w>be</w><w>surprised</w><w>if</w><w>you</w><w>immediately</w><w>encounter</w><w>a</w><w>string</w><w>of</w><w>error</w><w>messages</w><w>;</w><w>that</w><w>means</w><w>the</w><w>script</w><w>is</w><w>doing</w><w>what</w><w>it</w><w>'s</w><w>supposed</w><w>to</w><w>do</w><pc>!</pc></s><s xml:id="s_BIju0H" corresp="{'mineria-de-datos-en-internet-archive': ['s_S8IMEu']}"><w>Calmly</w><w>go</w><w>into</w><w>your</w><w>text</w><w>editor</w><w>,</w><w>while</w><w>leaving</w><w>the</w><w>script</w><w>running</w><w>,</w><w>and</w><w>open</w><w>the</w><code rend="inline"><w>bpl-marcs-errors.log</w></code><w>to</w><w>see</w><w>what</w><w>exceptions</w><w>have</w><w>been</w><w>recorded</w><w>there</w><pc>.</pc></s><s xml:id="s_OqFKsI" corresp="{'mineria-de-datos-en-internet-archive': ['s_02EC91']}"><w>You</w><w>'ll</w><w>probably</w><w>see</w><w>that</w><w>the</w><w>script</w><w>raised</w><w>the</w><w>exception</w><w>``</w><w>File</w><w>already</w><w>exists</w><w>''</w><w>for</w><w>each</w><w>of</w><w>the</w><w>files</w><w>that</w><w>you</w><w>had</w><w>already</w><w>downloaded</w><w>when</w><w>running</w><w>our</w><w>earlier</w><w>,</w><w>shorter</w><w>program</w><pc>.</pc></s></p><p><s xml:id="s_LfyrzC" corresp="{'mineria-de-datos-en-internet-archive': ['s_bxjwmS']}"><w>If</w><w>you</w><w>leave</w><w>the</w><w>program</w><w>running</w><w>for</w><w>a</w><w>little</w><w>while</w><w>,</w><w>the</w><w>script</w><w>will</w><w>eventually</w><w>get</w><w>to</w><w>items</w><w>that</w><w>you</w><w>have</w><w>not</w><w>already</w><w>downloaded</w><w>and</w><w>resume</w><w>collecting</w><w>your</w><w>MARCs</w><pc>!</pc></s></p></div><div type="2" n="11"><head><s xml:id="s_w4pp77" corresp="{'mineria-de-datos-en-internet-archive': ['s_iSQJ5T']}"><w>Scraping</w><w>Information</w><w>from</w><w>a</w><w>MARC</w><w>Record</w></s></head><p><s xml:id="s_AtQaat" corresp="{'mineria-de-datos-en-internet-archive': ['s_9MLeyg']}"><w>Once</w><w>your</w><w>download</w><w>script</w><w>has</w><w>completed</w><w>,</w><w>you</w><w>should</w><w>find</w><w>yourself</w><w>in</w><w>the</w><w>possession</w><w>of</w><w>nearly</w><w>7,000</w><w>detailed</w><w>MARC</w><w>XML</w><w>records</w><w>about</w><w>items</w><w>in</w><w>the</w><w>Anti-Slavery</w><w>Collection</w><w>(</w><w>or</w><w>whichever</w><w>other</w><w>collection</w><w>you</w><w>may</w><w>have</w><w>downloaded</w><w>instead</w><w>;</w><w>the</w><w>methods</w><w>above</w><w>should</w><w>work</w><w>on</w><w>any</w><w>collection</w><w>whose</w><w>items</w><w>have</w><w>MARC</w><w>files</w><w>attached</w><w>to</w><w>them</w><w>)</w><pc>.</pc></s></p><p><s xml:id="s_kSNXnu" corresp="{'mineria-de-datos-en-internet-archive': ['s_u5pJVf']}"><w>Now</w><w>what</w><pc>?</pc></s></p><p><s xml:id="s_CiOQ8y" corresp="{'mineria-de-datos-en-internet-archive': ['s_nLvero']}"><w>The</w><w>next</w><w>step</w><w>depends</w><w>on</w><w>what</w><w>sort</w><w>of</w><w>questions</w><w>about</w><w>the</w><w>collection</w><w>you</w><w>want</w><w>to</w><w>answer</w><pc>.</pc></s><s xml:id="s_4jGdAv" corresp="{'mineria-de-datos-en-internet-archive': ['s_XzbjTh']}"><w>The</w><w>MARC</w><w>formatting</w><w>language</w><w>captures</w><w>a</w><w>wealth</w><w>of</w><w>data</w><w>about</w><w>an</w><w>item</w><w>,</w><w>as</w><w>you</w><w>can</w><w>see</w><w>if</w><w>you</w><w>return</w><w>to</w><ref target="http://archive.org/download/lettertowilliaml00doug/lettertowilliaml00doug_marc.xml"><w>the</w><w>MARC</w><w>XML</w><w>record</w><w>for</w><w>the</w><w>Frederick</w><w>Douglass</w><w>letter</w></ref><w>mentioned</w><w>at</w><w>the</w><w>outset</w><pc>.</pc></s></p><p><s xml:id="s_XMakJP" corresp="{'mineria-de-datos-en-internet-archive': ['s_1Kkn2o']}"><w>Notice</w><w>,</w><w>for</w><w>example</w><w>,</w><w>that</w><w>the</w><w>Douglass</w><w>letter</w><w>contains</w><w>information</w><w>about</w><w>the</w><w>place</w><w>where</w><w>the</w><w>letter</w><w>was</w><w>written</w><w>in</w><w>the</w><emph><w>datafield</w></emph><w>that</w><w>is</w><w>tagged</w><emph><w>260</w><w>,</w></emph><w>inside</w><w>the</w><w>subfield</w><w>coded</w><emph><w>a</w><pc>.</pc></emph><w>The</w><w>person</w><w>who</w><w>prepared</w><w>this</w><w>MARC</w><w>record</w><w>knew</w><w>to</w><w>put</w><w>place</w><w>information</w><w>in</w><w>that</w><w>specific</w><w>field</w><w>because</w><w>of</w><ref target="http://www.loc.gov/marc/bibliographic/bd260.html"><w>rules</w><w>specified</w><w>for</w><w>the</w><w>260</w><w>datafield</w></ref><w>by</w><w>the</w><ref target="http://www.loc.gov/marc/"><w>MARC</w><w>standards</w></ref><pc>.</pc></s></p><p><s xml:id="s_wv0ges" corresp="{'mineria-de-datos-en-internet-archive': ['s_7DDDI9']}"><w>That</w><w>means</w><w>that</w><w>it</w><w>should</w><w>be</w><w>possible</w><w>for</w><w>us</w><w>to</w><w>look</w><w>inside</w><w>all</w><w>of</w><w>the</w><w>MARC</w><w>records</w><w>we</w><w>have</w><w>downloaded</w><w>,</w><w>grab</w><w>the</w><w>information</w><w>inside</w><w>of</w><w>datafield</w><emph><w>260</w><w>,</w></emph><w>subfield</w><emph><w>a</w><w>,</w></emph><w>and</w><w>make</w><w>a</w><w>list</w><w>of</w><w>every</w><w>place</w><w>name</w><w>where</w><w>items</w><w>in</w><w>the</w><w>collection</w><w>were</w><w>published</w><pc>.</pc></s></p><p><s xml:id="s_ozTWk4" corresp="{'mineria-de-datos-en-internet-archive': ['s_CrlC7b']}"><w>To</w><w>do</w><w>this</w><w>,</w><w>we</w><w>'ll</w><w>use</w><w>the</w><w>other</w><w>helpful</w><w>Python</w><w>module</w><w>that</w><w>we</w><w>downloaded</w><w>with</w><code rend="inline"><w>pip</w></code><w>at</w><w>the</w><w>beginning</w><w>:</w><ref target="https://github.com/edsu/pymarc"><w>pymarc</w></ref><pc>.</pc></s></p><p><s xml:id="s_Xhunvp" corresp="{'mineria-de-datos-en-internet-archive': ['s_ePTQD3']}"><w>That</w><w>module</w><w>makes</w><w>it</w><w>easy</w><w>to</w><w>get</w><w>information</w><w>out</w><w>of</w><w>subfields</w><pc>.</pc></s><s xml:id="s_Rj0juZ" corresp="{'mineria-de-datos-en-internet-archive': ['s_SkD3L8']}"><w>Assuming</w><w>that</w><w>we</w><w>have</w><w>a</w><w>MARC</w><w>record</w><w>prepared</w><w>for</w><w>parsing</w><w>by</w><w>the</w><w>module</w><w>assigned</w><w>to</w><w>the</w><w>variable</w><w>record</w><w>,</w><w>we</w><w>could</w><w>get</w><w>the</w><w>information</w><w>about</w><w>publication</w><w>place</w><w>names</w><w>this</w><w>way</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_data-mining-the-internet-archive_18" corresp="code_data-mining-the-internet-archive_18.txt" rend="block"/></ab><p><s xml:id="s_VmpiG4" corresp="{'mineria-de-datos-en-internet-archive': ['s_uR756H']}"><w>The</w><w>documentation</w><w>for</w><code rend="inline"><w>pymarc</w></code><w>is</w><w>a</w><w>little</w><w>less</w><w>complete</w><w>than</w><w>that</w><w>for</w><w>the</w><w>Internet</w><w>Archive</w><w>,</w><w>especially</w><w>when</w><w>it</w><w>comes</w><w>to</w><w>parsing</w><w>XML</w><w>records</w><pc>.</pc></s><s xml:id="s_M3ALdU" corresp="{'mineria-de-datos-en-internet-archive': ['s_ublUWd']}"><w>But</w><w>a</w><w>little</w><w>rooting</w><w>around</w><w>in</w><w>the</w><w>source</w><w>code</w><w>for</w><w>the</w><w>module</w><w>reveals</w><w>some</w><ref target="https://github.com/edsu/pymarc/blob/master/pymarc/marcxml.py"><w>functions</w><w>that</w><w>it</w><w>provides</w><w>for</w><w>working</w><w>with</w><w>MARC</w><w>XML</w><w>records</w></ref><pc>.</pc></s><s xml:id="s_F7zEfP" corresp="{'mineria-de-datos-en-internet-archive': ['s_PNsY1r']}"><w>One</w><w>of</w><w>these</w><w>,</w><w>called</w><code rend="inline"><w>map_xml</w><w>(</w><w>)</w></code><w>is</w><w>described</w><w>this</w><w>way</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_data-mining-the-internet-archive_19" corresp="code_data-mining-the-internet-archive_19.txt" rend="block"/></ab><p><s xml:id="s_SPGltQ" corresp="{'mineria-de-datos-en-internet-archive': ['s_j1c6go']}"><w>Translated</w><w>into</w><w>plain</w><w>English</w><w>,</w><w>this</w><w>function</w><w>means</w><w>that</w><w>we</w><w>can</w><w>take</w><w>an</w><w>XML</w><w>file</w><w>containing</w><w>MARC</w><w>data</w><w>(</w><w>like</w><w>the</w><w>nearly</w><w>7,000</w><w>we</w><w>now</w><w>have</w><w>on</w><w>our</w><w>computer</w><w>)</w><w>,</w><w>pass</w><w>it</w><w>to</w><w>the</w><code rend="inline"><w>map_xml</w></code><w>function</w><w>in</w><w>the</w><code rend="inline"><w>pymarc</w></code><w>module</w><w>,</w><w>and</w><w>then</w><w>specify</w><w>another</w><w>function</w><w>(</w><w>that</w><w>we</w><w>will</w><w>write</w><w>)</w><w>telling</w><w>our</w><w>program</w><w>what</w><w>to</w><w>do</w><w>with</w><w>the</w><w>MARC</w><w>data</w><w>retrieved</w><w>from</w><w>the</w><w>XML</w><w>file</w><pc>.</pc></s><s xml:id="s_Qe5Iwk" corresp="{'mineria-de-datos-en-internet-archive': ['s_LdiANZ']}"><w>In</w><w>rough</w><w>outline</w><w>,</w><w>our</w><w>code</w><w>will</w><w>look</w><w>something</w><w>like</w><w>this</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_data-mining-the-internet-archive_20" corresp="code_data-mining-the-internet-archive_20.txt" rend="block"/></ab><p><s xml:id="s_dW7Yrd" corresp="{'mineria-de-datos-en-internet-archive': ['s_JhAVqu']}"><w>Try</w><w>saving</w><w>that</w><w>code</w><w>to</w><w>a</w><w>script</w><w>and</w><w>running</w><w>it</w><w>from</w><w>a</w><w>directory</w><w>where</w><w>you</w><w>already</w><w>have</w><w>the</w><w>Douglass</w><w>letter</w><w>XML</w><w>saved</w><pc>.</pc></s><s xml:id="s_6qECW9" corresp="{'mineria-de-datos-en-internet-archive': ['s_J0ThhL']}"><w>If</w><w>all</w><w>goes</w><w>well</w><w>,</w><w>the</w><w>script</w><w>should</w><w>spit</w><w>out</w><w>this</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_data-mining-the-internet-archive_21" corresp="code_data-mining-the-internet-archive_21.txt" rend="block"/></ab><p><s xml:id="s_8pvFHu" corresp="{'mineria-de-datos-en-internet-archive': ['s_OfLZaY']}"><w>Voila</w><pc>!</pc></s><s xml:id="s_iUOJXx" corresp="{'mineria-de-datos-en-internet-archive': ['s_CJ88SJ']}"><w>Of</w><w>course</w><w>,</w><w>this</w><w>script</w><w>would</w><w>be</w><w>much</w><w>more</w><w>useful</w><w>if</w><w>we</w><w>scraped</w><w>the</w><w>place</w><w>of</w><w>publication</w><w>from</w><w>every</w><w>letter</w><w>in</w><w>our</w><w>collection</w><w>of</w><w>MARC</w><w>records</w><pc>.</pc></s><s xml:id="s_QoYRTC" corresp="{'mineria-de-datos-en-internet-archive': ['s_uW9EhC']}"><w>Putting</w><w>together</w><w>what</w><w>we</w><w>'ve</w><w>learned</w><w>from</w><w>earlier</w><w>in</w><w>the</w><w>lesson</w><w>,</w><w>we</w><w>can</w><w>do</w><w>that</w><w>with</w><w>a</w><w>script</w><w>that</w><w>looks</w><w>like</w><w>this</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_data-mining-the-internet-archive_22" corresp="code_data-mining-the-internet-archive_22.txt" rend="block"/></ab><p><s xml:id="s_GF5pAz" corresp="{'mineria-de-datos-en-internet-archive': ['s_trDg20']}"><w>This</w><w>script</w><w>modifies</w><w>our</w><w>above</w><w>code</w><w>in</w><w>several</w><w>ways</w><pc>.</pc></s><s xml:id="s_38us2R" corresp="{'mineria-de-datos-en-internet-archive': ['s_AwE5mZ']}"><w>First</w><w>,</w><w>it</w><w>uses</w><w>a</w><emph><w>for</w><w>loop</w></emph><w>to</w><w>iterate</w><w>over</w><w>each</w><w>file</w><w>in</w><w>our</w><w>directory</w><pc>.</pc></s><s xml:id="s_xgGiuA" corresp="{'mineria-de-datos-en-internet-archive': ['s_wdMHDA']}"><w>In</w><w>place</w><w>of</w><w>the</w><code rend="inline"><w>internetarchive</w></code><w>search</w><w>results</w><w>that</w><w>we</w><w>iterated</w><w>over</w><w>in</w><w>our</w><w>first</w><w>part</w><w>of</w><w>this</w><w>lesson</w><w>,</w><w>we</w><w>iterate</w><w>over</w><w>the</w><w>files</w><w>returned</w><w>by</w><code rend="inline"><w>os.listdir</w><w>(</w><w>path</w><w>)</w></code><w>which</w><w>uses</w><w>the</w><w>built-in</w><w>Python</w><w>module</w><code rend="inline"><w>os</w></code><w>to</w><w>list</w><w>the</w><w>contents</w><w>of</w><w>the</w><w>directory</w><w>specified</w><w>in</w><w>the</w><w>path</w><w>variable</w><w>,</w><w>which</w><w>you</w><w>will</w><w>need</w><w>to</w><w>modify</w><w>so</w><w>that</w><w>it</w><w>matches</w><w>the</w><w>directory</w><w>where</w><w>you</w><w>have</w><w>downloaded</w><w>all</w><w>of</w><w>your</w><w>MARC</w><w>files</w><pc>.</pc></s></p><p><s xml:id="s_dSpylr" corresp="{'mineria-de-datos-en-internet-archive': ['s_3dLXwW']}"><w>We</w><w>have</w><w>also</w><w>added</w><w>some</w><w>error</w><w>handling</w><w>to</w><w>our</w><code rend="inline"><w>get_place_of_pub</w><w>(</w><w>)</w></code><w>function</w><w>to</w><w>account</w><w>for</w><w>the</w><w>fact</w><w>that</w><w>some</w><w>records</w><w>may</w><w>(</w><w>for</w><w>whatever</w><w>reason</w><w>)</w><w>not</w><w>contain</w><w>the</w><w>information</w><w>we</w><w>are</w><w>looking</w><w>for</w><pc>.</pc></s><s xml:id="s_h4KN2Z" corresp="{'mineria-de-datos-en-internet-archive': ['s_WcZ176']}"><w>The</w><w>function</w><w>will</w><w>try</w><w>to</w><w>print</w><w>the</w><w>place</w><w>of</w><w>publication</w><w>,</w><w>but</w><w>if</w><w>this</w><w>raises</w><w>an</w><w>Exception</w><w>,</w><w>it</w><w>will</w><w>print</w><w>out</w><w>the</w><w>information</w><w>returned</w><w>by</w><w>the</w><w>Exception</w><w>instead</w><pc>.</pc></s><s xml:id="s_OEUIhp" corresp="{'mineria-de-datos-en-internet-archive': ['s_TtzCBI']}"><w>In</w><w>this</w><w>case</w><w>,</w><w>if</w><w>the</w><w>try</w><w>statement</w><w>failed</w><w>,</w><w>the</w><w>exception</w><w>will</w><w>probably</w><w>print</w><code rend="inline"><w>None</w></code><pc>.</pc></s><s xml:id="s_34XfAy" corresp="{'mineria-de-datos-en-internet-archive': ['s_u7fKLD']}"><w>Understanding</w><w>why</w><w>is</w><w>a</w><w>subject</w><w>for</w><w>another</w><w>lesson</w><w>on</w><w>Python</w><w>Type</w><w>errors</w><w>,</w><w>but</w><w>for</w><w>now</w><w>the</w><w>None</w><w>printout</w><w>is</w><w>descriptive</w><w>enough</w><w>of</w><w>what</w><w>happened</w><w>,</w><w>so</w><w>it</w><w>could</w><w>be</w><w>useful</w><w>to</w><w>us</w><pc>.</pc></s></p><p><s xml:id="s_pMG2oF" corresp="{'mineria-de-datos-en-internet-archive': ['s_s3rkpz']}"><w>Try</w><w>running</w><w>this</w><w>script</w><pc>.</pc></s><s xml:id="s_dnKDaD" corresp="{'mineria-de-datos-en-internet-archive': ['s_AHl6cI']}"><w>If</w><w>all</w><w>goes</w><w>well</w><w>,</w><w>your</w><w>screen</w><w>should</w><w>fill</w><w>with</w><w>a</w><w>list</w><w>of</w><w>the</w><w>places</w><w>where</w><w>these</w><w>letters</w><w>were</w><w>written</w><pc>.</pc></s><s xml:id="s_yigtdZ" corresp="{'mineria-de-datos-en-internet-archive': ['s_lcHVzC']}"><w>If</w><w>that</w><w>works</w><w>,</w><w>try</w><w>modifying</w><w>your</w><w>script</w><w>so</w><w>that</w><w>it</w><w>saves</w><w>the</w><w>place</w><w>names</w><w>to</w><w>a</w><w>text</w><w>file</w><w>instead</w><w>of</w><w>printing</w><w>them</w><w>to</w><w>your</w><w>screen</w><pc>.</pc></s><s xml:id="s_BtJdOq" corresp="{'mineria-de-datos-en-internet-archive': ['s_22onR4']}"><w>You</w><w>could</w><w>then</w><w>use</w><w>the</w><ref target="/lessons/counting-frequencies"><w>Counting</w><w>Frequencies</w></ref><w>lesson</w><w>to</w><w>figure</w><w>out</w><w>which</w><w>place</w><w>names</w><w>are</w><w>most</w><w>common</w><w>in</w><w>the</w><w>collection</w><pc>.</pc></s><s xml:id="s_z4DGd4" corresp="{'mineria-de-datos-en-internet-archive': ['s_htUtzg']}"><w>You</w><w>could</w><w>work</w><w>with</w><w>the</w><w>place</w><w>names</w><w>to</w><w>find</w><w>coordinates</w><w>that</w><w>could</w><w>be</w><w>placed</w><w>on</w><w>a</w><w>map</w><w>using</w><w>the</w><ref target="/lessons/googlemaps-googleearth"><w>Google</w><w>Maps</w><w>lesson</w></ref><pc>.</pc></s></p><p><s xml:id="s_KmYNxZ" corresp="{'mineria-de-datos-en-internet-archive': ['s_GyFnaT']}"><w>Or</w><w>,</w><w>to</w><w>get</w><w>a</w><w>very</w><w>rough</w><w>visual</w><w>sense</w><w>of</w><w>the</w><w>places</w><w>where</w><w>letters</w><w>were</w><w>written</w><w>,</w><w>you</w><w>could</w><w>do</w><w>what</w><w>I</w><w>'ve</w><w>done</w><w>below</w><w>and</w><w>simply</w><w>make</w><w>a</w><ref target="https://web.archive.org/web/20201202151557/http://www.wordle.net/"><w>Wordle</w><w>word</w><w>cloud</w></ref><w>of</w><w>the</w><w>text</w><w>file</w><pc>.</pc></s></p><figure><desc><s xml:id="s_DwgLan" corresp="{'mineria-de-datos-en-internet-archive': ['s_Tp01u2']}"><w>Wordle</w><w>wordcloud</w><w>of</w><w>places</w><w>of</w><w>publication</w><w>for</w><w>abolitionist</w><w>letters</w></s></desc><graphic url="bpl-wordle.png"/></figure><p><s xml:id="s_AsPlg2" corresp="{'mineria-de-datos-en-internet-archive': ['s_0Tuacj']}"><w>Of</w><w>course</w><w>,</w><w>to</w><w>make</w><w>such</w><w>techniques</w><w>useful</w><w>would</w><w>require</w><w>more</w><ref target="/lessons/cleaning-ocrd-text-with-regular-expressions"><w>cleaning</w><w>of</w><w>your</w><w>data</w></ref><pc>.</pc></s><s xml:id="s_CeXE8B" corresp="{'mineria-de-datos-en-internet-archive': ['s_g52y1A']}"><w>And</w><w>other</w><w>applications</w><w>of</w><w>this</w><w>lesson</w><w>may</w><w>prove</w><w>more</w><w>useful</w><pc>.</pc></s><s xml:id="s_sUEotm" corresp="{'mineria-de-datos-en-internet-archive': ['s_btjWoD']}"><w>For</w><w>example</w><w>,</w><w>working</w><w>with</w><w>the</w><w>MARC</w><w>data</w><w>fields</w><w>for</w><w>personal</w><w>names</w><w>,</w><w>you</w><w>could</w><w>create</w><w>a</w><w>network</w><w>of</w><w>correspondents</w><pc>.</pc></s><s xml:id="s_VHtwvD"><w>Or</w><w>you</w><w>could</w><w>analyze</w><w>which</w><w>subjects</w><w>are</w><w>common</w><w>in</w><w>the</w><w>MARC</w><w>records</w><pc>.</pc></s><s xml:id="s_ctz4dj" corresp="{'mineria-de-datos-en-internet-archive': ['s_xbghvj']}"><w>Now</w><w>that</w><w>you</w><w>have</w><w>the</w><w>MARC</w><w>records</w><w>downloaded</w><w>and</w><w>can</w><w>use</w><code rend="inline"><w>pymarc</w></code><w>to</w><w>extract</w><w>information</w><w>from</w><w>the</w><w>fields</w><w>,</w><w>the</w><w>possibilities</w><w>can</w><w>multiply</w><w>rapidly</w><pc>!</pc></s></p></div></body>
    </text>
</TEI>
