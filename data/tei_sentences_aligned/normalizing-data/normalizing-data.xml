<TEI xmlns="http://www.tei-c.org/ns/1.0" xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="normalizing-data" type="original">
    <teiHeader>
        <fileDesc>
            <titleStmt>
                <title>Normalizing Textual Data with Python</title>
                <author role="original_author">
                    <persName>William J. Turkel</persName>
                    <persName>Adam Crymble</persName>
                </author>
                <editor role="reviewers">
                    <persName>Jim Clifford</persName>
                    <persName>Francesca Benatti</persName>
                    <persName>Frederik Elwert</persName>
                </editor>
                <editor role="editors">Miriam Posner</editor>
            </titleStmt>
            <publicationStmt>
                <distributor>Programming Historian</distributor>
                <idno type="doi">10.46430/phen0014</idno>
                <date type="published">07/17/2012</date>
            </publicationStmt>
            <sourceDesc>
                <p>Born digital, in a markdown format. This lesson is original. Available translations are the following:<ref type="translations" target="#normalizacao-dados-textuais-python #normalizar-datos"/>
                </p>
            </sourceDesc>
        </fileDesc>
        <profileDesc>
            <abstract>
                <p>In this lesson, we will make the list we created in the 'From HTML to a List of Words' lesson easier to analyze by normalizing this data.</p>
            </abstract>
            <textClass>
                <keywords>
                    <term xml:lang="en">python</term>
                </keywords>
            </textClass>
        </profileDesc>
    </teiHeader>
    <text xml:lang="en">
        <body><div type="2" n="1"><head><s xml:id="s_cwAnFS" corresp="{'normalizacao-dados-textuais-python': ['s_odhKvc'], 'normalizar-datos': ['s_b4tEql']}"><w>Lesson</w><w>Goals</w></s></head><p><s xml:id="s_u9lCYk" corresp="{'normalizacao-dados-textuais-python': ['s_Mkvhkp'], 'normalizar-datos': ['s_GdSlYu']}"><w>The</w><w>list</w><w>that</w><w>we</w><w>created</w><w>in</w><w>the</w><ref target="/lessons/from-html-to-list-of-words-2"><w>From</w><w>HTML</w><w>to</w><w>a</w><w>List</w><w>of</w><w>Words</w><w>(</w><w>2</w><w>)</w></ref><w>needs</w><w>some</w><emph><w>normalizing</w></emph><w>before</w><w>it</w><w>can</w><w>be</w><w>used</w><w>further</w><pc>.</pc></s><s xml:id="s_rMw52z" corresp="{'normalizacao-dados-textuais-python': ['s_dKx37R'], 'normalizar-datos': ['s_kVgbKl']}"><w>We</w><w>are</w><w>going</w><w>to</w><w>do</w><w>this</w><w>by</w><w>applying</w><w>additional</w><w>string</w><w>methods</w><w>,</w><w>as</w><w>well</w><w>as</w><w>by</w><w>using</w><emph><w>regular</w></emph><emph><w>expressions</w></emph><pc>.</pc></s><s xml:id="s_UqGmFO" corresp="{'normalizacao-dados-textuais-python': ['s_l06e65'], 'normalizar-datos': ['s_mhk4tS']}"><w>Once</w><w>normalized</w><w>,</w><w>we</w><w>will</w><w>be</w><w>able</w><w>to</w><w>more</w><w>easily</w><w>analyze</w><w>our</w><w>data</w><pc>.</pc></s></p></div><div type="2" n="2"><head><s xml:id="s_rU8yGW" corresp="{'normalizacao-dados-textuais-python': ['s_iLLWwe'], 'normalizar-datos': ['s_Nl5nSp']}"><w>Files</w><w>Needed</w><w>For</w><w>This</w><w>Lesson</w></s></head><list type="unordered"><item><emph><w>html-to-list-1.py</w></emph></item><item><emph><w>obo.py</w></emph></item></list><p><s xml:id="s_1uoFsF" corresp="{'normalizacao-dados-textuais-python': ['s_qsHlC7'], 'normalizar-datos': ['s_FHNRwy']}"><w>If</w><w>you</w><w>do</w><w>not</w><w>have</w><w>these</w><w>files</w><w>from</w><w>the</w><w>previous</w><w>lesson</w><w>,</w><w>you</w><w>can</w><w>download</w><w>a</w><ref target="/assets/python-lessons3.zip"><w>zip</w></ref></s></p></div><div type="2" n="3"><head><s xml:id="s_67WRS6" corresp="{'normalizacao-dados-textuais-python': ['s_YiNst8'], 'normalizar-datos': ['s_mzWBxT']}"><w>Cleaning</w><w>up</w><w>the</w><w>List</w></s></head><p><s xml:id="s_q49sZ1" corresp="{'normalizacao-dados-textuais-python': ['s_zYA1Q0'], 'normalizar-datos': ['s_WYitBD']}"><w>In</w><ref target="/lessons/from-html-to-list-of-words-2"><w>From</w><w>HTML</w><w>to</w><w>a</w><w>List</w><w>of</w><w>Words</w><w>(</w><w>2</w><w>)</w></ref><w>,</w><w>we</w><w>wrote</w><w>a</w><w>Python</w><w>program</w><w>called</w><emph><w>html-to-list-1.py</w></emph><w>which</w><w>downloaded</w><w>a</w><ref target="http://www.oldbaileyonline.org/browse.jsp?id=t17800628-33&amp;div=t17800628-33"><w>web</w><w>page</w></ref><w>,</w><w>stripped</w><w>out</w><w>the</w><w>HTML</w><w>formatting</w><w>and</w><w>metadata</w><w>and</w><w>returned</w><w>a</w><w>list</w><w>of</w><w>“</w><w>words</w><w>”</w><w>like</w><w>the</w><w>one</w><w>shown</w><w>below</w><pc>.</pc></s><s xml:id="s_vP0qKI" corresp="{'normalizacao-dados-textuais-python': ['s_jk798O'], 'normalizar-datos': ['s_yX4qFr']}"><w>Technically</w><w>,</w><w>these</w><w>entities</w><w>are</w><w>called</w><w>“</w><emph><w>tokens</w></emph><w>”</w><w>rather</w><w>than</w><w>“</w><w>words</w><w>”</w><pc>.</pc></s><s xml:id="s_br0Z9o" corresp="{'normalizacao-dados-textuais-python': ['s_b4BJ3J'], 'normalizar-datos': ['s_dbbnNx']}"><w>They</w><w>include</w><w>some</w><w>things</w><w>that</w><w>are</w><w>,</w><w>strictly</w><w>speaking</w><w>,</w><w>not</w><w>words</w><w>at</w><w>all</w><w>(</w><w>like</w><w>the</w><w>abbreviation</w><w>&amp;</w><w>c.</w><w>for</w><w>“</w><w>etcetera</w><w>”</w><w>)</w><pc>.</pc></s><s xml:id="s_wBC8BE" corresp="{'normalizacao-dados-textuais-python': ['s_oeCEPh'], 'normalizar-datos': ['s_qcxngx']}"><w>They</w><w>also</w><w>include</w><w>some</w><w>things</w><w>that</w><w>may</w><w>be</w><w>considered</w><w>composites</w><w>of</w><w>more</w><w>than</w><w>one</w><w>word</w><pc>.</pc></s><s xml:id="s_3sKYQl" corresp="{'normalizacao-dados-textuais-python': ['s_a500f5'], 'normalizar-datos': ['s_i7g9nW']}"><w>The</w><w>possessive</w><w>“</w><w>Akerman</w><w>’</w><w>s</w><w>,</w><w>”</w><w>for</w><w>example</w><w>,</w><w>is</w><w>sometimes</w><w>analyzed</w><w>by</w><w>linguists</w><w>as</w><w>two</w><w>words</w><w>:</w><w>“</w><w>Akerman</w><w>”</w><w>plus</w><w>a</w><w>possessive</w><w>marker</w><pc>.</pc></s><s xml:id="s_RjowZo" corresp="{'normalizacao-dados-textuais-python': ['s_yOzmIf'], 'normalizar-datos': ['s_w44Evm']}"><w>Is</w><w>“</w><w>o</w><w>’</w><w>clock</w><w>”</w><w>one</w><w>word</w><w>or</w><w>two</w><pc>?</pc></s><s xml:id="s_EpSmVl" corresp="{'normalizacao-dados-textuais-python': ['s_kHdl6L'], 'normalizar-datos': ['s_nKyZDe']}"><w>And</w><w>so</w><w>on</w><pc>.</pc></s></p><p><s xml:id="s_YPqdSV" corresp="{'normalizacao-dados-textuais-python': ['s_7mC6ky'], 'normalizar-datos': ['s_59yi0s']}"><w>Turn</w><w>back</w><w>to</w><w>your</w><w>program</w><emph><w>html-to-list-1.py</w></emph><w>and</w><w>make</w><w>sure</w><w>that</w><w>your</w><w>results</w><w>look</w><w>something</w><w>like</w><w>this</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_normalizing-data_0" corresp="code_normalizing-data_0.txt" rend="block"/></ab><p><s xml:id="s_IMsy5U" corresp="{'normalizacao-dados-textuais-python': ['s_KmOIXC'], 'normalizar-datos': ['s_my1str']}"><w>By</w><w>itself</w><w>,</w><w>this</w><w>ability</w><w>to</w><w>separate</w><w>the</w><w>document</w><w>into</w><w>words</w><w>doesn</w><w>’</w><w>t</w><w>buy</w><w>us</w><w>much</w><w>because</w><w>we</w><w>already</w><w>know</w><w>how</w><w>to</w><w>read</w><pc>.</pc></s><s xml:id="s_G3EOHJ" corresp="{'normalizacao-dados-textuais-python': ['s_Bfhs1L'], 'normalizar-datos': ['s_qUcnlt']}"><w>We</w><w>can</w><w>use</w><w>the</w><w>text</w><w>,</w><w>however</w><w>,</w><w>to</w><w>do</w><w>things</w><w>that</w><w>aren</w><w>’</w><w>t</w><w>usually</w><w>possible</w><w>without</w><w>special</w><w>software</w><pc>.</pc></s><s xml:id="s_FyLOJL" corresp="{'normalizacao-dados-textuais-python': ['s_PpTwha'], 'normalizar-datos': ['s_YXdNc2']}"><w>We</w><w>’</w><w>re</w><w>going</w><w>to</w><w>start</w><w>by</w><w>computing</w><w>the</w><w>frequencies</w><w>of</w><w>tokens</w><w>and</w><w>other</w><w>linguistic</w><w>units</w><w>,</w><w>a</w><w>classic</w><w>measure</w><w>of</w><w>a</w><w>text</w><pc>.</pc></s></p><p><s xml:id="s_8tmUWy" corresp="{'normalizacao-dados-textuais-python': ['s_OSIh7h'], 'normalizar-datos': ['s_GC2HJ1']}"><w>It</w><w>is</w><w>clear</w><w>that</w><w>our</w><w>list</w><w>is</w><w>going</w><w>to</w><w>need</w><w>some</w><w>cleaning</w><w>up</w><w>before</w><w>we</w><w>can</w><w>use</w><w>it</w><w>to</w><w>count</w><w>frequencies</w><pc>.</pc></s><s xml:id="s_nBgVmN" corresp="{'normalizacao-dados-textuais-python': ['s_iOrZn2'], 'normalizar-datos': ['s_RVsVhd']}"><w>In</w><w>keeping</w><w>with</w><w>the</w><w>practices</w><w>established</w><w>in</w><ref target="/lessons/from-html-to-list-of-words-1"><w>From</w><w>HTML</w><w>to</w><w>a</w><w>List</w><w>of</w><w>Words</w><w>(</w><w>1</w><w>)</w></ref><w>,</w><w>let</w><w>’</w><w>s</w><w>try</w><w>to</w><w>describe</w><w>our</w><w>algorithm</w><w>in</w><w>plain</w><w>English</w><w>first</w><pc>.</pc></s><s xml:id="s_weQ47t" corresp="{'normalizacao-dados-textuais-python': ['s_6ga4Vf'], 'normalizar-datos': ['s_3vnUgS']}"><w>We</w><w>want</w><w>to</w><w>know</w><w>the</w><w>frequency</w><w>of</w><w>each</w><w>meaningful</w><w>word</w><w>that</w><w>appears</w><w>in</w><w>the</w><w>trial</w><w>transcript</w><pc>.</pc></s><s xml:id="s_Wany3e" corresp="{'normalizacao-dados-textuais-python': ['s_uFVSHP'], 'normalizar-datos': ['s_t5HgGn']}"><w>So</w><w>,</w><w>the</w><w>steps</w><w>involved</w><w>might</w><w>look</w><w>like</w><w>this</w><w>:</w></s></p><list type="unordered"><item><s xml:id="s_ISgyKR" corresp="{'normalizacao-dados-textuais-python': ['s_1IW6RX'], 'normalizar-datos': ['s_ss9gmR']}"><w>Convert</w><w>all</w><w>words</w><w>to</w><w>lower</w><w>case</w><w>so</w><w>that</w><w>“</w><w>BENJAMIN</w><w>”</w><w>and</w><w>“</w><w>benjamin</w><w>”</w><w>are</w><w>counted</w><w>as</w><w>the</w><w>same</w><w>word</w></s></item><item><s xml:id="s_rkoIIK" corresp="{'normalizacao-dados-textuais-python': ['s_ApoctW'], 'normalizar-datos': ['s_c8kPY9']}"><w>Remove</w><w>any</w><w>strange</w><w>or</w><w>unusual</w><w>characters</w></s></item><item><s xml:id="s_YeI4Bq" corresp="{'normalizacao-dados-textuais-python': ['s_1STSvL'], 'normalizar-datos': ['s_TeeE07']}"><w>Count</w><w>the</w><w>number</w><w>of</w><w>times</w><w>each</w><w>word</w><w>appears</w></s></item><item><s xml:id="s_eEOf3f" corresp="{'normalizacao-dados-textuais-python': ['s_bAN5X7'], 'normalizar-datos': ['s_CBm6aa']}"><w>Remove</w><w>overly</w><w>common</w><w>words</w><w>such</w><w>as</w><w>“</w><w>it</w><w>”</w><w>,</w><w>“</w><w>the</w><w>”</w><w>,</w><w>“</w><w>and</w><w>”</w><w>,</w><w>etc</w><pc>.</pc></s></item></list></div><div type="2" n="4"><head><s xml:id="s_IoTel1" corresp="{'normalizacao-dados-textuais-python': ['s_sSYsTN'], 'normalizar-datos': ['s_dtgd8N']}"><w>Convert</w><w>to</w><w>Lower</w><w>Case</w></s></head><p><s xml:id="s_bY5vEy" corresp="{'normalizacao-dados-textuais-python': ['s_G35Udz'], 'normalizar-datos': ['s_zFiCZC']}"><w>Typically</w><w>tokens</w><w>are</w><emph><w>folded</w></emph><w>to</w><w>lower</w><w>case</w><w>when</w><w>counting</w><w>frequencies</w><w>,</w><w>so</w><w>we</w><w>’</w><w>ll</w><w>do</w><w>that</w><w>using</w><w>the</w><w>string</w><w>method</w><w>lower</w><w>which</w><w>was</w><w>introduced</w><w>in</w><ref target="/lessons/manipulating-strings-in-python"><w>Manipulating</w><w>Strings</w><w>in</w><w>Python</w></ref><pc>.</pc></s><s xml:id="s_mUavQj" corresp="{'normalizacao-dados-textuais-python': ['s_qbZ84a'], 'normalizar-datos': ['s_gbHiy9']}"><w>Since</w><w>this</w><w>is</w><w>a</w><w>string</w><w>method</w><w>we</w><w>will</w><w>have</w><w>to</w><w>apply</w><w>it</w><w>to</w><w>the</w><w>string</w><w>:</w><emph><w>text</w></emph><w>in</w><w>the</w><emph><w>html-to-list1.py</w></emph><w>program</w><pc>.</pc></s><s xml:id="s_w0PYEr" corresp="{'normalizacao-dados-textuais-python': ['s_S5Zcjg'], 'normalizar-datos': ['s_PJLjQv']}"><w>Amend</w><emph><w>html-to-list1.py</w></emph><w>by</w><w>adding</w><w>the</w><w>string</w><w>tag</w><code rend="inline"><w>lower</w><w>(</w><w>)</w></code><w>to</w><w>the</w><w>the</w><w>end</w><w>of</w><w>the</w><emph><w>text</w></emph><w>string</w><pc>.</pc></s></p><ab><code lang="language-python" xml:id="code_normalizing-data_1" corresp="code_normalizing-data_1.txt" rend="block"/></ab><p><s xml:id="s_fzql1d" corresp="{'normalizacao-dados-textuais-python': ['s_ZisLQE'], 'normalizar-datos': ['s_lZta2V']}"><w>You</w><w>should</w><w>now</w><w>see</w><w>the</w><w>same</w><w>list</w><w>of</w><w>words</w><w>as</w><w>before</w><w>,</w><w>but</w><w>with</w><w>all</w><w>characters</w><w>changed</w><w>to</w><w>lower</w><w>case</w><pc>.</pc></s></p><p><s xml:id="s_z3fgvP" corresp="{'normalizacao-dados-textuais-python': ['s_WQYJKn'], 'normalizar-datos': ['s_xsA6AX']}"><w>By</w><w>calling</w><w>methods</w><w>one</w><w>after</w><w>another</w><w>like</w><w>this</w><w>,</w><w>we</w><w>can</w><w>keep</w><w>our</w><w>code</w><w>short</w><w>and</w><w>make</w><w>some</w><w>pretty</w><w>significant</w><w>changes</w><w>to</w><w>our</w><w>program</w><pc>.</pc></s></p><p><s xml:id="s_DSxGH6" corresp="{'normalizacao-dados-textuais-python': ['s_PvoK9Z'], 'normalizar-datos': ['s_MpPmUS']}"><w>Like</w><w>we</w><w>said</w><w>before</w><w>,</w><w>Python</w><w>makes</w><w>it</w><w>easy</w><w>to</w><w>do</w><w>a</w><w>lot</w><w>with</w><w>very</w><w>little</w><w>code</w><pc>!</pc></s></p><p><s xml:id="s_IMGN1x" corresp="{'normalizacao-dados-textuais-python': ['s_FE33OB'], 'normalizar-datos': ['s_PFbP1X']}"><w>At</w><w>this</w><w>point</w><w>,</w><w>we</w><w>might</w><w>look</w><w>through</w><w>a</w><w>number</w><w>of</w><w>other</w><emph><w>Old</w><w>Bailey</w><w>Online</w></emph><w>entries</w><w>and</w><w>a</w><w>wide</w><w>range</w><w>of</w><w>other</w><w>potential</w><w>sources</w><w>to</w><w>make</w><w>sure</w><w>that</w><w>there</w><w>aren</w><w>’</w><w>t</w><w>other</w><w>special</w><w>characters</w><w>that</w><w>are</w><w>going</w><w>to</w><w>cause</w><w>problems</w><w>later</w><pc>.</pc></s><s xml:id="s_Hqs545" corresp="{'normalizacao-dados-textuais-python': ['s_HQZ93U'], 'normalizar-datos': ['s_Su19Pc']}"><w>We</w><w>might</w><w>also</w><w>try</w><w>to</w><w>anticipate</w><w>situations</w><w>where</w><w>we</w><w>don</w><w>’</w><w>t</w><w>want</w><w>to</w><w>get</w><w>rid</w><w>of</w><w>punctuation</w><w>(</w><w>e.g.</w><w>,</w><w>distinguishing</w><w>monetary</w><w>amounts</w><w>like</w><w>“</w><w>$</w><w>1629</w><w>”</w><w>or</w><w>“</w><w>£1295</w><w>”</w><w>from</w><w>dates</w><w>,</w><w>or</w><w>recognizing</w><w>that</w><w>“</w><w>1629-40</w><w>”</w><w>has</w><w>a</w><w>different</w><w>meaning</w><w>than</w><w>“</w><w>1629</w><w>40</w><w>”</w><pc>.</pc></s><s xml:id="s_ViDYR9" corresp="{'normalizacao-dados-textuais-python': ['s_4Vr08s'], 'normalizar-datos': ['s_4krycP']}"><w>)</w><w>This</w><w>is</w><w>what</w><w>professional</w><w>programmers</w><w>get</w><w>paid</w><w>to</w><w>do</w><w>:</w><w>try</w><w>to</w><w>think</w><w>of</w><w>everything</w><w>that</w><w>might</w><w>go</w><w>wrong</w><w>and</w><w>deal</w><w>with</w><w>it</w><w>in</w><w>advance</w><pc>.</pc></s></p><p><s xml:id="s_6AUSPG" corresp="{'normalizacao-dados-textuais-python': ['s_2Dxjee'], 'normalizar-datos': ['s_GVSf2y']}"><w>We</w><w>’</w><w>re</w><w>going</w><w>to</w><w>take</w><w>a</w><w>different</w><w>approach</w><pc>.</pc></s><s xml:id="s_M3VJFJ" corresp="{'normalizacao-dados-textuais-python': ['s_zRjvmz'], 'normalizar-datos': ['s_X7tDmw']}"><w>Our</w><w>main</w><w>goal</w><w>is</w><w>to</w><w>develop</w><w>techniques</w><w>that</w><w>a</w><w>working</w><w>historian</w><w>can</w><w>use</w><w>during</w><w>the</w><w>research</w><w>process</w><pc>.</pc></s><s xml:id="s_piXAEh" corresp="{'normalizacao-dados-textuais-python': ['s_Pf2wIN'], 'normalizar-datos': ['s_SFfFSK']}"><w>This</w><w>means</w><w>that</w><w>we</w><w>will</w><w>almost</w><w>always</w><w>prefer</w><w>approximately</w><w>correct</w><w>solutions</w><w>that</w><w>can</w><w>be</w><w>developed</w><w>quickly</w><pc>.</pc></s><s xml:id="s_6y2yUv" corresp="{'normalizacao-dados-textuais-python': ['s_8xFPdU'], 'normalizar-datos': ['s_254PVs']}"><w>So</w><w>rather</w><w>than</w><w>taking</w><w>the</w><w>time</w><w>now</w><w>to</w><w>make</w><w>our</w><w>program</w><w>robust</w><w>in</w><w>the</w><w>face</w><w>of</w><w>exceptions</w><w>,</w><w>we</w><w>’</w><w>re</w><w>simply</w><w>going</w><w>to</w><w>get</w><w>rid</w><w>of</w><w>anything</w><w>that</w><w>isn</w><w>’</w><w>t</w><w>an</w><w>accented</w><w>or</w><w>unaccented</w><w>letter</w><w>or</w><w>an</w><w>Arabic</w><w>numeral</w><pc>.</pc></s><s xml:id="s_pSZ75c" corresp="{'normalizacao-dados-textuais-python': ['s_KNZ4t3'], 'normalizar-datos': ['s_BhMbiC']}"><w>Programming</w><w>is</w><w>typically</w><w>a</w><w>process</w><w>of</w><w>“</w><w>stepwise</w><w>refinement</w><w>”</w><pc>.</pc></s><s xml:id="s_KeJxXT" corresp="{'normalizacao-dados-textuais-python': ['s_Xlfrhi'], 'normalizar-datos': ['s_1rmi5I']}"><w>You</w><w>start</w><w>with</w><w>a</w><w>problem</w><w>and</w><w>part</w><w>of</w><w>a</w><w>solution</w><w>,</w><w>and</w><w>then</w><w>you</w><w>keep</w><w>refining</w><w>your</w><w>solution</w><w>until</w><w>you</w><w>have</w><w>something</w><w>that</w><w>works</w><w>better</w><pc>.</pc></s></p></div><div type="2" n="5"><head><s xml:id="s_baQ5fK" corresp="{'normalizacao-dados-textuais-python': ['s_Ls71tg'], 'normalizar-datos': ['s_dDHZb7']}"><w>Python</w><w>Regular</w><w>Expressions</w></s></head><p><s xml:id="s_ejDYMP" corresp="{'normalizacao-dados-textuais-python': ['s_A8ej7a'], 'normalizar-datos': ['s_iQjCPB']}"><w>We</w><w>’</w><w>ve</w><w>eliminated</w><w>upper</w><w>case</w><w>letters</w><pc>.</pc></s><s xml:id="s_xbIuCt" corresp="{'normalizacao-dados-textuais-python': ['s_fwy3Uo'], 'normalizar-datos': ['s_c4R2zH']}"><w>That</w><w>just</w><w>leaves</w><w>all</w><w>the</w><w>punctuation</w><w>to</w><w>get</w><w>rid</w><w>of</w><pc>.</pc></s><s xml:id="s_lYEwSD" corresp="{'normalizacao-dados-textuais-python': ['s_XhDtk7'], 'normalizar-datos': ['s_S3jWuW']}"><w>Punctuation</w><w>will</w><w>throw</w><w>off</w><w>our</w><w>frequency</w><w>counts</w><w>if</w><w>we</w><w>leave</w><w>them</w><w>in</w><pc>.</pc></s><s xml:id="s_KgfsGp" corresp="{'normalizacao-dados-textuais-python': ['s_sg3PRG'], 'normalizar-datos': ['s_sLb0hh']}"><w>We</w><w>want</w><w>“</w><w>evening</w><pc>?</pc></s><s xml:id="s_bLZW6t" corresp="{'normalizacao-dados-textuais-python': ['s_X8Ps5d', 's_isPgUF'], 'normalizar-datos': ['s_fN1FXA', 's_DYGEg5']}"><w>”</w><w>to</w><w>be</w><w>counted</w><w>as</w><w>“</w><w>evening</w><w>”</w><w>and</w><w>“</w><w>1780.</w><w>”</w><w>as</w><w>“</w><w>1780</w><w>”</w><w>,</w><w>of</w><w>course</w><pc>.</pc></s></p><p><s xml:id="s_mvVBIS" corresp="{'normalizacao-dados-textuais-python': ['s_1OV6Jy', 's_mVTmIG'], 'normalizar-datos': ['s_kn5drf']}"><w>It</w><w>is</w><w>possible</w><w>to</w><w>use</w><w>the</w><w>replace</w><w>string</w><w>method</w><w>to</w><w>remove</w><w>each</w><w>type</w><w>of</w><w>punctuation</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_normalizing-data_2" corresp="code_normalizing-data_2.txt" rend="block"/></ab><p><s xml:id="s_Yvhl5K" corresp="{'normalizacao-dados-textuais-python': ['s_N150LD'], 'normalizar-datos': ['s_ipHjsx']}"><w>But</w><w>that</w><w>’</w><w>s</w><w>not</w><w>very</w><w>efficient</w><pc>.</pc></s><s xml:id="s_QFYBuf" corresp="{'normalizacao-dados-textuais-python': ['s_oolFIB'], 'normalizar-datos': ['s_HFEhzj']}"><w>In</w><w>keeping</w><w>with</w><w>our</w><w>goal</w><w>of</w><w>creating</w><w>short</w><w>,</w><w>powerful</w><w>programs</w><w>,</w><w>we</w><w>’</w><w>re</w><w>going</w><w>to</w><w>use</w><w>a</w><w>mechanism</w><w>called</w><emph><w>regular</w></emph><emph><w>expressions</w></emph><pc>.</pc></s><s xml:id="s_glUug0" corresp="{'normalizacao-dados-textuais-python': ['s_jArqO2'], 'normalizar-datos': ['s_CmLupY']}"><w>Regular</w><w>expressions</w><w>are</w><w>provided</w><w>by</w><w>many</w><w>programming</w><w>languages</w><w>in</w><w>a</w><w>range</w><w>of</w><w>different</w><w>forms</w><pc>.</pc></s></p><p><s xml:id="s_6B1MXY" corresp="{'normalizacao-dados-textuais-python': ['s_5yJL72'], 'normalizar-datos': ['s_A6wMGX']}"><w>Regular</w><w>expressions</w><w>allow</w><w>you</w><w>to</w><w>search</w><w>for</w><w>well</w><w>defined</w><w>patterns</w><w>and</w><w>can</w><w>drastically</w><w>shorten</w><w>the</w><w>length</w><w>of</w><w>your</w><w>code</w><pc>.</pc></s><s xml:id="s_vgWho1" corresp="{'normalizacao-dados-textuais-python': ['s_fZAyZk'], 'normalizar-datos': ['s_45PLAU']}"><w>For</w><w>instance</w><w>,</w><w>if</w><w>you</w><w>wanted</w><w>to</w><w>know</w><w>if</w><w>a</w><w>substring</w><w>matched</w><w>a</w><w>letter</w><w>of</w><w>the</w><w>alphabet</w><w>,</w><w>rather</w><w>than</w><w>use</w><w>an</w><w>if/else</w><w>statement</w><w>to</w><w>check</w><w>if</w><w>it</w><w>matched</w><w>the</w><w>letter</w><w>“</w><w>a</w><w>”</w><w>then</w><w>“</w><w>b</w><w>”</w><w>then</w><w>“</w><w>c</w><w>”</w><w>,</w><w>and</w><w>so</w><w>on</w><w>,</w><w>you</w><w>could</w><w>use</w><w>a</w><w>regular</w><w>expression</w><w>to</w><w>see</w><w>if</w><w>the</w><w>substring</w><w>matched</w><w>a</w><w>letter</w><w>between</w><w>“</w><w>a</w><w>”</w><w>and</w><w>“</w><w>z</w><w>”</w><pc>.</pc></s><s xml:id="s_XNfBkL" corresp="{'normalizacao-dados-textuais-python': ['s_kY4njr'], 'normalizar-datos': ['s_nNNMLV']}"><w>Or</w><w>,</w><w>you</w><w>could</w><w>check</w><w>for</w><w>the</w><w>presence</w><w>of</w><w>a</w><w>digit</w><w>,</w><w>or</w><w>a</w><w>capital</w><w>letter</w><w>,</w><w>or</w><w>any</w><w>alphanumeric</w><w>character</w><w>,</w><w>or</w><w>a</w><w>carriage</w><w>return</w><w>,</w><w>or</w><w>any</w><w>combination</w><w>of</w><w>the</w><w>above</w><w>,</w><w>and</w><w>more</w><pc>.</pc></s></p><p><s xml:id="s_Tscqdt" corresp="{'normalizacao-dados-textuais-python': ['s_7yAKVN'], 'normalizar-datos': ['s_NK2YzA']}"><w>In</w><w>Python</w><w>,</w><w>regular</w><w>expressions</w><w>are</w><w>available</w><w>as</w><w>a</w><w>Python</w><w>module</w><pc>.</pc></s><s xml:id="s_ioRgYw" corresp="{'normalizacao-dados-textuais-python': ['s_tMnb6F'], 'normalizar-datos': ['s_BEbTjY']}"><w>To</w><w>speed</w><w>up</w><w>processing</w><w>it</w><w>is</w><w>not</w><w>loaded</w><w>automatically</w><w>because</w><w>not</w><w>all</w><w>programs</w><w>require</w><w>it</w><pc>.</pc></s><s xml:id="s_nD2QPf" corresp="{'normalizacao-dados-textuais-python': ['s_Hro0R0'], 'normalizar-datos': ['s_SM0gaS']}"><w>So</w><w>,</w><w>you</w><w>will</w><w>have</w><w>to</w><code rend="inline"><w>import</w></code><w>the</w><w>module</w><w>(</w><w>called</w><emph><w>re</w></emph><w>)</w><w>in</w><w>the</w><w>same</w><w>way</w><w>that</w><w>you</w><w>imported</w><w>your</w><emph><w>obo.py</w></emph><w>module</w><pc>.</pc></s></p><p><s xml:id="s_dStW97" corresp="{'normalizacao-dados-textuais-python': ['s_k6mM21'], 'normalizar-datos': ['s_MFC1l5']}"><w>Since</w><w>we</w><w>’</w><w>re</w><w>interested</w><w>in</w><w>only</w><w>alphanumeric</w><w>characters</w><w>,</w><w>we</w><w>’</w><w>ll</w><w>create</w><w>a</w><w>regular</w><w>expression</w><w>that</w><w>will</w><w>isolate</w><w>only</w><w>these</w><w>and</w><w>remove</w><w>the</w><w>rest</w><pc>.</pc></s><s xml:id="s_RYOLCs" corresp="{'normalizacao-dados-textuais-python': ['s_7GnwMh'], 'normalizar-datos': ['s_FLIUiW']}"><w>Copy</w><w>the</w><w>following</w><w>function</w><w>and</w><w>paste</w><w>it</w><w>into</w><w>the</w><emph><w>obo.py</w></emph><w>module</w><w>at</w><w>the</w><w>end</w><pc>.</pc></s><s xml:id="s_v0T2Du" corresp="{'normalizacao-dados-textuais-python': ['s_IwuHYL'], 'normalizar-datos': ['s_bJXJvd']}"><w>You</w><w>can</w><w>leave</w><w>the</w><w>other</w><w>functions</w><w>in</w><w>the</w><w>module</w><w>alone</w><w>,</w><w>as</w><w>we</w><w>’</w><w>ll</w><w>continue</w><w>to</w><w>use</w><w>those</w><pc>.</pc></s></p><ab><code lang="language-python" xml:id="code_normalizing-data_3" corresp="code_normalizing-data_3.txt" rend="block"/></ab><p><s xml:id="s_AkWktE" corresp="{'normalizacao-dados-textuais-python': ['s_smxzK7'], 'normalizar-datos': ['s_9lDyOM']}"><w>The</w><w>regular</w><w>expression</w><w>in</w><w>the</w><w>above</w><w>code</w><w>is</w><w>the</w><w>material</w><w>inside</w><w>the</w><w>string</w><w>,</w><w>in</w><w>other</w><w>words</w><code rend="inline"><w>W+</w></code><pc>.</pc></s><s xml:id="s_U4Ftdu" corresp="{'normalizacao-dados-textuais-python': ['s_XCcVB3'], 'normalizar-datos': ['s_SiVl5l']}"><w>The</w><code rend="inline"><w>W</w></code><w>is</w><w>shorthand</w><w>for</w><w>the</w><w>class</w><w>of</w><emph><w>non-alphanumeric</w><w>characters</w></emph><pc>.</pc></s><s xml:id="s_SDlpB2" corresp="{'normalizacao-dados-textuais-python': ['s_bqabhN'], 'normalizar-datos': ['s_fq32A7']}"><w>In</w><w>a</w><w>Python</w><w>regular</w><w>expression</w><w>,</w><w>the</w><w>plus</w><w>sign</w><w>(</w><w>+</w><w>)</w><w>matches</w><w>one</w><w>or</w><w>more</w><w>copies</w><w>of</w><w>a</w><w>given</w><w>character</w><pc>.</pc></s><s xml:id="s_s7yQ4t" corresp="{'normalizacao-dados-textuais-python': ['s_cPP5qU'], 'normalizar-datos': ['s_wCnskN']}"><w>The</w><code rend="inline"><w>re.UNICODE</w></code><w>tells</w><w>the</w><w>interpreter</w><w>that</w><w>we</w><w>want</w><w>to</w><w>include</w><w>characters</w><w>from</w><w>the</w><w>world</w><w>’</w><w>s</w><w>other</w><w>languages</w><w>in</w><w>our</w><w>definition</w><w>of</w><w>“</w><w>alphanumeric</w><w>”</w><w>,</w><w>as</w><w>well</w><w>as</w><w>the</w><w>A</w><w>to</w><w>Z</w><w>,</w><w>a</w><w>to</w><w>z</w><w>and</w><w>0-9</w><w>of</w><w>English</w><pc>.</pc></s><s xml:id="s_UjUxJX" corresp="{'normalizacao-dados-textuais-python': ['s_s9GMQ0'], 'normalizar-datos': ['s_jRNhej']}"><w>Regular</w><w>expressions</w><w>have</w><w>to</w><w>be</w><emph><w>compiled</w></emph><w>before</w><w>they</w><w>can</w><w>be</w><w>used</w><w>,</w><w>which</w><w>is</w><w>what</w><w>the</w><w>rest</w><w>of</w><w>the</w><w>statement</w><w>does</w><pc>.</pc></s><s xml:id="s_1wSD97" corresp="{'normalizacao-dados-textuais-python': ['s_8HTyJa'], 'normalizar-datos': ['s_0dPiqJ']}"><w>Don</w><w>’</w><w>t</w><w>worry</w><w>about</w><w>understanding</w><w>the</w><w>compilation</w><w>part</w><w>right</w><w>now</w><pc>.</pc></s></p><p><s xml:id="s_V2sM0V" corresp="{'normalizacao-dados-textuais-python': ['s_8vhOQ7'], 'normalizar-datos': ['s_gmKl9q']}"><w>When</w><w>we</w><w>refine</w><w>our</w><emph><w>html-to-list1.py</w></emph><w>program</w><w>,</w><w>it</w><w>now</w><w>looks</w><w>like</w><w>this</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_normalizing-data_4" corresp="code_normalizing-data_4.txt" rend="block"/></ab><p><s xml:id="s_N1xWgb" corresp="{'normalizacao-dados-textuais-python': ['s_kq7opI'], 'normalizar-datos': ['s_spwLTV']}"><w>When</w><w>you</w><w>execute</w><w>the</w><w>program</w><w>and</w><w>look</w><w>through</w><w>its</w><w>output</w><w>in</w><w>the</w><w>“</w><w>Command</w><w>Output</w><w>”</w><w>pane</w><w>,</w><w>you</w><w>’</w><w>ll</w><w>see</w><w>that</w><w>it</w><w>has</w><w>done</w><w>a</w><w>pretty</w><w>good</w><w>job</w><pc>.</pc></s><s xml:id="s_RuFs6M" corresp="{'normalizacao-dados-textuais-python': ['s_SWNo8N'], 'normalizar-datos': ['s_lnw3Si']}"><w>This</w><w>code</w><w>will</w><w>split</w><w>hyphenated</w><w>forms</w><w>like</w><w>“</w><w>coach-wheels</w><w>”</w><w>into</w><w>two</w><w>words</w><w>and</w><w>turn</w><w>the</w><w>possessive</w><w>“</w><w>s</w><w>”</w><w>or</w><w>“</w><w>o</w><w>’</w><w>clock</w><w>”</w><w>into</w><w>separate</w><w>words</w><w>by</w><w>losing</w><w>the</w><w>apostrophe</w><pc>.</pc></s><s xml:id="s_sBNBfo" corresp="{'normalizacao-dados-textuais-python': ['s_1i3DPi'], 'normalizar-datos': ['s_g4ILPG']}"><w>But</w><w>it</w><w>is</w><w>a</w><w>good</w><w>enough</w><w>approximation</w><w>to</w><w>what</w><w>we</w><w>want</w><w>that</w><w>we</w><w>should</w><w>move</w><w>on</w><w>to</w><w>counting</w><w>frequencies</w><w>before</w><w>attempting</w><w>to</w><w>make</w><w>it</w><w>better</w><pc>.</pc></s><s xml:id="s_YmOFTU" corresp="{'normalizacao-dados-textuais-python': ['s_AwTAJB'], 'normalizar-datos': ['s_Y4M6N3']}"><w>(</w><w>If</w><w>you</w><w>work</w><w>with</w><w>sources</w><w>in</w><w>more</w><w>than</w><w>one</w><w>language</w><w>,</w><w>you</w><w>need</w><w>to</w><w>learn</w><w>more</w><w>about</w><w>the</w><ref target="http://unicode.org/"><w>Unicode</w></ref><w>standard</w><w>and</w><w>about</w><ref target="https://web.archive.org/web/20180502053841/http://www.diveintopython.net/xml_processing/unicode.html"><w>Python</w><w>support</w></ref><w>for</w><w>it</w><pc>.</pc></s><s xml:id="s_JNW2uT" corresp="{'normalizar-datos': ['s_pAG0DI']}"><w>)</w></s></p></div><div type="2" n="6"><head><s xml:id="s_HlrO2D" corresp="{'normalizacao-dados-textuais-python': ['s_SaV1Su'], 'normalizar-datos': ['s_bYeOWQ']}"><w>Suggested</w><w>Reading</w></s></head><p><s xml:id="s_HgPHUS" corresp="{'normalizacao-dados-textuais-python': ['s_FZVpGU'], 'normalizar-datos': ['s_mOzSf1']}"><w>For</w><w>extra</w><w>practice</w><w>with</w><w>Regular</w><w>Expressions</w><w>,</w><w>you</w><w>may</w><w>find</w><w>Chapter</w><w>7</w><w>of</w><w>Mark</w><w>Pilgrim</w><w>’</w><w>s</w><w>“</w><ref target="https://web.archive.org/web/20180416143856/http://www.diveintopython.net/regular_expressions/index.html"><w>Dive</w><w>into</w><w>Python</w></ref><w>”</w><w>a</w><w>useful</w><w>tutorial</w><pc>.</pc></s></p><div type="3" n="6.1"><head><s xml:id="s_vHpwii" corresp="{'normalizacao-dados-textuais-python': ['s_sFRUGo'], 'normalizar-datos': ['s_dW4g7x']}"><w>Code</w><w>Syncing</w></s></head><p><s xml:id="s_U74rNz" corresp="{'normalizacao-dados-textuais-python': ['s_opv2ZL'], 'normalizar-datos': ['s_JqZOZ0']}"><w>To</w><w>follow</w><w>along</w><w>with</w><w>future</w><w>lessons</w><w>it</w><w>is</w><w>important</w><w>that</w><w>you</w><w>have</w><w>the</w><w>right</w><w>files</w><w>and</w><w>programs</w><w>in</w><w>your</w><w>programming-historian</w><w>directory</w><pc>.</pc></s><s xml:id="s_SNFqmR" corresp="{'normalizacao-dados-textuais-python': ['s_NSDsnf'], 'normalizar-datos': ['s_GKgHPe']}"><w>At</w><w>the</w><w>end</w><w>of</w><w>each</w><w>chapter</w><w>in</w><w>this</w><w>series</w><w>you</w><w>can</w><w>download</w><w>the</w><w>programming-historian</w><w>zip</w><w>file</w><w>to</w><w>make</w><w>sure</w><w>you</w><w>have</w><w>the</w><w>correct</w><w>code</w><pc>.</pc></s></p><list type="unordered"><item><s xml:id="s_QJ0Iy5" corresp="{'normalizacao-dados-textuais-python': ['s_VvwIyg'], 'normalizar-datos': ['s_BOe3NU']}"><w>python-lessons4.zip</w><w>(</w><ref target="/assets/python-lessons4.zip"><w>zip</w><w>sync</w></ref><w>)</w></s></item></list></div></div></body>
    </text>
</TEI>
