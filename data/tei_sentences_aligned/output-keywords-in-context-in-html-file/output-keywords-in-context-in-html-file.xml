<TEI xmlns="http://www.tei-c.org/ns/1.0" xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="output-keywords-in-context-in-html-file" type="original">
    <teiHeader>
        <fileDesc>
            <titleStmt>
                <title>Output Keywords in Context in an HTML File with Python</title>
                <author role="original_author">
                    <persName>William J. Turkel</persName>
                    <persName>Adam Crymble</persName>
                </author>
                <editor role="reviewers">
                    <persName>Jim Clifford</persName>
                    <persName>Frederik Elwert</persName>
                </editor>
                <editor role="editors">Miriam Posner</editor>
            </titleStmt>
            <publicationStmt>
                <distributor>Programming Historian</distributor>
                <idno type="doi">10.46430/phen0016</idno>
                <date type="published">07/17/2012</date>
            </publicationStmt>
            <sourceDesc>
                <p>Born digital, in a markdown format. This lesson is original. Available translations are the following:<ref type="translations" target="#salida-palabras-clave-contexto-ngrams"/>
                </p>
            </sourceDesc>
        </fileDesc>
        <profileDesc>
            <abstract>
                <p>This lesson builds on 'Keywords in Context (Using N-grams)', where n-grams were extracted from a text. Here, you will learn how to output all of the n-grams of a given keyword in a document downloaded from the Internet, and display them clearly in your browser window.</p>
            </abstract>
            <textClass>
                <keywords>
                    <term xml:lang="en">python</term>
                </keywords>
            </textClass>
        </profileDesc>
    </teiHeader>
    <text xml:lang="en">
        <body><div type="2" n="1"><head><s xml:id="s_44sQgb" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_j14Yhp']}"><w>Lesson</w><w>Goals</w></s></head><p><s xml:id="s_8WQe5O" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_ARCuKK']}"><w>This</w><w>lesson</w><w>builds</w><w>on</w><ref target="/lessons/keywords-in-context-using-n-grams"><w>Keywords</w><w>in</w><w>Context</w><w>(</w><w>Using</w><w>N-grams</w><w>)</w></ref><w>,</w><w>where</w><w>n-grams</w><w>were</w><w>extracted</w><w>from</w><w>a</w><w>text</w><pc>.</pc></s><s xml:id="s_qKp4su" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_VDQK16']}"><w>Here</w><w>,</w><w>you</w><w>will</w><w>learn</w><w>how</w><w>to</w><w>output</w><w>all</w><w>of</w><w>the</w><w>n-grams</w><w>of</w><w>a</w><w>given</w><w>keyword</w><w>in</w><w>a</w><w>document</w><w>downloaded</w><w>from</w><w>the</w><w>Internet</w><w>,</w><w>and</w><w>display</w><w>them</w><w>clearly</w><w>in</w><w>your</w><w>browser</w><w>window</w><pc>.</pc></s></p></div><div type="2" n="2"><head><s xml:id="s_tU8xhp" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_e4CC00']}"><w>Files</w><w>Needed</w><w>For</w><w>This</w><w>Lesson</w></s></head><list type="unordered"><item><code rend="inline"><w>obo.py</w></code></item></list><p><s xml:id="s_DuPIbY" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_HzSX6H']}"><w>If</w><w>you</w><w>do</w><w>not</w><w>have</w><w>these</w><w>files</w><w>from</w><w>the</w><w>previous</w><w>lesson</w><w>,</w><w>you</w><w>can</w><w>download</w><w>a</w><ref target="/assets/python-lessons8.zip"><w>zip</w><w>file</w><w>from</w><w>the</w><w>previous</w><w>lesson</w></ref></s></p></div><div type="2" n="3"><head><s xml:id="s_yKMIZb" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_ZMKX0V']}"><w>Making</w><w>an</w><w>N-Gram</w><w>Dictionary</w></s></head><p><s xml:id="s_iANsHO" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_NGkO2d']}"><w>Our</w><w>n-grams</w><w>have</w><w>an</w><w>odd</w><w>number</w><w>of</w><w>words</w><w>in</w><w>them</w><w>for</w><w>a</w><w>reason</w><pc>.</pc></s><s xml:id="s_Dbf31X" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_NDiTh5']}"><w>At</w><w>this</w><w>point</w><w>,</w><w>our</w><w>n-grams</w><w>don</w><w>''</w><w>t</w><w>actually</w><w>have</w><w>a</w><w>keyword</w><w>;</w><w>they</w><w>'re</w><w>just</w><w>a</w><w>list</w><w>of</w><w>words</w><pc>.</pc></s><s xml:id="s_yt61vV" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_9g6B9Y']}"><w>However</w><w>,</w><w>if</w><w>we</w><w>have</w><w>an</w><w>odd</w><w>numbered</w><w>n-gram</w><w>the</w><w>middle</w><w>word</w><w>will</w><w>always</w><w>have</w><w>an</w><w>equal</w><w>number</w><w>of</w><w>words</w><w>to</w><w>the</w><w>left</w><w>and</w><w>to</w><w>the</w><w>right</w><pc>.</pc></s><s xml:id="s_ByKVU2" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_TBal33']}"><w>We</w><w>can</w><w>then</w><w>use</w><w>that</w><w>middle</w><w>word</w><w>as</w><w>our</w><w>keyword</w><pc>.</pc></s><s xml:id="s_oPltFE" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_cCNq4y']}"><w>For</w><w>instance</w><w>,</w><w>[</w><w>``</w><w>it</w><w>''</w><w>,</w><w>''</w><w>was</w><w>''</w><w>,</w><w>``</w><w>the</w><w>''</w><w>,</w><w>``</w><w>best</w><w>''</w><w>,</w><w>``</w><w>of</w><w>''</w><w>,</w><w>``</w><w>times</w><w>''</w><w>,</w><w>``</w><w>it</w><w>''</w><w>]</w><w>is</w><w>a</w><w>7-gram</w><w>of</w><w>the</w><w>keyword</w><w>''</w><w>best</w><w>''</w><pc>.</pc></s></p><p><s xml:id="s_8g5NyO" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_n500jf']}"><w>Since</w><w>we</w><w>have</w><w>a</w><w>long</w><w>text</w><w>,</w><w>we</w><w>want</w><w>to</w><w>be</w><w>able</w><w>to</w><w>output</w><w>all</w><w>n-grams</w><w>for</w><w>our</w><w>keyword</w><pc>.</pc></s><s xml:id="s_N29RMh" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_g6X1Zg']}"><w>To</w><w>do</w><w>this</w><w>we</w><w>will</w><w>put</w><w>each</w><w>n-gram</w><w>into</w><w>a</w><emph><w>dictionary</w></emph><w>,</w><w>using</w><w>the</w><w>middle</w><w>word</w><w>as</w><w>the</w><emph><w>key</w></emph><pc>.</pc></s><s xml:id="s_847zDb" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_bjgWIC']}"><w>To</w><w>figure</w><w>out</w><w>the</w><w>keyword</w><w>for</w><w>each</w><w>n-gram</w><w>we</w><w>can</w><w>use</w><w>the</w><emph><w>index</w><w>positions</w></emph><w>of</w><w>the</w><w>list</w><pc>.</pc></s><s xml:id="s_IwaysT" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_Kiv4yh']}"><w>If</w><w>we</w><w>are</w><w>working</w><w>with</w><w>5-grams</w><w>,</w><w>for</w><w>example</w><w>,</w><w>the</w><w>left</w><w>context</w><w>will</w><w>consist</w><w>of</w><w>terms</w><w>indexed</w><w>by</w><w>0</w><w>,</w><w>1</w><w>,</w><w>the</w><w>keyword</w><w>will</w><w>be</w><w>indexed</w><w>by</w><w>2</w><w>,</w><w>and</w><w>the</w><w>right</w><w>context</w><w>terms</w><w>indexed</w><w>by</w><w>3</w><w>,</w><w>4</w><pc>.</pc></s><s xml:id="s_YKuWZn" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_Wn1Mo8']}"><w>Since</w><w>Python</w><w>indexes</w><w>start</w><w>at</w><w>0</w><w>,</w><w>a</w><w>5-gram</w><w>'s</w><w>keyword</w><w>will</w><w>always</w><w>be</w><w>at</w><w>index</w><w>position</w><w>2</w><pc>.</pc></s></p><p><s xml:id="s_7DDNei" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_Z2CPUR']}"><w>That</w><w>'s</w><w>fine</w><w>for</w><w>5-grams</w><w>,</w><w>but</w><w>to</w><w>make</w><w>the</w><w>code</w><w>a</w><w>bit</w><w>more</w><w>robust</w><w>,</w><w>we</w><w>want</w><w>to</w><w>make</w><w>sure</w><w>it</w><w>will</w><w>work</w><w>for</w><w>any</w><w>length</w><w>n-gram</w><w>,</w><w>assuming</w><w>its</w><w>length</w><w>is</w><w>an</w><w>odd</w><w>number</w><pc>.</pc></s><s xml:id="s_I72xOK" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_ENE5g8']}"><w>To</w><w>do</w><w>this</w><w>we</w><w>'ll</w><w>take</w><w>the</w><w>length</w><w>of</w><w>the</w><w>n-gram</w><w>,</w><w>divide</w><w>it</w><w>by</w><w>2</w><w>and</w><w>drop</w><w>the</w><w>remainder</w><pc>.</pc></s><s xml:id="s_QrBtuG" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_mrGGcn']}"><w>We</w><w>can</w><w>achieve</w><w>this</w><w>using</w><w>Python</w><w>'s</w><code rend="inline"><w>floor</w><w>division</w></code><w>operator</w><w>,</w><w>represented</w><w>by</w><w>two</w><w>slashes</w><w>,</w><w>which</w><w>divides</w><w>and</w><w>then</w><w>returns</w><w>an</w><w>answer</w><w>to</w><w>the</w><w>nearest</w><w>whole</w><w>number</w><w>,</w><w>always</w><w>rounding</w><w>down</w><w>â€“</w><w>hence</w><w>the</w><w>term</w><w>``</w><w>floor</w><w>''</w><pc>.</pc></s></p><ab><code lang="language-python" xml:id="code_output-keywords-in-context-in-html-file_0" corresp="code_output-keywords-in-context-in-html-file_0.txt" rend="block"/></ab><p><s xml:id="s_0rteit" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_9AuKkI']}"><w>Let</w><w>'s</w><w>build</w><w>a</w><w>function</w><w>that</w><w>can</w><w>identify</w><w>the</w><w>index</w><w>position</w><w>of</w><w>the</w><w>keyword</w><w>when</w><w>given</w><w>an</w><w>n-gram</w><w>with</w><w>an</w><w>odd</w><w>number</w><w>of</w><w>words</w><pc>.</pc></s><s xml:id="s_6lg6Mf" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_dNmb51']}"><w>Save</w><w>the</w><w>following</w><w>to</w><code rend="inline"><w>obo.py</w></code><pc>.</pc></s></p><ab><code lang="language-python" xml:id="code_output-keywords-in-context-in-html-file_1" corresp="code_output-keywords-in-context-in-html-file_1.txt" rend="block"/></ab><p><s xml:id="s_zWjlbL" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_BWupcR']}"><w>To</w><w>determine</w><w>the</w><w>index</w><w>of</w><w>the</w><w>keyword</w><w>,</w><w>we</w><w>have</w><w>used</w><w>the</w><code rend="inline"><w>len</w></code><w>property</w><w>to</w><w>tell</w><w>us</w><w>how</w><w>many</w><w>items</w><w>are</w><w>in</w><w>the</w><w>first</w><w>n-gram</w><w>,</w><w>then</w><w>used</w><w>floor</w><w>division</w><w>to</w><w>isolate</w><w>the</w><w>middle</w><w>index</w><w>position</w><pc>.</pc></s><s xml:id="s_aGljYQ" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_wqGcLC']}"><w>You</w><w>can</w><w>see</w><w>if</w><w>this</w><w>worked</w><w>by</w><w>creating</w><w>a</w><w>new</w><w>program</w><w>,</w><code rend="inline"><w>get-keyword.py</w></code><w>and</w><w>running</w><w>it</w><pc>.</pc></s><s xml:id="s_fNI8J7" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_HBjNjo']}"><w>If</w><w>all</w><w>goes</w><w>well</w><w>,</w><w>since</w><w>we</w><w>are</w><w>dealing</w><w>with</w><w>a</w><w>5-gram</w><w>,</w><w>you</w><w>should</w><w>get</w><w>2</w><w>as</w><w>the</w><w>index</w><w>position</w><w>of</w><w>the</w><w>keyword</w><w>as</w><w>we</w><w>determined</w><w>above</w><pc>.</pc></s></p><ab><code lang="language-python" xml:id="code_output-keywords-in-context-in-html-file_2" corresp="code_output-keywords-in-context-in-html-file_2.txt" rend="block"/></ab><p><s xml:id="s_tYypPG" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_sVONq1']}"><w>Now</w><w>that</w><w>we</w><w>know</w><w>the</w><w>location</w><w>of</w><w>the</w><w>keywords</w><w>,</w><w>let</w><w>'s</w><w>add</w><w>everything</w><w>to</w><w>a</w><w>dictionary</w><w>that</w><w>can</w><w>be</w><w>used</w><w>to</w><w>output</w><w>all</w><w>KWIC</w><w>n-grams</w><w>of</w><w>a</w><w>particular</w><w>keyword</w><pc>.</pc></s><s xml:id="s_aZ1k41" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_NDNgJ2']}"><w>Study</w><w>this</w><w>code</w><w>and</w><w>then</w><w>replace</w><w>your</w><code rend="inline"><w>nGramsToKWICDict</w></code><w>with</w><w>the</w><w>following</w><w>in</w><w>your</w><code rend="inline"><w>obo.py</w></code><w>module</w><pc>.</pc></s></p><ab><code lang="language-python" xml:id="code_output-keywords-in-context-in-html-file_3" corresp="code_output-keywords-in-context-in-html-file_3.txt" rend="block"/></ab><p><s xml:id="s_fSnh27" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_Uf6sCx']}"><w>A</w><code rend="inline"><w>for</w></code><w>loop</w><w>and</w><code rend="inline"><w>if</w></code><w>statement</w><w>checks</w><w>each</w><w>n-gram</w><w>to</w><w>see</w><w>if</w><w>its</w><w>keyword</w><w>is</w><w>already</w><w>stored</w><w>in</w><w>the</w><w>dictionary</w><pc>.</pc></s><s xml:id="s_pasOe5" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_IqHfRE']}"><w>If</w><w>it</w><w>is</w><w>n't</w><w>,</w><w>it</w><w>'s</w><w>added</w><w>as</w><w>a</w><w>new</w><w>entry</w><pc>.</pc></s><s xml:id="s_hytTbF" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_2BvIq0']}"><w>If</w><w>it</w><w>is</w><w>,</w><w>it</w><w>'s</w><w>appended</w><w>to</w><w>the</w><w>previous</w><w>entry</w><pc>.</pc></s><s xml:id="s_sIo5lR" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_KweO9R']}"><w>We</w><w>now</w><w>have</w><w>a</w><w>dictionary</w><w>named</w><emph><w>kwicdict</w></emph><w>that</w><w>contains</w><w>all</w><w>the</w><w>n-grams</w><w>,</w><w>sortable</w><w>by</w><w>keyword</w><w>and</w><w>we</w><w>can</w><w>turn</w><w>to</w><w>the</w><w>task</w><w>of</w><w>outputting</w><w>the</w><w>information</w><w>in</w><w>a</w><w>more</w><w>useful</w><w>format</w><w>as</w><w>we</w><w>did</w><w>in</w><ref target="/lessons/output-data-as-html-file"><w>Output</w><w>Data</w><w>as</w><w>HTML</w><w>File</w></ref><pc>.</pc></s></p><p><s xml:id="s_6a5VkR" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_bcju8O']}"><w>Try</w><w>rerunning</w><w>the</w><code rend="inline"><w>get-keyword.py</w></code><w>program</w><w>and</w><w>you</w><w>should</w><w>now</w><w>see</w><w>what's</w><w>in</w><w>your</w><w>KWIC</w><w>dictionary</w><pc>.</pc></s></p></div><div type="2" n="4"><head><s xml:id="s_qAJyly" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_PSsRkT']}"><w>Outputting</w><w>to</w><w>HTML</w></s></head><div type="3" n="4.1"><head><s xml:id="s_AMORB5" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_ohoPVt']}"><w>Pretty</w><w>Printing</w><w>a</w><w>KWIC</w></s></head><p><s xml:id="s_nipZJl" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_vKXnJ0']}"><w>``</w><w>Pretty</w><w>printing</w><w>''</w><w>is</w><w>the</w><w>process</w><w>of</w><w>formatting</w><w>output</w><w>so</w><w>that</w><w>it</w><w>can</w><w>be</w><w>easily</w><w>read</w><w>by</w><w>human</w><w>beings</w><pc>.</pc></s><s xml:id="s_PoPJhg" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_hfGOgx']}"><w>In</w><w>the</w><w>case</w><w>of</w><w>our</w><w>keywords</w><w>in</w><w>context</w><w>,</w><w>we</w><w>want</w><w>to</w><w>have</w><w>the</w><w>keywords</w><w>lined</w><w>up</w><w>in</w><w>a</w><w>column</w><w>,</w><w>with</w><w>the</w><w>terms</w><w>in</w><w>the</w><w>left-hand</w><w>context</w><w>right</w><w>justified</w><w>,</w><w>and</w><w>the</w><w>terms</w><w>in</w><w>the</w><w>right-hand</w><w>context</w><w>left</w><w>justified</w><pc>.</pc></s><s xml:id="s_XMcTLR" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_aobNlw']}"><w>In</w><w>other</w><w>words</w><w>,</w><w>we</w><w>want</w><w>our</w><w>KWIC</w><w>display</w><w>to</w><w>look</w><w>something</w><w>like</w><w>this</w><w>:</w></s></p><ab><code xml:id="code_output-keywords-in-context-in-html-file_4" corresp="code_output-keywords-in-context-in-html-file_4.txt" rend="block"/></ab><p><s xml:id="s_jfJVvK" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_FdCUUr']}"><w>This</w><w>technique</w><w>is</w><w>not</w><w>the</w><w>best</w><w>way</w><w>to</w><w>format</w><w>text</w><w>from</w><w>a</w><w>web</w><w>designer's</w><w>perspective</w><pc>.</pc></s><s xml:id="s_j8wxBI" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_EW5V5B']}"><w>If</w><w>you</w><w>have</w><w>some</w><w>experience</w><w>with</w><w>HTML</w><w>we</w><w>encourage</w><w>you</w><w>to</w><w>use</w><w>another</w><w>method</w><w>that</w><w>will</w><w>create</w><w>a</w><w>standards</w><w>compliant</w><w>HTML</w><w>file</w><w>,</w><w>but</w><w>for</w><w>new</w><w>learners</w><w>,</w><w>we</w><w>just</w><w>ca</w><w>n't</w><w>resist</w><w>the</w><w>ease</w><w>of</w><w>the</w><w>technique</w><w>we're</w><w>about</w><w>to</w><w>describe</w><pc>.</pc></s><s xml:id="s_0A9iIg" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_DszUjZ']}"><w>After</w><w>all</w><w>,</w><w>the</w><w>point</w><w>is</w><w>to</w><w>integrate</w><w>programming</w><w>principles</w><w>quickly</w><w>into</w><w>your</w><w>research</w><pc>.</pc></s></p><p><s xml:id="s_foh0nX" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_Yf0S0G']}"><w>To</w><w>get</w><w>this</w><w>effect</w><w>,</w><w>we</w><w>are</w><w>going</w><w>to</w><w>need</w><w>to</w><w>do</w><w>a</w><w>number</w><w>of</w><w>list</w><w>and</w><w>string</w><w>manipulations</w><pc>.</pc></s><s xml:id="s_OWlU0d" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_3ypkQY']}"><w>Let</w><w>'s</w><w>start</w><w>by</w><w>figuring</w><w>out</w><w>what</w><w>our</w><w>dictionary</w><w>output</w><w>will</w><w>look</w><w>like</w><w>as</w><w>it</w><w>currently</w><w>stands</w><pc>.</pc></s><s xml:id="s_ftc07d" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_nvXsR4']}"><w>Then</w><w>we</w><w>can</w><w>work</w><w>on</w><w>refining</w><w>it</w><w>into</w><w>what</w><w>we</w><w>want</w><pc>.</pc></s></p><ab><code lang="language-python" xml:id="code_output-keywords-in-context-in-html-file_5" corresp="code_output-keywords-in-context-in-html-file_5.txt" rend="block"/></ab><p><s xml:id="s_sMRbOF" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_MNfUnF']}"><w>As</w><w>you</w><w>can</w><w>see</w><w>when</w><w>you</w><w>run</w><w>the</w><w>above</w><w>program</w><w>,</w><w>the</w><w>output</w><w>is</w><w>not</w><w>very</w><w>readable</w><w>yet</w><pc>.</pc></s><s xml:id="s_30F0Eq" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_rU2cg8']}"><w>What</w><w>we</w><w>need</w><w>to</w><w>do</w><w>is</w><w>split</w><w>the</w><w>n-gram</w><w>into</w><w>three</w><w>parts</w><w>:</w><w>before</w><w>the</w><w>keyword</w><w>,</w><w>the</w><w>keyword</w><w>,</w><w>and</w><w>after</w><w>the</w><w>keyword</w><pc>.</pc></s><s xml:id="s_SIea6x" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_K69LCf']}"><w>We</w><w>can</w><w>then</w><w>use</w><w>the</w><w>techniques</w><w>learned</w><w>in</w><w>the</w><w>previous</w><w>chapters</w><w>to</w><w>wrap</w><w>everything</w><w>in</w><w>HTML</w><w>so</w><w>that</w><w>it</w><w>is</w><w>easy</w><w>to</w><w>read</w><pc>.</pc></s></p><p><s xml:id="s_rbnQvp" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_4fJCeE']}"><w>Using</w><w>the</w><w>same</w><code rend="inline"><w>slice</w></code><w>method</w><w>as</w><w>above</w><w>,</w><w>we</w><w>will</w><w>create</w><w>our</w><w>three</w><w>parts</w><pc>.</pc></s><s xml:id="s_5Eq0PN" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_p5T5fH']}"><w>Open</w><w>a</w><w>Python</w><w>shell</w><w>and</w><w>try</w><w>the</w><w>following</w><w>examples</w><pc>.</pc></s><s xml:id="s_epqpLK" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_JUX2kJ']}"><w>Pay</w><w>close</w><w>attention</w><w>to</w><w>what</w><w>appears</w><w>before</w><w>and</w><w>after</w><w>the</w><w>colon</w><w>in</w><w>each</w><w>case</w><pc>.</pc></s><s xml:id="s_2tlFVW" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_LhdI8u']}"><w>Knowing</w><w>how</w><w>to</w><w>manipulate</w><w>the</w><w>slice</w><w>method</w><w>is</w><w>a</w><w>powerful</w><w>skill</w><w>for</w><w>a</w><w>new</w><w>programming</w><w>historian</w><pc>.</pc></s></p><ab><code lang="language-python" xml:id="code_output-keywords-in-context-in-html-file_6" corresp="code_output-keywords-in-context-in-html-file_6.txt" rend="block"/></ab><p><s xml:id="s_RSkZvo" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_kWeeMU']}"><w>Now</w><w>that</w><w>we</w><w>know</w><w>how</w><w>to</w><w>find</w><w>each</w><w>of</w><w>the</w><w>three</w><w>segments</w><w>,</w><w>we</w><w>need</w><w>to</w><w>format</w><w>each</w><w>to</w><w>one</w><w>of</w><w>three</w><w>columns</w><w>in</w><w>our</w><w>display</w><pc>.</pc></s></p><p><s xml:id="s_qJWexA" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_9wPis5']}"><w>The</w><w>right-hand</w><w>context</w><w>is</w><w>simply</w><w>going</w><w>to</w><w>consist</w><w>of</w><w>a</w><w>string</w><w>of</w><w>terms</w><w>separated</w><w>by</w><w>blank</w><w>spaces</w><pc>.</pc></s><s xml:id="s_FMKJfA" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_b2jSpg']}"><w>We</w><w>â€™</w><w>ll</w><w>use</w><w>the</w><code rend="inline"><w>join</w></code><w>method</w><w>to</w><w>turn</w><w>the</w><w>list</w><w>entries</w><w>into</w><w>a</w><w>string</w><pc>.</pc></s></p><ab><code lang="language-python" xml:id="code_output-keywords-in-context-in-html-file_7" corresp="code_output-keywords-in-context-in-html-file_7.txt" rend="block"/></ab><p><s xml:id="s_Pw4jmR" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_Ak1qPR']}"><w>We</w><w>want</w><w>the</w><w>keywords</w><w>to</w><w>have</w><w>a</w><w>bit</w><w>of</w><emph><w>whitespace</w></emph><w>padding</w><w>around</w><w>them</w><pc>.</pc></s><s xml:id="s_kNJNOY" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_p3FGCg']}"><w>We</w><w>can</w><w>achieve</w><w>this</w><w>by</w><w>using</w><w>a</w><w>string</w><w>method</w><w>called</w><code rend="inline"><w>center</w></code><w>,</w><w>which</w><w>will</w><w>align</w><w>the</w><w>text</w><w>to</w><w>the</w><w>middle</w><w>of</w><w>the</w><w>screen</w><pc>.</pc></s><s xml:id="s_bmoK7h" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_cXsBEx']}"><w>We</w><w>can</w><w>add</w><w>padding</w><w>by</w><w>making</w><w>the</w><w>overall</w><w>string</w><w>be</w><w>longer</w><w>than</w><w>the</w><w>keyword</w><w>itself</w><pc>.</pc></s><s xml:id="s_CgYdlu" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_ZwVElC']}"><w>The</w><w>expression</w><w>below</w><w>adds</w><w>three</w><w>blank</w><w>spaces</w><w>(</w><w>6/2</w><w>)</w><w>to</w><w>either</w><w>side</w><w>of</w><w>the</w><w>keyword</w><pc>.</pc></s><s xml:id="s_4vV0gP" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_nTcsWZ']}"><w>We've</w><w>added</w><w>hash</w><w>marks</w><w>at</w><w>the</w><w>beginning</w><w>and</w><w>end</w><w>of</w><w>the</w><w>expression</w><w>so</w><w>you</w><w>can</w><w>see</w><w>the</w><w>leading</w><w>and</w><w>trailing</w><w>blanks</w><pc>.</pc></s></p><ab><code lang="language-python" xml:id="code_output-keywords-in-context-in-html-file_8" corresp="code_output-keywords-in-context-in-html-file_8.txt" rend="block"/></ab><p><s xml:id="s_kOK9mf" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_G91GD5']}"><w>Finally</w><w>,</w><w>we</w><w>want</w><w>the</w><w>left-hand</w><w>context</w><w>to</w><w>be</w><w>right</w><w>justified</w><pc>.</pc></s><s xml:id="s_3cVFjH" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_8DAn7G']}"><w>Depending</w><w>on</w><w>how</w><w>large</w><emph><w>n</w></emph><w>is</w><w>,</w><w>we</w><w>are</w><w>going</w><w>to</w><w>need</w><w>the</w><w>overall</w><w>length</w><w>of</w><w>this</w><w>column</w><w>to</w><w>increase</w><pc>.</pc></s><s xml:id="s_5qDG84" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_EhcXMk']}"><w>We</w><w>do</w><w>this</w><w>by</w><w>defining</w><w>a</w><w>variable</w><w>called</w><emph><w>width</w></emph><w>and</w><w>then</w><w>making</w><w>the</w><w>column</w><w>length</w><w>a</w><w>multiple</w><w>of</w><w>this</w><w>variable</w><w>(</w><w>we</w><w>used</w><w>a</w><w>width</w><w>of</w><w>10</w><w>characters</w><w>,</w><w>but</w><w>you</w><w>can</w><w>make</w><w>it</w><w>larger</w><w>or</w><w>smaller</w><w>as</w><w>desired</w><w>)</w><pc>.</pc></s><s xml:id="s_85v8wT" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_O1srzo']}"><w>The</w><code rend="inline"><w>rjust</w></code><w>method</w><w>handles</w><w>right</w><w>justification</w><pc>.</pc></s><s xml:id="s_C6Qiww" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_6adAPq']}"><w>Once</w><w>again</w><w>,</w><w>we</w><w>'ve</w><w>added</w><w>hash</w><w>marks</w><w>so</w><w>you</w><w>can</w><w>see</w><w>the</w><w>leading</w><w>blanks</w><pc>.</pc></s></p><ab><code lang="language-python" xml:id="code_output-keywords-in-context-in-html-file_9" corresp="code_output-keywords-in-context-in-html-file_9.txt" rend="block"/></ab><p><s xml:id="s_zxKJVB" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_FAnV6l']}"><w>We</w><w>can</w><w>now</w><w>combine</w><w>these</w><w>into</w><w>a</w><w>function</w><w>that</w><w>takes</w><w>a</w><w>KWIC</w><w>and</w><w>returns</w><w>a</w><w>pretty-printed</w><w>string</w><pc>.</pc></s><s xml:id="s_TuBE1j" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_pJGE0m']}"><w>Add</w><w>this</w><w>to</w><w>the</w><code rend="inline"><w>obo.py</w></code><w>module</w><pc>.</pc></s><s xml:id="s_slf78x" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_0y8yIJ']}"><w>Study</w><w>the</w><w>code</w><w>to</w><w>make</w><w>sure</w><w>you</w><w>understand</w><w>it</w><w>before</w><w>moving</w><w>on</w><pc>.</pc></s></p><ab><code lang="language-python" xml:id="code_output-keywords-in-context-in-html-file_10" corresp="code_output-keywords-in-context-in-html-file_10.txt" rend="block"/></ab></div></div><div type="2" n="5"><head><s xml:id="s_AGrZ9p" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_H01Sjb']}"><w>Putting</w><w>it</w><w>All</w><w>Together</w></s></head><p><s xml:id="s_zvszZm" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_h4E1Lg']}"><w>We</w><w>can</w><w>now</w><w>create</w><w>a</w><w>program</w><w>that</w><w>,</w><w>given</w><w>a</w><w>URL</w><w>and</w><w>a</w><w>keyword</w><w>,</w><w>wraps</w><w>a</w><w>KWIC</w><w>display</w><w>in</w><w>HTML</w><w>and</w><w>outputs</w><w>it</w><w>in</w><w>Firefox</w><pc>.</pc></s><s xml:id="s_sJafbA" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_hpoBx9']}"><w>This</w><w>program</w><w>begins</w><w>and</w><w>ends</w><w>in</w><w>a</w><w>similar</w><w>fashion</w><w>as</w><w>the</w><w>program</w><w>that</w><w>computed</w><w>word</w><w>frequencies</w><pc>.</pc></s><s xml:id="s_jr89iw" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_XpmhqJ']}"><w>Type</w><w>or</w><w>copy</w><w>the</w><w>code</w><w>into</w><w>your</w><w>text</w><w>editor</w><w>,</w><w>save</w><w>it</w><w>as</w><code rend="inline"><w>html-to-kwic.py</w></code><w>,</w><w>and</w><w>execute</w><w>it</w><pc>.</pc></s><s xml:id="s_bAsG7N" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_rJb9Xh']}"><w>You</w><w>will</w><w>need</w><w>to</w><w>choose</w><w>either</w><w>obo.wrapStringInHTMLMac</w><w>(</w><w>)</w><w>or</w><w>obo.wrapStringInHTMLWindows</w><w>(</w><w>)</w><w>as</w><w>appropriate</w><w>for</w><w>your</w><w>system</w><w>,</w><w>as</w><w>done</w><w>before</w><pc>.</pc></s></p><ab><code lang="language-python" xml:id="code_output-keywords-in-context-in-html-file_11" corresp="code_output-keywords-in-context-in-html-file_11.txt" rend="block"/></ab><p><s xml:id="s_i8vXEG" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_FRAAYu']}"><w>The</w><w>first</w><w>part</w><w>is</w><w>the</w><w>same</w><w>as</w><w>above</w><pc>.</pc></s><s xml:id="s_JYxpt6" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_tQdgxj']}"><w>In</w><w>the</w><w>second</w><w>half</w><w>of</w><w>the</w><w>program</w><w>,</w><w>we</w><w>'ve</w><w>wrapped</w><w>everything</w><w>in</w><w>the</w><w>HTML</w><emph><w>pre</w></emph><w>tag</w><w>(</w><w>pre-formatted</w><w>)</w><w>,</w><w>which</w><w>tells</w><w>the</w><w>browser</w><w>not</w><w>to</w><w>monkey</w><w>with</w><w>any</w><w>of</w><w>the</w><w>spacing</w><w>we</w><w>'ve</w><w>added</w><pc>.</pc></s></p><p><s xml:id="s_ybCFix" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_CnJsTi']}"><w>Also</w><w>,</w><w>notice</w><w>that</w><w>we</w><w>use</w><w>the</w><code rend="inline"><w>has_key</w></code><w>dictionary</w><w>method</w><w>to</w><w>make</w><w>sure</w><w>that</w><w>the</w><w>keyword</w><w>actually</w><w>occurs</w><w>in</w><w>our</w><w>text</w><pc>.</pc></s><s xml:id="s_mWFlsg" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_wJNjUV']}"><w>If</w><w>it</w><w>does</w><w>n't</w><w>,</w><w>we</w><w>can</w><w>print</w><w>a</w><w>message</w><w>for</w><w>the</w><w>user</w><w>before</w><w>sending</w><w>the</w><w>output</w><w>to</w><w>Firefox</w><pc>.</pc></s><s xml:id="s_uslrxw" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_r7El6s']}"><w>Try</w><w>changing</w><w>the</w><w>target</w><w>variable</w><w>to</w><w>a</w><w>few</w><w>other</w><w>keywords</w><pc>.</pc></s><s xml:id="s_BcSi0H" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_iiRcIE']}"><w>Try</w><w>one</w><w>you</w><w>know</w><w>is</w><w>n't</w><w>there</w><w>to</w><w>make</w><w>sure</w><w>your</w><w>program</w><w>does</w><w>n't</w><w>output</w><w>something</w><w>when</w><w>it</w><w>should</w><w>n't</w><pc>.</pc></s></p><p><s xml:id="s_4rh62e" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_hvBU5e']}"><w>We</w><w>have</w><w>now</w><w>created</w><w>a</w><w>program</w><w>that</w><w>looks</w><w>for</w><w>a</w><w>keyword</w><w>in</w><w>a</w><w>dictionary</w><w>created</w><w>from</w><w>an</w><w>HTML</w><w>page</w><w>on</w><w>the</w><w>web</w><w>,</w><w>and</w><w>then</w><w>outputs</w><w>the</w><w>n-grams</w><w>of</w><w>that</w><w>keyword</w><w>to</w><w>a</w><w>new</w><w>HTML</w><w>file</w><w>for</w><w>display</w><w>on</w><w>the</w><w>web</w><pc>.</pc></s><s xml:id="s_nhfC7n" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_Aatalf']}"><w>All</w><w>of</w><w>the</w><w>lessons</w><w>up</w><w>to</w><w>this</w><w>point</w><w>have</w><w>included</w><w>parts</w><w>of</w><w>Python</w><w>vocabulary</w><w>and</w><w>methods</w><w>needed</w><w>to</w><w>create</w><w>this</w><w>final</w><w>program</w><pc>.</pc></s><s xml:id="s_kRDIKe" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_SEE8lR']}"><w>By</w><w>referring</w><w>to</w><w>those</w><w>lessons</w><w>,</w><w>you</w><w>can</w><w>now</w><w>experiment</w><w>with</w><w>Python</w><w>to</w><w>create</w><w>programs</w><w>that</w><w>accomplish</w><w>specific</w><w>tasks</w><w>that</w><w>will</w><w>help</w><w>in</w><w>your</w><w>research</w><w>process</w><pc>.</pc></s></p></div><div type="2" n="6"><head><s xml:id="s_EBJOZ6" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_0pJ4Q0']}"><w>Code</w><w>Syncing</w></s></head><p><s xml:id="s_Oy0d6d" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_fISEMa']}"><w>This</w><w>marks</w><w>the</w><w>end</w><w>of</w><w>this</w><w>series</w><w>of</w><w>original</w><w>lessons</w><w>on</w><w>python</w><pc>.</pc></s><s xml:id="s_OAstD5" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_OqcQ2Y']}"><w>The</w><w>finished</w><w>code</w><w>for</w><w>the</w><w>series</w><w>can</w><w>be</w><w>downloaded</w><w>as</w><w>a</w><w>zip</w><w>file</w><pc>.</pc></s><s xml:id="s_Zw4jIe" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_JdkjNk']}"><w>If</w><w>you</w><w>are</w><w>following</w><w>along</w><w>with</w><w>the</w><w>Mac</w><w>/</w><w>Linux</w><w>version</w><w>you</w><w>may</w><w>have</w><w>to</w><w>open</w><w>the</w><code rend="inline"><w>obo.py</w></code><w>file</w><w>and</w><w>change</w><w>``</w><w>file</w><w>:</w><w>///Users/username/Desktop/programming-historian/</w><w>''</w><w>to</w><w>the</w><w>path</w><w>to</w><w>the</w><w>directory</w><w>on</w><w>your</w><w>own</w><w>computer</w><pc>.</pc></s></p><list type="unordered"><item><s xml:id="s_8OzMYr" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_Mhdy4h']}"><w>python-lessons9.zip</w><ref target="/assets/python-lessons9.zip"><w>zip</w><w>sync</w></ref></s></item></list><p><s xml:id="s_Q1j3IC" corresp="{'salida-palabras-clave-contexto-ngrams': ['s_xxdzDN']}"><w>There</w><w>is</w><w>an</w><w>additional</w><w>lesson</w><w>on</w><w>using</w><w>Python</w><w>to</w><w>download</w><w>multiple</w><w>records</w><w>using</w><w>Query</w><w>Strings</w><w>,</w><w>marked</w><w>as</w><w>the</w><w>next</w><w>lesson</w><pc>.</pc></s></p></div></body>
    </text>
</TEI>
