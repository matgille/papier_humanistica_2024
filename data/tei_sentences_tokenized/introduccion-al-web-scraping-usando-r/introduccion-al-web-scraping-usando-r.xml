<TEI xmlns="http://www.tei-c.org/ns/1.0" xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="introduccion-al-web-scraping-usando-r" type="original" xml:base="introduccion-al-web-scraping-usando-r/introduccion-al-web-scraping-usando-r/introduccion-al-web-scraping-usando-r.xml">
    <teiHeader>
        <fileDesc>
            <titleStmt>
                <title>Introducción al web scraping usando R</title>
                <author role="original_author">Riva Quiroga</author>
                <editor role="reviewers">
                    <persName>Nicole Larrondo</persName>
                    <persName>Luis Avilés González</persName>
                </editor>
                <editor role="editors">Joshua G. Ortiz Baco</editor>
            </titleStmt>
            <publicationStmt>
                <distributor>Programming Historian</distributor>
                <idno type="doi">10.46430/phes0061</idno>
                <date type="published">12/29/2022</date>
            </publicationStmt>
            <sourceDesc>
                <p>Born digital, in a markdown format. This lesson is original.</p>
            </sourceDesc>
        </fileDesc>
        <profileDesc>
            <abstract>
                <p>En esta lección conocerás la técnica de adquisición de datos conocida como web scraping y aprenderás a extraer datos textuales publicados en una página web.</p>
            </abstract>
            <textClass>
                <keywords>
                    <term xml:lang="en">web-scraping</term>
                </keywords>
            </textClass>
        </profileDesc>
    </teiHeader>
    <text xml:lang="es">
        <body><p><s xml:id="s_AT5onP"><w>En</w><w>esta</w><w>lección</w><w>introduciremos</w><w>la</w><w>técnica</w><w>de</w><w>adquisición</w><w>de</w><w>datos</w><w>conocida</w><w>como</w><w>rascado</w><w>web</w><w>o</w><w>web</w><w>scraping</w><w>,</w><w>la</w><w>cual</w><w>nos</w><w>permite</w><w>extraer</w><w>contenido</w><w>publicado</w><w>en</w><w>una</w><w>página</w><w>web</w><pc>.</pc></s><s xml:id="s_OFYGpP"><w>Al</w><w>tratarse</w><w>de</w><w>la</w><w>primera</w><w>lección</w><w>de</w><w>una</w><w>serie</w><w>sobre</w><w>este</w><w>tema</w><w>,</w><w>introduciremos</w><w>algunos</w><w>conceptos</w><w>que</w><w>son</w><w>relevantes</w><w>para</w><w>aplicar</w><w>mejor</w><w>este</w><w>procedimiento</w><w>,</w><w>así</w><w>como</w><w>el</w><w>paso</w><w>a</w><w>paso</w><w>para</w><w>implementarlo</w><pc>.</pc></s></p><p><s xml:id="s_IrKNlt"><w>Los</w><w>objetivos</w><w>de</w><w>aprendizaje</w><w>de</w><w>esta</w><w>primera</w><w>lección</w><w>son</w><w>:</w></s></p><list type="unordered"><item><p><s xml:id="s_4zzu8X"><w>Conocer</w><w>los</w><w>elementos</w><w>básicos</w><w>de</w><w>la</w><w>estructura</w><w>de</w><w>un</w><w>sitio</w><w>web</w><w>necesarios</w><w>para</w><w>extraer</w><w>su</w><w>contenido</w></s></p></item><item><p><s xml:id="s_6rUDAq"><w>Comprender</w><w>qué</w><w>es</w><w>lo</w><w>que</w><w>caracteriza</w><w>al</w><w>web</w><w>scraping</w><w>ético</w></s></p></item><item><p><s xml:id="s_ErjTzY"><w>Aplicar</w><w>estrategias</w><w>para</w><w>extraer</w><w>desde</w><w>una</w><w>página</w><w>web</w><w>datos</w><w>que</w><w>estén</w><w>en</w><w>formato</w><w>de</w><w>bloque</w><w>de</w><w>texto</w></s></p></item></list><p><s xml:id="s_L2D6H6"><w>Este</w><w>tutorial</w><w>se</w><w>divide</w><w>en</w><w>tres</w><w>secciones</w><pc>.</pc></s><s xml:id="s_uEKFlF"><w>En</w><w>la</w><w>primera</w><w>,</w><w>revisaremos</w><w>algunas</w><w>de</w><w>las</w><w>características</w><w>generales</w><w>de</w><w>una</w><w>página</w><w>web</w><w>que</w><w>es</w><w>relevante</w><w>conocer</w><w>cuando</w><w>hacemos</w><w>web</w><w>scraping</w><pc>.</pc></s><s xml:id="s_W20loR"><w>En</w><w>la</w><w>segunda</w><w>,</w><w>discutiremos</w><w>algunas</w><w>consideraciones</w><w>respecto</w><w>de</w><w>la</w><w>dimensión</w><w>ética</w><w>de</w><w>esta</w><w>técnica</w><w>,</w><w>es</w><w>decir</w><w>,</w><w>cómo</w><w>podemos</w><w>determinar</w><w>no</w><w>solo</w><w>si</w><w>es</w><w>viable</w><w>extraer</w><w>los</w><w>datos</w><w>de</w><w>una</w><w>página</w><w>,</w><w>sino</w><w>también</w><w>si</w><w>es</w><w>algo</w><w>que</w><w>podemos</w><w>hacer</w><w>y</w><w>qué</w><w>condiciones</w><w>debemos</w><w>respetar</w><pc>.</pc></s><s xml:id="s_jcouKH"><w>En</w><w>la</w><w>tercera</w><w>,</w><w>haremos</w><w>un</w><w>primer</w><w>ejercicio</w><w>de</w><w>extracción</w><w>que</w><w>nos</w><w>permitirá</w><w>conocer</w><w>el</w><w>flujo</w><w>de</w><w>trabajo</w><w>habitual</w><w>en</w><w>la</w><w>aplicación</w><w>de</w><w>este</w><w>tipo</w><w>de</w><w>técnica</w><pc>.</pc></s><s xml:id="s_3PNFmj"><w>Para</w><w>ello</w><w>,</w><w>extraeremos</w><w>de</w><w>la</w><w>página</w><w>oficial</w><w>de</w><w>la</w><w>presidencia</w><w>de</w><w>Chile</w><w>los</w><w>discursos</w><w>de</w><w>asunción</w><w>al</w><w>cargo</w><w>de</w><w>los</w><w>dos</w><w>últimos</w><w>presidentes</w><w>de</w><w>ese</w><w>país</w><pc>.</pc></s></p><div type="2" n="1"><head><s xml:id="s_r4UjWu"><w>Prerrequisitos</w></s></head><p><s xml:id="s_awS4hq"><w>En</w><w>esta</w><w>lección</w><w>mostraremos</w><w>cómo</w><w>hacer</w><w>web</w><w>scraping</w><w>usando</w><ref target="https://perma.cc/7ZDM-J8GF"><w>R</w></ref><pc>.</pc></s><s xml:id="s_b09x4y"><w>Las</w><w>explicaciones</w><w>que</w><w>daremos</w><w>asumen</w><w>que</w><w>ya</w><w>tienes</w><w>cierto</w><w>grado</w><w>de</w><w>familiaridad</w><w>con</w><w>este</w><w>lenguaje</w><w>de</w><w>programación</w><pc>.</pc></s><s xml:id="s_NFSCGE"><w>Por</w><w>ejemplo</w><w>,</w><w>sabes</w><w>cómo</w><w>ejecutar</w><w>el</w><w>código</w><w>,</w><w>cómo</w><w>instalar</w><w>y</w><w>activar</w><w>paquetes</w><w>,</w><w>y</w><w>cómo</w><w>guardar</w><w>un</w><w>script</w><w>y</w><w>un</w><w>archivo</w><w>con</w><w>datos</w><w>en</w><w>tu</w><w>directorio</w><w>de</w><w>trabajo</w><pc>.</pc></s><s xml:id="s_5ByWg2"><w>Si</w><w>no</w><w>has</w><w>utilizado</w><w>R</w><w>antes</w><w>,</w><w>te</w><w>sugerimos</w><w>revisar</w><w>primero</w><w>los</w><w>tutoriales</w><ref target="/es/lecciones/datos-tabulares-en-r"><w>Datos</w><w>tabulares</w><w>en</w><w>R</w></ref><w>y</w><ref target="/es/lecciones/administracion-de-datos-en-r"><w>Administración</w><w>de</w><w>datos</w><w>en</w><w>R</w></ref><w>,</w><w>que</w><w>te</w><w>permitirán</w><w>adquirir</w><w>la</w><w>base</w><w>necesaria</w><pc>.</pc></s></p><p><s xml:id="s_fyhboi"><w>Para</w><w>poder</w><w>completar</w><w>los</w><w>distintos</w><w>pasos</w><w>que</w><w>ilustraremos</w><w>necesitarás</w><w>:</w></s></p><list type="unordered"><item><s xml:id="s_fHy0K1"><w>Al</w><w>menos</w><w>la</w><w>versión</w><w>4.1</w><w>de</w><w>R</w><w>,</w><w>ya</w><w>que</w><w>utilizaremos</w><w>el</w><w>operador</w><w>pipe</w><w>de</w><w>R</w><w>base</w><w>(</w><code rend="inline"><w>|</w><w>&gt;</w></code><w>)</w><w>que</w><w>está</w><w>disponible</w><w>desde</w><w>mayo</w><w>de</w><w>2021</w><pc>.</pc></s><s xml:id="s_OEAPUF"><w>Puedes</w><w>ejecutar</w><code rend="inline"><w>R.version</w></code><w>para</w><w>revisar</w><w>cuál</w><w>es</w><w>la</w><w>versión</w><w>que</w><w>tienes</w><w>instalada</w><w>(</w><w>o</w><w>fijarte</w><w>en</w><w>el</w><w>mensaje</w><w>que</w><w>se</w><w>imprime</w><w>en</w><w>la</w><w>consola</w><w>cuando</w><w>inicias</w><w>R</w><w>)</w><pc>.</pc></s><s xml:id="s_tMK081"><w>De</w><w>todos</w><w>modos</w><w>,</w><w>deberías</w><w>obtener</w><w>los</w><w>mismos</w><w>resultados</w><w>si</w><w>utilizas</w><w>el</w><w>pipe</w><w>del</w><w>paquete</w><w>magrittr</w><w>(</w><code rend="inline"><w>%</w><w>&gt;</w><w>%</w></code><w>)</w></s></item><item><s xml:id="s_2RLQhN"><w>Los</w><w>paquetes</w><hi rend="bold"><s xml:id="s_0F4quv"><w>rvest</w></s></hi><w>,</w><hi rend="bold"><s xml:id="s_a4meBp"><w>stringr</w></s></hi><w>y</w><hi rend="bold"><s xml:id="s_BzmIts"><w>readr</w></s></hi></s></item></list><p><s xml:id="s_4lQIP5"><w>Si</w><w>bien</w><w>no</w><w>es</w><w>necesario</w><w>utilizar</w><ref target="https://perma.cc/K4A9-TWA2"><w>RStudio</w></ref><w>para</w><w>completar</w><w>la</w><w>lección</w><w>,</w><w>las</w><w>capturas</w><w>de</w><w>pantalla</w><w>que</w><w>se</w><w>incluyen</w><w>provienen</w><w>de</w><w>ese</w><w>programa</w><pc>.</pc></s><s xml:id="s_XepjHV"><w>Algo</w><w>similar</w><w>ocurre</w><w>respecto</w><w>del</w><w>navegador</w><pc>.</pc></s><s xml:id="s_hbCrpY"><w>Si</w><w>bien</w><w>puedes</w><w>usar</w><w>cualquiera</w><w>,</w><w>para</w><w>las</w><w>capturas</w><w>de</w><w>pantalla</w><w>se</w><w>utilizó</w><w>Firefox</w><pc>.</pc></s></p><p><s xml:id="s_ZVf6Ua"><w>Los</w><w>datos</w><w>que</w><w>extraeremos</w><w>los</w><w>guardaremos</w><w>en</w><w>una</w><w>carpeta</w><w>llamada</w><w>``</w><w>discursos</w><w>''</w><w>,</w><w>por</w><w>lo</w><w>que</w><w>es</w><w>necesario</w><w>que</w><w>la</w><w>crees</w><w>en</w><w>tu</w><w>directorio</w><w>de</w><w>trabajo</w><w>(</w><w>por</w><w>ejemplo</w><w>,</w><w>con</w><w>la</w><w>función</w><code rend="inline"><w>dir.create</w><w>(</w><w>``</w><w>discursos</w><w>''</w><w>)</w></code><w>)</w><pc>.</pc></s></p></div><div type="2" n="2"><head><s xml:id="s_ay1fqL"><w>¿Qué</w><w>es</w><w>el</w><w>rascado</w><w>web</w><w>o</w><w>web</w><w>scraping</w><pc>?</pc></s></head><p><s xml:id="s_1DO5qB"><w>Web</w><w>scraping</w><w>es</w><w>una</w><w>técnica</w><w>que</w><w>nos</w><w>permite</w><w>extraer</w><w>datos</w><w>publicados</w><w>en</w><w>un</w><w>sitio</w><w>web</w><pc>.</pc></s><s xml:id="s_hFicbj"><w>A</w><w>través</w><w>de</w><w>ella</w><w>``</w><w>rascamos</w><w>''</w><w>el</w><w>código</w><w>html</w><w>de</w><w>una</w><w>página</w><w>para</w><w>obtener</w><w>aquellas</w><w>secciones</w><w>que</w><w>nos</w><w>interesan</w><w>,</w><w>por</w><w>ejemplo</w><w>,</w><w>tablas</w><w>,</w><w>párrafos</w><w>con</w><w>texto</w><w>,</w><w>enlaces</w><w>,</w><w>imágenes</w><w>,</w><w>etc</w><pc>.</pc></s></p><p><s xml:id="s_NYIEwJ"><w>Para</w><w>poder</w><w>entender</w><w>mejor</w><w>cómo</w><w>funciona</w><w>este</w><w>procedimiento</w><w>,</w><w>es</w><w>necesario</w><w>que</w><w>revisemos</w><w>algunos</w><w>aspectos</w><w>básicos</w><w>acerca</w><w>de</w><w>cómo</w><w>está</w><w>construida</w><w>una</w><w>página</w><w>web</w><pc>.</pc></s><s xml:id="s_wrij0f"><w>Ten</w><w>en</w><w>cuenta</w><w>que</w><w>esta</w><w>será</w><w>una</w><w>explicación</w><w>simplificada</w><w>,</w><w>que</w><w>busca</w><w>destacar</w><w>solo</w><w>aquellos</w><w>elementos</w><w>que</w><w>resultan</w><w>relevantes</w><w>cuando</w><w>hacemos</w><w>web</w><w>scraping</w><pc>.</pc></s><s xml:id="s_zbvSg4"><w>Si</w><w>ya</w><w>tienes</w><w>claro</w><w>qué</w><w>es</w><w>un</w><w>elemento</w><w>html</w><w>,</w><w>una</w><w>clase</w><w>o</w><w>un</w><w>id</w><w>,</w><w>quizás</w><w>prefieras</w><w>saltarte</w><w>esta</w><w>sección</w><w>y</w><w>pasar</w><w>a</w><w>la</w><w>siguiente</w><pc>.</pc></s></p><div type="3" n="2.1"><head><s xml:id="s_LFvyHA"><w>Una</w><w>página</w><w>web</w><w>=</w><w>archivo</w><w>de</w><w>texto</w><w>etiquetado</w></s></head><p><s xml:id="s_I7Jx7J"><w>Una</w><w>página</w><w>web</w><w>es</w><w>un</w><w>archivo</w><w>de</w><w>texto</w><w>plano</w><w>que</w><w>utiliza</w><w>la</w><w>extensión</w><code rend="inline"><w>.html</w></code><pc>.</pc></s><s xml:id="s_brRwzm"><w>Al</w><w>contenido</w><w>de</w><w>ese</w><w>archivo</w><w>se</w><w>le</w><w>agregan</w><w>ciertas</w><w>etiquetas</w><w>para</w><w>indicar</w><w>a</w><w>qué</w><w>corresponde</w><w>cada</w><w>uno</w><w>de</w><w>sus</w><w>elementos</w><w>,</w><w>lo</w><w>que</w><w>permite</w><w>darle</w><w>la</w><w>estructura</w><w>necesaria</w><w>para</w><w>que</w><w>se</w><w>visualice</w><w>correctamente</w><w>en</w><w>un</w><w>navegador</w><pc>.</pc></s></p><p><s xml:id="s_zFxJLE"><w>Para</w><w>ilustrar</w><w>esta</w><w>idea</w><w>,</w><w>revisemos</w><w>el</w><w>siguiente</w><w>ejemplo</w><w>de</w><w>código</w><w>html</w><w>:</w></s></p><ab><code lang="language-html" xml:id="code_introduccion-al-web-scraping-usando-r_0" corresp="code_introduccion-al-web-scraping-usando-r_0.txt" rend="block"/></ab><p><s xml:id="s_Xu5KDe"><w>En</w><w>el</w><w>ejemplo</w><w>anterior</w><w>,</w><w>el</w><w>contenido</w><w>está</w><w>delimitado</w><w>por</w><w>distintos</w><w>tipos</w><w>de</w><w>etiquetas</w><pc>.</pc></s><s xml:id="s_GA06c3"><w>Por</w><w>ejemplo</w><w>,</w><w>en</w><w>la</w><w>primera</w><w>línea</w><w>el</w><w>texto</w><w>``</w><w>Este</w><w>es</w><w>el</w><w>título</w><w>más</w><w>grande</w><w>''</w><w>está</w><w>rodeado</w><w>de</w><w>etiquetas</w><w>que</w><w>indican</w><w>el</w><w>inicio</w><w>(</w><code rend="inline"><w>&lt;</w><w>h1</w><w>&gt;</w></code><w>)</w><w>y</w><w>el</w><w>término</w><w>(</w><code rend="inline"><w>&lt;</w><w>/h1</w><w>&gt;</w></code><w>)</w><w>de</w><w>un</w><w>encabezado</w><w>(</w><w>header</w><w>)</w><w>de</w><w>nivel</w><w>1</w><w>(</w><w>el</w><w>más</w><w>grande</w><w>posible</w><w>)</w><pc>.</pc></s><s xml:id="s_gCvAPd"><w>Tenemos</w><w>también</w><w>otras</w><w>etiquetas</w><w>:</w></s></p><list type="unordered"><item><s xml:id="s_Wu0UOo"><code rend="inline"><w>&lt;</w><w>h2</w><w>&gt;</w><w>...</w><w>&lt;</w><w>/h2</w><w>&gt;</w></code><w>para</w><w>títulos</w><w>de</w><w>nivel</w><w>2</w><w>(</w><w>que</w><w>son</w><w>un</w><w>poco</w><w>más</w><w>pequeños</w><w>que</w><w>los</w><w>de</w><w>nivel</w><w>1</w><w>)</w></s></item><item><s xml:id="s_qSrVOx"><code rend="inline"><w>&lt;</w><w>p</w><w>&gt;</w><w>...</w><w>&lt;</w><w>/p</w><w>&gt;</w></code><w>para</w><w>párrafos</w></s></item><item><s xml:id="s_oTVPyP"><code rend="inline"><w>&lt;</w><w>ol</w><w>&gt;</w><w>...</w><w>&lt;</w><w>/ol</w><w>&gt;</w></code><w>para</w><w>una</w><w>lista</w><w>ordenada</w><w>en</w><w>que</w><w>cada</w><w>uno</w><w>de</w><w>sus</w><w>elementos</w><w>está</w><w>a</w><w>su</w><w>vez</w><w>etiquetado</w><w>con</w><code rend="inline"><w>&lt;</w><w>li</w><w>&gt;</w><w>...</w><w>&lt;</w><w>/li</w><w>&gt;</w></code><w>Este</w><w>conjunto</w><w>de</w><w>etiquetas</w><w>permite</w><w>que</w><w>al</w><w>abrir</w><w>el</w><w>documento</w><w>en</w><w>un</w><w>navegador</w><w>,</w><w>este</w><w>interprete</w><w>el</w><w>contenido</w><w>de</w><w>lo</w><w>que</w><w>está</w><w>entre</w><w>las</w><w>etiquetas</w><w>como</w><w>un</w><w>elemento</w><w>con</w><w>ciertas</w><w>características</w><w>,</w><w>tal</w><w>como</w><w>se</w><w>observa</w><w>en</w><w>la</w><w>siguiente</w><w>imagen</w><pc>.</pc></s><s xml:id="s_uZDzTS"><w>Si</w><w>quieres</w><w>probar</w><w>cómo</w><w>funciona</w><w>,</w><w>puedes</w><w>guardar</w><w>el</w><w>bloque</w><w>de</w><w>código</w><w>en</w><w>un</w><w>archivo</w><w>de</w><w>texto</w><w>,</w><w>cambiarle</w><w>la</w><w>extensión</w><w>por</w><w>.html</w><w>y</w><w>luego</w><w>abrirlo</w><w>en</w><w>tu</w><w>navegador</w><pc>.</pc></s></item></list><figure><desc><s xml:id="s_lAgS3I"><w>Visualización</w><w>del</w><w>documento</w><w>html</w><w>en</w><w>el</w><w>navegador</w><w>''</w><w>alt=</w><w>''</w><w>Captura</w><w>de</w><w>pantalla</w><w>de</w><w>cómo</w><w>se</w><w>visualiza</w><w>el</w><w>documento</w><w>html</w><w>anterior</w><w>en</w><w>un</w><w>navegador</w><pc>.</pc></s><s xml:id="s_SgYsFA"><w>En</w><w>él</w><w>los</w><w>títulos</w><w>etiquetados</w><w>como</w><w>h1</w><w>son</w><w>de</w><w>mayor</w><w>tamaño</w><w>que</w><w>los</w><w>de</w><w>h2</w><w>,</w><w>y</w><w>los</w><w>elementos</w><w>etiquetados</w><w>como</w><w>li</w><w>dentro</w><w>la</w><w>etiqueta</w><w>ol</w><w>se</w><w>muestran</w><w>como</w><w>una</w><w>lista</w><w>numerada</w></s></desc><graphic url="introduccion-al-web-scraping-usando-r-01.png"/></figure><p><s xml:id="s_o2li9N"><w>Las</w><w>etiquetas</w><w>que</w><w>hemos</w><w>agregado</w><w>permiten</w><w>,</w><w>por</w><w>ejemplo</w><w>,</w><w>que</w><w>lo</w><w>que</w><w>está</w><w>etiquetado</w><w>como</w><code rend="inline"><w>h1</w></code><w>se</w><w>vea</w><w>más</w><w>grande</w><w>que</w><w>lo</w><w>que</w><w>está</w><w>como</w><code rend="inline"><w>h2</w></code><w>y</w><w>que</w><w>nuestra</w><w>lista</w><w>esté</w><w>numerada</w><pc>.</pc></s><s xml:id="s_HBlwtj"><w>Como</w><w>se</w><w>observa</w><w>en</w><w>la</w><w>imagen</w><w>anterior</w><w>,</w><w>todas</w><w>estas</w><w>etiquetas</w><w>nos</w><w>permiten</w><w>definir</w><w>la</w><w>estructura</w><w>del</w><w>contenido</w><w>de</w><w>nuestro</w><w>documento</w><w>html</w><pc>.</pc></s><s xml:id="s_HagB84"><w>Pero</w><w>¿qué</w><w>pasa</w><w>con</w><w>el</w><w>estilo</w><pc>?</pc></s><s xml:id="s_iRhzeg"><w>¿Cómo</w><w>se</w><w>indica</w><w>,</w><w>por</w><w>ejemplo</w><w>,</w><w>que</w><w>lo</w><w>que</w><w>está</w><w>etiquetado</w><w>como</w><code rend="inline"><w>h1</w></code><w>debe</w><w>tener</w><w>una</w><w>determinada</w><w>fuente</w><w>tipográfica</w><w>o</w><w>un</w><w>tamaño</w><w>y</w><w>color</w><w>particular</w><pc>?</pc></s><s xml:id="s_jFfAt6"><w>Todo</w><w>eso</w><w>podemos</w><w>indicarlo</w><w>con</w><ref target="https://perma.cc/W433-5YJG"><w>las</w><w>hojas</w><w>de</w><w>estilo</w><w>en</w><w>cascada</w></ref><w>,</w><w>conocidas</w><w>como</w><w>CSS</w><w>por</w><w>sus</w><w>siglas</w><w>en</w><w>inglés</w><w>(</w><w>Cascading</w><w>Style</w><w>Sheets</w><w>)</w><pc>.</pc></s><s xml:id="s_Y7pwFC"><w>A</w><w>través</w><w>de</w><w>ellas</w><w>definimos</w><w>las</w><w>reglas</w><w>de</w><w>estilo</w><w>que</w><w>hay</w><w>que</w><w>aplicar</w><w>a</w><w>cada</w><w>elemento</w><w>de</w><w>nuestro</w><w>documento</w><w>html</w><pc>.</pc></s></p><p><s xml:id="s_bcqFTl"><w>No</w><w>profundizaremos</w><w>acá</w><w>acerca</w><w>de</w><w>cómo</w><w>y</w><w>dónde</w><w>se</w><w>escriben</w><w>y</w><w>aplican</w><w>estas</w><w>reglas</w><w>,</w><w>sino</w><w>que</w><w>solo</w><w>nos</w><w>referiremos</w><w>a</w><w>aquellos</w><w>aspectos</w><w>que</w><w>inciden</w><w>cuando</w><w>hacemos</w><w>web</w><w>scraping</w><pc>.</pc></s><s xml:id="s_QH9T2w"><w>El</w><w>más</w><w>importante</w><w>es</w><w>que</w><w>podemos</w><w>crear</w><w>``</w><w>clases</w><w>''</w><pc>.</pc></s><s xml:id="s_fZYs5L"><w>Para</w><w>explicar</w><w>qué</w><w>es</w><w>una</w><w>clase</w><w>,</w><w>volvamos</w><w>a</w><w>nuestro</w><w>ejemplo</w><w>anterior</w><pc>.</pc></s><s xml:id="s_qql6Er"><w>En</w><w>él</w><w>tenemos</w><w>dos</w><w>encabezados</w><w>de</w><w>nivel</w><w>2</w><w>(</w><code rend="inline"><w>&lt;</w><w>h2</w><w>&gt;</w></code><w>)</w><pc>.</pc></s><s xml:id="s_EBNqBh"><w>Si</w><w>queremos</w><w>que</w><w>ambos</w><w>se</w><w>vean</w><w>igual</w><w>,</w><w>bastaría</w><w>con</w><w>indicar</w><w>en</w><w>nuestro</w><w>archivo</w><w>CSS</w><w>las</w><w>características</w><w>que</w><w>deben</w><w>tener</w><w>todos</w><w>los</w><w>encabezados</w><code rend="inline"><w>h2</w></code><pc>.</pc></s><s xml:id="s_NZyvcC"><w>¿Pero</w><w>qué</w><w>pasa</w><w>si</w><w>no</w><w>queremos</w><w>que</w><w>sean</w><w>todos</w><w>iguales</w><pc>?</pc></s><s xml:id="s_vD7qfZ"><w>Por</w><w>ejemplo</w><w>,</w><w>como</w><w>el</w><w>primero</w><w>es</w><w>el</w><w>encabezado</w><w>de</w><w>una</w><w>lista</w><w>,</w><w>podríamos</w><w>querer</w><w>que</w><w>algo</w><w>en</w><w>su</w><w>formato</w><w>sea</w><w>distinto</w><pc>.</pc></s><s xml:id="s_mp6GbJ"><w>Para</w><w>distinguir</w><w>ambos</w><w>encabezados</w><code rend="inline"><w>h2</w></code><w>lo</w><w>que</w><w>podemos</w><w>hacer</w><w>es</w><w>asignarle</w><w>una</w><w>clase</w><w>distinta</w><w>a</w><w>cada</w><w>uno</w><w>y</w><w>luego</w><w>definir</w><w>las</w><w>características</w><w>de</w><w>cada</w><w>clase</w><w>en</w><w>nuestra</w><w>hoja</w><w>de</w><w>estilo</w><pc>.</pc></s><s xml:id="s_JU1Vdo"><w>Eso</w><w>nos</w><w>permitiría</w><w>,</w><w>por</w><w>ejemplo</w><w>,</w><w>hacer</w><w>que</w><w>los</w><w>encabezados</w><w>de</w><w>una</w><w>lista</w><w>tengan</w><w>una</w><w>fuente</w><w>tipográfica</w><w>distinta</w><w>a</w><w>los</w><w>que</w><w>encabezan</w><w>un</w><w>párrafo</w><pc>.</pc></s><s xml:id="s_Tajhi0"><w>Para</w><w>asignar</w><w>la</w><w>clase</w><w>de</w><w>un</w><w>determinado</w><w>elemento</w><w>,</w><w>lo</w><w>que</w><w>hacemos</w><w>es</w><w>agregar</w><code rend="inline"><w>class=</w><w>''</w><w>nombre-de-la-clase</w><w>''</w></code><w>dentro</w><w>de</w><w>la</w><w>etiqueta</w><w>de</w><w>inicio</w><w>,</w><w>tal</w><w>como</w><w>se</w><w>muestra</w><w>en</w><w>esta</w><w>versión</w><w>actualizada</w><w>de</w><w>nuestro</w><w>ejemplo</w><w>:</w></s></p><ab><code lang="language-html" xml:id="code_introduccion-al-web-scraping-usando-r_1" corresp="code_introduccion-al-web-scraping-usando-r_1.txt" rend="block"/></ab><p><s xml:id="s_bip9f0"><w>Ahora</w><w>,</w><w>cada</w><w>uno</w><w>de</w><w>los</w><w>encabezados</w><w>de</w><w>nivel</w><w>2</w><w>corresponde</w><w>a</w><w>una</w><w>clase</w><w>diferente</w><w>,</w><w>lo</w><w>que</w><w>nos</w><w>permite</w><w>distinguirlos</w><pc>.</pc></s><s xml:id="s_sAyGIA"><w>A</w><w>diferencia</w><w>de</w><w>las</w><w>etiquetas</w><w>html</w><w>,</w><ref target="https://perma.cc/95F8-PRLD"><w>que</w><w>son</w><w>una</w><w>lista</w><w>cerrada</w></ref><w>,</w><w>el</w><w>nombre</w><w>de</w><w>la</w><w>clase</w><w>es</w><w>algo</w><w>que</w><w>define</w><w>quien</w><w>crea</w><w>el</w><w>sitio</w><w>web</w><pc>.</pc></s></p><p><s xml:id="s_OFfhz3"><w>¿Por</w><w>qué</w><w>es</w><w>relevante</w><w>entender</w><w>qué</w><w>son</w><w>los</w><w>elementos</w><w>y</w><w>las</w><w>clases</w><pc>?</pc></s><s xml:id="s_NdOdn3"><w>Cuando</w><w>hacemos</w><w>web</w><w>scraping</w><w>lo</w><w>que</w><w>hacemos</w><w>es</w><w>importar</w><w>el</w><w>código</w><w>html</w><w>de</w><w>un</w><w>sitio</w><w>web</w><w>a</w><w>nuestro</w><w>computador</w><w>(</w><w>usando</w><w>R</w><w>,</w><w>por</w><w>ejemplo</w><w>)</w><w>y</w><w>extraer</w><w>aquellas</w><w>partes</w><w>específicas</w><w>que</w><w>nos</w><w>interesan</w><pc>.</pc></s><s xml:id="s_YNhZHX"><w>Como</w><w>el</w><w>contenido</w><w>de</w><w>un</w><w>archivo</w><w>html</w><w>se</w><w>encuentra</w><w>etiquetado</w><w>,</w><w>podemos</w><w>utilizar</w><w>esas</w><w>mismas</w><w>etiquetas</w><w>para</w><w>especificar</w><w>cuáles</w><w>son</w><w>las</w><w>partes</w><w>de</w><w>la</w><w>página</w><w>que</w><w>nos</w><w>interesa</w><w>extraer</w><pc>.</pc></s><s xml:id="s_fZymNJ"><w>Por</w><w>esa</w><w>razón</w><w>,</w><w>entender</w><w>la</w><w>diferencia</w><w>entre</w><w>un</w><w>``</w><w>elemento</w><w>''</w><w>del</w><w>documento</w><w>html</w><w>y</w><w>una</w><w>``</w><w>clase</w><w>''</w><w>nos</w><w>va</w><w>a</w><w>permitir</w><w>precisar</w><w>mejor</w><w>cuál</w><w>es</w><w>el</w><w>contenido</w><w>exacto</w><w>que</w><w>queremos</w><w>de</w><w>una</w><w>página</w><pc>.</pc></s><s xml:id="s_7XKlH3"><w>Si</w><w>en</w><w>nuestro</w><w>ejemplo</w><w>anterior</w><w>quisiéramos</w><w>extraer</w><w>todos</w><w>los</w><w>encabezados</w><w>de</w><w>nivel</w><w>2</w><w>,</w><w>bastaría</w><w>con</w><w>indicar</w><w>que</w><w>queremos</w><w>todo</w><w>el</w><w>contenido</w><w>etiquetado</w><w>como</w><code rend="inline"><w>&lt;</w><w>h2</w><w>&gt;</w></code><pc>.</pc></s><s xml:id="s_Wb8SAQ"><w>Pero</w><w>si</w><w>solo</w><w>nos</w><w>interesan</w><w>los</w><w>encabezados</w><code rend="inline"><w>&lt;</w><w>h2</w><w>&gt;</w></code><w>de</w><w>las</w><w>secciones</w><w>que</w><w>corresponden</w><w>a</w><w>una</w><w>lista</w><w>,</w><w>entonces</w><w>saber</w><w>que</w><w>su</w><w>clase</w><w>es</w><code rend="inline"><w>``</w><w>encabezado-lista</w><w>''</w></code><w>nos</w><w>permitirá</w><w>seleccionar</w><w>solo</w><w>esa</w><w>parte</w><w>del</w><w>contenido</w><w>y</w><w>no</w><w>los</w><code rend="inline"><w>h2</w></code><w>de</w><w>la</w><w>clase</w><code rend="inline"><w>``</w><w>encabezado-parrafo</w><w>''</w></code><pc>.</pc></s><s xml:id="s_NkG0YQ"><w>Es</w><w>decir</w><w>,</w><w>podemos</w><w>hacer</w><w>una</w><w>búsqueda</w><w>y</w><w>extracción</w><w>más</w><w>precisa</w><pc>.</pc></s></p><p><s xml:id="s_qHNa36"><w>Además</w><w>de</w><w>los</w><w>elementos</w><w>y</w><w>las</w><w>clases</w><w>,</w><w>existen</w><w>los</w><ref target="https://perma.cc/Z6XM-ZHHX"><w>id</w></ref><w>,</w><w>que</w><w>son</w><w>la</w><w>forma</w><w>que</w><w>tenemos</w><w>de</w><w>identificar</w><w>de</w><w>manera</w><w>única</w><w>un</w><w>elemento</w><w>dentro</w><w>de</w><w>un</w><w>documento</w><w>html</w><pc>.</pc></s><s xml:id="s_rTv2HV"><w>A</w><w>diferencia</w><w>de</w><w>las</w><w>clases</w><w>,</w><w>que</w><w>se</w><w>pueden</w><w>aplicar</w><w>a</w><w>más</w><w>de</w><w>una</w><w>instancia</w><w>de</w><w>un</w><w>mismo</w><w>elemento</w><w>(</w><w>por</w><w>ejemplo</w><w>,</w><w>todos</w><w>los</w><w>encabezados</w><code rend="inline"><w>&lt;</w><w>h2</w><w>&gt;</w></code><w>)</w><w>,</w><w>un</w><w>id</w><w>puede</w><w>ser</w><w>utilizado</w><w>una</w><w>sola</w><w>vez</w><w>por</w><w>documento</w><pc>.</pc></s><s xml:id="s_ae88ES"><w>Hay</w><w>varias</w><w>razones</w><w>por</w><w>las</w><w>que</w><w>se</w><w>utilizan</w><pc>.</pc></s><s xml:id="s_jcTKqS"><w>Por</w><w>ejemplo</w><w>,</w><w>cumplen</w><w>una</w><w>función</w><w>importante</w><w>cuando</w><w>el</w><w>sitio</w><w>web</w><w>utiliza</w><w>JavaScript</w><w>(</w><w>un</w><w>tema</w><w>que</w><w>excede</w><w>los</w><w>objetivos</w><w>de</w><w>esta</w><w>lección</w><w>)</w><pc>.</pc></s><s xml:id="s_SMpjOx"><w>Pero</w><w>quizás</w><w>una</w><w>de</w><w>las</w><w>más</w><w>conocidas</w><w>es</w><w>que</w><w>nos</w><w>permiten</w><w>crear</w><w>marcadores</w><w>(</w><w>bookmarks</w><w>)</w><w>que</w><w>sirven</w><w>para</w><w>que</w><w>quien</w><w>lea</w><w>la</w><w>página</w><w>pueda</w><w>saltar</w><w>a</w><w>una</w><w>parte</w><w>específica</w><w>de</w><w>la</w><w>misma</w><pc>.</pc></s><s xml:id="s_aQEVFz"><w>Por</w><w>ejemplo</w><w>,</w><w>si</w><w>revisas</w><w>la</w><w>página</w><w>``</w><w>Acerca</w><w>de</w><w>''</w><w>en</w><w>el</w><w>sitio</w><w>web</w><w>de</w><ref target="/es/acerca-de"><w>Programming</w><w>Historian</w></ref><w>,</w><w>verás</w><w>que</w><w>al</w><w>pasar</w><w>el</w><w>cursor</w><w>por</w><w>sobre</w><w>los</w><w>subtítulos</w><w>de</w><w>la</w><w>página</w><w>aparece</w><w>un</w><w>símbolo</w><w>de</w><w>enlace</w><w>a</w><w>la</w><w>derecha</w><w>,</w><w>tal</w><w>como</w><w>se</w><w>muestra</w><w>en</w><w>la</w><w>siguiente</w><w>imagen</w><w>:</w></s></p><figure><desc><s xml:id="s_iesy0L"><w>Cuando</w><w>pasamos</w><w>el</w><w>cursor</w><w>sobre</w><w>alguno</w><w>de</w><w>los</w><w>subtítulos</w><w>en</w><w>la</w><w>página</w><w>de</w><w>Programming</w><w>Historian</w><w>aparece</w><w>un</w><w>ícono</w><w>de</w><w>enlace</w><w>a</w><w>la</w><w>derecha</w><w>''</w><w>alt=</w><w>''</w><w>Captura</w><w>de</w><w>pantalla</w><w>de</w><w>la</w><w>página</w><w>'Acerca</w><w>de</w><w>'</w><w>del</w><w>sitio</w><w>de</w><w>Programming</w><w>Historian</w><pc>.</pc></s><s xml:id="s_oeHEX6"><w>En</w><w>ella</w><w>se</w><w>muestra</w><w>que</w><w>a</w><w>la</w><w>derecha</w><w>de</w><w>los</w><w>subtítulos</w><w>aparece</w><w>un</w><w>ícono</w><w>que</w><w>representa</w><w>un</w><w>enlace</w></s></desc><graphic url="introduccion-al-web-scraping-usando-r-02.png"/></figure><p><s xml:id="s_DbRiTW"><w>Eso</w><w>ocurre</w><w>porque</w><w>cada</w><w>subtítulo</w><w>tiene</w><w>asignado</w><w>un</w><w>id</w><w>,</w><w>que</w><w>identifica</w><w>de</w><w>forma</w><w>única</w><w>esa</w><w>sección</w><w>de</w><w>la</w><w>página</w><pc>.</pc></s><s xml:id="s_WDKP0Y"><w>Si</w><w>revisamos</w><w>el</w><w>enlace</w><w>asociado</w><w>veremos</w><w>que</w><w>a</w><w>la</w><w>url</w><w>base</w><w>de</w><w>la</w><w>página</w><w>(</w><code rend="inline"><w>https</w><w>:</w><w>//programminghistorian.org/es/acerca-de</w></code><w>)</w><w>se</w><w>le</w><w>agrega</w><w>un</w><code rend="inline"><w>#</w></code><w>y</w><w>el</w><w>nombre</w><w>del</w><w>id</w><w>(</w><w>que</w><w>coincide</w><w>en</w><w>este</w><w>caso</w><w>con</w><w>el</w><w>nombre</w><w>del</w><w>subtítulo</w><w>)</w><w>:</w><code rend="inline"><w>https</w><w>:</w><w>//programminghistorian.org/es/acerca-de</w><w>#</w><w>revisión-por-pares</w></code><pc>.</pc></s><s xml:id="s_FGKYp8"><w>Esto</w><w>sirve</w><w>,</w><w>por</w><w>ejemplo</w><w>,</w><w>para</w><w>crear</w><w>un</w><w>índice</w><w>de</w><w>contenido</w><w>en</w><w>la</w><w>página</w><w>que</w><w>permita</w><w>a</w><w>sus</w><w>visitantes</w><w>acceder</w><w>a</w><w>secciones</w><w>específicas</w><pc>.</pc></s><s xml:id="s_l1EwvE"><w>Y</w><w>también</w><w>si</w><w>queremos</w><w>compartir</w><w>un</w><w>enlace</w><w>a</w><w>una</w><w>sección</w><w>particular</w><w>de</w><w>una</w><w>página</w><w>web</w><pc>.</pc></s></p><p><s xml:id="s_uN6MtI"><w>El</w><w>hecho</w><w>de</w><w>que</w><w>los</w><w>id</w><w>solo</w><w>se</w><w>puedan</w><w>utilizar</w><w>una</w><w>vez</w><w>es</w><w>muy</w><w>útil</w><w>cuando</w><w>hacemos</w><w>web</w><w>scraping</w><w>,</w><w>porque</w><w>si</w><w>los</w><w>datos</w><w>que</w><w>queremos</w><w>están</w><w>etiquetados</w><w>con</w><w>un</w><w>id</w><w>,</w><w>cuando</w><w>tratemos</w><w>de</w><w>recuperarlos</w><w>usando</w><w>R</w><w>u</w><w>otra</w><w>herramienta</w><w>tendremos</w><w>seguridad</w><w>de</w><w>que</w><w>obtendremos</w><w>exactamente</w><w>el</w><w>elemento</w><w>específico</w><w>que</w><w>nos</w><w>interesa</w><pc>.</pc></s></p><p><s xml:id="s_vWS3wf"><w>A</w><w>modo</w><w>de</w><w>resumen</w><w>de</w><w>esta</w><w>primera</w><w>sección</w><w>,</w><w>podemos</w><w>decir</w><w>que</w><w>una</w><w>página</w><w>web</w><w>es</w><w>un</w><w>documento</w><w>de</w><w>texto</w><w>plano</w><w>con</w><w>extensión</w><w>.html</w><w>,</w><w>en</w><w>que</w><w>su</w><w>contenido</w><w>se</w><w>encuentra</w><w>etiquetado</w><pc>.</pc></s><s xml:id="s_ey4lzS"><w>Estas</w><w>etiquetas</w><w>sirven</w><w>para</w><w>distinguir</w><w>elementos</w><w>,</w><w>clases</w><w>y</w><w>,</w><w>en</w><w>algunos</w><w>casos</w><w>,</w><w>el</w><w>id</w><w>de</w><w>sus</w><w>distintos</w><w>componentes</w><pc>.</pc></s><s xml:id="s_NU1L3Z"><w>Cuando</w><w>hacemos</w><w>web</w><w>scraping</w><w>,</w><w>esas</w><w>etiquetas</w><w>nos</w><w>servirán</w><w>para</w><w>seleccionar</w><w>el</w><w>contenido</w><w>exacto</w><w>que</w><w>nos</w><w>interesa</w><w>extraer</w><w>de</w><w>una</w><w>página</w><pc>.</pc></s></p></div></div><div type="2" n="3"><head><s xml:id="s_fjxHk4"><w>Poder/deber</w></s></head><p><s xml:id="s_UKufjR"><w>Ahora</w><w>que</w><w>ya</w><w>tenemos</w><w>una</w><w>idea</w><w>general</w><w>de</w><w>cómo</w><w>está</w><w>compuesto</w><w>un</w><w>archivo</w><w>html</w><w>y</w><w>sus</w><w>implicancias</w><w>a</w><w>la</w><w>hora</w><w>de</w><w>hacer</w><w>web</w><w>scraping</w><w>,</w><w>podríamos</w><w>empezar</w><w>con</w><w>un</w><w>primer</w><w>ejercicio</w><w>de</w><w>extracción</w><pc>.</pc></s><s xml:id="s_VVZQ6g"><w>Sin</w><w>embargo</w><w>,</w><w>es</w><w>importante</w><w>que</w><w>discutamos</w><w>brevemente</w><w>las</w><w>cuestiones</w><w>éticas</w><w>del</w><w>uso</w><w>de</w><w>esta</w><w>técnica</w><pc>.</pc></s><s xml:id="s_jEdDSR"><w>¿Qué</w><w>quiere</w><w>decir</w><w>esto</w><pc>?</pc></s><s xml:id="s_UG3KVC"><w>Que</w><w>cuando</w><w>queremos</w><w>extraer</w><w>contenido</w><w>de</w><w>un</w><w>sitio</w><w>web</w><w>no</w><w>solo</w><w>tenemos</w><w>que</w><w>preguntarnos</w><w>si</w><w>es</w><w>viable</w><w>hacerlo</w><w>(</w><w>en</w><w>términos</w><w>de</w><w>si</w><w>tenemos</w><w>el</w><w>conocimiento</w><w>y</w><w>herramientas</w><w>necesarias</w><w>)</w><w>,</w><w>sino</w><w>también</w><w>si</w><w>podemos</w><w>o</w><w>debemos</w><w>extraer</w><w>esos</w><w>datos</w><pc>.</pc></s><s xml:id="s_FjtrL0"><w>Esta</w><w>pregunta</w><w>supone</w><w>averiguar</w><w>dos</w><w>cosas</w><w>:</w></s></p><list type="ordered"><item><s xml:id="s_I7nCFb"><w>Si</w><w>los</w><w>datos</w><w>tienen</w><w>alguna</w><w>restricción</w><w>de</w><w>uso</w><w>,</w><w>producto</w><w>de</w><w>la</w><w>licencia</w><w>con</w><w>que</w><w>han</w><w>sido</w><w>publicados</w></s></item><item><s xml:id="s_BwuEPV"><w>Cómo</w><w>el</w><w>sitio</w><w>web</w><w>espera</w><w>que</w><w>interactuemos</w><w>con</w><w>él</w><w>(</w><w>sobre</w><w>todo</w><w>si</w><w>lo</w><w>haremos</w><w>a</w><w>través</w><w>de</w><w>un</w><w>medio</w><w>automatizado</w><w>,</w><w>como</w><w>el</w><w>web</w><w>scraping</w><w>)</w></s></item></list><p><s xml:id="s_eSQIp4"><w>¿Cómo</w><w>podemos</w><w>averiguar</w><w>esto</w><pc>?</pc></s><s xml:id="s_a3nKyN"><w>Usualmente</w><w>esta</w><w>información</w><w>se</w><w>encuentra</w><w>en</w><w>la</w><w>sección</w><w>relativa</w><w>a</w><w>las</w><w>condiciones</w><w>de</w><w>uso</w><w>del</w><w>sitio</w><w>web</w><pc>.</pc></s><s xml:id="s_P6nvX7"><w>Además</w><w>,</w><w>existe</w><w>un</w><w>archivo</w><w>llamado</w><code rend="inline"><w>robots.txt</w></code><w>que</w><w>nos</w><w>entrega</w><w>pistas</w><w>adicionales</w><w>sobre</w><w>cómo</w><w>interactuar</w><w>con</w><w>el</w><w>sitio</w><pc>.</pc></s><s xml:id="s_b2oQOM"><w>A</w><w>continuación</w><w>explicaremos</w><w>cómo</w><w>obtener</w><w>esta</w><w>información</w><w>y</w><w>cómo</w><w>interpretarla</w><pc>.</pc></s></p><div type="3" n="3.1"><head><s xml:id="s_WjkBni"><w>Revisar</w><w>los</w><w>términos</w><w>o</w><w>condiciones</w><w>de</w><w>uso</w></s></head><p><s xml:id="s_ztllqd"><w>La</w><w>mayoría</w><w>de</w><w>los</w><w>sitios</w><w>web</w><w>incluyen</w><w>una</w><w>sección</w><w>en</w><w>la</w><w>que</w><w>se</w><w>indica</w><w>cuáles</w><w>son</w><w>los</w><w>términos</w><w>o</w><w>condiciones</w><w>de</w><w>uso</w><pc>.</pc></s><s xml:id="s_yJFCvc"><w>Usualmente</w><w>esa</w><w>información</w><w>la</w><w>encontramos</w><w>en</w><w>la</w><w>parte</w><w>inferior</w><w>de</w><w>la</w><w>página</w><w>,</w><w>ya</w><w>sea</w><w>porque</w><w>hay</w><w>un</w><w>mensaje</w><w>que</w><w>explícitamente</w><w>dice</w><w>lo</w><w>que</w><w>podemos</w><w>hacer</w><w>con</w><w>el</w><w>sitio</w><w>,</w><w>o</w><w>bien</w><w>,</w><w>porque</w><w>hay</w><w>un</w><w>enlace</w><w>que</w><w>nos</w><w>lleva</w><w>a</w><w>un</w><w>documento</w><w>más</w><w>detallado</w><pc>.</pc></s><s xml:id="s_w8RDtE"><w>Por</w><w>ejemplo</w><w>,</w><w>si</w><w>vas</w><w>a</w><w>la</w><w>parte</w><w>inferior</w><w>de</w><w>cualquier</w><w>página</w><w>de</w><w>Programming</w><w>Historian</w><w>,</w><w>encontrarás</w><w>el</w><w>siguiente</w><w>mensaje</w><w>:</w><w>``</w><w>Programming</w><w>Historian</w><w>en</w><w>español</w><w>(</w><w>ISSN</w><w>:</w><w>2517-5769</w><w>)</w><w>se</w><w>publica</w><w>con</w><w>una</w><w>licencia</w><w>CC-BY</w><w>''</w><pc>.</pc></s></p><figure><desc><s xml:id="s_N6dfNC"><w>Declaración</w><w>sobre</w><w>la</w><w>licencia</w><w>de</w><w>publicación</w><w>del</w><w>contenido</w><w>de</w><w>Programming</w><w>Historian</w><w>''</w><w>alt=</w><w>''</w><w>Captura</w><w>de</w><w>pantalla</w><w>del</w><w>pie</w><w>de</w><w>página</w><w>del</w><w>sitio</w><w>de</w><w>Programming</w><w>Hisorian</w><w>en</w><w>el</w><w>que</w><w>se</w><w>explicita</w><w>la</w><w>licencia</w><w>con</w><w>que</w><w>se</w><w>publican</w><w>los</w><w>contenidos</w></s></desc><graphic url="introduccion-al-web-scraping-usando-r-03.png"/></figure><p><s xml:id="s_GBaYHB"><w>En</w><w>este</w><w>caso</w><w>,</w><w>la</w><w>explicitación</w><w>de</w><w>la</w><w>licencia</w><w>utilizada</w><w>nos</w><w>permite</w><w>saber</w><w>que</w><w>podemos</w><w>compartir</w><w>y</w><w>adaptar</w><w>el</w><w>material</w><w>publicado</w><w>,</w><w>siempre</w><w>que</w><w>se</w><w>sigan</w><w>los</w><w>términos</w><w>de</w><w>atribución</w><w>que</w><ref target="https://perma.cc/D9YE-HXCJ"><w>este</w><w>tipo</w><w>de</w><w>licencia</w></ref><w>exige</w><pc>.</pc></s><s xml:id="s_XBl5qu"><w>En</w><w>otros</w><w>casos</w><w>,</w><w>en</w><w>particular</w><w>cuando</w><w>se</w><w>trata</w><w>de</w><w>sitios</w><w>web</w><w>cuyo</w><w>contenido</w><w>no</w><w>está</w><w>pensado</w><w>para</w><w>ser</w><w>compartido</w><w>,</w><w>nos</w><w>encontraremos</w><w>con</w><w>una</w><w>explicación</w><w>más</w><w>larga</w><w>y</w><w>detallada</w><w>de</w><w>lo</w><w>que</w><w>se</w><w>puede</w><w>y</w><w>no</w><w>puede</w><w>hacer</w><pc>.</pc></s><s xml:id="s_lGFvXE"><w>Por</w><w>ejemplo</w><w>,</w><w>un</w><w>sitio</w><w>web</w><w>que</w><w>es</w><w>muy</w><w>explícito</w><w>respecto</w><w>de</w><w>esto</w><w>es</w><w>Amazon</w><pc>.</pc></s><s xml:id="s_30Xxqy"><w>Si</w><w>vas</w><w>hasta</w><w>la</w><w>parte</w><w>de</w><w>más</w><w>abajo</w><w>de</w><w>su</w><w>página</w><w>de</w><w>inicio</w><w>,</w><w>encontrarás</w><ref target="https://www.amazon.es/gp/help/customer/display.html?nodeId=201909000"><w>un</w><w>enlace</w><w>a</w><w>las</w><w>condiciones</w><w>de</w><w>uso</w></ref><pc>.</pc></s><s xml:id="s_zX7VHB"><w>En</w><w>esa</w><w>sección</w><w>se</w><w>describen</w><w>de</w><w>forma</w><w>extensa</w><w>los</w><w>términos</w><w>de</w><w>uso</w><w>del</w><w>sitio</w><pc>.</pc></s><s xml:id="s_mCtplJ"><w>¿Cómo</w><w>encontrar</w><w>la</w><w>información</w><w>que</w><w>nos</w><w>interesa</w><w>cuando</w><w>la</w><w>sección</w><w>es</w><w>así</w><w>de</w><w>larga</w><pc>?</pc></s><s xml:id="s_opSqZ2"><w>Algo</w><w>que</w><w>usualmente</w><w>resulta</w><w>útil</w><w>es</w><w>buscar</w><w>palabras</w><w>como</w><w>``</w><w>robot</w><w>''</w><w>,</w><w>``</w><w>extracción</w><w>''</w><w>,</w><w>``</w><w>extraer</w><w>''</w><w>o</w><w>``</w><w>automático/a</w><w>''</w><pc>.</pc></s><s xml:id="s_eHeI1V"><w>En</w><w>este</w><w>caso</w><w>,</w><w>esa</w><w>búsqueda</w><w>nos</w><w>llevará</w><w>al</w><w>siguiente</w><w>párrafo</w><w>:</w></s></p><quote><p><s xml:id="s_06v28E"><w>``</w><w>No</w><w>está</w><w>permitida</w><w>la</w><w>extracción</w><w>sistemática</w><w>ni</w><w>la</w><w>reutilización</w><w>de</w><w>parte</w><w>alguna</w><w>del</w><w>contenido</w><w>de</w><w>ninguno</w><w>de</w><w>los</w><w>servicios</w><w>de</w><w>Amazon</w><w>sin</w><w>nuestro</w><w>expreso</w><w>consentimiento</w><w>por</w><w>escrito</w><pc>.</pc></s><s xml:id="s_rP5iae"><w>En</w><w>particular</w><w>,</w><w>no</w><w>se</w><w>permite</w><w>el</w><w>uso</w><w>de</w><w>herramientas</w><w>o</w><w>robots</w><w>de</w><w>búsqueda</w><w>y</w><w>extracción</w><w>de</w><w>datos</w><w>para</w><w>la</w><w>extracción</w><w>(</w><w>ya</w><w>sea</w><w>en</w><w>una</w><w>o</w><w>varias</w><w>ocasiones</w><w>)</w><w>de</w><w>partes</w><w>sustanciales</w><w>de</w><w>los</w><w>servicios</w><w>de</w><w>Amazon</w><w>para</w><w>su</w><w>reutilización</w><w>sin</w><w>nuestro</w><w>expreso</w><w>consentimiento</w><w>por</w><w>escrito</w><pc>.</pc></s><s xml:id="s_gsfk7o"><w>Tampoco</w><w>le</w><w>está</w><w>permitido</w><w>al</w><w>usuario</w><w>crear</w><w>ni</w><w>publicar</w><w>sus</w><w>propias</w><w>bases</w><w>de</w><w>datos</w><w>cuando</w><w>éstas</w><w>contengan</w><w>partes</w><w>sustanciales</w><w>de</w><w>cualquiera</w><w>de</w><w>los</w><w>servicios</w><w>de</w><w>Amazon</w><w>(</w><w>por</w><w>ejemplo</w><w>,</w><w>nuestras</w><w>listas</w><w>de</w><w>productos</w><w>y</w><w>listas</w><w>de</w><w>precios</w><w>)</w><w>sin</w><w>nuestro</w><w>expreso</w><w>consentimiento</w><w>por</w><w>escrito</w><pc>.</pc></s><s xml:id="s_zGgR4r"><ref type="footnotemark" target="#es_note_1"/><w>``</w></s></p></quote><p><s xml:id="s_iZv0xA"><w>Es</w><w>decir</w><w>:</w></s></p><list type="ordered"><item><s xml:id="s_4QjNpw"><w>Necesitamos</w><w>la</w><w>autorización</w><w>de</w><w>Amazon</w><w>por</w><w>escrito</w><w>para</w><w>extraer</w><w>o</w><w>reutilizar</w><w>el</w><w>contenido</w><w>de</w><w>su</w><w>sitio</w><w>web</w></s></item><item><s xml:id="s_CW0vGf"><w>No</w><w>está</w><w>permitido</w><w>utilizar</w><w>herramientas</w><w>de</w><w>extracción</w><w>de</w><w>datos</w><w>(</w><w>¡como</w><w>el</w><w>web</w><w>scraping</w><pc>!</pc></s><s xml:id="s_P7XcXE"><w>)</w></s></item><item><s xml:id="s_yLrlpM"><w>No</w><w>está</w><w>permitido</w><w>crear</w><w>una</w><w>base</w><w>de</w><w>datos</w><w>a</w><w>partir</w><w>del</w><w>contenido</w><w>extraído</w><w>de</w><w>este</w><w>sitio</w><w>web</w></s></item></list><p><s xml:id="s_UTPC4U"><w>Por</w><w>lo</w><w>tanto</w><w>,</w><w>según</w><w>lo</w><w>que</w><w>el</w><w>propio</w><w>sitio</w><w>nos</w><w>indica</w><w>,</w><w>por</w><w>mucho</w><w>que</w><w>sepamos</w><w>cómo</w><w>extraer</w><w>los</w><w>datos</w><w>de</w><w>él</w><w>,</w><w>no</w><w>es</w><w>algo</w><w>que</w><w>debiésemos</w><w>hacer</w><w>si</w><w>queremos</w><w>respetar</w><w>los</w><w>términos</w><w>de</w><w>uso</w><w>que</w><w>la</w><w>empresa</w><w>ha</w><w>definido</w><pc>.</pc></s></p></div><div type="3" n="3.2"><head><s xml:id="s_FEhgl6"><w>Revisar</w><w>el</w><w>archivo</w><w>robots.txt</w></s></head><p><s xml:id="s_pQVTXb"><w>Existe</w><w>otro</w><w>lugar</w><w>en</w><w>el</w><w>que</w><w>podemos</w><w>encontrar</w><w>información</w><w>sobre</w><w>cómo</w><w>interactuar</w><w>con</w><w>un</w><w>sitio</w><w>web</w><w>:</w><w>el</w><w>archivo</w><w>robots.txt</w><pc>.</pc></s><s xml:id="s_gl7Exr"><w>Este</w><w>archivo</w><w>explicita</w><w>algo</w><w>que</w><w>se</w><w>conoce</w><w>como</w><w>``</w><w>protocolo</w><w>de</w><w>exclusión</w><w>de</w><w>robots</w><w>''</w><w>,</w><w>es</w><w>decir</w><w>,</w><w>en</w><w>él</w><w>se</w><w>dan</w><w>instrucciones</w><w>de</w><w>qué</w><w>puede</w><w>y</w><w>no</w><w>puede</w><w>hacer</w><w>un</w><w>mecanismo</w><w>automatizado</w><w>de</w><w>extracción</w><w>de</w><w>datos</w><w>al</w><w>interactuar</w><w>con</w><w>ese</w><w>sitio</w><w>en</w><w>particular</w><pc>.</pc></s><s xml:id="s_ZqA9Z8"><w>Lamentablemente</w><w>no</w><w>todos</w><w>los</w><w>sitios</w><w>web</w><w>lo</w><w>incluyen</w><w>,</w><w>por</w><w>lo</w><w>que</w><w>no</w><w>siempre</w><w>encontraremos</w><w>esta</w><w>información</w><w>disponible</w><pc>.</pc></s></p><p><s xml:id="s_YuBdbQ"><w>Este</w><w>archivo</w><w>está</w><w>pensado</w><w>principalmente</w><w>para</w><w>robots</w><w>que</w><w>hacen</w><w>extracciones</w><w>masivas</w><w>del</w><w>contenido</w><w>de</w><w>algunas</w><w>páginas</w><pc>.</pc></s><s xml:id="s_ERjzUC"><w>Sin</w><w>embargo</w><w>,</w><w>en</w><w>él</w><w>encontraremos</w><w>información</w><w>relevante</w><w>para</w><w>tareas</w><w>más</w><w>discretas</w><w>,</w><w>como</w><w>las</w><w>que</w><w>realizaremos</w><w>en</w><w>esta</w><w>serie</w><w>de</w><w>lecciones</w><pc>.</pc></s></p><p><s xml:id="s_yiTprQ"><w>El</w><w>documento</w><w>robots.txt</w><w>se</w><w>encuentra</w><w>en</w><w>el</w><w>directorio</w><w>raíz</w><w>de</w><w>un</w><w>sitio</w><w>web</w><w>,</w><w>por</w><w>lo</w><w>tanto</w><w>,</w><w>en</w><w>caso</w><w>de</w><w>estar</w><w>disponible</w><w>,</w><w>podemos</w><w>acceder</w><w>a</w><w>su</w><w>contenido</w><w>agregando</w><w>``</w><w>robots.txt</w><w>''</w><w>luego</w><w>de</w><w>la</w><w>url</w><w>principal</w><pc>.</pc></s><s xml:id="s_Wsqrrp"><w>Por</w><w>ejemplo</w><w>,</w><w>si</w><w>quisiéramos</w><w>revisar</w><w>la</w><w>versión</w><w>de</w><w>este</w><w>archivo</w><w>del</w><w>sitio</w><w>web</w><w>del</w><w>proyecto</w><ref target="http://www.memoriachilena.gob.cl/"><w>Memoria</w><w>Chilena</w></ref><w>de</w><w>la</w><w>Biblioteca</w><w>Nacional</w><w>de</w><w>Chile</w><w>,</w><w>tendríamos</w><w>que</w><w>escribir</w><w>:</w><code rend="inline"><w>http</w><w>:</w><w>//www.memoriachilena.gob.cl/robots.txt</w></code><pc>.</pc></s><s xml:id="s_Tyx4FN"><w>Eso</w><w>nos</w><w>llevará</w><w>a</w><ref target="https://perma.cc/37MD-HP8Y"><w>una</w><w>página</w></ref><w>con</w><w>el</w><w>siguiente</w><w>contenido</w><w>:</w></s></p><ab><code xml:id="code_introduccion-al-web-scraping-usando-r_2" corresp="code_introduccion-al-web-scraping-usando-r_2.txt" rend="block"/></ab><p><s xml:id="s_OCbN9O"><w>¿Qué</w><w>significa</w><w>este</w><w>mensaje</w><pc>?</pc></s><s xml:id="s_Nicqzu"><w>Revisemos</w><w>cada</w><w>línea</w><w>:</w></s></p><list type="unordered"><item><s xml:id="s_nP0ZiA"><code rend="inline"><w>User-agent</w><w>:</w><w>*</w></code><w>:</w><w>Indica</w><w>a</w><w>quién</w><w>se</w><w>aplican</w><w>estas</w><w>instrucciones</w><pc>.</pc></s><s xml:id="s_mYO4lw"><w>A</w><w>veces</w><w>aparece</w><w>el</w><w>nombre</w><w>de</w><w>algún</w><w>robot</w><w>en</w><w>particular</w><pc>.</pc></s><s xml:id="s_3sW2vv"><w>En</w><w>este</w><w>caso</w><w>,</w><w>el</w><w>asterisco</w><w>explicita</w><w>que</w><w>estas</w><w>instrucciones</w><w>aplican</w><w>a</w><w>todos</w><pc>.</pc></s></item><item><s xml:id="s_OAQ5uO"><code rend="inline"><w>Allow</w><w>:</w><w>/</w></code><w>:</w><w>Indica</w><w>cuáles</w><w>son</w><w>las</w><w>rutas</w><w>dentro</w><w>del</w><w>sitio</w><w>desde</w><w>las</w><w>que</w><w>es</w><w>posible</w><w>extraer</w><w>datos</w><pc>.</pc></s><s xml:id="s_yPrWZZ"><w>En</w><w>este</w><w>caso</w><w>la</w><w>barra</w><code rend="inline"><w>/</w></code><w>indica</w><w>que</w><w>es</w><w>posible</w><w>hacerlo</w><w>de</w><w>todas</w><pc>.</pc></s></item><item><s xml:id="s_ehD2vB"><code rend="inline"><w>Disallow</w><w>:</w><w>/</w><w>*</w><w>/alt-</w><w>*</w><w>.html</w></code><w>y</w><code rend="inline"><w>Disallow</w><w>:</w><w>/</w><w>*</w><w>/aux-</w><w>*</w><w>.html</w></code><w>explicitan</w><w>aquellas</w><w>rutas</w><w>dentro</w><w>del</w><w>sitio</w><w>web</w><w>desde</w><w>las</w><w>que</w><w>no</w><w>se</w><w>da</w><w>autorización</w><w>para</w><w>hacer</w><w>una</w><w>extracción</w><w>de</w><w>forma</w><w>automatizada</w><pc>.</pc></s><s xml:id="s_ZTdRLN"><w>En</w><w>este</w><w>caso</w><w>,</w><w>son</w><w>todas</w><w>aquellas</w><w>páginas</w><w>cuya</w><w>url</w><w>incluye</w><code rend="inline"><w>alt-</w></code><w>o</w><code rend="inline"><w>aux-</w></code><pc>.</pc></s><s xml:id="s_ijAjz2"><w>Es</w><w>decir</w><w>,</w><w>acá</w><w>se</w><w>está</w><w>poniendo</w><w>una</w><w>restricción</w><w>a</w><w>la</w><w>autorización</w><w>general</w><w>que</w><w>nos</w><w>dieron</w><w>en</w><w>la</w><w>línea</w><w>anterior</w><pc>.</pc></s></item><item><s xml:id="s_PUduVp"><code rend="inline"><w>Crawl-Delay</w><w>:</w><w>2</w></code><w>:</w><w>Explicita</w><w>la</w><w>cantidad</w><w>de</w><w>segundos</w><w>que</w><w>es</w><w>necesario</w><w>esperar</w><w>entre</w><w>cada</w><w>petición</w><w>(</w><w>request</w><w>)</w><w>de</w><w>datos</w><w>al</w><w>sitio</w><pc>.</pc></s><s xml:id="s_vUleLx"><w>Esto</w><w>es</w><w>importante</w><w>tenerlo</w><w>en</w><w>cuenta</w><w>cuando</w><w>extraemos</w><w>datos</w><w>de</w><w>varias</w><w>páginas</w><w>dentro</w><w>de</w><w>un</w><w>sitio</w><w>web</w><w>al</w><w>mismo</w><w>tiempo</w><w>,</w><w>ya</w><w>que</w><w>esos</w><w>segundos</w><w>de</w><w>espera</w><w>permiten</w><w>que</w><w>el</w><w>funcionamiento</w><w>del</w><w>sitio</w><w>no</w><w>se</w><w>vea</w><w>afectado</w><pc>.</pc></s><s xml:id="s_hmZjya"><w>Por</w><w>el</w><w>momento</w><w>no</w><w>es</w><w>algo</w><w>que</w><w>necesitemos</w><w>tener</w><w>en</w><w>consideración</w><w>para</w><w>esta</w><w>lección</w><w>en</w><w>particular</w><w>,</w><w>pero</w><w>sí</w><w>será</w><w>relevante</w><w>en</w><w>la</w><w>tercera</w><w>parte</w><w>de</w><w>esta</w><w>serie</w><pc>.</pc></s></item></list><p><s xml:id="s_fAbS3o"><w>Como</w><w>señalamos</w><w>anteriormente</w><w>,</w><w>es</w><w>importante</w><w>tener</w><w>en</w><w>cuenta</w><w>que</w><w>no</w><w>todos</w><w>los</w><w>sitios</w><w>web</w><w>tienen</w><w>un</w><w>archivo</w><w>robots.txt</w><w>o</w><w>una</w><w>sección</w><w>específica</w><w>sobre</w><w>cuáles</w><w>son</w><w>las</w><w>condiciones</w><w>de</w><w>uso</w><pc>.</pc></s><s xml:id="s_ejwb83"><w>A</w><w>veces</w><w>este</w><w>tipo</w><w>de</w><w>información</w><w>está</w><w>contenida</w><w>dentro</w><w>de</w><w>otras</w><w>secciones</w><w>(</w><w>por</w><w>ejemplo</w><w>,</w><w>``</w><w>Preguntas</w><w>frecuentes</w><w>''</w><w>o</w><w>``</w><w>Acerca</w><w>de</w><w>''</w><w>)</w><w>y</w><w>en</w><w>otras</w><w>simplemente</w><w>no</w><w>se</w><w>menciona</w><w>nada</w><pc>.</pc></s><s xml:id="s_IadCHc"><w>En</w><w>esos</w><w>casos</w><w>tendrás</w><w>que</w><w>aplicar</w><w>tu</w><w>criterio</w><w>y</w><w>evaluar</w><w>qué</w><w>es</w><w>lo</w><w>más</w><w>adecuado</w><pc>.</pc></s></p></div></div><div type="2" n="4"><head><s xml:id="s_zCmAqt"><w>Ejercicio</w><w>práctico</w><w>:</w><w>extraer</w><w>el</w><w>texto</w><w>contenido</w><w>en</w><w>un</w><w>sitio</w><w>web</w></s></head><p><s xml:id="s_PtASwW"><w>Ahora</w><w>que</w><w>tenemos</w><w>clara</w><w>la</w><w>forma</w><w>de</w><w>funcionamiento</w><w>de</w><w>un</w><w>sitio</w><w>web</w><w>y</w><w>cómo</w><w>averiguar</w><w>de</w><w>qué</w><w>forma</w><w>podemos</w><w>interactuar</w><w>con</w><w>él</w><w>,</w><w>haremos</w><w>un</w><w>primer</w><w>ejercicio</w><w>de</w><w>extracción</w><w>de</w><w>datos</w><pc>.</pc></s><s xml:id="s_GOszVq"><w>En</w><w>él</w><w>mostraremos</w><w>cómo</w><w>extraer</w><w>texto</w><w>contenido</w><w>en</w><w>una</w><w>página</w><pc>.</pc></s><s xml:id="s_WoeQwV"><w>Este</w><w>método</w><w>resulta</w><w>particularmente</w><w>útil</w><w>cuando</w><w>,</w><w>por</w><w>ejemplo</w><w>,</w><w>necesitamos</w><w>compilar</w><w>un</w><w>corpus</w><w>de</w><w>textos</w><w>disponibles</w><w>en</w><w>línea</w><pc>.</pc></s><s xml:id="s_l5YD1F"><w>En</w><w>esta</w><w>ocasión</w><w>,</w><w>usaremos</w><w>como</w><w>ejemplos</w><w>los</w><w>discursos</w><w>de</w><w>asunción</w><w>de</w><w>los</w><w>dos</w><w>últimos</w><w>presidentes</w><w>de</w><w>Chile</w><pc>.</pc></s><s xml:id="s_KUf5Wd"><w>Los</w><w>discursos</w><w>que</w><w>extraeremos</w><w>se</w><w>encuentran</w><w>disponibles</w><w>en</w><ref target="https://prensa.presidencia.cl/"><w>la</w><w>página</w><w>de</w><w>prensa</w><w>de</w><w>la</w><w>presidencia</w><w>Chile</w></ref><pc>.</pc></s><s xml:id="s_ptk1iA"><w>Este</w><w>podría</w><w>ser</w><w>el</w><w>paso</w><w>inicial</w><w>para</w><w>compilar</w><w>,</w><w>por</w><w>ejemplo</w><w>,</w><w>un</w><w>corpus</w><w>de</w><w>discursos</w><w>de</w><w>asunción</w><w>al</w><w>cargo</w><w>que</w><w>posteriormente</w><w>podríamos</w><w>analizar</w><w>con</w><w>alguna</w><w>técnica</w><w>de</w><w>minería</w><w>de</w><w>textos</w><pc>.</pc></s><s xml:id="s_k9I6kk"><w>Veamos</w><w>ahora</w><w>el</w><w>paso</w><w>a</w><w>paso</w><w>para</w><w>realizar</w><w>la</w><w>extracción</w><pc>.</pc></s></p><div type="3" n="4.1"><head><s xml:id="s_vh12Tt"><w>Paso</w><w>1</w><pc>.</pc></s><s xml:id="s_LevVKL"><w>Revisar</w><w>los</w><w>términos</w><w>de</w><w>uso</w><w>del</w><w>sitio</w><w>web</w></s></head><p><s xml:id="s_EVdt6x"><w>Si</w><w>revisamos</w><w>la</w><w>parte</w><w>inferior</w><ref target="https://perma.cc/83EB-9NYL"><w>del</w><w>sitio</w><w>web</w></ref><w>,</w><w>encontraremos</w><w>un</w><w>mensaje</w><w>en</w><w>el</w><w>que</w><w>se</w><w>señala</w><w>de</w><w>forma</w><w>explícita</w><w>que</w><w>podemos</w><w>utilizar</w><w>los</w><w>contenidos</w><w>publicados</w><w>ahí</w><pc>.</pc></s></p><figure><desc><s xml:id="s_gPmIDN"><w>Declaración</w><w>de</w><w>la</w><w>licencia</w><w>con</w><w>que</w><w>se</w><w>publican</w><w>los</w><w>contenidos</w><w>en</w><w>el</w><w>sitio</w><w>web</w><w>de</w><w>prensa</w><w>de</w><w>la</w><w>Presidencia</w><w>de</w><w>Chile</w><w>''</w><w>alt=</w><w>''</w><w>Captura</w><w>de</w><w>pantalla</w><w>del</w><w>pie</w><w>de</w><w>página</w><w>en</w><w>que</w><w>se</w><w>indica</w><w>la</w><w>licencia</w><pc>.</pc></s><s xml:id="s_y6TXAi"><w>El</w><w>texto</w><w>dice</w><w>'Todos</w><w>los</w><w>derechos</w><w>liberados</w><pc>.</pc></s><s xml:id="s_f3Somn"><w>Se</w><w>pueden</w><w>reproducir</w><w>,</w><w>usar</w><w>y</w><w>descargar</w><w>todos</w><w>los</w><w>contenidos</w><w>,</w><w>sin</w><w>alterarlos</w><w>y</w><w>citando</w><w>la</w><w>fuente</w><pc>.</pc></s><s xml:id="s_40Edx2"><w>Dirección</w><w>de</w><w>prensa</w><w>,</w><w>Presidencia</w><w>de</w><w>la</w><w>República</w><w>de</w><w>Chile</w><w>'</w></s></desc><graphic url="introduccion-al-web-scraping-usando-r-04.png"/></figure><p><s xml:id="s_ryemnK"><w>Como</w><w>en</w><w>esta</w><w>ocasión</w><w>haremos</w><w>solo</w><w>una</w><w>``</w><w>llamada</w><w>''</w><w>al</w><w>sitio</w><w>web</w><w>,</w><w>no</w><w>es</w><w>necesario</w><w>preocuparnos</w><w>por</w><w>los</w><w>tiempos</w><w>de</w><w>espera</w><w>(</w><w>crawl</w><w>delay</w><w>)</w><w>que</w><w>podrían</w><w>estar</w><w>indicados</w><w>en</w><w>el</w><w>archivo</w><w>robots.txt</w><w>(</w><w>aunque</w><w>en</w><w>este</w><w>caso</w><w>en</w><w>particular</w><w>el</w><w>sitio</w><w>no</w><w>contiene</w><w>este</w><w>archivo</w><w>)</w><pc>.</pc></s><s xml:id="s_MPzzxH"><w>Así</w><w>que</w><w>con</w><w>la</w><w>información</w><w>de</w><w>que</w><w>los</w><w>derechos</w><w>están</w><w>liberados</w><w>,</w><w>ya</w><w>tenemos</w><w>todo</w><w>lo</w><w>necesario</w><w>para</w><w>continuar</w><w>con</w><w>el</w><w>siguiente</w><w>paso</w><pc>.</pc></s></p></div><div type="3" n="4.2"><head><s xml:id="s_JkZXoJ"><w>Paso</w><w>2</w><pc>.</pc></s><s xml:id="s_xD7W7H"><w>Identificar</w><w>la</w><w>etiqueta</w><w>que</w><w>contiene</w><w>los</w><w>datos</w><w>que</w><w>nos</w><w>interesan</w></s></head><p><s xml:id="s_B0tRLA"><w>Como</w><w>veremos</w><w>a</w><w>lo</w><w>largo</w><w>de</w><w>esta</w><w>serie</w><w>de</w><w>lecciones</w><w>,</w><w>los</w><w>pasos</w><w>para</w><w>hacer</w><w>web</w><w>scraping</w><w>suelen</w><w>ser</w><w>los</w><w>mismos</w><w>siempre</w><pc>.</pc></s><s xml:id="s_JGzseI"><w>Lo</w><w>que</w><w>varía</w><w>cada</w><w>vez</w><w>es</w><w>el</w><w>elemento</w><w>,</w><w>la</w><w>clase</w><w>o</w><w>el</w><w>id</w><w>en</w><w>el</w><w>que</w><w>se</w><w>encuentra</w><w>el</w><w>contenido</w><w>queremos</w><w>extraer</w><w>de</w><w>una</w><w>determinada</w><w>página</w><pc>.</pc></s><s xml:id="s_ZqFNLl"><w>¿Cómo</w><w>podemos</w><w>saber</w><w>cuál</w><w>es</w><w>la</w><w>etiqueta</w><w>del</w><w>contenido</w><w>que</w><w>nos</w><w>interesa</w><pc>?</pc></s><s xml:id="s_uwQmrP"><w>Existen</w><w>dos</w><w>formas</w><w>:</w><w>la</w><w>primera</w><w>,</w><w>utilizando</w><w>las</w><w>herramientas</w><w>de</w><w>desarrollo</w><w>incluidas</w><w>en</w><w>el</w><w>navegador</w><w>;</w><w>la</w><w>segunda</w><w>,</w><w>utilizando</w><w>alguna</w><w>extensión</w><w>para</w><w>nuestro</w><w>navegador</w><w>que</w><w>nos</w><w>ayude</w><w>con</w><w>este</w><w>propósito</w><pc>.</pc></s><s xml:id="s_bLDJWS"><w>En</w><w>esta</w><w>ocasión</w><w>ilustraremos</w><w>el</w><w>primer</w><w>método</w><w>,</w><w>ya</w><w>que</w><w>es</w><w>el</w><w>que</w><w>resulta</w><w>óptimo</w><w>para</w><w>el</w><w>sitio</w><w>web</w><w>con</w><w>el</w><w>que</w><w>trabajaremos</w><pc>.</pc></s></p><div type="4" n="4.2.1"><head><s xml:id="s_6c0fCO"><w>Las</w><w>herramientas</w><w>de</w><w>desarrollo</w><w>del</w><w>navegador</w></s></head><p><s xml:id="s_4nCCuf"><w>Tanto</w><w>en</w><w>Firefox</w><w>como</w><w>en</w><w>Chrome</w><w>se</w><w>puede</w><w>acceder</w><w>a</w><w>las</w><w>herramientas</w><w>de</w><w>desarrollo</w><w>utilizando</w><w>el</w><w>comando</w><w>abreviado</w><w>Ctrl</w><w>+</w><w>Shift</w><w>+</w><w>i</w><w>(</w><w>o</w><w>Cmd</w><w>+</w><w>Shift</w><w>+</w><w>i</w><w>si</w><w>estás</w><w>en</w><w>Mac</w><w>)</w><pc>.</pc></s><s xml:id="s_NB1vgi"><w>Eso</w><w>abrirá</w><w>un</w><w>panel</w><w>que</w><w>nos</w><w>mostrará</w><w>el</w><w>código</w><w>html</w><w>de</w><w>la</w><w>página</w><w>y</w><w>las</w><w>reglas</w><w>de</w><w>estilo</w><w>(</w><w>CSS</w><w>)</w><pc>.</pc></s><s xml:id="s_7wHAfi"><w>En</w><w>el</w><w>caso</w><w>de</w><w>Firefox</w><w>el</w><w>panel</w><w>se</w><w>encuentra</w><w>en</w><w>la</w><w>parte</w><w>inferior</w><w>de</w><w>la</w><w>ventana</w><w>(</w><w>en</w><w>Chrome</w><w>lo</w><w>verás</w><w>al</w><w>lado</w><w>derecho</w><w>)</w><pc>.</pc></s><s xml:id="s_6ybCEe"><w>También</w><w>puedes</w><w>llegar</w><w>a</w><w>las</w><w>herramientas</w><w>de</w><w>desarrollo</w><w>utilizando</w><w>el</w><w>botón</w><w>derecho</w><w>del</w><w>ratón</w><w>(</w><w>o</w><w>Ctrl</w><w>+</w><w>hacer</w><w>clic</w><w>si</w><w>usas</w><w>Mac</w><w>)</w><pc>.</pc></s><s xml:id="s_GdlCwW"><w>En</w><w>el</w><w>menú</w><w>que</w><w>se</w><w>despliega</w><w>debes</w><w>seleccionar</w><w>la</w><w>opción</w><w>``</w><w>Inspect</w><w>''</w><w>o</w><w>``</w><w>Inspeccionar</w><w>''</w><w>,</w><w>que</w><w>es</w><w>la</w><w>que</w><w>abrirá</w><w>el</w><w>panel</w><w>de</w><w>desarrollo</w><pc>.</pc></s></p><figure><desc><s xml:id="s_m9QInD"><w>El</w><w>panel</w><w>de</w><w>desarrollo</w><w>en</w><w>Firefox</w><w>''</w><w>alt=</w><w>''</w><w>Captura</w><w>de</w><w>pantalla</w><w>del</w><w>sitio</w><w>web</w><w>en</w><w>que</w><w>estamos</w><w>trabajando</w><w>,</w><w>una</w><w>vez</w><w>que</w><w>se</w><w>abre</w><w>el</w><w>panel</w><w>de</w><w>desarrollo</w><pc>.</pc></s><s xml:id="s_5mph1H"><w>Este</w><w>aparece</w><w>en</w><w>la</w><w>parte</w><w>inferior</w><w>de</w><w>la</w><w>página</w><w>y</w><w>consta</w><w>de</w><w>tres</w><w>subpáneles</w><pc>.</pc></s><s xml:id="s_JC4e1J"><w>En</w><w>la</w><w>captura</w><w>de</w><w>pantalla</w><w>está</w><w>destacado</w><w>el</w><w>de</w><w>la</w><w>izquierda</w><w>,</w><w>que</w><w>es</w><w>el</w><w>que</w><w>contiene</w><w>el</w><w>código</w><w>html</w></s></desc><graphic url="introduccion-al-web-scraping-usando-r-05.png"/></figure><p><s xml:id="s_fGYP64"><w>En</w><w>el</w><w>caso</w><w>de</w><w>Firefox</w><w>,</w><w>lo</w><w>que</w><w>está</w><w>al</w><w>lado</w><w>izquierdo</w><w>del</w><w>panel</w><w>es</w><w>el</w><w>código</w><w>html</w><w>de</w><w>la</w><w>página</w><pc>.</pc></s><s xml:id="s_J1rmDF"><w>Si</w><w>hacemos</w><w>clic</w><w>en</w><w>las</w><w>líneas</w><w>que</w><w>tienen</w><w>una</w><w>flecha</w><w>al</w><w>lado</w><w>izquierdo</w><w>,</w><w>se</w><w>irá</w><w>desplegando</w><w>el</w><w>código</w><w>de</w><w>la</w><w>página</w><pc>.</pc></s><s xml:id="s_toHuKL"><w>Y</w><w>si</w><w>ponemos</w><w>el</w><w>cursor</w><w>sobre</w><w>alguna</w><w>de</w><w>las</w><w>líneas</w><w>de</w><w>ese</w><w>código</w><w>,</w><w>se</w><w>destacará</w><w>en</w><w>la</w><w>página</w><w>la</w><w>parte</w><w>de</w><w>la</w><w>misma</w><w>a</w><w>la</w><w>que</w><w>corresponde</w><w>esa</w><w>línea</w><w>en</w><w>particular</w><pc>.</pc></s></p><figure><desc><s xml:id="s_mo2vPT"><w>Cuando</w><w>ponemos</w><w>el</w><w>cursor</w><w>sobre</w><w>alguna</w><w>de</w><w>las</w><w>líneas</w><w>de</w><w>código</w><w>en</w><w>el</w><w>panel</w><w>de</w><w>desarrollo</w><w>se</w><w>destaca</w><w>la</w><w>parte</w><w>correspondiente</w><w>en</w><w>la</w><w>página</w><w>''</w><w>alt=</w><w>''</w><w>Captura</w><w>de</w><w>pantalla</w><w>del</w><w>sitio</w><w>web</w><w>que</w><w>muestra</w><w>en</w><w>la</w><w>mitad</w><w>de</w><w>abajo</w><w>el</w><w>panel</w><w>de</w><w>desarrollo</w><pc>.</pc></s><s xml:id="s_1nFmpp"><w>En</w><w>ese</w><w>panel</w><w>hay</w><w>una</w><w>línea</w><w>de</w><w>código</w><w>marcada</w><w>y</w><w>una</w><w>flecha</w><w>que</w><w>muestra</w><w>a</w><w>qué</w><w>elemento</w><w>dentro</w><w>de</w><w>la</w><w>página</w><w>corresponde</w><w>esa</w><w>línea</w><pc>.</pc></s><s xml:id="s_CUhqdd"><w>Sobre</w><w>el</w><w>elemento</w><w>de</w><w>la</w><w>página</w><w>aparece</w><w>un</w><w>recuadro</w><w>con</w><w>la</w><w>etiqueta</w><w>h3</w></s></desc><graphic url="introduccion-al-web-scraping-usando-r-06.png"/></figure><p><s xml:id="s_GpZpOz"><w>Por</w><w>ejemplo</w><w>,</w><w>en</w><w>la</w><w>captura</w><w>de</w><w>pantalla</w><w>anterior</w><w>,</w><w>pusimos</w><w>el</w><w>cursor</w><w>sobre</w><w>la</w><w>línea</w><w>que</w><w>decía</w><code rend="inline"><w>h3</w></code><w>y</w><w>eso</w><w>destacó</w><w>el</w><w>titular</w><w>de</w><w>la</w><w>nota</w><w>que</w><w>aparece</w><w>ahí</w><w>publicada</w><pc>.</pc></s></p><p><s xml:id="s_ezX3gZ"><w>También</w><w>podemos</w><w>hacerlo</w><w>al</w><w>revés</w><w>(</w><w>que</w><w>suele</w><w>ser</w><w>la</w><w>forma</w><w>más</w><w>útil</w><w>)</w><w>,</w><w>es</w><w>decir</w><w>,</w><w>poner</w><w>el</w><w>cursor</w><w>sobre</w><w>algún</w><w>elemento</w><w>de</w><w>la</w><w>página</w><w>para</w><w>que</w><w>el</w><w>navegador</w><w>nos</w><w>muestre</w><w>a</w><w>qué</w><w>parte</w><w>del</w><w>código</w><w>corresponde</w><w>ese</w><w>fragmento</w><w>en</w><w>particular</w><pc>.</pc></s><s xml:id="s_Xs1tU9"><w>Hay</w><w>dos</w><w>maneras</w><w>de</w><w>hacer</w><w>esto</w><pc>.</pc></s><s xml:id="s_oGu1aB"><w>Si</w><w>ya</w><w>tienes</w><w>abierto</w><w>el</w><w>panel</w><w>con</w><w>las</w><w>herramientas</w><w>de</w><w>desarrollo</w><w>,</w><w>como</w><w>en</w><w>nuestro</w><w>caso</w><w>,</w><w>puedes</w><w>hacer</w><w>clic</w><w>en</w><w>la</w><w>esquina</w><w>superior</w><w>izquierda</w><w>de</w><w>ese</w><w>panel</w><w>,</w><w>en</w><w>el</w><w>símbolo</w><w>que</w><w>tiene</w><w>un</w><w>cursor</w><pc>.</pc></s><s xml:id="s_hdgjwY"><w>Al</w><w>hacerle</w><w>clic</w><w>cambiará</w><w>de</w><w>color</w><w>a</w><w>azul</w><w>para</w><w>indicar</w><w>que</w><w>está</w><w>activa</w><w>esa</w><w>opción</w><pc>.</pc></s><s xml:id="s_jpaplC"><w>Si</w><w>no</w><w>tienes</w><w>abierto</w><w>el</w><w>panel</w><w>,</w><w>puedes</w><w>utilizar</w><w>el</w><w>comando</w><w>abreviado</w><w>Ctrl/Cmd</w><w>+</w><w>Shift</w><w>+</w><w>C</w><w>,</w><w>que</w><w>abrirá</w><w>las</w><w>herramientas</w><w>del</w><w>navegador</w><w>con</w><w>esa</w><w>opción</w><w>ya</w><w>activa</w><pc>.</pc></s></p><figure><desc><s xml:id="s_0ZUfuH"><w>Cuando</w><w>la</w><w>opción</w><w>de</w><w>seleccionar</w><w>un</w><w>elemento</w><w>de</w><w>la</w><w>página</w><w>se</w><w>activa</w><w>cambia</w><w>de</w><w>color</w><w>''</w><w>alt=</w><w>''</w><w>Captura</w><w>de</w><w>pantalla</w><w>de</w><w>la</w><w>esquina</w><w>superior</w><w>izquierda</w><w>del</w><w>panel</w><w>de</w><w>desarrollo</w><pc>.</pc></s><s xml:id="s_tKMep8"><w>En</w><w>ella</w><w>se</w><w>muestra</w><w>el</w><w>ícono</w><w>de</w><w>la</w><w>opción</w><w>para</w><w>hacer</w><w>clic</w><w>sobre</w><w>elementos</w><w>de</w><w>la</w><w>página</w><w>para</w><w>que</w><w>se</w><w>destaquen</w><w>en</w><w>el</w><w>código</w><pc>.</pc></s><s xml:id="s_XgOwWs"><w>Bajo</w><w>el</w><w>ícono</w><w>aparece</w><w>un</w><w>recuadro</w><w>con</w><w>el</w><w>control</w><w>abreviado</w><w>de</w><w>teclado</w><w>para</w><w>activar</w><w>esta</w><w>opción</w><w>,</w><w>que</w><w>es</w><w>Ctrl+Shift+C</w></s></desc><graphic url="introduccion-al-web-scraping-usando-r-07.png"/></figure><p><s xml:id="s_YHKTAv"><w>Esta</w><w>opción</w><w>te</w><w>permitirá</w><w>mover</w><w>el</w><w>cursor</w><w>por</w><w>la</w><w>página</w><w>para</w><w>que</w><w>se</w><w>destaque</w><w>en</w><w>el</w><w>panel</w><w>la</w><w>parte</w><w>del</w><w>código</w><w>correspondiente</w><pc>.</pc></s><s xml:id="s_EbRXCz"><w>Además</w><w>,</w><w>al</w><w>igual</w><w>que</w><w>en</w><w>el</w><w>caso</w><w>anterior</w><w>,</w><w>se</w><w>desplegará</w><w>un</w><w>recuadro</w><w>con</w><w>información</w><w>sobre</w><w>el</w><w>elemento</w><pc>.</pc></s><s xml:id="s_HixqUi"><w>Por</w><w>ejemplo</w><w>,</w><w>si</w><w>movemos</w><w>el</w><w>cursor</w><w>hacia</w><w>el</w><w>nombre</w><w>de</w><w>la</w><w>página</w><w>en</w><w>la</w><w>parte</w><w>superior</w><w>,</w><w>veremos</w><w>que</w><w>el</w><w>recuadro</w><w>nos</w><w>indica</w><w>que</w><w>corresponde</w><w>a</w><code rend="inline"><w>img.full</w></code><pc>.</pc></s><s xml:id="s_lgQqgf"><w>En</w><w>este</w><w>caso</w><w>,</w><code rend="inline"><w>img</w></code><w>indica</w><w>el</w><w>elemento</w><w>html</w><w>al</w><w>que</w><w>correponde</w><w>esta</w><w>parte</w><w>de</w><w>la</w><w>página</w><w>(</w><w>una</w><w>imagen</w><w>)</w><w>y</w><code rend="inline"><w>.full</w></code><w>nos</w><w>indica</w><w>la</w><w>clase</w><w>a</w><w>la</w><w>que</w><w>corresponde</w><pc>.</pc></s><s xml:id="s_wm0KIw"><w>Si</w><w>miramos</w><w>el</w><w>panel</w><w>veremos</w><w>que</w><w>la</w><w>línea</w><w>destacada</w><w>es</w><w>:</w><code rend="inline"><w>&lt;</w><w>img</w><w>src=</w><w>''</w><w>lfi-content/themes/assets/img/logo_prensa.png</w><w>''</w><w>class=</w><w>''</w><w>full</w><w>''</w><w>&gt;</w></code><pc>.</pc></s><s xml:id="s_mLFgsO"><w>En</w><w>ella</w><w>se</w><w>indica</w><w>que</w><w>es</w><w>un</w><w>elemento</w><w>de</w><w>tipo</w><w>imagen</w><w>,</w><w>el</w><w>lugar</w><w>donde</w><w>se</w><w>encuentra</w><w>alojada</w><w>esa</w><w>imagen</w><w>en</w><w>el</w><w>directorio</w><w>de</w><w>la</w><w>página</w><w>y</w><w>el</w><w>nombre</w><w>de</w><w>la</w><w>clase</w><w>que</w><w>describe</w><w>las</w><w>reglas</w><w>de</w><w>estilo</w><w>con</w><w>que</w><w>esa</w><w>imagen</w><w>debe</w><w>mostrarse</w><pc>.</pc></s></p><figure><desc><s xml:id="s_ScadaV"><w>Cuando</w><w>pasamos</w><w>el</w><w>cursor</w><w>sobre</w><w>alguna</w><w>sección</w><w>de</w><w>la</w><w>página</w><w>se</w><w>destaca</w><w>en</w><w>el</w><w>panel</w><w>de</w><w>desarrollo</w><w>la</w><w>línea</w><w>de</w><w>código</w><w>que</w><w>le</w><w>corresponde</w><w>''</w><w>alt=</w><w>''</w><w>Captura</w><w>de</w><w>pantalla</w><w>de</w><w>la</w><w>página</w><w>web</w><w>con</w><w>el</w><w>panel</w><w>de</w><w>desarrollo</w><w>activado</w><pc>.</pc></s><s xml:id="s_bFGr7n"><w>Al</w><w>pasar</w><w>el</w><w>cursor</w><w>sobre</w><w>la</w><w>imagen</w><w>que</w><w>dice</w><w>'Prensa</w><w>Presidencia</w><w>'</w><w>se</w><w>activa</w><w>la</w><w>línea</w><w>que</w><w>corresponde</w><w>al</w><w>elemento</w><w>img</w><pc>.</pc></s><s xml:id="s_YPlGhn"><w>Además</w><w>,</w><w>sobre</w><w>la</w><w>imagen</w><w>en</w><w>la</w><w>página</w><w>aparece</w><w>un</w><w>recuadro</w><w>con</w><w>el</w><w>elemento</w><w>y</w><w>su</w><w>clase</w><pc>.</pc></s></desc><graphic url="introduccion-al-web-scraping-usando-r-08.png"/></figure><p><s xml:id="s_eV5ebm"><w>Ahora</w><w>que</w><w>ya</w><w>sabemos</w><w>cómo</w><w>funciona</w><w>esa</w><w>opción</w><w>,</w><w>busquemos</w><w>la</w><w>información</w><w>sobre</w><w>el</w><w>elemento</w><w>que</w><w>contiene</w><w>el</w><w>texto</w><w>del</w><w>discurso</w><w>,</w><w>tal</w><w>como</w><w>se</w><w>muestra</w><w>en</w><w>la</w><w>siguiente</w><w>captura</w><w>de</w><w>pantalla</w><pc>.</pc></s></p><figure><desc><s xml:id="s_oRQhzT"><w>Al</w><w>pasar</w><w>el</w><w>cursor</w><w>sobre</w><w>el</w><w>discurso</w><w>se</w><w>destaca</w><w>la</w><w>línea</w><w>correspondiente</w><w>en</w><w>el</w><w>panel</w><w>de</w><w>desarrollo</w><w>''</w><w>alt=</w><w>''</w><w>Captura</w><w>de</w><w>pantalla</w><w>de</w><w>la</w><w>página</w><w>con</w><w>el</w><w>panel</w><w>de</w><w>desarrollo</w><w>abierto</w><pc>.</pc></s><s xml:id="s_laL27B"><w>En</w><w>la</w><w>página</w><w>está</w><w>la</w><w>sección</w><w>del</w><w>discurso</w><w>destacada</w><w>y</w><w>una</w><w>flecha</w><w>muestra</w><w>a</w><w>qué</w><w>línea</w><w>en</w><w>el</w><w>código</w><w>corresponde</w></s></desc><graphic url="introduccion-al-web-scraping-usando-r-09.png"/></figure><p><s xml:id="s_u1qiRB"><w>Al</w><w>poner</w><w>el</w><w>cursor</w><w>sobre</w><w>el</w><w>discurso</w><w>,</w><w>vemos</w><w>que</w><w>el</w><w>recuadro</w><w>nos</w><w>indica</w><w>que</w><w>corresponde</w><w>a</w><code rend="inline"><w>div.texto-bloque</w></code><pc>.</pc></s><s xml:id="s_U7bjdH"><w>En</w><w>principio</w><w>,</w><w>pareciera</w><w>que</w><w>eso</w><w>nos</w><w>sirve</w><pc>.</pc></s><s xml:id="s_pLJxlt"><w>Sin</w><w>embargo</w><w>,</w><w>si</w><w>te</w><w>fijas</w><w>la</w><w>clase</w><w>``</w><w>texto-bloque</w><w>''</w><w>no</w><w>solo</w><w>incluye</w><w>el</w><w>discurso</w><w>,</w><w>sino</w><w>también</w><w>las</w><w>dos</w><w>líneas</w><w>anteriores</w><w>que</w><w>,</w><w>técnicamente</w><w>,</w><w>no</w><w>son</w><w>parte</w><w>de</w><w>el</w><pc>.</pc></s><s xml:id="s_T8Xd3H"><w>Es</w><w>decir</w><w>,</w><w>no</w><w>son</w><w>parte</w><w>de</w><w>lo</w><w>que</w><ref target="https://perma.cc/73EN-ETLK"><w>Gabriel</w><w>Boric</w></ref><w>dijo</w><w>en</w><w>ese</w><w>momento</w><w>,</w><w>sino</w><w>la</w><w>presentación</w><w>de</w><w>lo</w><w>que</w><w>viene</w><w>a</w><w>continuación</w><pc>.</pc></s><s xml:id="s_KChbwH"><w>Es</w><w>importante</w><w>eliminar</w><w>esas</w><w>dos</w><w>oraciones</w><w>en</w><w>algún</w><w>momento</w><w>del</w><w>proceso</w><w>,</w><w>ya</w><w>que</w><w>en</w><w>el</w><w>futuro</w><w>podrían</w><w>alterar</w><w>los</w><w>resultados</w><w>de</w><w>nuestro</w><w>análisis</w><pc>.</pc></s><s xml:id="s_t8RLPI"><w>La</w><w>primera</w><w>opción</w><w>sería</w><w>revisar</w><w>si</w><w>existe</w><w>algún</w><w>otro</w><w>elemento</w><w>,</w><w>clase</w><w>o</w><w>id</w><w>que</w><w>capture</w><w>solo</w><w>el</w><w>discurso</w><pc>.</pc></s><s xml:id="s_XOy08i"><w>Si</w><w>eso</w><w>no</w><w>funciona</w><w>,</w><w>entonces</w><w>tenemos</w><w>que</w><w>recordar</w><w>eliminar</w><w>manualmente</w><w>esas</w><w>líneas</w><w>cuando</w><w>procesemos</w><w>los</w><w>textos</w><w>de</w><w>nuestro</w><w>corpus</w><pc>.</pc></s></p><p><s xml:id="s_z1mVuu"><w>Busquemos</w><w>primero</w><w>si</w><w>hay</w><w>alguna</w><w>etiqueta</w><w>que</w><w>contenga</w><w>solo</w><w>el</w><w>discurso</w><pc>.</pc></s><s xml:id="s_c6IHVL"><w>Una</w><w>opción</w><w>es</w><w>seguir</w><w>moviendo</w><w>el</w><w>cursor</w><w>para</w><w>ver</w><w>si</w><w>en</w><w>algún</w><w>momento</w><w>se</w><w>destaca</w><w>solo</w><w>la</w><w>parte</w><w>que</w><w>nos</w><w>interesa</w><pc>.</pc></s><s xml:id="s_cyE2h3"><w>Si</w><w>eso</w><w>no</w><w>resulta</w><w>,</w><w>como</w><w>en</w><w>este</w><w>caso</w><w>,</w><w>entonces</w><w>podemos</w><w>revisar</w><w>el</w><w>código</w><w>de</w><w>la</w><w>página</w><w>con</w><w>mayor</w><w>detalle</w><pc>.</pc></s><s xml:id="s_aRCYoE"><w>Si</w><w>vamos</w><w>al</w><w>panel</w><w>con</w><w>el</w><w>código</w><w>,</w><w>podemos</w><w>empezar</w><w>a</w><w>explorar</w><w>lo</w><w>que</w><w>está</w><w>dentro</w><w>del</w><code rend="inline"><w>div</w></code><w>de</w><w>la</w><w>clase</w><w>``</w><w>texto-bloque</w><w>''</w><w>,</w><w>que</w><w>es</w><w>la</w><w>que</w><w>contenía</w><w>el</w><w>discurso</w><w>y</w><w>su</w><w>presentación</w><pc>.</pc></s><s xml:id="s_NjcMBq"><w>Si</w><w>movemos</w><w>el</w><w>cursor</w><w>por</w><w>sobre</w><w>esas</w><w>líneas</w><w>,</w><w>podemos</w><w>ir</w><w>revisando</w><w>qué</w><w>es</w><w>lo</w><w>que</w><w>se</w><w>destaca</w><w>en</w><w>cada</w><w>una</w><w>de</w><w>ellas</w><pc>.</pc></s><s xml:id="s_Lwm26F"><w>Al</w><w>llegar</w><w>a</w><w>la</w><w>línea</w><code rend="inline"><w>&lt;</w><w>span</w><w>id=</w><w>''</w><w>main_ltContenido</w><w>''</w><w>&gt;</w></code><w>se</w><w>destaca</w><w>solo</w><w>el</w><w>texto</w><w>del</w><w>discurso</w><w>y</w><w>en</w><w>la</w><w>página</w><w>aparece</w><w>un</w><w>recuadro</w><w>que</w><w>confirma</w><w>que</w><w>la</w><w>etiqueta</w><w>de</w><w>esa</w><w>sección</w><w>es</w><code rend="inline"><w>span</w><w>#</w><w>main_ltContenido</w></code><pc>.</pc></s><s xml:id="s_Dx4ZrB"><w>A</w><w>diferencia</w><w>de</w><w>las</w><w>clases</w><w>que</w><w>se</w><w>mostraban</w><w>ahí</w><w>con</w><w>un</w><w>punto</w><w>antes</w><w>del</w><w>nombre</w><w>,</w><w>los</w><w>id</w><w>tienen</w><w>un</w><w>signo</w><code rend="inline"><w>#</w></code><pc>.</pc></s></p><figure><desc><s xml:id="s_aZF9Ts"><w>Al</w><w>explorar</w><w>las</w><w>líneas</w><w>de</w><w>código</w><w>encontramos</w><w>la</w><w>que</w><w>corresponde</w><w>solo</w><w>al</w><w>discurso</w><w>''</w><w>alt=</w><w>''</w><w>Captura</w><w>de</w><w>pantalla</w><w>de</w><w>la</w><w>página</w><w>con</w><w>el</w><w>panel</w><w>de</w><w>desarrollo</w><w>abierto</w><pc>.</pc></s><s xml:id="s_ce2OHR"><w>En</w><w>él</w><w>aparece</w><w>marcada</w><w>la</w><w>línea</w><w>que</w><w>corresponde</w><w>al</w><w>texto</w><w>del</w><w>discurso</w><pc>.</pc></s><s xml:id="s_MF4WmA"><w>En</w><w>la</w><w>página</w><w>aparecen</w><w>destacadas</w><w>las</w><w>líneas</w><w>del</w><w>discurso</w><w>,</w><w>sin</w><w>el</w><w>encabezado</w><w>que</w><w>lo</w><w>introducía</w><pc>.</pc></s></desc><graphic url="introduccion-al-web-scraping-usando-r-10.png"/></figure><p><s xml:id="s_rWXaq9"><w>Ahora</w><w>ya</w><w>tenemos</w><w>claro</w><w>qué</w><w>parte</w><w>del</w><w>código</w><w>html</w><w>es</w><w>la</w><w>que</w><w>nos</w><w>interesa</w><w>(</w><code rend="inline"><w>#</w><w>main_ltContenido</w></code><w>)</w><w>,</w><w>así</w><w>que</w><w>podemos</w><w>irnos</w><w>a</w><w>R</w><w>a</w><w>realizar</w><w>el</w><w>proceso</w><w>de</w><w>extracción</w><pc>.</pc></s></p></div></div><div type="3" n="4.3"><head><s xml:id="s_AYzuG0"><w>Paso</w><w>3</w><pc>.</pc></s><s xml:id="s_MkqhUX"><w>Importar</w><w>el</w><w>código</w><w>html</w><w>a</w><w>R</w><w>y</w><w>extraer</w><w>los</w><w>datos</w></s></head><p><s xml:id="s_YIL4Ho"><w>Ahora</w><w>que</w><w>tenemos</w><w>claro</w><w>cómo</w><w>está</w><w>etiquetado</w><w>el</w><w>contenido</w><w>de</w><w>la</w><w>página</w><w>que</w><w>nos</w><w>interesa</w><w>,</w><w>usaremos</w><w>R</w><w>para</w><w>hacer</w><w>la</w><w>extracción</w><pc>.</pc></s></p><p><s xml:id="s_XcZpcH"><w>Lo</w><w>primero</w><w>que</w><w>haremos</w><w>será</w><w>cargar</w><w>los</w><w>paquetes</w><w>que</w><w>utilizaremos</w><w>en</w><w>el</w><w>proceso</w><pc>.</pc></s><s xml:id="s_mSd2DN"><w>Todos</w><w>están</w><w>disponibles</w><w>en</w><ref target="https://perma.cc/R3F3-KWXE"><w>CRAN</w></ref><w>,</w><w>por</w><w>lo</w><w>que</w><w>se</w><w>pueden</w><w>instalar</w><w>con</w><w>la</w><w>función</w><code rend="inline"><w>install.packages</w><w>(</w><w>)</w></code><w>:</w></s></p><ab><code lang="language-r" xml:id="code_introduccion-al-web-scraping-usando-r_3" corresp="code_introduccion-al-web-scraping-usando-r_3.txt" rend="block"/></ab><list type="unordered"><item><s xml:id="s_UvWWrb"><hi rend="bold"><s xml:id="s_VbseEG"><w>rvest</w></s></hi><w>es</w><w>el</w><w>paquete</w><w>que</w><w>nos</w><w>sirve</w><w>para</w><w>importar</w><w>el</w><w>código</w><w>html</w><w>a</w><w>R</w><w>y</w><w>extraer</w><w>los</w><w>elementos</w><w>de</w><w>la</w><w>página</w><w>que</w><w>nos</w><w>interesan</w></s></item><item><s xml:id="s_nmNIL3"><hi rend="bold"><s xml:id="s_aNSDJt"><w>stringr</w></s></hi><w>está</w><w>enfocado</w><w>en</w><w>el</w><w>manejo</w><w>de</w><w>cadenas</w><w>de</w><w>texto</w><w>(</w><w>conocidas</w><w>en</w><w>inglés</w><w>como</w><w>strings</w><w>)</w><w>;</w><w>nos</w><w>servirá</w><w>para</w><w>hacer</w><w>algunas</w><w>modificaciones</w><w>en</w><w>el</w><w>formato</w><w>del</w><w>texto</w></s></item><item><s xml:id="s_ZsLbs3"><hi rend="bold"><s xml:id="s_r1gYAL"><w>readr</w></s></hi><w>se</w><w>utiliza</w><w>para</w><w>importar</w><w>y</w><w>guardar</w><w>archivos</w><w>de</w><w>texto</w><w>plano</w><w>(</w><w>como</w><w>csv</w><w>y</w><w>txt</w><w>)</w><w>y</w><w>lo</w><w>usaremos</w><w>para</w><w>guardar</w><w>localmente</w><w>en</w><w>nuestro</w><w>computador</w><w>el</w><w>resultado</w><w>de</w><w>nuestra</w><w>extracción</w></s></item></list><p><s xml:id="s_63uO3G"><w>Como</w><w>mencionamos</w><w>anteriormente</w><w>,</w><w>en</w><w>este</w><w>tutorial</w><w>utilizaremos</w><w>el</w><w>operador</w><w>pipe</w><w>de</w><w>R</w><w>Base</w><w>(</w><code rend="inline"><w>|</w><w>&gt;</w></code><w>)</w><pc>.</pc></s><s xml:id="s_ts8gg3"><w>Si</w><w>prefieres</w><w>utilizar</w><code rend="inline"><w>%</w><w>&gt;</w><w>%</w></code><w>,</w><w>tendrías</w><w>que</w><w>cargar</w><w>también</w><w>el</w><w>paquete</w><w>o</w><ref type="footnotemark" target="#es_note_2"/><pc>.</pc></s><hi rend="bold"><s xml:id="s_AtnacZ"><w>magrittr</w></s></hi><hi rend="bold"><s xml:id="s_y2Q6lf"><w>dplyr</w></s></hi></p><p><s xml:id="s_rwHNWA"><w>Ahora</w><w>que</w><w>tenemos</w><w>cargados</w><w>los</w><w>paquetes</w><w>,</w><w>importaremos</w><w>el</w><w>código</w><w>html</w><w>de</w><w>la</w><w>página</w><w>que</w><w>nos</w><w>interesa</w><w>y</w><w>lo</w><w>guardaremos</w><w>en</w><w>un</w><w>objeto</w><pc>.</pc></s><s xml:id="s_ZOGAKZ"><w>Para</w><w>ello</w><w>,</w><w>utilizaremos</w><w>la</w><w>función</w><code rend="inline"><w>read_html</w><w>(</w><w>)</w></code><w>del</w><w>paquete</w><w>:</w></s><hi rend="bold"><s xml:id="s_QW65E6"><w>rvest</w></s></hi></p><ab><code xml:id="code_introduccion-al-web-scraping-usando-r_4" corresp="code_introduccion-al-web-scraping-usando-r_4.txt" rend="block"/></ab><p><s xml:id="s_XQVZDG"><w>El</w><w>objeto</w><code rend="inline"><w>html_boric</w></code><w>contiene</w><w>todo</w><w>el</w><w>código</w><w>html</w><w>de</w><w>la</w><w>página</w><pc>.</pc></s><s xml:id="s_nWvTlL"><w>Para</w><w>seleccionar</w><w>de</w><w>su</w><w>interior</w><w>solo</w><w>la</w><w>parte</w><w>que</w><w>nos</w><w>interesa</w><w>(</w><w>en</w><w>este</w><w>caso</w><w>,</w><w>el</w><w>id</w><w>``</w><w>#</w><w>main_ltContenido</w><w>''</w><w>)</w><w>usamos</w><w>la</w><w>función</w><code rend="inline"><w>html_element</w><w>(</w><w>)</w></code><pc>.</pc></s><s xml:id="s_DJgvS6"><w>Si</w><w>te</w><w>fijas</w><w>,</w><w>cuando</w><w>empezamos</w><w>a</w><w>escribir</w><w>el</w><w>nombre</w><w>de</w><w>esa</w><w>función</w><w>,</w><w>RStudio</w><w>nos</w><w>ofrece</w><w>dos</w><w>opciones</w><w>:</w><code rend="inline"><w>html_element</w><w>(</w><w>)</w></code><w>y</w><code rend="inline"><w>html_elements</w><w>(</w><w>)</w></code><pc>.</pc></s></p><figure><desc><s xml:id="s_4kv5Q7"><w>La</w><w>opción</w><w>de</w><w>autocompletar</w><w>de</w><w>RStudio</w><w>muestra</w><w>que</w><w>existe</w><w>tanto</w><w>html_element</w><w>(</w><w>)</w><w>como</w><w>html_elements</w><w>(</w><w>)</w><w>''</w><w>alt=</w><w>''</w><w>Captura</w><w>de</w><w>pantalla</w><w>del</w><w>bloque</w><w>de</w><w>código</w><w>que</w><w>estamos</w><w>escribiendo</w><w>,</w><w>en</w><w>el</w><w>que</w><w>se</w><w>muestran</w><w>las</w><w>sugerencias</w><w>que</w><w>entrega</w><w>RStudio</w><w>cuando</w><w>escribimos</w><w>la</w><w>función</w><w>html_element</w></s></desc><graphic url="introduccion-al-web-scraping-usando-r-11.png"/></figure><p><s xml:id="s_6hPhD7"><w>La</w><w>diferencia</w><w>está</w><w>en</w><w>si</w><w>queremos</w><w>capturar</w><w>una</w><w>o</w><w>más</w><w>instancias</w><w>de</w><w>un</w><w>determinado</w><w>elemento</w><w>de</w><w>la</w><w>página</w><pc>.</pc></s><s xml:id="s_6oP7Bn"><w>En</w><w>esta</w><w>ocasión</w><w>,</w><w>como</w><w>nos</w><w>interesa</w><w>un</w><w>id</w><w>que</w><w>solo</w><w>aparece</w><w>una</w><w>vez</w><w>,</w><code rend="inline"><w>html_element</w><w>(</w><w>)</w></code><w>hará</w><w>el</w><w>trabajo</w><w>que</w><w>queremos</w><pc>.</pc></s><s xml:id="s_TEkBSQ"><w>Pero</w><w>si</w><w>nos</w><w>interesaran</w><w>todas</w><w>las</w><w>ocurrencias</w><w>de</w><w>un</w><w>elemento</w><w>(</w><w>por</w><w>ejemplo</w><w>,</w><w>todos</w><w>los</w><w>encabezados</w><code rend="inline"><w>&lt;</w><w>h2</w><w>&gt;</w></code><w>)</w><w>,</w><w>es</w><w>muy</w><w>importante</w><w>que</w><w>usemos</w><w>la</w><w>versión</w><w>en</w><w>plural</w><w>(</w><code rend="inline"><w>html_elements</w><w>(</w><w>)</w></code><w>)</w><w>para</w><w>extraerlos</w><w>todos</w><pc>.</pc></s><s xml:id="s_KtULQO"><w>De</w><w>lo</w><w>contrario</w><w>,</w><w>solo</w><w>obtendremos</w><w>su</w><w>primera</w><w>aparición</w><pc>.</pc></s></p><p><s xml:id="s_XBZJuF"><w>Utilizaremos</w><w>,</w><w>entonces</w><w>,</w><code rend="inline"><w>html_element</w><w>(</w><w>)</w></code><w>para</w><w>indicar</w><w>el</w><w>id</w><w>que</w><w>nos</w><w>interesa</w><w>y</w><w>guardaremos</w><w>el</w><w>resultado</w><w>en</w><w>un</w><w>nuevo</w><w>objeto</w><w>:</w></s></p><ab><code lang="language-r" xml:id="code_introduccion-al-web-scraping-usando-r_5" corresp="code_introduccion-al-web-scraping-usando-r_5.txt" rend="block"/></ab><p><s xml:id="s_iDrfjA"><w>Con</w><w>esas</w><w>líneas</w><w>de</w><w>código</w><w>le</w><w>estamos</w><w>pidiendo</w><w>a</w><w>R</w><w>que</w><w>tome</w><w>nuestro</w><w>objeto</w><code rend="inline"><w>html_boric</w></code><w>y</w><w>que</w><w>extraiga</w><w>de</w><w>él</w><w>el</w><w>contenido</w><w>etiquetado</w><w>con</w><w>el</w><w>id</w><code rend="inline"><w>#</w><w>main_ltContenido</w></code><pc>.</pc></s><s xml:id="s_6AmqyP"><w>Si</w><w>ejecutáramos</w><w>nuestro</w><w>código</w><w>hasta</w><w>este</w><w>momento</w><w>,</w><w>lo</w><w>que</w><w>obtendríamos</w><w>serían</w><w>las</w><w>líneas</w><w>del</w><w>código</w><w>html</w><w>etiquetadas</w><w>con</w><w>ese</w><w>id</w><pc>.</pc></s><s xml:id="s_mK6V6p"><w>Es</w><w>decir</w><w>,</w><w>el</w><w>texto</w><w>del</w><w>discurso</w><w>nos</w><w>aparecería</w><w>con</w><w>todo</w><w>el</w><w>código</w><w>html</w><w>que</w><w>permite</w><w>darle</w><w>estructura</w><w>en</w><w>la</w><w>página</w><pc>.</pc></s><s xml:id="s_qHRg2g"><w>Si</w><w>lo</w><w>imprimiésemos</w><w>en</w><w>la</w><w>consola</w><w>,</w><w>veríamos</w><w>algo</w><w>como</w><w>esto</w><w>:</w></s></p><ab><code xml:id="code_introduccion-al-web-scraping-usando-r_6" corresp="code_introduccion-al-web-scraping-usando-r_6.txt" rend="block"/></ab><p><s xml:id="s_96F1I3"><w>Para</w><w>poder</w><w>obtener</w><w>solo</w><w>el</w><w>texto</w><w>,</w><w>necesitamos</w><w>un</w><w>paso</w><w>más</w><w>:</w><w>indicarle</w><w>a</w><w>R</w><w>en</w><w>qué</w><w>formato</w><w>queremos</w><w>el</w><w>contenido</w><pc>.</pc></s><s xml:id="s_i1NoFs"><w>En</w><w>este</w><w>caso</w><w>lo</w><w>queremos</w><w>como</w><w>texto</w><w>(</w><w>si</w><w>estuviésemos</w><w>extrayendo</w><w>una</w><w>tabla</w><w>,</w><w>por</w><w>ejemplo</w><w>,</w><w>nos</w><w>interesaría</w><w>que</w><w>mantuviese</w><w>la</w><w>estructura</w><w>de</w><w>filas</w><w>y</w><w>columnas</w><w>)</w><pc>.</pc></s><s xml:id="s_Qauy2H"><w>Para</w><w>lograr</w><w>esto</w><w>,</w><w>agregaremos</w><w>una</w><w>función</w><w>más</w><w>a</w><w>nuestro</w><w>bloque</w><w>de</w><w>código</w><w>:</w><w>la</w><w>función</w><code rend="inline"><w>html_text</w><w>(</w><w>)</w></code><pc>.</pc></s><s xml:id="s_uKiuvE"><w>Al</w><w>escribir</w><w>el</w><w>nombre</w><w>de</w><w>la</w><w>función</w><w>,</w><w>RStudio</w><w>nos</w><w>ofrecerá</w><w>dos</w><w>opciones</w><w>:</w><code rend="inline"><w>html_text</w><w>(</w><w>)</w></code><w>y</w><code rend="inline"><w>html_text2</w><w>(</w><w>)</w></code><pc>.</pc></s></p><figure><desc><s xml:id="s_l2HINg"><w>La</w><w>opción</w><w>de</w><w>autocompletar</w><w>de</w><w>RStudio</w><w>muestra</w><w>que</w><w>existe</w><w>tanto</w><w>html_text</w><w>(</w><w>)</w><w>como</w><w>html_text2</w><w>(</w><w>)</w><w>''</w><w>alt=</w><w>''</w><w>Captura</w><w>de</w><w>pantalla</w><w>del</w><w>bloque</w><w>de</w><w>código</w><w>que</w><w>estamos</w><w>escribiendo</w><w>,</w><w>en</w><w>el</w><w>que</w><w>se</w><w>muestran</w><w>las</w><w>sugerencias</w><w>que</w><w>entrega</w><w>RStudio</w><w>cuando</w><w>escribimos</w><w>la</w><w>función</w><w>html_text</w></s></desc><graphic url="introduccion-al-web-scraping-usando-r-12.png"/></figure><p><s xml:id="s_q4gVsx"><w>En</w><w>el</w><w>recuadro</w><w>amarillo</w><w>se</w><w>ofrece</w><w>una</w><w>breve</w><w>descripción</w><w>de</w><w>las</w><w>diferencias</w><pc>.</pc></s><s xml:id="s_mKUmgy"><w>La</w><w>principal</w><w>es</w><w>que</w><code rend="inline"><w>html_text2</w><w>(</w><w>)</w></code><w>tratará</w><w>de</w><w>resolver</w><w>algunas</w><w>cosas</w><w>de</w><w>formato</w><w>para</w><w>que</w><w>el</w><w>texto</w><w>se</w><w>asemeje</w><w>lo</w><w>más</w><w>posible</w><w>a</w><w>lo</w><w>que</w><w>se</w><w>ve</w><w>en</w><w>la</w><w>página</w><pc>.</pc></s><s xml:id="s_W3e8I9"><w>En</w><w>este</w><w>caso</w><w>usaremos</w><w>esa</w><w>opción</w><pc>.</pc></s><s xml:id="s_HEcsjG"><w>Si</w><w>usásemos</w><w>la</w><w>otra</w><w>(</w><code rend="inline"><w>html_text</w><w>(</w><w>)</w></code><w>)</w><w>el</w><w>texto</w><w>nos</w><w>quedaría</w><w>como</w><w>un</w><w>solo</w><w>párrafo</w><w>(</w><w>si</w><w>quieres</w><w>,</w><w>puedes</w><w>probar</w><w>para</w><w>ver</w><w>qué</w><w>es</w><w>lo</w><w>que</w><w>ocurre</w><w>)</w><pc>.</pc></s><s xml:id="s_fXfISF"><w>¿Cuál</w><w>nos</w><w>conviene</w><w>utilizar</w><pc>?</pc></s><s xml:id="s_w442KZ"><w>La</w><w>decisión</w><w>va</w><w>a</w><w>depender</w><w>de</w><w>lo</w><w>que</w><w>nos</w><w>interese</w><w>hacer</w><w>posteriormente</w><w>con</w><w>nuestro</w><w>corpus</w><pc>.</pc></s><s xml:id="s_92Gc3f"><w>Si</w><w>queremos</w><w>mantener</w><w>la</w><w>estructura</w><w>de</w><w>párrafos</w><w>,</w><w>entonces</w><w>nos</w><w>convendría</w><w>utilizar</w><code rend="inline"><w>html_text2</w><w>(</w><w>)</w></code><pc>.</pc></s><s xml:id="s_sndafm"><w>Incluso</w><w>si</w><w>no</w><w>tenemos</w><w>muy</w><w>claro</w><w>si</w><w>los</w><w>párrafos</w><w>serán</w><w>de</w><w>utilidad</w><w>para</w><w>nuestro</w><w>corpus</w><w>en</w><w>el</w><w>futuro</w><w>,</w><w>es</w><w>necesario</w><w>tener</w><w>en</w><w>cuenta</w><w>que</w><w>si</w><w>los</w><w>descartamos</w><w>ahora</w><w>no</w><w>hay</w><w>manera</w><w>de</w><w>recuperarlos</w><w>(</w><w>tendrías</w><w>que</w><w>volver</w><w>a</w><w>extraer</w><w>el</w><w>texto</w><w>de</w><w>la</w><w>página</w><w>)</w><pc>.</pc></s><s xml:id="s_O0zKzy"><w>En</w><w>esta</w><w>ocasión</w><w>tomaremos</w><w>la</w><w>opción</w><w>precavida</w><w>y</w><w>usaremos</w><code rend="inline"><w>html_text2</w><w>(</w><w>)</w></code><pc>.</pc></s><s xml:id="s_NCIhEZ"><w>Agregaremos</w><w>,</w><w>entonces</w><w>,</w><w>esta</w><w>función</w><w>a</w><w>nuestro</w><w>bloque</w><w>de</w><w>código</w><w>,</w><w>que</w><w>ahora</w><w>queda</w><w>así</w><w>:</w></s></p><ab><code lang="language-r" xml:id="code_introduccion-al-web-scraping-usando-r_7" corresp="code_introduccion-al-web-scraping-usando-r_7.txt" rend="block"/></ab><p><s xml:id="s_bN40Vo"><w>En</w><w>la</w><w>sección</w><w>``</w><w>Values</w><w>''</w><w>del</w><w>panel</w><w>``</w><w>Environment</w><w>''</w><w>aparecerá</w><w>ahora</w><code rend="inline"><w>discurso_boric</w></code><w>como</w><w>un</w><w>objeto</w><w>tipo</w><w>caracter</w><pc>.</pc></s><s xml:id="s_0puLya"><w>Si</w><w>lo</w><w>imprimes</w><w>en</w><w>la</w><w>consola</w><w>podrás</w><w>chequear</w><w>que</w><w>el</w><w>texto</w><w>está</w><w>completo</w><pc>.</pc></s></p><figure><desc><s xml:id="s_O2YAOn"><w>El</w><w>objeto</w><w>que</w><w>creamos</w><w>quedó</w><w>en</w><w>nuestro</w><w>ambiente</w><w>global</w><w>''</w><w>alt=</w><w>''</w><w>Captura</w><w>de</w><w>pantalla</w><w>del</w><w>panel</w><w>'Environment</w><w>'</w><w>en</w><w>RStudio</w><w>,</w><w>al</w><w>que</w><w>ahora</w><w>se</w><w>ha</w><w>agregado</w><w>el</w><w>objeto</w><w>'discurso_boric</w><w>'</w></s></desc><graphic url="introduccion-al-web-scraping-usando-r-13.png"/></figure><p><s xml:id="s_ZGfRW5"><w>Ya</w><w>tenemos</w><w>el</w><w>primer</w><w>documento</w><w>para</w><w>nuestro</w><w>corpus</w><pc>.</pc></s><s xml:id="s_VBCyWy"><w>Nuestro</w><w>siguiente</w><w>paso</w><w>será</w><w>guardarlo</w><w>para</w><w>un</w><w>futuro</w><w>uso</w><pc>.</pc></s></p></div><div type="3" n="4.4"><head><s xml:id="s_ULD2PM"><w>Paso</w><w>4</w><pc>.</pc></s><s xml:id="s_LAQoFC"><w>Procesar</w><w>y</w><w>guardar</w><w>los</w><w>datos</w></s></head><p><s xml:id="s_yTKUFq"><w>Ahora</w><w>que</w><w>tenemos</w><w>el</w><w>primer</w><w>texto</w><w>,</w><w>lo</w><w>guardaremos</w><w>localmente</w><w>en</w><w>nuestro</w><w>computador</w><pc>.</pc></s><s xml:id="s_V6DmOu"><w>Para</w><w>eso</w><w>crearemos</w><w>una</w><w>carpeta</w><w>llamada</w><w>``</w><w>discursos</w><w>''</w><pc>.</pc></s><s xml:id="s_2bfwOA"><w>Puedes</w><w>crearla</w><w>como</w><w>mejor</w><w>te</w><w>parezca</w><w>:</w><w>ejecutando</w><code rend="inline"><w>dir.create</w><w>(</w><w>``</w><w>discursos</w><w>''</w><w>)</w></code><w>en</w><w>la</w><w>consola</w><w>,</w><w>usando</w><w>la</w><w>opción</w><w>``</w><w>+</w><w>Folder</w><w>''</w><w>de</w><w>la</w><w>esquina</w><w>superior</w><w>izquierda</w><w>del</w><w>panel</w><w>Files</w><w>de</w><w>RStudio</w><w>,</w><w>o</w><w>directamente</w><w>en</w><w>el</w><w>explorador</w><w>de</w><w>archivos</w><w>de</w><w>tu</w><w>computador</w><pc>.</pc></s></p><p><s xml:id="s_pHx6cV"><w>Es</w><w>importante</w><w>detenerse</w><w>un</w><w>momento</w><w>a</w><w>pensar</w><w>qué</w><w>metadatados</w><w>es</w><w>necesario</w><w>incluir</w><w>en</w><w>el</w><w>nombre</w><w>del</w><w>archivo</w><w>al</w><w>guardarlo</w><pc>.</pc></s><s xml:id="s_w0Dikt"><w>Por</w><w>ejemplo</w><w>,</w><w>al</w><w>leer</w><w>el</w><w>nombre</w><w>del</w><w>archivo</w><w>,</w><w>sería</w><w>relevante</w><w>saber</w><w>quién</w><w>emitió</w><w>ese</w><w>discurso</w><w>y</w><w>cuándo</w><w>:</w><code rend="inline"><w>2022_boric.txt</w></code><pc>.</pc></s><s xml:id="s_RJpXyP"><w>Pero</w><w>si</w><w>nuestro</w><w>corpus</w><w>eventualmente</w><w>incluirá</w><w>discursos</w><w>de</w><w>otros</w><w>países</w><w>,</w><w>entonces</w><w>necesitaríamos</w><w>integrar</w><w>esa</w><w>variable</w><w>en</w><w>el</w><w>nombre</w><w>del</w><w>archivo</w><w>,</w><w>por</w><w>ejemplo</w><w>,</w><w>utilizando</w><w>el</w><w>código</w><w>ISO</w><w>2</w><w>para</w><w>nombres</w><w>de</w><w>países</w><w>:</w><code rend="inline"><w>cl_2022_boric.txt</w></code><pc>.</pc></s><s xml:id="s_wBpNcA"><w>Y</w><w>si</w><w>en</w><w>algún</w><w>momento</w><w>quisiéramos</w><w>incorporar</w><w>otros</w><w>tipos</w><w>de</w><w>discursos</w><w>,</w><w>habría</w><w>que</w><w>indicar</w><w>de</w><w>alguna</w><w>forma</w><w>que</w><w>este</w><w>archivo</w><w>corresponde</w><w>al</w><w>que</w><w>se</w><w>emitió</w><w>luego</w><w>de</w><w>asumir</w><w>el</w><w>cargo</w><w>:</w><code rend="inline"><w>cl_2022_boric_asuncion-cargo.txt</w></code><pc>.</pc></s><s xml:id="s_9RLOrv"><w>Si</w><w>te</w><w>fijas</w><w>,</w><w>usamos</w><w>guiones</w><w>bajos</w><w>(</w><code rend="inline"><w>_</w></code><w>)</w><w>para</w><w>separar</w><w>las</w><w>cuatro</w><w>variables</w><w>incluidas</w><w>en</w><w>el</w><w>nombre</w><w>del</w><w>archivo</w><w>(</w><w>país</w><w>,</w><w>año</w><w>,</w><w>presidente</w><w>,</w><w>tipo</w><w>de</w><w>discurso</w><w>)</w><w>y</w><w>un</w><w>guión</w><w>para</w><w>separar</w><w>las</w><w>palabras</w><w>cuando</w><w>una</w><w>variable</w><w>tenía</w><w>más</w><w>de</w><w>una</w><w>(</w><w>``</w><w>asuncion-cargo</w><w>''</w><w>)</w><pc>.</pc></s><s xml:id="s_Rg71Iw"><w>Es</w><w>importar</w><w>prestar</w><w>atención</w><w>a</w><w>estos</w><w>detalles</w><w>,</w><w>ya</w><w>que</w><w>en</w><w>el</w><w>futuro</w><w>nos</w><w>pueden</w><w>ayudar</w><w>a</w><w>hacer</w><w>más</w><w>fácil</w><w>el</w><w>proceso</w><w>de</w><w>trabajo</w><w>con</w><w>nuestros</w><w>datos</w><pc>.</pc></s></p><p><s xml:id="s_WAxAcR"><w>En</w><w>esta</w><w>ocasión</w><w>agregaremos</w><w>esas</w><w>cuatro</w><w>variables</w><w>a</w><w>nuestro</w><w>nombre</w><w>de</w><w>archivo</w><w>:</w><w>el</w><w>código</w><w>para</w><w>guardar</w><w>el</w><w>discurso</w><w>quedaría</w><w>así</w><w>:</w></s></p><ab><code lang="language-r" xml:id="code_introduccion-al-web-scraping-usando-r_8" corresp="code_introduccion-al-web-scraping-usando-r_8.txt" rend="block"/></ab><p><s xml:id="s_RTPNZf"><w>Esa</w><w>línea</w><w>de</w><w>código</w><w>le</w><w>está</w><w>pidiendo</w><w>a</w><w>R</w><w>que</w><w>escriba</w><w>el</w><w>contenido</w><w>del</w><w>objeto</w><code rend="inline"><w>discurso_boric</w></code><w>en</w><w>un</w><w>archivo</w><w>txt</w><w>dentro</w><w>de</w><w>la</w><w>carpeta</w><w>``</w><w>discursos</w><w>''</w><pc>.</pc></s></p><p><s xml:id="s_855HOZ"><w>¡Listo</w><pc>!</pc></s><s xml:id="s_nrPm6H"><w>Si</w><w>abrimos</w><w>la</w><w>carpeta</w><w>``</w><w>discursos</w><w>''</w><w>en</w><w>nuestro</w><w>panel</w><w>``</w><w>Files</w><w>''</w><w>y</w><w>hacemos</w><w>doble</w><w>clic</w><w>sobre</w><w>el</w><w>nombre</w><w>del</w><w>archivo</w><w>,</w><w>se</w><w>abrirá</w><w>en</w><w>una</w><w>nueva</w><w>pestaña</w><w>en</w><w>RStudio</w><pc>.</pc></s></p><figure><desc><s xml:id="s_m2DfjS"><w>Así</w><w>se</w><w>ve</w><w>el</w><w>texto</w><w>en</w><w>el</w><w>archivo</w><w>que</w><w>acabamos</w><w>de</w><w>guardar</w><w>''</w><w>alt=</w><w>''</w><w>Captura</w><w>de</w><w>pantalla</w><w>de</w><w>RStudio</w><pc>.</pc></s><s xml:id="s_g3ntio"><w>En</w><w>el</w><w>panel</w><w>superior</w><w>izquierdo</w><w>está</w><w>abierto</w><w>el</w><w>archivo</w><w>en</w><w>el</w><w>que</w><w>acabamos</w><w>de</w><w>guardar</w><w>el</w><w>discurso</w><pc>.</pc></s><s xml:id="s_K7j8Lk"><w>En</w><w>el</w><w>panel</w><w>'Files</w><w>'</w><w>abajo</w><w>a</w><w>la</w><w>derecha</w><w>se</w><w>ve</w><w>el</w><w>archivo</w><w>guardado</w></s></desc><graphic url="introduccion-al-web-scraping-usando-r-14.png"/></figure><p><s xml:id="s_fpgVHU"><w>Podemos</w><w>observar</w><w>que</w><w>el</w><w>texto</w><w>tiene</w><w>dos</w><w>saltos</w><w>de</w><w>líneas</w><w>entre</w><w>los</w><w>párrafos</w><pc>.</pc></s><s xml:id="s_qVsu0B"><w>Si</w><w>bien</w><w>eso</w><w>no</w><w>es</w><w>un</w><w>problema</w><w>que</w><w>afecte</w><w>algún</w><w>análisis</w><w>posterior</w><w>del</w><w>texto</w><w>,</w><w>quizás</w><w>podríamos</w><w>querer</w><w>que</w><w>quedara</w><w>solo</w><w>un</w><w>salto</w><w>de</w><w>línea</w><w>entre</w><w>los</w><w>párrafos</w><w>porque</w><w>nos</w><w>interesa</w><w>hacer</w><w>una</w><w>edición</w><w>digital</w><w>de</w><w>estos</w><w>discursos</w><w>en</w><w>el</w><w>que</w><w>ese</w><w>es</w><w>el</w><w>formato</w><w>requerido</w><pc>.</pc></s><s xml:id="s_5MmHHh"><w>Para</w><w>resolver</w><w>esta</w><w>situación</w><w>,</w><w>podemos</w><w>usar</w><w>el</w><w>paquete</w><w>,</w><w>que</w><w>está</w><w>enfocado</w><w>en</w><w>el</w><w>trabajo</w><w>con</w><w>cadenas</w><w>de</w><w>textos</w><pc>.</pc></s><hi rend="bold"><s xml:id="s_Cyb7jJ"><w>stringr</w></s></hi><s xml:id="s_BKtW8a"><w>La</w><w>función</w><code rend="inline"><w>str_replace_all</w><w>(</w><w>)</w></code><w>(</w><w>remplazar</w><w>todo</w><w>)</w><w>nos</w><w>permite</w><w>buscar</w><w>un</w><w>patrón</w><w>en</w><w>una</w><w>cadena</w><w>de</w><w>texto</w><w>y</w><w>remplazarlo</w><w>por</w><w>otro</w><pc>.</pc></s></p><p><s xml:id="s_FPTeEN"><w>Para</w><w>saber</w><w>qué</w><w>patrón</w><w>buscar</w><w>,</w><w>imprimamos</w><w>el</w><w>objeto</w><code rend="inline"><w>discurso_boric</w></code><w>en</w><w>la</w><w>consola</w><pc>.</pc></s><s xml:id="s_qtcCkI"><w>Como</w><w>es</w><w>largo</w><w>,</w><w>lo</w><w>primero</w><w>que</w><w>veremos</w><w>será</w><w>el</w><w>final</w><pc>.</pc></s><s xml:id="s_XRD7kW"><w>Comparémoslo</w><w>con</w><w>la</w><w>parte</w><w>final</w><w>del</w><w>texto</w><w>del</w><w>archivo</w><w>que</w><w>tenemos</w><w>en</w><w>el</w><w>panel</w><w>superior</w><pc>.</pc></s></p><figure><desc><s xml:id="s_EQFycD"><w>Comparación</w><w>entre</w><w>el</w><w>texto</w><w>en</w><w>la</w><w>cosola</w><w>y</w><w>el</w><w>texto</w><w>en</w><w>el</w><w>archivo</w><w>''</w><w>alt=</w><w>''</w><w>Captura</w><w>de</w><w>pantalla</w><w>de</w><w>la</w><w>consola</w><w>y</w><w>el</w><w>panel</w><w>con</w><w>el</w><w>archivo</w><w>abierto</w><pc>.</pc></s><s xml:id="s_GNsHlT"><w>En</w><w>ambos</w><w>se</w><w>muestra</w><w>el</w><w>mismo</w><w>fragmento</w><w>del</w><w>texto</w><w>(</w><w>los</w><w>últimos</w><w>párrafos</w><w>)</w><pc>.</pc></s></desc><graphic url="introduccion-al-web-scraping-usando-r-15.png"/></figure><p><s xml:id="s_sxR5hn"><w>Si</w><w>miramos</w><w>el</w><w>texto</w><w>de</w><w>la</w><w>consola</w><w>veremos</w><w>que</w><w>los</w><w>saltos</w><w>de</w><w>líneas</w><w>son</w><w>representados</w><w>en</w><w>nuestro</w><w>computador</w><w>como</w><code rend="inline"><w>\n</w></code><pc>.</pc></s><s xml:id="s_p6n3G6"><w>Esta</w><w>es</w><w>la</w><w>forma</w><w>que</w><w>los</w><w>sistemas</w><w>operativos</w><w>representan</w><w>los</w><w>saltos</w><w>de</w><w>línea</w><w>y</w><w>es</w><w>la</w><w>que</w><w>se</w><w>utiliza</w><w>también</w><w>en</w><w>las</w><w>expresiones</w><w>regulares</w><w>(</w><w>un</w><w>tema</w><w>sobre</w><w>el</w><w>que</w><w>volveremos</w><w>en</w><w>la</w><w>segunda</w><w>lección</w><w>de</w><w>esta</w><w>serie</w><w>)</w><pc>.</pc></s><s xml:id="s_VCIWIu"><w>Como</w><w>en</w><w>nuestro</w><w>caso</w><w>hay</w><w>dos</w><w>saltos</w><w>de</w><w>línea</w><w>seguidos</w><w>,</w><w>entonces</w><w>lo</w><w>que</w><w>vemos</w><w>es</w><code rend="inline"><w>\n\n</w></code><pc>.</pc></s></p><p><s xml:id="s_UvGcXC"><w>Lo</w><w>que</w><w>haremos</w><w>ahora</w><w>será</w><w>pedirle</w><w>a</w><w>R</w><w>que</w><w>con</w><w>la</w><w>función</w><code rend="inline"><w>str_replace_all</w><w>(</w><w>)</w></code><w>busque</w><w>en</w><w>nuestro</w><w>objeto</w><code rend="inline"><w>discurso_boric</w></code><w>el</w><w>patrón</w><w>``</w><code rend="inline"><w>\n\n</w></code><w>``</w><w>(</w><w>dos</w><w>saltos</w><w>de</w><w>línea</w><w>seguidos</w><w>)</w><w>y</w><w>los</w><w>remplace</w><w>por</w><w>un</w><w>solo</w><w>salto</w><w>de</w><w>línea</w><w>``</w><code rend="inline"><w>\n</w></code><w>``</w><pc>.</pc></s><s xml:id="s_yIGwGH"><w>El</w><w>código</w><w>quedaría</w><w>así</w><w>:</w></s></p><ab><code lang="language-r" xml:id="code_introduccion-al-web-scraping-usando-r_9" corresp="code_introduccion-al-web-scraping-usando-r_9.txt" rend="block"/></ab><p><s xml:id="s_w7oZrI"><w>El</w><w>paquete</w><w>``</w><w>stringr</w><w>''</w><w>tiene</w><w>una</w><w>función</w><w>que</w><w>se</w><w>llama</w><code rend="inline"><w>str_replace</w><w>(</w><w>)</w></code><w>que</w><w>solo</w><w>hace</w><w>el</w><w>remplazo</w><w>en</w><w>el</w><w>primer</w><w>elemento</w><w>que</w><w>encuentra</w><pc>.</pc></s><s xml:id="s_HWPUD1"><w>Procura</w><w>escoger</w><code rend="inline"><w>str_replace_all</w></code><w>para</w><w>que</w><w>haga</w><w>el</w><w>cambio</w><w>todas</w><w>las</w><w>veces</w><w>que</w><w>encuentre</w><w>el</w><w>patrón</w><w>que</w><w>nos</w><w>interesa</w><pc>.</pc></s><s xml:id="s_aY5vcZ"><w>Luego</w><w>de</w><w>ejecutar</w><w>la</w><w>modificación</w><w>,</w><w>volveremos</w><w>a</w><w>guardar</w><w>nuestro</w><w>objeto</w><w>para</w><w>que</w><w>la</w><w>versión</w><w>del</w><w>archivo</w><w>txt</w><w>refleje</w><w>estos</w><w>últimos</w><w>cambios</w><pc>.</pc></s></p><ab><code lang="language-r" xml:id="code_introduccion-al-web-scraping-usando-r_10" corresp="code_introduccion-al-web-scraping-usando-r_10.txt" rend="block"/></ab><p><s xml:id="s_QE4cn6"><w>¡Listo</w><pc>!</pc></s><s xml:id="s_ciu08g"><w>Ya</w><w>tenemos</w><w>el</w><w>primer</w><w>texto</w><w>de</w><w>nuestro</w><w>corpus</w><pc>.</pc></s></p></div></div><div type="2" n="5"><head><s xml:id="s_EIdpL0"><w>Repetir</w><w>el</w><w>proceso</w><w>para</w><w>el</w><w>segundo</w><w>discurso</w></s></head><p><s xml:id="s_7EfzGz"><w>Quizás</w><w>te</w><w>estés</w><w>preguntando</w><w>si</w><w>acaso</w><w>no</w><w>era</w><w>más</w><w>rápido</w><w>copiar</w><w>el</w><w>discurso</w><w>directamente</w><w>del</w><w>sitio</w><w>web</w><w>y</w><w>pegarlo</w><w>en</w><w>un</w><w>archivo</w><w>txt</w><pc>.</pc></s><s xml:id="s_O998R7"><w>Si</w><w>solo</w><w>nos</w><w>interesa</w><w>un</w><w>texto</w><w>de</w><w>un</w><w>sitio</w><w>,</w><w>probablemente</w><w>eso</w><w>sea</w><w>lo</w><w>más</w><w>rápido</w><pc>.</pc></s><s xml:id="s_Qup0Ed"><w>Pero</w><w>si</w><w>necesitamos</w><w>más</w><w>de</w><w>un</w><w>texto</w><w>,</w><w>lo</w><w>conveniente</w><w>es</w><w>hacerlo</w><w>de</w><w>forma</w><w>programática</w><pc>.</pc></s><s xml:id="s_g1OX0c"><w>No</w><w>solo</w><w>por</w><w>tiempo</w><w>,</w><w>sino</w><w>porque</w><w>así</w><w>podemos</w><w>evitar</w><w>posibles</w><w>errores</w><w>humanos</w><w>en</w><w>el</w><w>proceso</w><pc>.</pc></s><s xml:id="s_TFsLFH"><w>Además</w><w>,</w><w>incluso</w><w>si</w><w>se</w><w>trata</w><w>de</w><w>un</w><w>solo</w><w>texto</w><w>,</w><w>tener</w><w>el</w><w>código</w><w>para</w><w>extraerlo</w><w>permite</w><w>que</w><w>otras</w><w>personas</w><w>puedan</w><w>repetir</w><w>el</w><w>proceso</w><w>y</w><w>obtener</w><w>el</w><w>mismo</w><w>resultado</w><w>,</w><w>lo</w><w>que</w><w>favorece</w><w>la</w><w>reproducibilidad</w><w>de</w><w>nuestros</w><w>flujos</w><w>de</w><w>trabajo</w><pc>.</pc></s></p><p><s xml:id="s_7yVrWz"><w>El</w><w>mismo</w><w>código</w><w>que</w><w>escribimos</w><w>para</w><w>extraer</w><w>el</w><w>discurso</w><w>de</w><w>Gabriel</w><w>Boric</w><w>,</w><w>debería</w><w>servirnos</w><w>para</w><w>extraer</w><w>el</w><w>de</w><ref target="https://perma.cc/3A8U-SGED"><w>Sebastián</w><w>Piñera</w></ref><pc>.</pc></s><s xml:id="s_g3tjAs"><w>Así</w><w>que</w><w>lo</w><w>que</w><w>haremos</w><w>ahora</w><w>será</w><w>tomar</w><w>el</w><w>bloque</w><w>de</w><w>código</w><w>que</w><w>escribimos</w><w>anteriormente</w><w>y</w><w>modificar</w><w>tres</w><w>cosas</w><w>:</w></s></p><list type="unordered"><item><s xml:id="s_RPRXJ6"><w>El</w><w>nombre</w><w>de</w><w>los</w><w>objetos</w><w>que</w><w>creamos</w></s></item><item><s xml:id="s_ZRQrBW"><w>La</w><w>url</w><w>desde</w><w>la</w><w>que</w><w>haremos</w><w>la</w><w>extracción</w></s></item><item><s xml:id="s_4Gh9nV"><w>El</w><w>nombre</w><w>del</w><w>archivo</w><w>en</w><w>que</w><w>guardaremos</w><w>el</w><w>texto</w><w>procesado</w></s></item></list><p><s xml:id="s_J07fnS"><w>El</w><w>código</w><w>quedaría</w><w>así</w><w>:</w></s></p><ab><code lang="language-r" xml:id="code_introduccion-al-web-scraping-usando-r_11" corresp="code_introduccion-al-web-scraping-usando-r_11.txt" rend="block"/></ab><p><s xml:id="s_DP4vbP"><w>¡Listo</w><pc>!</pc></s><s xml:id="s_oZcCIg"><w>Si</w><w>ejecutas</w><w>esas</w><w>líneas</w><w>de</w><w>código</w><w>,</w><w>debería</w><w>aparecer</w><w>el</w><w>archivo</w><w>en</w><w>tu</w><w>directorio</w><w>de</w><w>trabajo</w><w>con</w><w>el</w><w>texto</w><w>ya</w><w>procesado</w><pc>.</pc></s></p><p><s xml:id="s_BFDfGz"><w>Esto</w><w>nos</w><w>muestra</w><w>que</w><w>una</w><w>vez</w><w>que</w><w>resolvemos</w><w>cómo</w><w>extraer</w><w>datos</w><w>de</w><w>un</w><w>sitio</w><w>,</w><w>podemos</w><w>luego</w><w>reutilizar</w><w>el</w><w>código</w><w>para</w><w>otras</w><w>secciones</w><w>que</w><w>nos</w><w>interesen</w><pc>.</pc></s><s xml:id="s_1frFDA"><w>Con</w><w>este</w><w>mismo</w><w>bloque</w><w>de</w><w>código</w><w>,</w><w>por</w><w>ejemplo</w><w>,</w><w>podrías</w><w>extraer</w><w>todos</w><w>los</w><w>discursos</w><w>que</w><w>se</w><w>encuentran</w><w>en</w><w>este</w><w>sitio</w><w>web</w><pc>.</pc></s></p><p><s xml:id="s_Qcctsx"><w>En</w><ref target="/assets/introduccion-al-web-scraping-usando-r/script-extraccion-discursos.R"><w>este</w><w>archivo</w></ref><w>puedes</w><w>revisar</w><w>la</w><w>versión</w><w>final</w><w>de</w><w>nuestro</w><w>script</w><pc>.</pc></s></p></div><div type="2" n="6"><head><s xml:id="s_wpBQy0"><w>Síntesis</w></s></head><p><s xml:id="s_TLbggg"><w>En</w><w>esta</w><w>lección</w><w>conocimos</w><w>cuáles</w><w>son</w><w>las</w><w>características</w><w>centrales</w><w>de</w><w>una</w><w>página</w><w>web</w><w>que</w><w>nos</w><w>permiten</w><w>extraer</w><w>su</w><w>contenido</w><w>usando</w><w>técnicas</w><w>como</w><w>el</w><w>web</w><w>scraping</w><pc>.</pc></s><s xml:id="s_vm4GD1"><w>Discutimos</w><w>también</w><w>acerca</w><w>de</w><w>cómo</w><w>podemos</w><w>resguardar</w><w>que</w><w>el</w><w>procedimiento</w><w>que</w><w>implementamos</w><w>se</w><w>ajuste</w><w>a</w><w>las</w><w>condiciones</w><w>de</w><w>uso</w><w>del</w><w>sitio</w><w>del</w><w>que</w><w>nos</w><w>interesa</w><w>extraer</w><w>datos</w><pc>.</pc></s><s xml:id="s_tVKHgp"><w>Finalmente</w><w>,</w><w>hicimos</w><w>un</w><w>primer</w><w>ejercicio</w><w>en</w><w>el</w><w>que</w><w>seguimos</w><w>el</w><w>flujo</w><w>de</w><w>trabajo</w><w>completo</w><w>y</w><w>revisamos</w><w>las</w><w>ventajas</w><w>que</w><w>tiene</w><w>trabajar</w><w>de</w><w>este</w><w>modo</w><w>cuando</w><w>necesitamos</w><w>repetir</w><w>una</w><w>tarea</w><w>de</w><w>extracción</w><pc>.</pc></s></p></div><div type="2" n="7"><head><s xml:id="s_KCZjGP"><w>Próximos</w><w>pasos</w></s></head><p><s xml:id="s_QvZqWf"><w>Esta</w><w>es</w><w>la</w><w>primera</w><w>lección</w><w>de</w><w>la</w><w>serie</w><w>sobre</w><w>web</w><w>scraping</w><w>usando</w><w>R.</w><w>En</w><w>la</w><w>próxima</w><w>,</w><w>aprenderemos</w><w>a</w><w>extraer</w><w>tablas</w><w>,</w><w>y</w><w>a</w><w>partir</w><w>de</w><w>la</w><w>tercera</w><w>,</w><w>veremos</w><w>cómo</w><w>crear</w><w>funciones</w><w>que</w><w>nos</w><w>permitan</w><w>extraer</w><w>datos</w><w>de</w><w>varias</w><w>páginas</w><w>al</w><w>mismo</w><w>tiempo</w><pc>.</pc></s></p></div><div type="2" n="8"><head><s xml:id="s_xMrt3d"><w>Notas</w></s></head><p><s xml:id="s_Mvu57k"><ref type="footnotemark" target="#es_note_1"/><w>:</w><w>Amazon.es</w><pc>.</pc></s><s xml:id="s_4x9sFH"><w>``</w><w>Condiciones</w><w>de</w><w>Uso</w><w>y</w><w>Venta</w><w>''</w><w>,</w><ref target="https://www.amazon.es/gp/help/customer/display.html?nodeId=201909000"><w>https</w><w>:</w><w>//www.amazon.es/gp/help/customer/display.html</w><pc>?</pc><w>nodeId=201909000</w></ref><pc>.</pc></s></p><p><s xml:id="s_mCyWgG"><ref type="footnotemark" target="#es_note_2"/><w>:</w><w>En</w><w>el</w><w>menú</w><w>Tools</w><w>&gt;</w><w>Global</w><w>Options</w><w>&gt;</w><w>Code</w><w>puedes</w><w>configurar</w><w>RStudio</w><w>para</w><w>que</w><w>utilice</w><w>el</w><w>nuevo</w><w>pipe</w><w>como</w><w>opción</w><w>por</w><w>defecto</w><pc>.</pc></s><s xml:id="s_3QaYxG"><w>Esto</w><w>te</w><w>permitirá</w><w>incluirlo</w><w>en</w><w>tu</w><w>código</w><w>con</w><w>el</w><w>atajo</w><w>de</w><w>teclado</w><w>Ctrl/Cmd</w><w>+</w><w>Shift</w><w>+</w><w>m</w><pc>.</pc></s></p></div></body>
    </text>
</TEI>
