<TEI xmlns="http://www.tei-c.org/ns/1.0" xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="from-html-to-list-of-words-1" type="original" xml:base="from-html-to-list-of-words-1/from-html-to-list-of-words-1/from-html-to-list-of-words-1.xml">
    <teiHeader>
        <fileDesc>
            <titleStmt>
                <title>From HTML to List of Words (part 1)</title>
                <author role="original_author">
                    <persName>William J. Turkel</persName>
                    <persName>Adam Crymble</persName>
                </author>
                <editor role="reviewers">
                    <persName>Jim Clifford</persName>
                    <persName>Frederik Elwert</persName>
                </editor>
                <editor role="editors">Miriam Posner</editor>
            </titleStmt>
            <publicationStmt>
                <distributor>Programming Historian</distributor>
                <idno type="doi">10.46430/phen0006</idno>
                <date type="published">07/17/2012</date>
            </publicationStmt>
            <sourceDesc>
                <p>Born digital, in a markdown format. This lesson is original. Available translations are the following:<ref type="translations" target="#de-html-a-lista-de-palabras-1 #HTML-lista-palavras-1 #du-html-a-une-liste-de-mots-1"/>
                </p>
            </sourceDesc>
        </fileDesc>
        <profileDesc>
            <abstract>
                <p>In this two-part lesson, we will build on what you’ve learned about Downloading Web Pages with Python, learning how to remove the HTML markup from the webpage of Benjamin Bowsey’s 1780 criminal trial transcript. We will achieve this by using a variety of string operators, string methods, and close reading skills. We introduce looping and branching so that programs can repeat tasks and test for certain conditions, making it possible to separate the content from the HTML tags. Finally, we convert content from a long string to a list of words that can later be sorted, indexed, and counted.</p>
            </abstract>
            <textClass>
                <keywords>
                    <term xml:lang="en">python</term>
                </keywords>
            </textClass>
        </profileDesc>
    </teiHeader>
    <text xml:lang="en">
        <body><div type="2" n="1"><head><s xml:id="s_z3Fp1H"><w>Lesson</w><w>Goals</w></s></head><p><s xml:id="s_tPIY0s"><w>In</w><w>this</w><w>two-part</w><w>lesson</w><w>,</w><w>we</w><w>will</w><w>build</w><w>on</w><w>what</w><w>you</w><w>’</w><w>ve</w><w>learned</w><w>about</w><ref target="/lessons/working-with-web-pages"><w>Downloading</w><w>Web</w><w>Pages</w><w>with</w><w>Python</w></ref><w>,</w><w>learning</w><w>how</w><w>to</w><w>remove</w><w>the</w><emph><w>HTML</w><w>markup</w></emph><w>from</w><w>the</w><w>webpage</w><w>of</w><ref target="http://www.oldbaileyonline.org/browse.jsp?id=t17800628-33&amp;div=t17800628-33"><w>Benjamin</w><w>Bowsey</w><w>’</w><w>s</w><w>1780</w><w>criminal</w><w>trial</w><w>transcript</w></ref><pc>.</pc></s><s xml:id="s_eIlH1w"><w>We</w><w>will</w><w>achieve</w><w>this</w><w>by</w><w>using</w><w>a</w><w>variety</w><w>of</w><emph><w>string</w><w>operators</w></emph><w>,</w><emph><w>string</w><w>methods</w></emph><w>and</w><w>close</w><w>reading</w><w>skills</w><pc>.</pc></s><s xml:id="s_QjHiEO"><w>We</w><w>introduce</w><emph><w>looping</w></emph><w>and</w><emph><w>branching</w></emph><w>so</w><w>that</w><w>programs</w><w>can</w><w>repeat</w><w>tasks</w><w>and</w><w>test</w><w>for</w><w>certain</w><w>conditions</w><w>,</w><w>making</w><w>it</w><w>possible</w><w>to</w><w>separate</w><w>the</w><w>content</w><w>from</w><w>the</w><w>HTML</w><w>tags</w><pc>.</pc></s><s xml:id="s_1MFHQs"><w>Finally</w><w>,</w><w>we</w><w>convert</w><w>content</w><w>from</w><w>a</w><w>long</w><w>string</w><w>to</w><w>a</w><emph><w>list</w><w>of</w><w>words</w></emph><w>that</w><w>can</w><w>later</w><w>be</w><w>sorted</w><w>,</w><w>indexed</w><w>,</w><w>and</w><w>counted</w><pc>.</pc></s></p></div><div type="2" n="2"><head><s xml:id="s_6qClmV"><w>The</w><w>Challenge</w></s></head><p><s xml:id="s_nLnceU"><w>To</w><w>get</w><w>a</w><w>clearer</w><w>picture</w><w>of</w><w>the</w><w>task</w><w>ahead</w><w>,</w><w>open</w><w>the</w><emph><w>obo-t17800628-33.html</w></emph><w>file</w><w>that</w><w>you</w><w>created</w><w>in</w><ref target="/lessons/working-with-web-pages"><w>Downloading</w><w>Web</w><w>Pages</w><w>with</w><w>Python</w></ref><w>(</w><w>or</w><w>[</w><w>download</w><w>and</w><w>save</w><w>the</w><w>trial</w><w>]</w><ref target="/assets/obo-t17800628-33.html"><w>obo-t17800628-33.html</w></ref><w>if</w><w>you</w><w>do</w><w>not</w><w>already</w><w>have</w><w>a</w><w>copy</w><w>)</w><w>,</w><w>then</w><w>look</w><w>at</w><w>the</w><w>HTML</w><w>source</w><w>by</w><w>clicking</w><w>on</w><emph><w>Tools</w><w>-</w><w>&gt;</w><w>Web</w><w>Developer</w><w>-</w><w>&gt;</w><w>Page</w><w>Source</w></emph><pc>.</pc></s><s xml:id="s_Nzm4Pi"><w>As</w><w>you</w><w>scroll</w><w>through</w><w>the</w><w>source</w><w>code</w><w>you</w><w>’</w><w>ll</w><w>notice</w><w>that</w><w>there</w><w>are</w><w>HTML</w><w>tags</w><w>mixed</w><w>in</w><w>with</w><w>the</w><w>text</w><pc>.</pc></s><s xml:id="s_XoxrGB"><w>If</w><w>HTML</w><w>is</w><w>new</w><w>to</w><w>you</w><w>,</w><w>we</w><w>recommend</w><w>that</w><w>you</w><w>take</w><w>the</w><w>W3</w><w>Schools</w><ref target="http://www.w3schools.com/html/"><w>HTML</w></ref><w>tutorial</w><w>to</w><w>familiarize</w><w>yourself</w><w>with</w><w>HTML</w><w>markup</w><pc>.</pc></s><s xml:id="s_qSoF52"><w>If</w><w>your</w><w>work</w><w>often</w><w>requires</w><w>that</w><w>you</w><w>remove</w><w>HTML</w><w>markup</w><w>,</w><w>it</w><w>will</w><w>certainly</w><w>help</w><w>to</w><w>be</w><w>able</w><w>to</w><w>understand</w><w>it</w><w>when</w><w>you</w><w>see</w><w>it</w><pc>.</pc></s></p><div type="3" n="2.1"><head><s xml:id="s_GnWkaw"><w>Files</w><w>Needed</w><w>For</w><w>This</w><w>Lesson</w></s></head><list type="unordered"><item><emph><ref target="/assets/obo-t17800628-33.html"><w>obo-t17800628-33.html</w></ref></emph></item></list></div></div><div type="2" n="3"><head><s xml:id="s_k5jALS"><w>Devising</w><w>an</w><w>Algorithm</w></s></head><p><s xml:id="s_WKSedj"><w>Since</w><w>the</w><w>goal</w><w>is</w><w>to</w><w>get</w><w>rid</w><w>of</w><w>the</w><w>HTML</w><w>,</w><w>the</w><w>first</w><w>step</w><w>is</w><w>to</w><w>create</w><w>an</w><emph><w>algorithm</w></emph><w>that</w><w>returns</w><w>only</w><w>the</w><w>text</w><w>(</w><w>minus</w><w>the</w><w>HTML</w><w>tags</w><w>)</w><w>of</w><w>the</w><w>article</w><pc>.</pc></s><s xml:id="s_shyDYN"><w>An</w><w>algorithm</w><w>is</w><w>a</w><w>procedure</w><w>that</w><w>has</w><w>been</w><w>specified</w><w>in</w><w>enough</w><w>detail</w><w>that</w><w>it</w><w>can</w><w>be</w><w>implemented</w><w>on</w><w>a</w><w>computer</w><pc>.</pc></s><s xml:id="s_FgFEzj"><w>It</w><w>helps</w><w>to</w><w>write</w><w>your</w><w>algorithms</w><w>first</w><w>in</w><w>plain</w><w>English</w><w>;</w><w>it</w><w>'s</w><w>a</w><w>great</w><w>way</w><w>to</w><w>outline</w><w>exactly</w><w>what</w><w>you</w><w>want</w><w>to</w><w>do</w><w>before</w><w>diving</w><w>into</w><w>code</w><pc>.</pc></s><s xml:id="s_gnMn9U"><w>To</w><w>construct</w><w>this</w><w>algorithm</w><w>you</w><w>are</w><w>going</w><w>to</w><w>use</w><w>your</w><w>close</w><w>reading</w><w>skills</w><w>to</w><w>figure</w><w>out</w><w>a</w><w>way</w><w>to</w><w>capture</w><w>only</w><w>the</w><w>textual</w><w>content</w><w>of</w><w>the</w><w>biography</w><pc>.</pc></s></p><p><s xml:id="s_aQFUBg"><w>Looking</w><w>at</w><w>the</w><w>source</w><w>code</w><w>of</w><emph><w>obo-t17800628-33.html</w></emph><w>you</w><w>will</w><w>notice</w><w>the</w><w>actual</w><w>transcript</w><w>does</w><w>not</w><w>start</w><w>right</w><w>away</w><pc>.</pc></s><s xml:id="s_87i8FM"><w>Instead</w><w>there</w><w>are</w><w>a</w><w>number</w><w>of</w><w>HTML</w><w>tags</w><w>and</w><w>some</w><w>citation</w><w>information</w><pc>.</pc></s><s xml:id="s_yEx6aj"><w>In</w><w>this</w><w>case</w><w>the</w><w>content</w><w>does</w><w>not</w><w>even</w><w>start</w><w>until</w><w>quite</w><w>far</w><w>along</w><w>line</w><w>81</w><pc>!</pc></s></p><ab><code lang="language-xml" xml:id="code_from-html-to-list-of-words-1_0" corresp="code_from-html-to-list-of-words-1_0.txt" rend="block"/></ab><p><s xml:id="s_fdNDAS"><w>We</w><w>are</w><w>only</w><w>interested</w><w>in</w><w>the</w><w>transcript</w><w>itself</w><w>,</w><w>not</w><w>the</w><w>extra</w><w>metadata</w><w>contained</w><w>in</w><w>the</w><w>tags</w><pc>.</pc></s><s xml:id="s_PNCYru"><w>However</w><w>,</w><w>you</w><w>will</w><w>notice</w><w>that</w><w>the</w><w>end</w><w>of</w><w>the</w><w>metadata</w><w>corresponds</w><w>with</w><w>the</w><w>start</w><w>of</w><w>the</w><w>transcript</w><pc>.</pc></s><s xml:id="s_LfBjR1"><w>This</w><w>makes</w><w>the</w><w>location</w><w>of</w><w>the</w><w>metadata</w><w>a</w><w>potentially</w><w>useful</w><w>marker</w><w>for</w><w>isolating</w><w>the</w><w>transcript</w><w>text</w><pc>.</pc></s></p><p><s xml:id="s_OQOtb2"><w>At</w><w>a</w><w>glance</w><w>,</w><w>we</w><w>can</w><w>see</w><w>that</w><w>the</w><w>trial</w><w>transcript</w><w>itself</w><w>starts</w><w>with</w><w>an</w><w>HTML</w><w>tag</w><w>:</w><code rend="inline"><w>&lt;</w><w>p</w><w>&gt;</w></code><w>,</w><w>which</w><w>stands</w><w>for</w><w>'paragraph</w><w>'</w><pc>.</pc></s><s xml:id="s_wIS6UK"><w>This</w><w>happens</w><w>to</w><w>be</w><w>the</w><w>first</w><w>paragraph</w><w>tag</w><w>in</w><w>the</w><w>document</w><pc>.</pc></s><s xml:id="s_OgGtGC"><w>We</w><w>might</w><w>be</w><w>able</w><w>to</w><w>use</w><w>this</w><w>to</w><w>find</w><w>the</w><w>starting</w><w>point</w><w>of</w><w>our</w><w>transcript</w><w>text</w><pc>.</pc></s><s xml:id="s_vs2wzb"><w>We</w><w>are</w><w>lucky</w><w>in</w><w>this</w><w>case</w><w>because</w><w>it</w><w>turns</w><w>out</w><w>that</w><w>this</w><w>tag</w><w>is</w><w>a</w><w>reliable</w><w>way</w><w>to</w><w>find</w><w>the</w><w>start</w><w>of</w><w>transcript</w><w>text</w><w>in</w><w>the</w><w>trial</w><w>(</w><w>if</w><w>you</w><w>want</w><w>,</w><w>take</w><w>a</w><w>look</w><w>at</w><w>a</w><w>few</w><w>other</w><w>trials</w><w>to</w><w>check</w><w>)</w><pc>.</pc></s></p><p><s xml:id="s_X6OpUV"><w>The</w><w>trial</w><w>text</w><w>ends</w><w>on</w><w>line</w><w>82</w><w>with</w><w>another</w><w>HTML</w><w>tag</w><w>:</w><w>``</w><w>,</w><w>which</w><w>stands</w><w>for</w><w>line</w><w>break</w><pc>.</pc></s><s xml:id="s_nwo9nQ"><w>This</w><w>happens</w><w>to</w><w>be</w><w>the</w><w>LAST</w><w>line</w><w>break</w><w>in</w><w>the</w><w>document</w><pc>.</pc></s><s xml:id="s_IKR9zn"><w>These</w><w>two</w><w>tags</w><w>(</w><w>first</w><w>paragraph</w><w>tag</w><w>and</w><w>last</w><w>linebreak</w><w>)</w><w>thus</w><w>provide</w><w>a</w><w>way</w><w>to</w><w>isolate</w><w>our</w><w>desired</w><w>text</w><pc>.</pc></s><s xml:id="s_5YmyCa"><w>Well-formatted</w><w>websites</w><w>will</w><w>almost</w><w>always</w><w>have</w><w>some</w><w>unique</w><w>way</w><w>of</w><w>signalling</w><w>the</w><w>end</w><w>of</w><w>the</w><w>content</w><pc>.</pc></s><s xml:id="s_rlNj41"><w>You</w><w>often</w><w>just</w><w>need</w><w>to</w><w>look</w><w>closely</w><pc>.</pc></s></p><p><s xml:id="s_kWTHMt"><w>The</w><w>next</w><w>thing</w><w>that</w><w>you</w><w>want</w><w>to</w><w>do</w><w>is</w><w>strip</w><w>out</w><w>all</w><w>of</w><w>the</w><w>HTML</w><w>markup</w><w>that</w><w>remains</w><w>mixed</w><w>in</w><w>with</w><w>the</w><w>content</w><pc>.</pc></s><s xml:id="s_ulUJge"><w>Since</w><w>you</w><w>know</w><w>HTML</w><w>tags</w><w>are</w><w>always</w><w>found</w><w>between</w><w>matching</w><w>pairs</w><w>of</w><w>angle</w><w>brackets</w><w>,</w><w>it</w><w>’</w><w>s</w><w>probably</w><w>a</w><w>safe</w><w>bet</w><w>that</w><w>if</w><w>you</w><w>remove</w><w>everything</w><w>between</w><w>angle</w><w>brackets</w><w>,</w><w>you</w><w>will</w><w>remove</w><w>the</w><w>HTML</w><w>and</w><w>be</w><w>left</w><w>only</w><w>with</w><w>the</w><w>transcript</w><pc>.</pc></s><s xml:id="s_cdHCKX"><w>Note</w><w>that</w><w>we</w><w>are</w><w>making</w><w>the</w><w>assumption</w><w>that</w><w>the</w><w>transcript</w><w>will</w><w>not</w><w>contain</w><w>the</w><w>mathematical</w><w>symbols</w><w>for</w><w>“</w><w>less</w><w>than</w><w>”</w><w>or</w><w>“</w><w>greater</w><w>than.</w><w>”</w><w>If</w><w>Bowsey</w><w>was</w><w>a</w><w>mathematician</w><w>,</w><w>this</w><w>assumption</w><w>would</w><w>not</w><w>be</w><w>as</w><w>safe</w><pc>.</pc></s></p><p><s xml:id="s_iXeYCE"><w>The</w><w>following</w><w>describes</w><w>our</w><w>algorithm</w><w>in</w><w>words</w><pc>.</pc></s></p><p><s xml:id="s_gP6IoA"><w>To</w><w>isolate</w><w>the</w><w>content</w><w>:</w></s></p><list type="unordered"><item><s xml:id="s_E2NW1A"><w>Download</w><w>the</w><w>transcript</w><w>text</w></s></item><item><s xml:id="s_jLX6rp"><w>Search</w><w>the</w><w>HTML</w><w>for</w><w>and</w><w>store</w><w>the</w><w>location</w><w>of</w><w>the</w><w>first</w><code rend="inline"><w>&lt;</w><w>p</w><w>&gt;</w></code><w>tag</w></s></item><item><s xml:id="s_XRd5Sd"><w>Search</w><w>the</w><w>HTML</w><w>for</w><w>and</w><w>store</w><w>the</w><w>location</w><w>of</w><w>the</w><w>last</w><w>``</w><w>tag</w></s></item><item><s xml:id="s_tofgo0"><w>Save</w><w>everything</w><w>after</w><w>the</w><code rend="inline"><w>&lt;</w><w>p</w><w>&gt;</w></code><w>tag</w><w>and</w><w>before</w><w>the</w><w>``</w><w>tag</w><w>to</w><w>a</w><w>string</w><w>:</w><emph><w>pageContents</w></emph></s></item></list><p><s xml:id="s_2Ik8BI"><w>At</w><w>this</w><w>point</w><w>we</w><w>have</w><w>the</w><w>trial</w><w>transcript</w><w>text</w><w>,</w><w>plus</w><w>HTML</w><w>markup</w><pc>.</pc></s><s xml:id="s_cDxoKq"><w>Next</w><w>:</w></s></p><list type="unordered"><item><s xml:id="s_bzpN45"><w>Look</w><w>at</w><w>every</w><w>character</w><w>in</w><w>the</w><emph><w>pageContents</w></emph><w>string</w><w>,</w><w>one</w><w>character</w><w>at</w><w>a</w><w>time</w></s></item><item><s xml:id="s_IWfadi"><w>If</w><w>the</w><w>character</w><w>is</w><w>a</w><w>left</w><w>angle</w><w>bracket</w><w>(</w><w>&lt;</w><w>)</w><w>we</w><w>are</w><w>now</w><w>inside</w><w>a</w><w>tag</w><w>so</w><w>ignore</w><w>each</w><w>following</w><w>character</w></s></item><item><s xml:id="s_UsTMsC"><w>If</w><w>the</w><w>character</w><w>is</w><w>a</w><w>right</w><w>angle</w><w>bracket</w><w>(</w><w>&gt;</w><w>)</w><w>we</w><w>are</w><w>now</w><w>leaving</w><w>the</w><w>tag</w><w>;</w><w>ignore</w><w>the</w><w>current</w><w>character</w><w>,</w><w>but</w><w>look</w><w>at</w><w>each</w><w>following</w><w>character</w></s></item><item><s xml:id="s_AwCKZM"><w>If</w><w>we</w><w>’</w><w>re</w><w>not</w><w>inside</w><w>a</w><w>tag</w><w>,</w><w>append</w><w>the</w><w>current</w><w>character</w><w>to</w><w>a</w><w>new</w><w>variable</w><w>:</w><emph><w>text</w></emph></s></item></list><p><s xml:id="s_IhPY7m"><w>Finally</w><w>:</w></s></p><list type="unordered"><item><s xml:id="s_IScyFq"><w>Split</w><w>the</w><w>text</w><w>string</w><w>into</w><w>a</w><w>list</w><w>of</w><w>individual</w><w>words</w><w>that</w><w>can</w><w>later</w><w>be</w><w>manipulated</w><w>further</w><pc>.</pc></s></item></list></div><div type="2" n="4"><head><s xml:id="s_X0ttnf"><w>Isolating</w><w>Desired</w><w>Content</w></s></head><p><s xml:id="s_0vJAp6"><w>The</w><w>following</w><w>step</w><w>uses</w><w>Python</w><w>commands</w><w>introduced</w><w>in</w><w>the</w><ref target="/lessons/manipulating-strings-in-python"><w>Manipulating</w><w>Strings</w><w>in</w><w>Python</w></ref><w>lesson</w><w>to</w><w>implement</w><w>the</w><w>first</w><w>half</w><w>of</w><w>the</w><w>algorithm</w><w>:</w><w>removing</w><w>all</w><w>content</w><w>before</w><w>the</w><code rend="inline"><w>&lt;</w><w>p</w><w>&gt;</w></code><w>tag</w><w>and</w><w>after</w><w>the</w><w>``</w><w>tag</w><pc>.</pc></s><s xml:id="s_FmJzNF"><w>To</w><w>recap</w><w>,</w><w>the</w><w>algorithm</w><w>was</w><w>as</w><w>follows</w><w>:</w></s></p><list type="unordered"><item><s xml:id="s_JBNFiD"><w>Download</w><w>the</w><w>transcript</w><w>text</w></s></item><item><s xml:id="s_tSUuEz"><w>Search</w><w>the</w><w>HTML</w><w>for</w><w>and</w><w>store</w><w>the</w><w>location</w><w>of</w><w>the</w><w>first</w><code rend="inline"><w>&lt;</w><w>p</w><w>&gt;</w></code><w>tag</w></s></item><item><s xml:id="s_7ny0AS"><w>Search</w><w>the</w><w>HTML</w><w>for</w><w>and</w><w>store</w><w>the</w><w>location</w><w>of</w><w>the</w><w>last</w><w>``</w><w>tag</w></s></item><item><s xml:id="s_j9GiQE"><w>Save</w><w>everything</w><w>after</w><w>the</w><code rend="inline"><w>&lt;</w><w>p</w><w>&gt;</w></code><w>tag</w><w>and</w><w>before</w><w>the</w><w>``</w><w>tag</w><w>to</w><w>a</w><w>string</w><w>:</w><emph><w>pageContents</w></emph></s></item></list><p><s xml:id="s_AQPRhm"><w>To</w><w>achieve</w><w>this</w><w>,</w><w>you</w><w>will</w><w>use</w><w>the</w><w>'find</w><w>'</w><w>string</w><w>method</w><w>and</w><w>.rfind</w><w>(</w><w>)</w><w>method</w><w>(</w><w>which</w><w>finds</w><w>the</w><w>last</w><w>match</w><w>of</w><w>something</w><w>)</w><w>and</w><w>create</w><w>a</w><w>new</w><w>substring</w><w>containing</w><w>only</w><w>the</w><w>desired</w><w>content</w><w>between</w><w>those</w><w>index</w><w>positions</w><pc>.</pc></s></p><p><s xml:id="s_pOVYLy"><w>As</w><w>you</w><w>work</w><w>,</w><w>you</w><w>will</w><w>be</w><w>developing</w><w>separate</w><w>files</w><w>to</w><w>contain</w><w>your</w><w>code</w><pc>.</pc></s><s xml:id="s_flDqcn"><w>One</w><w>of</w><w>these</w><w>will</w><w>be</w><w>called</w><emph><w>obo.py</w></emph><w>(</w><w>for</w><w>“</w><w>Old</w><w>Bailey</w><w>Online</w><w>”</w><w>)</w><pc>.</pc></s><s xml:id="s_gIpzwI"><w>This</w><w>file</w><w>is</w><w>going</w><w>to</w><w>contain</w><w>all</w><w>of</w><w>the</w><w>code</w><w>that</w><w>you</w><w>will</w><w>want</w><w>to</w><w>re-use</w><w>;</w><w>in</w><w>other</w><w>words</w><w>,</w><emph><w>obo.py</w></emph><w>is</w><w>a</w><w>module</w><pc>.</pc></s><s xml:id="s_Esv1TM"><w>We</w><w>discussed</w><w>the</w><w>idea</w><w>of</w><w>modules</w><w>in</w><ref target="/lessons/code-reuse-and-modularity"><w>Code</w><w>Reuse</w><w>and</w><w>Modularity</w></ref><w>when</w><w>we</w><w>saved</w><w>our</w><w>functions</w><w>to</w><emph><w>greet.py</w></emph><pc>.</pc></s></p><p><s xml:id="s_59vnVu"><w>Create</w><w>a</w><w>new</w><w>file</w><w>named</w><emph><w>obo.py</w></emph><w>and</w><w>save</w><w>it</w><w>to</w><w>your</w><emph><w>programming-historian</w></emph><w>directory</w><pc>.</pc></s><s xml:id="s_wPUuFk"><w>We</w><w>are</w><w>going</w><w>to</w><w>use</w><w>this</w><w>file</w><w>to</w><w>keep</w><w>copies</w><w>of</w><w>the</w><w>functions</w><w>needed</w><w>to</w><w>process</w><w>The</w><w>Old</w><w>Bailey</w><w>Online</w><pc>.</pc></s><s xml:id="s_ghlPDu"><w>Type</w><w>or</w><w>copy</w><w>the</w><w>following</w><w>code</w><w>into</w><w>your</w><w>file</w><pc>.</pc></s></p><ab><code lang="language-python" xml:id="code_from-html-to-list-of-words-1_1" corresp="code_from-html-to-list-of-words-1_1.txt" rend="block"/></ab><p><s xml:id="s_IOHMIS"><w>Create</w><w>a</w><w>second</w><w>file</w><w>,</w><emph><w>trial-content.py</w></emph><w>,</w><w>and</w><w>save</w><w>the</w><w>program</w><w>shown</w><w>below</w><pc>.</pc></s></p><ab><code lang="language-python" xml:id="code_from-html-to-list-of-words-1_2" corresp="code_from-html-to-list-of-words-1_2.txt" rend="block"/></ab><p><s xml:id="s_TePhM5"><w>When</w><w>you</w><w>run</w><emph><w>trial-content.py</w></emph><w>it</w><w>will</w><w>get</w><w>the</w><w>web</w><w>page</w><w>for</w><w>Bowsey</w><w>’</w><w>s</w><w>trial</w><w>transcript</w><w>,</w><w>then</w><w>look</w><w>in</w><w>the</w><emph><w>obo.py</w></emph><w>module</w><w>for</w><w>the</w><emph><w>stripTags</w></emph><w>function</w><pc>.</pc></s><s xml:id="s_jeEMVM"><w>It</w><w>will</w><w>use</w><w>that</w><w>function</w><w>to</w><w>extract</w><w>the</w><w>stuff</w><w>after</w><w>the</w><w>first</w><code rend="inline"><w>&lt;</w><w>p</w><w>&gt;</w></code><w>tag</w><w>and</w><w>before</w><w>the</w><w>last</w><w>``</w><w>tag</w><pc>.</pc></s><s xml:id="s_mpW9BB"><w>With</w><w>any</w><w>luck</w><w>,</w><w>this</w><w>should</w><w>be</w><w>the</w><w>textual</w><w>content</w><w>of</w><w>the</w><w>Bowsey</w><w>transcript</w><w>,</w><w>along</w><w>with</w><w>some</w><w>of</w><w>HTML</w><w>markup</w><pc>.</pc></s><s xml:id="s_ShUFyt"><w>Don</w><w>’</w><w>t</w><w>worry</w><w>if</w><w>your</w><w>Command</w><w>Output</w><w>screen</w><w>ends</w><w>in</w><w>a</w><w>thick</w><w>black</w><w>line</w><pc>.</pc></s><s xml:id="s_A72hrK"><w>Komodo</w><w>Edit</w><w>’</w><w>s</w><w>output</w><w>screen</w><w>has</w><w>a</w><w>maximum</w><w>number</w><w>of</w><w>characters</w><w>it</w><w>will</w><w>display</w><w>,</w><w>after</w><w>which</w><w>characters</w><w>start</w><w>literally</w><w>writing</w><w>over</w><w>one</w><w>another</w><w>on</w><w>the</w><w>screen</w><w>,</w><w>giving</w><w>the</w><w>appearance</w><w>of</w><w>a</w><w>black</w><w>blob</w><pc>.</pc></s><s xml:id="s_emtoJU"><w>Don</w><w>’</w><w>t</w><w>worry</w><w>,</w><w>the</w><w>text</w><w>is</w><w>in</w><w>there</w><w>even</w><w>though</w><w>you</w><w>can</w><w>not</w><w>read</w><w>it</w><w>;</w><w>you</w><w>can</w><w>cut</w><w>and</w><w>paste</w><w>it</w><w>to</w><w>a</w><w>text</w><w>file</w><w>to</w><w>double</w><w>check</w><pc>.</pc></s></p><p><s xml:id="s_szCfFn"><w>Let</w><w>’</w><w>s</w><w>take</w><w>a</w><w>moment</w><w>to</w><w>make</w><w>sure</w><w>we</w><w>understand</w><w>how</w><emph><w>trial-contents.py</w></emph><w>is</w><w>able</w><w>to</w><w>use</w><w>the</w><w>functions</w><w>stored</w><w>in</w><emph><w>obo.py</w></emph><pc>.</pc></s><s xml:id="s_DPnKeC"><w>The</w><emph><w>stripTags</w></emph><w>function</w><w>that</w><w>we</w><w>saved</w><w>to</w><emph><w>obo.py</w></emph><w>requires</w><w>one</w><w>argument</w><pc>.</pc></s><s xml:id="s_L8fNEh"><w>In</w><w>other</w><w>words</w><w>,</w><w>to</w><w>run</w><w>properly</w><w>it</w><w>needs</w><w>one</w><w>piece</w><w>of</w><w>information</w><w>to</w><w>be</w><w>supplied</w><pc>.</pc></s><s xml:id="s_O6xW1k"><w>Recall</w><w>the</w><w>trained</w><w>dog</w><w>example</w><w>from</w><w>a</w><w>previous</w><w>lesson</w><pc>.</pc></s><s xml:id="s_eItsoR"><w>In</w><w>order</w><w>to</w><w>bark</w><w>,</w><w>the</w><w>dog</w><w>needs</w><w>two</w><w>things</w><w>:</w><w>air</w><w>and</w><w>a</w><w>delicious</w><w>treat</w><pc>.</pc></s><s xml:id="s_p6ygV5"><w>The</w><emph><w>stripTags</w></emph><w>function</w><w>in</w><emph><w>obo.py</w></emph><w>needs</w><w>one</w><w>thing</w><w>:</w><w>a</w><w>string</w><w>called</w><emph><w>pageContents</w></emph><pc>.</pc></s><s xml:id="s_h27RL4"><w>But</w><w>you</w><w>’</w><w>ll</w><w>notice</w><w>that</w><w>when</w><w>we</w><w>call</w><emph><w>stripTags</w></emph><w>in</w><w>the</w><w>final</w><w>program</w><w>(</w><emph><w>trialcontents.py</w></emph><w>)</w><w>there</w><w>’</w><w>s</w><w>no</w><w>mention</w><w>of</w><w>“</w><emph><w>pageContents</w></emph><w>“</w><pc>.</pc></s><s xml:id="s_jJoD0b"><w>Instead</w><w>the</w><w>function</w><w>is</w><w>given</w><w>HTML</w><w>as</w><w>an</w><w>argument</w><pc>.</pc></s><s xml:id="s_WqdzXv"><w>This</w><w>can</w><w>be</w><w>confusing</w><w>to</w><w>many</w><w>people</w><w>when</w><w>they</w><w>first</w><w>start</w><w>programming</w><pc>.</pc></s><s xml:id="s_Eabj6h"><w>Once</w><w>a</w><w>function</w><w>has</w><w>been</w><w>declared</w><w>,</w><w>we</w><w>no</w><w>longer</w><w>need</w><w>to</w><w>use</w><w>the</w><w>same</w><w>variable</w><w>name</w><w>when</w><w>we</w><w>call</w><w>the</w><w>function</w><pc>.</pc></s><s xml:id="s_HZ7nsz"><w>As</w><w>long</w><w>as</w><w>we</w><w>provide</w><w>the</w><w>right</w><w>type</w><w>of</w><w>argument</w><w>,</w><w>everything</w><w>should</w><w>work</w><w>fine</w><w>,</w><w>no</w><w>matter</w><w>what</w><w>we</w><w>call</w><w>it</w><pc>.</pc></s><s xml:id="s_oWVbOD"><w>In</w><w>this</w><w>case</w><w>we</w><w>wanted</w><emph><w>pageContents</w></emph><w>to</w><w>use</w><w>the</w><w>contents</w><w>of</w><w>our</w><w>HTML</w><w>variable</w><pc>.</pc></s><s xml:id="s_twC4tZ"><w>You</w><w>could</w><w>have</w><w>passed</w><w>it</w><w>any</w><w>string</w><w>,</w><w>including</w><w>one</w><w>you</w><w>input</w><w>directly</w><w>between</w><w>the</w><w>parentheses</w><pc>.</pc></s><s xml:id="s_7J6S65"><w>Try</w><w>rerunning</w><emph><w>trial-content.py</w></emph><w>,</w><w>changing</w><w>the</w><emph><w>stripTags</w></emph><w>argument</w><w>to</w><w>“</w><w>I</w><w>am</w><w>quite</w><w>fond</w><w>of</w><w>dogs</w><w>”</w><w>and</w><w>see</w><w>what</w><w>happens</w><pc>.</pc></s><s xml:id="s_YnJcBN"><w>Note</w><w>that</w><w>depending</w><w>on</w><w>how</w><w>you</w><w>define</w><w>your</w><w>function</w><w>(</w><w>and</w><w>what</w><w>it</w><w>does</w><w>)</w><w>your</w><w>argument</w><w>may</w><w>need</w><w>to</w><w>be</w><w>something</w><w>other</w><w>than</w><w>a</w><w>string</w><w>:</w><w>an</w><emph><w>integer</w></emph><w>for</w><w>example</w><pc>.</pc></s></p></div><div type="2" n="5"><head><s xml:id="s_XtBjtB"><w>Suggested</w><w>Reading</w></s></head><list type="unordered"><item><s xml:id="s_L88aPK"><w>Lutz</w><w>,</w><emph><w>Learning</w><w>Python</w></emph></s><list type="unordered"><item><s xml:id="s_0CU3Cq"><w>Ch</w><pc>.</pc></s><s xml:id="s_RkzMiJ"><w>7</w><w>:</w><w>Strings</w></s></item><item><s xml:id="s_HoyUP6"><w>Ch</w><pc>.</pc></s><s xml:id="s_obzizD"><w>8</w><w>:</w><w>Lists</w><w>and</w><w>Dictionaries</w></s></item><item><s xml:id="s_3zYNDS"><w>Ch</w><pc>.</pc></s><s xml:id="s_4tYXRq"><w>10</w><w>:</w><w>Introducing</w><w>Python</w><w>Statements</w></s></item><item><s xml:id="s_3GRkOT"><w>Ch</w><pc>.</pc></s><s xml:id="s_KcKQ5r"><w>15</w><w>:</w><w>Function</w><w>Basics</w></s></item></list></item></list></div><div type="2" n="6"><head><s xml:id="s_eIQMI4"><w>Code</w><w>Syncing</w></s></head><p><s xml:id="s_Dt7sWg"><w>To</w><w>follow</w><w>along</w><w>with</w><w>future</w><w>lessons</w><w>it</w><w>is</w><w>important</w><w>that</w><w>you</w><w>have</w><w>the</w><w>right</w><w>files</w><w>and</w><w>programs</w><w>in</w><w>your</w><w>programming-historian</w><w>directory</w><pc>.</pc></s><s xml:id="s_SQGFqm"><w>At</w><w>the</w><w>end</w><w>of</w><w>each</w><w>chapter</w><w>you</w><w>can</w><w>download</w><w>the</w><w>programming-historian</w><w>zip</w><w>file</w><w>to</w><w>make</w><w>sure</w><w>you</w><w>have</w><w>the</w><w>correct</w><w>code</w><pc>.</pc></s><s xml:id="s_uFljvr"><w>Note</w><w>we</w><w>have</w><w>removed</w><w>unneeded</w><w>files</w><w>from</w><w>earlier</w><w>lessons</w><pc>.</pc></s><s xml:id="s_vXIGoH"><w>Your</w><w>directory</w><w>may</w><w>contain</w><w>more</w><w>files</w><w>and</w><w>that</w><w>’</w><w>s</w><w>ok</w><pc>!</pc></s></p><list type="unordered"><item><s xml:id="s_Cb2H6F"><w>programming-historian-2</w><w>(</w><ref target="/assets/python-lessons2.zip"><w>zip</w></ref><w>)</w></s></item></list></div></body>
    </text>
</TEI>
