<TEI xmlns="http://www.tei-c.org/ns/1.0" xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="interactive-visualization-with-plotly" type="original" xml:base="interactive-visualization-with-plotly/interactive-visualization-with-plotly/interactive-visualization-with-plotly.xml">
    <teiHeader>
        <fileDesc>
            <titleStmt>
                <title>Creating Interactive Visualizations with Plotly</title>
                <author role="original_author">Grace Di Méo</author>
                <editor role="reviewers">
                    <persName>Mario Bañuelos</persName>
                    <persName>Rob Lewis</persName>
                </editor>
                <editor role="editors">Scott Kleinman</editor>
            </titleStmt>
            <publicationStmt>
                <distributor>Programming Historian</distributor>
                <idno type="doi">10.46430/phen0115</idno>
                <date type="published">12/13/2023</date>
            </publicationStmt>
            <sourceDesc>
                <p>Born digital, in a markdown format. This lesson is original.</p>
            </sourceDesc>
        </fileDesc>
        <profileDesc>
            <abstract>
                <p>This lesson demonstrates how to create interactive data visualizations in Python with Plotly's open-source graphing libraries using materials from the Historical Violence Database.</p>
            </abstract>
            <textClass>
                <keywords>
                    <term xml:lang="en">python</term>
                    <term xml:lang="en">data-visualization</term>
                </keywords>
            </textClass>
        </profileDesc>
    </teiHeader>
    <text xml:lang="en">
        <body><div type="2" n="1"><head><s xml:id="s_aPxFkL"><w>Introduction</w></s></head><div type="3" n="1.1"><head><s xml:id="s_rUoWCk"><w>Lesson</w><w>Goals</w></s></head><p><s xml:id="s_r4c1Te"><w>This</w><w>lesson</w><w>demonstrates</w><w>how</w><w>to</w><w>create</w><w>interactive</w><w>data</w><w>visualizations</w><w>in</w><w>Python</w><w>using</w><ref target="https://perma.cc/94J3-8LAS"><w>Plotly</w><w>'s</w><w>open-source</w><w>graphing</w><w>libraries</w></ref><pc>.</pc></s><s xml:id="s_dSDxPt"><w>In</w><w>particular</w><w>,</w><w>you</w><w>will</w><w>learn</w><w>:</w></s></p><list type="unordered"><item><s xml:id="s_QgirvV"><w>The</w><w>distinction</w><w>between</w><w>Plotly</w><w>Express</w><w>,</w><w>Plotly</w><w>'s</w><w>Graph</w><w>Objects</w><w>,</w><w>and</w><w>Plotly</w><w>Dash</w></s></item><item><s xml:id="s_0sAspn"><w>How</w><w>to</w><w>create</w><w>and</w><w>export</w><w>graphs</w><w>using</w><code rend="inline"><w>plotly.express</w></code><w>and</w><code rend="inline"><w>plotly.graph_objects</w></code></s></item><item><s xml:id="s_6yt4M9"><w>How</w><w>to</w><w>add</w><w>custom</w><w>features</w><w>to</w><w>graphs</w></s></item></list></div><div type="3" n="1.2"><head><s xml:id="s_kGubgr"><w>Prerequisites</w></s></head><p><s xml:id="s_FknVRv"><w>In</w><w>order</w><w>to</w><w>follow</w><w>this</w><w>lesson</w><w>,</w><w>it</w><w>is</w><w>assumed</w><w>that</w><w>you</w><w>have</w><w>:</w></s></p><list type="unordered"><item><s xml:id="s_zJNfp8"><w>Installed</w><ref target="https://www.python.org/downloads/"><w>Python</w><w>3</w></ref><w>and</w><w>the</w><ref target="https://pypi.org/project/pip/"><code rend="inline"><w>pip</w></code><w>package</w><w>installer</w></ref></s></item><item><s xml:id="s_iishIM"><w>An</w><w>intermediate</w><w>level</w><w>understanding</w><w>of</w><w>the</w><w>Python</w><w>programming</w><w>language</w></s></item><item><s xml:id="s_laljMI"><w>Some</w><w>familiarity</w><w>with</w><ref target="https://perma.cc/UT9Y-KR76"><w>pandas</w></ref><w>and</w><ref target="https://perma.cc/JQW9-AM8Y"><w>NumPy</w></ref><w>,</w><w>which</w><w>should</w><w>also</w><w>be</w><w>installed</w></s></item><item><s xml:id="s_BoIzQT"><w>Knowledge</w><w>of</w><w>basic</w><w>data</w><w>visualization</w><w>techniques</w><w>(</w><w>especially</w><w>bar</w><w>charts</w><w>,</w><w>histograms</w><w>and</w><w>scatterplots</w><w>)</w></s></item><item><s xml:id="s_ti1dFE"><w>Some</w><w>familiarity</w><w>with</w><w>data</w><w>preprocessing</w><w>(</w><w>we</w><w>will</w><w>be</w><w>using</w><w>pandas</w><w>)</w></s></item></list><p><s xml:id="s_JnKyQW"><w>This</w><w>lesson</w><w>was</w><w>developed</w><w>using</w><w>Jupyter</w><w>Notebook</w><pc>.</pc></s><s xml:id="s_Kqw2Lm"><w>For</w><w>those</w><w>who</w><w>are</w><w>unfamiliar</w><w>with</w><w>this</w><w>software</w><w>,</w><w>the</w><emph><w>Programming</w><w>Historian</w></emph><w>offers</w><w>an</w><w>excellent</w><w>lesson</w><w>on</w><w>how</w><w>to</w><w>create</w><w>,</w><w>edit</w><w>and</w><w>export</w><w>Jupyter</w><w>notebooks</w><ref target="/en/lessons/jupyter-notebooks"><w>here</w></ref><pc>.</pc></s><s xml:id="s_OBxmdG"><w>You</w><w>may</w><w>also</w><w>follow</w><w>this</w><w>lesson</w><w>using</w><w>your</w><w>own</w><w>preferred</w><w>code</w><w>editor</w><w>(</w><w>VSCode</w><w>,</w><w>PyCharm</w><w>,</w><w>etc.</w><w>)</w><pc>.</pc></s></p></div><div type="3" n="1.3"><head><s xml:id="s_nXxEFw"><w>What</w><w>is</w><w>Plotly</w><pc>?</pc></s></head><p><s xml:id="s_EiU095"><w>Plotly</w><w>is</w><w>a</w><w>company</w><w>which</w><w>provides</w><w>a</w><w>number</w><w>of</w><w>open-source</w><w>libraries</w><w>allowing</w><w>users</w><w>to</w><w>build</w><w>interactive</w><w>graphs</w><pc>.</pc></s><s xml:id="s_xe8UGm"><w>Unlike</w><w>static</w><w>images</w><w>,</w><w>Plotly</w><w>graphs</w><w>can</w><w>respond</w><w>to</w><w>user</w><w>actions</w><w>with</w><w>popup</w><w>labels</w><w>,</w><w>pan-and-zoom</w><w>abilities</w><w>,</w><w>faceted</w><w>data</w><w>displays</w><w>,</w><w>and</w><w>more</w><pc>.</pc></s><s xml:id="s_O15wDu"><w>Plotly</w><w>libraries</w><w>are</w><w>available</w><w>in</w><w>Python</w><w>—</w><w>the</w><w>focus</w><w>of</w><w>this</w><w>tutorial</w><w>—</w><w>as</w><w>well</w><w>as</w><w>various</w><w>programming</w><w>languages</w><w>,</w><w>including</w><w>R</w><w>and</w><w>Julia</w><pc>.</pc></s><s xml:id="s_dD5nvA"><ref type="footnotemark" target="#en_note_1"/><w>A</w><w>wide</w><w>variety</w><w>of</w><w>graphs</w><w>is</w><w>available</w><w>through</w><w>Plotly</w><w>libraries</w><w>,</w><w>ranging</w><w>from</w><w>the</w><w>statistical</w><w>or</w><w>scientific</w><w>to</w><w>the</w><w>financial</w><w>or</w><w>geographic</w><pc>.</pc></s><s xml:id="s_P1jchV"><w>These</w><w>graphs</w><w>can</w><w>be</w><w>displayed</w><w>using</w><w>various</w><w>methods</w><w>,</w><w>including</w><w>Jupyter</w><w>notebooks</w><w>,</w><w>HTML</w><w>files</w><w>,</w><w>and</w><w>web</w><w>applications</w><w>produced</w><w>with</w><w>Plotly</w><w>'s</w><w>Dash</w><w>framework</w><pc>.</pc></s><s xml:id="s_oEoE7M"><w>Static</w><w>(</w><w>non-interactive</w><w>)</w><w>graphs</w><w>can</w><w>also</w><w>be</w><w>exported</w><w>either</w><w>as</w><w>raster</w><w>or</w><w>vector</w><w>images</w><pc>.</pc></s></p><p style="alert alert-warning"><emph><w>Throughout</w><w>this</w><w>lesson</w><w>,</w><w>Plotly</w><w>graphs</w><w>will</w><w>be</w><w>displayed</w><w>as</w><w>static</w><w>images</w><pc>.</pc><w>To</w><w>access</w><w>their</w><w>interactive</w><w>features</w><w>,</w><w>either</w><w>click</w><w>on</w><w>the</w><w>image</w><w>or</w><w>the</w><w>link</w><w>in</w><w>the</w><w>caption</w><w>below</w><w>the</w><w>image</w><pc>.</pc></emph></p></div><div type="3" n="1.4"><head><s xml:id="s_OftByP"><w>Plotly</w><w>'s</w><w>Python</w><w>Graphing</w><w>Library</w><w>:</w><w>Plotly</w><w>Express</w><w>vs.</w><w>Plotly</w><w>Graph</w><w>Objects</w><w>vs.</w><w>Plotly</w><w>Dash</w></s></head><p><s xml:id="s_LUTJuy"><w>To</w><w>understand</w><w>how</w><w>to</w><w>use</w><w>Plotly</w><w>,</w><w>it</w><w>is</w><w>vital</w><w>to</w><w>understand</w><w>the</w><w>differences</w><w>between</w><w>Plotly</w><w>Express</w><w>,</w><w>Plotly</w><w>Graph</w><w>Objects</w><w>,</w><w>and</w><w>Plotly</w><w>Dash</w><pc>.</pc></s></p><p><s xml:id="s_msgIGH"><w>Essentially</w><w>,</w><w>these</w><w>are</w><w>three</w><w>distinct</w><w>—</w><w>but</w><w>often</w><w>overlapping</w><w>—</w><w>Plotly</w><w>modules</w><w>with</w><w>their</w><w>own</w><w>use</w><w>cases</w><w>:</w></s></p><list type="unordered"><item><s xml:id="s_KbxoJy"><w>Plotly</w><w>Express</w><w>(</w><code rend="inline"><w>plotly.express</w></code><w>,</w><w>usually</w><w>imported</w><w>as</w><code rend="inline"><w>px</w></code><w>)</w><w>is</w><w>an</w><w>accessible</w><w>,</w><w>high-level</w><w>interface</w><w>for</w><w>creating</w><w>data</w><w>visualizations</w><w>,</w><w>offering</w><w>around</w><w>30</w><w>different</w><w>graph</w><w>types</w><pc>.</pc></s><s xml:id="s_pm3edx"><w>The</w><w>module</w><w>provides</w><w>functions</w><w>which</w><w>create</w><w>figures</w><w>in</w><w>just</w><w>one</w><w>line</w><w>of</w><w>code</w><w>(</w><w>although</w><w>more</w><w>lines</w><w>are</w><w>required</w><w>for</w><w>certain</w><w>customizations</w><w>)</w><w>,</w><w>making</w><w>graphs</w><w>quick</w><w>and</w><w>easy</w><w>to</w><w>create</w><pc>.</pc></s><s xml:id="s_IEA19y"><w>Since</w><w>this</w><w>is</w><w>a</w><w>'high-level</w><w>'</w><w>interface</w><w>,</w><w>users</w><w>do</w><w>not</w><w>need</w><w>to</w><w>interact</w><w>with</w><w>the</w><w>underlying</w><w>data</w><w>structure</w><w>of</w><w>graphs</w><w>when</w><w>using</w><code rend="inline"><w>plotly.px</w></code><pc>.</pc></s><s xml:id="s_JoESb5"><w>Plotly</w><w>recommends</w><w>that</w><w>new</w><w>users</w><w>start</w><w>with</w><w>Express</w><w>before</w><w>working</w><w>directly</w><w>with</w><w>Plotly</w><w>Graph</w><w>Objects</w><pc>.</pc></s></item><item><s xml:id="s_nerXhH"><w>Plotly</w><w>Graph</w><w>Objects</w><w>(</w><code rend="inline"><w>plotly.graph_objects</w></code><w>,</w><w>usually</w><w>imported</w><w>as</w><code rend="inline"><w>go</w></code><w>)</w><w>are</w><w>the</w><w>actual</w><w>figures</w><w>created</w><w>and</w><w>rendered</w><w>by</w><w>Plotly</w><w>'under</w><w>the</w><w>hood</w><w>'</w><w>:</w><w>in</w><w>essence</w><w>,</w><w>when</w><w>a</w><w>user</w><w>creates</w><w>a</w><w>figure</w><w>in</w><code rend="inline"><w>plotly.px</w></code><w>,</w><w>Plotly</w><w>will</w><w>generate</w><w>a</w><w>'Graph</w><w>Object</w><w>'</w><w>to</w><w>store</w><w>the</w><w>graph</w><w>'s</w><w>data</w><pc>.</pc></s><s xml:id="s_lzRmpz"><w>These</w><w>data</w><w>include</w><w>the</w><w>information</w><w>visualized</w><w>in</w><w>the</w><w>graph</w><w>as</w><w>well</w><w>as</w><w>various</w><w>attributes</w><w>such</w><w>as</w><w>graph</w><w>colors</w><w>,</w><w>sizes</w><w>,</w><w>and</w><w>shapes</w><pc>.</pc></s><s xml:id="s_F4NDVn"><w>It</w><w>is</w><w>therefore</w><w>possible</w><w>to</w><w>create</w><w>visualizations</w><w>with</w><w>the</w><w>lower-level</w><code rend="inline"><w>plotly.go</w></code><w>module</w><w>;</w><w>in</w><w>fact</w><w>,</w><w>it</w><w>is</w><w>possible</w><w>to</w><w>recreate</w><w>anything</w><w>made</w><w>with</w><code rend="inline"><w>plotly.px</w></code><w>using</w><code rend="inline"><w>plotly.go</w></code><pc>.</pc></s><s xml:id="s_mKta6I"><w>It</w><w>is</w><w>generally</w><w>advised</w><w>to</w><w>use</w><code rend="inline"><w>plotly.px</w></code><w>where</w><w>possible</w><w>,</w><w>since</w><w>using</w><code rend="inline"><w>plotly.go</w></code><w>often</w><w>involves</w><w>generating</w><w>many</w><w>lines</w><w>of</w><w>code</w><pc>.</pc></s><s xml:id="s_pckMMA"><w>However</w><w>,</w><w>as</w><w>we</w><w>will</w><w>see</w><w>later</w><w>,</w><w>there</w><w>are</w><w>some</w><w>specific</w><w>use</w><w>cases</w><w>for</w><code rend="inline"><w>plotly.go</w></code><pc>.</pc></s></item><item><s xml:id="s_bhThuN"><w>The</w><w>Plotly</w><w>Dash</w><w>module</w><w>(</w><w>imported</w><w>as</w><code rend="inline"><w>dash</w></code><w>)</w><w>is</w><w>a</w><w>framework</w><w>for</w><w>building</w><w>interactive</w><w>web</w><w>applications</w><w>(</w><w>typically</w><w>dashboards</w><w>)</w><w>which</w><w>can</w><w>be</w><w>embedded</w><w>into</w><w>websites</w><w>and</w><w>other</w><w>platforms</w><pc>.</pc></s><s xml:id="s_Eq2no6"><w>Users</w><w>often</w><w>integrate</w><w>figures</w><w>created</w><w>using</w><code rend="inline"><w>plotly.px</w></code><w>and/or</w><code rend="inline"><w>plotly.go</w></code><w>into</w><w>their</w><w>Dash</w><w>apps</w><w>,</w><w>making</w><w>the</w><w>Plotly</w><w>Python</w><w>stack</w><w>a</w><w>full</w><w>suite</w><w>for</w><w>creating</w><w>,</w><w>manipulating</w><w>,</w><w>and</w><w>publishing</w><w>interactive</w><w>data</w><w>visualizations</w><pc>.</pc></s><s xml:id="s_gdly3y"><w>Plotly</w><w>Dash</w><w>is</w><w>built</w><w>on</w><w>top</w><w>of</w><code rend="inline"><w>React.js</w></code><w>and</w><code rend="inline"><w>Plotly.js</w></code><w>to</w><w>enable</w><w>integration</w><w>with</w><w>the</w><w>web</w><w>,</w><w>meaning</w><w>that</w><w>users</w><w>do</w><w>not</w><w>need</w><w>to</w><w>have</w><w>any</w><w>knowledge</w><w>of</w><w>Javascript</w><w>,</w><w>CSS</w><w>or</w><w>HTML</w><w>(</w><w>only</w><w>Python</w><w>)</w><pc>.</pc></s><ref type="footnotemark" target="#en_note_2"/></item></list><p><s xml:id="s_PLkIfc"><w>Plotly</w><w>provides</w><w>comprehensive</w><w>documentation</w><w>for</w><w>working</w><w>with</w><ref target="https://perma.cc/94J3-8LAS"><w>Express</w><w>and</w><w>Graph</w><w>Objects</w></ref><w>and</w><w>for</w><w>using</w><ref target="https://perma.cc/E7S3-6W3H"><w>Dash</w></ref><pc>.</pc></s></p></div><div type="3" n="1.5"><head><s xml:id="s_lOKxBq"><w>Why</w><w>Plotly</w><pc>?</pc></s></head><p><s xml:id="s_szdOma"><w>There</w><w>are</w><w>currently</w><w>a</w><w>plethora</w><w>of</w><w>graphing</w><w>libraries</w><w>available</w><w>to</w><w>Python</w><w>users</w><w>,</w><w>including</w><ref target="https://perma.cc/N3Y9-CPWN"><w>Matplotlib</w></ref><w>,</w><ref target="https://perma.cc/3AQL-5H6C"><w>Seaborn</w></ref><w>,</w><ref target="https://perma.cc/L2MP-43BL"><w>Bokeh</w></ref><w>and</w><ref target="https://perma.cc/UZM9-2LBE"><w>Pygal</w></ref><pc>.</pc></s><s xml:id="s_7iRnge"><w>With</w><w>so</w><w>many</w><w>options</w><w>to</w><w>choose</w><w>from</w><w>,</w><w>users</w><w>will</w><w>need</w><w>to</w><w>select</w><w>one</w><w>library</w><w>over</w><w>another</w><pc>.</pc></s><s xml:id="s_J7ExzU"><w>Factors</w><w>such</w><w>as</w><w>use</w><w>case</w><w>,</w><w>stylistic</w><w>taste</w><w>,</w><w>and</w><w>ease</w><w>of</w><w>use</w><w>will</w><w>be</w><w>important</w><w>here</w><w>,</w><w>with</w><w>each</w><w>library</w><w>having</w><w>its</w><w>own</w><w>merits</w><pc>.</pc></s><s xml:id="s_LFFNVW"><w>Some</w><w>of</w><w>the</w><w>notable</w><w>advantages</w><w>of</w><w>working</w><w>with</w><w>Plotly</w><w>include</w><w>:</w></s></p><list type="unordered"><item><s xml:id="s_gL0WKV"><w>Plotly</w><w>is</w><w>one</w><w>of</w><w>the</w><w>only</w><w>packages</w><w>to</w><w>be</w><w>directed</w><w>at</w><w>interactive</w><w>graphs</w><w>:</w><w>options</w><w>such</w><w>as</w><w>Matplotlib</w><w>and</w><w>Pygal</w><w>provide</w><w>only</w><w>limited</w><w>interactivity</w><w>(</w><w>although</w><w>Bokeh</w><w>is</w><w>also</w><w>designed</w><w>for</w><w>interactivity</w><w>and</w><w>is</w><w>a</w><w>viable</w><w>alternative</w><w>)</w><ref type="footnotemark" target="#en_note_3"/></s></item><item><s xml:id="s_5o8rz1"><w>Plotly</w><w>is</w><w>the</w><w>only</w><w>Python</w><w>graphing</w><w>suite</w><w>which</w><w>facilitates</w><w>both</w><w>the</w><w>creation</w><w>of</w><w>graphs</w><w>and</w><w>the</w><w>integration</w><w>of</w><w>these</w><w>graphs</w><w>within</w><w>web</w><w>apps</w></s></item><item><s xml:id="s_uONr7U"><w>Plotly</w><w>has</w><w>easy</w><w>(</w><w>seamless</w><w>)</w><w>integration</w><w>with</w><w>pandas</w><w>(</w><w>for</w><w>example</w><w>,</w><w>DataFrames</w><w>can</w><w>be</w><w>added</w><w>directly</w><w>into</w><w>graph</w><w>objects</w><w>)</w></s></item><item><s xml:id="s_qjHgeV"><w>Interactive</w><w>3D</w><w>graphs</w><w>are</w><w>available</w><w>(</w><w>typically</w><w>not</w><w>available</w><w>in</w><w>other</w><w>libraries</w><w>)</w></s></item><item><s xml:id="s_jHtyOJ"><w>Plotly</w><w>is</w><w>simple</w><w>to</w><w>use</w><w>(</w><w>adding</w><w>features</w><w>like</w><w>animation</w><w>and</w><w>dropdown</w><w>bars</w><w>is</w><w>relatively</w><w>easy</w><w>)</w></s></item></list></div></div><div type="2" n="2"><head><s xml:id="s_UkO37e"><w>Sample</w><w>Dataset</w></s></head><p><s xml:id="s_MYVozX"><w>The</w><w>dataset</w><w>for</w><w>this</w><w>lesson</w><w>is</w><w>a</w><w>subset</w><w>of</w><w>Roger</w><w>Lane</w><w>'s</w><ref target="https://perma.cc/93XS-LFG4"><w>'Homicides</w><w>in</w><w>Philadelphia</w><w>,</w><w>1839-1932</w><w>'</w><w>dataset</w></ref><ref type="footnotemark" target="#en_note_4"/><w>,</w><w>covering</w><w>only</w><w>the</w><w>years</w><w>1902-1932</w><pc>.</pc></s><s xml:id="s_49swIP"><w>If</w><w>you</w><w>wish</w><w>to</w><w>work</w><w>along</w><w>with</w><w>this</w><w>lesson</w><w>,</w><w>you</w><w>can</w><ref target="/assets/interactive-visualization-with-plotly/sample-dataset-philadelphia-homicides-1902-1932.csv"><w>download</w><w>this</w><w>particular</w><w>dataset</w><w>directly</w></ref><pc>.</pc></s><s xml:id="s_pAWh08"><w>(</w><w>The</w><w>corresponding</w><w>'Philadelphia</w><w>homicide</w><w>codebook</w><w>1902-1932</w><w>'</w><w>document</w><w>was</w><w>also</w><w>consulted</w><w>to</w><w>verify</w><w>variables</w><w>in</w><w>the</w><w>dataset</w><w>but</w><w>is</w><w>not</w><w>required</w><w>for</w><w>completing</w><w>this</w><w>lesson</w><pc>.</pc></s><s xml:id="s_ynhAbK"><w>)</w><w>As</w><w>its</w><w>title</w><w>suggests</w><w>,</w><w>the</w><w>dataset</w><w>records</w><w>homicides</w><w>which</w><w>occurred</w><w>in</w><w>Philadelphia</w><w>in</w><w>the</w><w>early</w><w>twentieth</w><w>century</w><pc>.</pc></s><s xml:id="s_HEsntO"><w>It</w><w>is</w><w>informed</w><w>by</w><w>arrest</w><w>reports</w><w>filed</w><w>by</w><w>the</w><w>Philadephia</w><w>police</w><w>and</w><w>covers</w><w>the</w><w>years</w><w>1902</w><w>,</w><w>1908</w><w>,</w><w>1914</w><w>,</w><w>1920</w><w>,</w><w>1926</w><w>,</w><w>and</w><w>1932</w><pc>.</pc></s><s xml:id="s_LOhqnJ"><w>In</w><w>its</w><w>downloaded</w><w>format</w><w>,</w><w>the</w><w>dataset</w><w>contains</w><w>26</w><w>columns</w><w>and</w><w>717</w><w>rows</w><w>,</w><w>although</w><w>we</w><w>will</w><w>be</w><w>scaling</w><w>this</w><w>down</w><pc>.</pc></s></p></div><div type="2" n="3"><head><s xml:id="s_l72GD0"><w>Building</w><w>Graphs</w><w>with</w><w>Plotly</w><w>Express</w></s></head><div type="3" n="3.1"><head><s xml:id="s_Hot2ZX"><w>Setting</w><w>Up</w><w>Plotly</w><w>Express</w></s></head><list type="ordered"><item><p><s xml:id="s_REq84j"><w>Before</w><w>starting</w><w>,</w><w>you</w><w>will</w><w>need</w><w>to</w><w>install</w><w>three</w><w>modules</w><w>to</w><w>your</w><w>environment</w><w>:</w><ref type="footnotemark" target="#en_note_5"/></s></p><list type="unordered"><item><s xml:id="s_Qpqmnj"><w>Plotly</w><w>(</w><w>using</w><w>the</w><w>terminal</w><w>command</w><code rend="inline"><w>pip</w><w>install</w><w>plotly</w></code><w>)</w></s></item><item><s xml:id="s_RBNXtK"><w>pandas</w><w>(</w><w>using</w><w>the</w><w>terminal</w><w>command</w><code rend="inline"><w>pip</w><w>install</w><w>pandas</w></code><w>)</w><ref type="footnotemark" target="#en_note_6"/></s></item><item><s xml:id="s_mFgf5N"><w>Kaleido</w><w>(</w><w>using</w><w>the</w><w>terminal</w><w>command</w><code rend="inline"><w>pip</w><w>install</w><w>kaleido</w></code><w>)</w><ref type="footnotemark" target="#en_note_7"/></s></item></list></item><item><p><s xml:id="s_j4bQmq"><w>With</w><w>these</w><w>packages</w><w>installed</w><w>,</w><w>create</w><w>a</w><w>new</w><w>Jupyter</w><w>notebook</w><w>(</w><w>or</w><w>a</w><w>new</w><w>Python</w><w>file</w><w>in</w><w>your</w><w>chosen</w><w>code</w><w>editor</w><w>)</w><pc>.</pc></s><s xml:id="s_oAgncR"><w>Ideally</w><w>,</w><w>your</w><w>notebook</w><w>should</w><w>be</w><w>stored</w><w>in</w><w>the</w><w>same</w><w>folder</w><w>as</w><w>the</w><w>downloaded</w><w>sample</w><w>dataset</w><pc>.</pc></s></p></item><item><p><s xml:id="s_9EiwMv"><code rend="inline"><w>import</w></code><w>these</w><w>modules</w><w>at</w><w>the</w><w>start</w><w>of</w><w>your</w><w>new</w><w>notebook</w><w>:</w></s></p></item></list><ab><code lang="language-python" xml:id="code_interactive-visualization-with-plotly_0" corresp="code_interactive-visualization-with-plotly_0.txt" rend="block"/></ab></div><div type="3" n="3.2"><head><s xml:id="s_99wOai"><w>Importing</w><w>and</w><w>Cleaning</w><w>Data</w></s></head><p><s xml:id="s_mImoPy"><w>Next</w><w>,</w><w>we</w><w>will</w><w>import</w><w>and</w><w>clean</w><w>the</w><w>Philadelphia</w><w>homicide</w><w>dataset</w><w>using</w><w>pandas</w><pc>.</pc></s><s xml:id="s_LiwmIn"><w>This</w><w>will</w><w>involve</w><w>:</w></s></p><list type="unordered"><item><s xml:id="s_ZZvosz"><w>Importing</w><w>only</w><w>the</w><w>required</w><w>columns</w><w>from</w><w>our</w><w>dataset</w></s></item><item><s xml:id="s_ICXVAV"><w>Replacing</w><w>any</w><w>missing</w><w>numeric</w><w>values</w><w>as</w><w>a</w><w>NumPy</w><w>'non-number</w><w>'</w><w>(</w><w>the</w><code rend="inline"><w>NaN</w></code><w>data</w><w>type</w><w>)</w></s></item><item><s xml:id="s_ACbEqr"><w>Relabeling</w><w>and</w><w>removing</w><w>certain</w><w>data</w><w>points</w><w>for</w><w>clarity</w><w>and</w><w>accuracy</w></s></item></list><ab><code lang="language-python" xml:id="code_interactive-visualization-with-plotly_1" corresp="code_interactive-visualization-with-plotly_1.txt" rend="block"/></ab></div><div type="3" n="3.3"><head><s xml:id="s_Zj7PtF"><w>Bar</w><w>Charts</w></s></head><p><s xml:id="s_u8vSgt"><w>Now</w><w>that</w><w>we</w><w>'ve</w><w>created</w><w>a</w><w>pandas</w><code rend="inline"><w>DataFrame</w></code><w>for</w><w>our</w><w>historical</w><w>homicide</w><w>data</w><w>,</w><w>we</w><w>can</w><w>start</w><w>building</w><w>some</w><w>basic</w><w>graphs</w><w>using</w><w>Plotly</w><w>Express</w><pc>.</pc></s><s xml:id="s_F5yPD9"><w>Let</w><w>'s</w><w>begin</w><w>by</w><w>creating</w><w>a</w><w>bar</w><w>chart</w><w>to</w><w>represent</w><w>the</w><w>count</w><w>of</w><w>prosecutions</w><w>per</w><w>type</w><w>of</w><w>crime</w><pc>.</pc></s><s xml:id="s_UDn3Qa"><w>Since</w><w>our</w><w>existing</w><w>dataset</w><w>does</w><w>not</w><w>contain</w><w>counts</w><w>of</w><w>offences</w><w>(</w><w>each</w><w>row</w><w>represents</w><w>one</w><w>individual</w><w>prosecution</w><w>)</w><w>,</w><w>we</w><w>will</w><w>first</w><w>need</w><w>to</w><w>create</w><w>a</w><w>new</w><code rend="inline"><w>DataFrame</w></code><w>which</w><w>groups</w><w>cases</w><w>by</w><w>offence</w><w>type</w><w>and</w><w>provides</w><w>a</w><w>count</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_interactive-visualization-with-plotly_2" corresp="code_interactive-visualization-with-plotly_2.txt" rend="block"/></ab><p><s xml:id="s_GnV5o4"><w>The</w><w>next</w><w>step</w><w>is</w><w>to</w><w>create</w><w>the</w><w>bar</w><w>chart</w><w>using</w><w>this</w><w>new</w><code rend="inline"><w>phl_by_charge</w></code><w>dataset</w><pc>.</pc></s><s xml:id="s_cuVgle"><w>Notice</w><w>that</w><w>the</w><w>graph</w><w>has</w><w>been</w><w>saved</w><w>to</w><w>the</w><w>variable</w><code rend="inline"><w>fig</w></code><w>,</w><w>which</w><w>is</w><w>a</w><w>common</w><w>convention</w><w>when</w><w>working</w><w>with</w><w>Plotly</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_interactive-visualization-with-plotly_3" corresp="code_interactive-visualization-with-plotly_3.txt" rend="block"/></ab><figure><figDesc><s xml:id="s_UdcQRJ"><w>Bar</w><w>graph</w><w>plotting</w><w>Charge</w><w>on</w><w>the</w><w>x</w><w>axis</w><w>,</w><w>against</w><w>Size</w><w>on</w><w>the</w><w>y</w><w>axis</w><pc>.</pc></s><s xml:id="s_ZIMo4s"><w>The</w><w>Charges</w><w>are</w><w>Abortion</w><w>,</w><w>Manslaughter</w><w>and</w><w>Murder</w><w>,</w><w>and</w><w>the</w><w>Sizes</w><w>range</w><w>from</w><w>0</w><w>to</w><w>500</w><pc>.</pc></s></figDesc><graphic url="/images/interactive-visualization-with-plotly/en-or-interactive-visualization-with-plotly-01.png"/><desc><s xml:id="s_WyfnqX"><w>Figure</w><w>1</w><pc>.</pc></s><s xml:id="s_1LBxus"><w>Simple</w><w>bar</w><w>graph</w><w>with</w><w>basic</w><w>interactivity</w><w>created</w><w>using</w><w>Plotly</w><w>Express</w><pc>.</pc></s><s xml:id="s_ZZuPuq"><w>If</w><w>readers</w><w>hover</w><w>over</w><w>the</w><w>bars</w><w>,</w><w>they</w><w>will</w><w>notice</w><w>floating</w><w>labels</w><w>appear</w><pc>.</pc></s><ref target="/assets/interactive-visualization-with-plotly/interactive-visualization-with-plotly-01.html"><w>Click</w><w>to</w><w>explore</w><w>an</w><w>interactive</w><w>variant</w><w>of</w><w>this</w><w>plot</w></ref><pc>.</pc></desc></figure><p><s xml:id="s_fv73hN"><w>So</w><w>we</w><w>have</w><w>our</w><w>first</w><code rend="inline"><w>px</w></code><w>graph</w><pc>!</pc></s><s xml:id="s_oChUYB"><w>Notice</w><w>that</w><w>this</w><w>graph</w><w>already</w><w>has</w><w>some</w><w>interactivity</w><w>:</w><w>hovering</w><w>over</w><w>each</w><w>bar</w><w>will</w><w>specify</w><w>its</w><w>crime</w><w>type</w><w>and</w><w>prosecution</w><w>count</w><pc>.</pc></s><s xml:id="s_zsySBt"><w>Another</w><w>notable</w><w>feature</w><w>is</w><w>that</w><w>users</w><w>can</w><w>easily</w><w>save</w><w>this</w><w>graph</w><w>(</w><w>as</w><w>a</w><w>static</w><w>image</w><w>)</w><w>by</w><w>navigating</w><w>to</w><w>the</w><w>top-right</w><w>corner</w><w>and</w><w>clicking</w><w>on</w><w>the</w><w>camera</w><w>icon</w><w>to</w><w>download</w><w>the</w><w>plot</w><w>as</w><w>a</w><code rend="inline"><w>.png</w></code><w>file</w><pc>.</pc></s><s xml:id="s_WgG7Uq"><w>In</w><w>this</w><w>same</w><w>corner</w><w>,</w><w>users</w><w>have</w><w>the</w><w>option</w><w>to</w><w>zoom</w><w>,</w><w>pan</w><w>,</w><w>autoscale</w><w>or</w><w>reset</w><w>their</w><w>view</w><w>of</w><w>the</w><w>plot</w><pc>.</pc></s><s xml:id="s_qoMfse"><w>These</w><w>features</w><w>are</w><w>available</w><w>throughout</w><w>all</w><w>the</w><w>following</w><w>Plotly</w><w>visualizations</w><pc>.</pc></s></p><p><s xml:id="s_WGF4Bl"><w>However</w><w>,</w><w>this</w><w>is</w><w>n't</w><w>the</w><w>most</w><w>visually</w><w>appealing</w><w>graph</w><w>:</w><w>it</w><w>could</w><w>use</w><w>a</w><w>title</w><w>,</w><w>some</w><w>colors</w><w>,</w><w>and</w><w>a</w><w>clearer</w><w>y-axis</w><w>label</w><pc>.</pc></s><s xml:id="s_V6FDgg"><w>We</w><w>could</w><w>have</w><w>done</w><w>this</w><w>when</w><w>we</w><w>initially</w><w>created</w><w>the</w><w>bar</w><w>chart</w><w>by</w><w>passing</w><w>additional</w><w>arguments</w><w>into</w><w>the</w><code rend="inline"><w>.bar</w><w>(</w><w>)</w></code><w>method</w><pc>.</pc></s><s xml:id="s_zABMGo"><w>We</w><w>can</w><w>use</w><w>the</w><code rend="inline"><w>labels</w></code><w>argument</w><w>to</w><w>change</w><w>the</w><w>y-axis</w><w>labels</w><w>from</w><w>'size</w><w>'</w><w>to</w><w>'Count</w><w>'</w><w>and</w><w>the</w><code rend="inline"><w>color</w></code><w>argument</w><w>to</w><w>color</w><w>the</w><w>bars</w><w>according</w><w>to</w><w>a</w><w>given</w><w>variable</w><w>(</w><w>in</w><w>this</w><w>example</w><w>,</w><w>we</w><w>will</w><w>use</w><w>the</w><w>crime</w><w>type</w><w>,</w><w>'Charge</w><w>'</w><w>)</w><pc>.</pc></s><s xml:id="s_xbjD6B"><w>To</w><w>add</w><w>a</w><w>title</w><w>,</w><w>uncomment</w><w>the</w><code rend="inline"><w>title</w></code><w>argument</w><w>in</w><w>the</w><w>code</w><w>below</w><w>and</w><w>add</w><w>a</w><w>title</w><w>of</w><w>your</w><w>choice</w><pc>.</pc></s></p><ab><code lang="language-python" xml:id="code_interactive-visualization-with-plotly_4" corresp="code_interactive-visualization-with-plotly_4.txt" rend="block"/></ab><figure><figDesc><s xml:id="s_1Z1JQq"><w>Bar</w><w>graph</w><w>plotting</w><w>Charge</w><w>on</w><w>the</w><w>x</w><w>axis</w><w>,</w><w>against</w><w>Count</w><w>on</w><w>the</w><w>y</w><w>axis</w><pc>.</pc></s><s xml:id="s_JKxn4X"><w>The</w><w>Charges</w><w>are</w><w>Abortion</w><w>,</w><w>Manslaughter</w><w>and</w><w>Murder</w><w>,</w><w>and</w><w>the</w><w>Counts</w><w>range</w><w>from</w><w>0</w><w>to</w><w>500</w><pc>.</pc></s><s xml:id="s_R6TqCk"><w>Each</w><w>bar</w><w>now</w><w>has</w><w>its</w><w>own</w><w>different</w><w>color</w><pc>.</pc></s><s xml:id="s_5pygji"><w>The</w><w>graph</w><w>also</w><w>features</w><w>a</w><w>legend</w><w>which</w><w>defines</w><w>its</w><w>color</w><w>attributes</w><pc>.</pc></s></figDesc><graphic url="/images/interactive-visualization-with-plotly/en-or-interactive-visualization-with-plotly-02.png"/><desc><s xml:id="s_oCiLjf"><w>Figure</w><w>2</w><pc>.</pc></s><s xml:id="s_1F11Io"><w>Simple</w><w>bar</w><w>graph</w><w>with</w><w>basic</w><w>interactivity</w><w>created</w><w>using</w><w>Plotly</w><w>Express</w><pc>.</pc></s><s xml:id="s_sWS0JA"><w>This</w><w>plot</w><w>is</w><w>a</w><w>variant</w><w>of</w><w>that</w><w>produced</w><w>in</w><w>Figure</w><w>1</w><w>,</w><w>now</w><w>featuring</w><w>color</w><w>attributes</w><w>as</w><w>well</w><w>as</w><w>an</w><w>interactive</w><w>legend</w><w>which</w><w>allows</w><w>readers</w><w>to</w><w>isolate</w><w>or</w><w>remove</w><w>data</w><w>points</w><pc>.</pc></s><ref target="/assets/interactive-visualization-with-plotly/interactive-visualization-with-plotly-02.html"><w>Click</w><w>to</w><w>explore</w><w>an</w><w>interactive</w><w>variant</w><w>of</w><w>this</w><w>plot</w></ref><pc>.</pc></desc></figure><p><s xml:id="s_D4s16U"><w>As</w><w>demonstrated</w><w>above</w><w>,</w><w>Plotly</w><w>will</w><w>automatically</w><w>add</w><w>a</w><w>legend</w><w>to</w><w>the</w><w>graph</w><w>if</w><w>you</w><w>are</w><w>dividing</w><w>attributes</w><w>by</w><w>color</w><w>(</w><w>this</w><w>can</w><w>be</w><w>avoided</w><w>if</w><w>desired</w><w>)</w><pc>.</pc></s><s xml:id="s_i5DfZv"><w>The</w><w>legend</w><w>is</w><w>also</w><w>interactive</w><w>:</w><w>clicking</w><w>once</w><w>on</w><w>an</w><w>element</w><w>will</w><w>remove</w><w>its</w><w>corresponding</w><w>bar</w><w>from</w><w>the</w><w>graph</w><w>;</w><w>double-clicking</w><w>on</w><w>an</w><w>element</w><w>will</w><w>isolate</w><w>all</w><w>others</w><pc>.</pc></s></p></div><div type="3" n="3.4"><head><s xml:id="s_97XnvL"><w>Line</w><w>Graphs</w></s></head><p><s xml:id="s_vPPiHW"><w>Let</w><w>'s</w><w>move</w><w>on</w><w>to</w><w>creating</w><w>a</w><w>line</w><w>graph</w><pc>.</pc></s><s xml:id="s_tz4Xw7"><w>As</w><w>a</w><w>general</w><w>rule</w><w>,</w><w>Plotly</w><w>Express</w><w>graphs</w><w>are</w><w>created</w><w>using</w><w>the</w><w>syntax</w><code rend="inline"><w>px.somegraph</w><w>(</w><w>)</w></code><w>,</w><w>where</w><code rend="inline"><w>somegraph</w></code><w>represents</w><w>the</w><w>graph</w><w>being</w><w>created</w><pc>.</pc></s><s xml:id="s_ly1iL9"><w>While</w><w>we</w><w>used</w><w>the</w><w>syntax</w><code rend="inline"><w>px.bar</w><w>(</w><w>)</w></code><w>to</w><w>create</w><w>a</w><w>bar</w><w>chart</w><w>,</w><w>we</w><w>will</w><w>use</w><code rend="inline"><w>px.line</w><w>(</w><w>)</w></code><w>to</w><w>create</w><w>a</w><w>line</w><w>graph</w><pc>.</pc></s><s xml:id="s_IPMC9b"><w>The</w><w>exact</w><w>term</w><w>needed</w><w>for</w><w>each</w><w>graph</w><w>type</w><w>can</w><w>be</w><w>found</w><w>via</w><w>the</w><ref target="https://perma.cc/U4N7-2VM5"><w>Plotly</w><w>documentation</w></ref><pc>.</pc></s></p><p><s xml:id="s_WjeB7Y"><w>Our</w><w>line</w><w>graph</w><w>will</w><w>illustrate</w><w>changes</w><w>in</w><w>prosecution</w><w>rates</w><w>per</w><w>crime</w><w>type</w><w>over</w><w>the</w><w>research</w><w>period</w><pc>.</pc></s><s xml:id="s_MvMx4d"><w>As</w><w>before</w><w>,</w><w>we</w><w>will</w><w>need</w><w>to</w><w>create</w><w>a</w><w>new</w><code rend="inline"><w>DataFrame</w></code><w>which</w><w>groups</w><w>cases</w><w>both</w><w>by</w><w>year</w><w>and</w><w>offence</w><w>type</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_interactive-visualization-with-plotly_5" corresp="code_interactive-visualization-with-plotly_5.txt" rend="block"/></ab><p><s xml:id="s_iAaDrf"><w>Next</w><w>,</w><w>we</w><w>will</w><w>create</w><w>a</w><w>line</w><w>graph</w><w>using</w><w>the</w><code rend="inline"><w>.line</w><w>(</w><w>)</w></code><w>method</w><w>and</w><w>will</w><w>use</w><w>the</w><code rend="inline"><w>labels</w></code><w>and</w><code rend="inline"><w>color</w></code><w>keywords</w><w>to</w><w>add</w><w>some</w><w>formatting</w><pc>.</pc></s><s xml:id="s_jJtRlb"><w>Again</w><w>,</w><w>uncomment</w><w>the</w><code rend="inline"><w>title</w></code><w>argument</w><w>in</w><w>the</w><w>code</w><w>below</w><w>(</w><w>and</w><w>in</w><w>subsequent</w><w>code</w><w>samples</w><w>)</w><w>if</w><w>you</w><w>wish</w><w>to</w><w>add</w><w>a</w><w>title</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_interactive-visualization-with-plotly_6" corresp="code_interactive-visualization-with-plotly_6.txt" rend="block"/></ab><figure><figDesc><s xml:id="s_9ttSBA"><w>Line</w><w>graph</w><w>plotting</w><w>Charges</w><w>over</w><w>time</w><pc>.</pc></s><s xml:id="s_27FA5S"><w>The</w><w>x</w><w>axis</w><w>is</w><w>labeled</w><w>with</w><w>Years</w><w>1905</w><w>to</w><w>1930</w><w>,</w><w>while</w><w>the</w><w>y</w><w>axis</w><w>is</w><w>labeled</w><w>with</w><w>Count</w><w>from</w><w>0</w><w>to</w><w>180</w><pc>.</pc></s><s xml:id="s_tQ5t3I"><w>The</w><w>Charges</w><w>are</w><w>Abortion</w><w>,</w><w>Manslaughter</w><w>and</w><w>Murder</w><w>,</w><w>and</w><w>the</w><w>Counts</w><w>range</w><w>from</w><w>0</w><w>to</w><w>180</w><pc>.</pc></s><s xml:id="s_RkL1ne"><w>The</w><w>graph</w><w>also</w><w>features</w><w>a</w><w>legend</w><w>which</w><w>defines</w><w>its</w><w>color</w><w>attributes</w><pc>.</pc></s></figDesc><graphic url="/images/interactive-visualization-with-plotly/en-or-interactive-visualization-with-plotly-03.png"/><desc><s xml:id="s_BXhEuz"><w>Figure</w><w>3</w><pc>.</pc></s><s xml:id="s_ZBfbGA"><w>Simple</w><w>line</w><w>graph</w><w>with</w><w>basic</w><w>interactivity</w><w>created</w><w>using</w><w>Plotly</w><w>Express</w><pc>.</pc></s><s xml:id="s_mxDtuI"><w>Hovering</w><w>over</w><w>the</w><w>lines</w><w>at</w><w>plot</w><w>points</w><w>invokes</w><w>a</w><w>floating</w><w>label</w><pc>.</pc></s><ref target="/assets/interactive-visualization-with-plotly/interactive-visualization-with-plotly-03.html"><w>Click</w><w>to</w><w>explore</w><w>an</w><w>interactive</w><w>variant</w><w>of</w><w>this</w><w>plot</w></ref><pc>.</pc></desc></figure><p><s xml:id="s_r7iGtQ"><w>We</w><w>have</w><w>now</w><w>learned</w><w>to</w><w>create</w><w>new</w><w>graphs</w><w>with</w><w>some</w><w>added</w><w>formatting</w><w>—</w><w>but</w><w>what</w><w>if</w><w>we</w><w>wanted</w><w>to</w><w>add</w><w>our</w><w>formatting</w><w>after</w><w>creating</w><w>the</w><w>graph</w><w>instead</w><pc>?</pc></s><s xml:id="s_CZg3Ce"><w>We</w><w>can</w><w>use</w><w>the</w><code rend="inline"><w>.update_layout</w><w>(</w><w>)</w></code><w>method</w><w>on</w><w>our</w><code rend="inline"><w>fig</w></code><w>object</w><w>to</w><w>edit</w><w>the</w><w>graph</w><w>at</w><w>a</w><w>later</w><w>stage</w><pc>.</pc></s><s xml:id="s_VpL0Dw"><w>This</w><w>method</w><w>can</w><w>be</w><w>applied</w><w>to</w><w>any</w><w>Plotly</w><w>Express</w><w>graph</w><w>and</w><w>accepts</w><w>a</w><w>very</w><w>wide</w><w>range</w><w>of</w><w>adjustable</w><w>parameters</w><pc>.</pc></s><s xml:id="s_njGnOD"><w>As</w><w>an</w><w>example</w><w>,</w><w>let</w><w>'s</w><w>use</w><w>this</w><w>method</w><w>to</w><w>update</w><w>our</w><w>font</w><w>family</w><w>,</w><w>font</w><w>colors</w><w>,</w><w>and</w><w>the</w><w>text</w><w>of</w><w>our</w><w>title</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_interactive-visualization-with-plotly_7" corresp="code_interactive-visualization-with-plotly_7.txt" rend="block"/></ab><figure><figDesc><s xml:id="s_EapKPA"><w>Line</w><w>graph</w><w>plotting</w><w>Charges</w><w>over</w><w>time</w><pc>.</pc></s><s xml:id="s_KsTcou"><w>The</w><w>x</w><w>axis</w><w>is</w><w>labeled</w><w>with</w><w>Years</w><w>1905</w><w>to</w><w>1930</w><w>,</w><w>while</w><w>the</w><w>y</w><w>axis</w><w>is</w><w>labeled</w><w>Count</w><w>from</w><w>0</w><w>to</w><w>180</w><pc>.</pc></s><s xml:id="s_2qTCEQ"><w>The</w><w>Charges</w><w>are</w><w>Abortion</w><w>,</w><w>Manslaughter</w><w>and</w><w>Murder</w><w>,</w><w>and</w><w>the</w><w>Counts</w><w>range</w><w>from</w><w>0</w><w>to</w><w>180</w><pc>.</pc></s><s xml:id="s_AokJyZ"><w>The</w><w>graph</w><w>also</w><w>features</w><w>a</w><w>legend</w><w>which</w><w>defines</w><w>its</w><w>color</w><w>attributes</w><w>and</w><w>an</w><w>embedded</w><w>title</w><w>,</w><w>which</w><w>reads</w><w>:</w><w>Fig</w><pc>.</pc></s><s xml:id="s_fQx2qM"><w>4</w><w>:</w><w>a</w><w>formatted</w><w>title</w><pc>!</pc></s></figDesc><graphic url="/images/interactive-visualization-with-plotly/en-or-interactive-visualization-with-plotly-04.png"/><desc><s xml:id="s_GGGSFQ"><w>Figure</w><w>4</w><pc>.</pc></s><s xml:id="s_FE8W0n"><w>Simple</w><w>line</w><w>graph</w><w>with</w><w>basic</w><w>interactivity</w><w>created</w><w>using</w><w>Plotly</w><w>Express</w><pc>.</pc></s><s xml:id="s_1d9kqc"><w>Hovering</w><w>over</w><w>the</w><w>lines</w><w>at</w><w>plot</w><w>points</w><w>invokes</w><w>a</w><w>floating</w><w>label</w><pc>.</pc></s><s xml:id="s_q9IO4V"><w>This</w><w>plot</w><w>is</w><w>a</w><w>variant</w><w>of</w><w>that</w><w>produced</w><w>in</w><w>Figure</w><w>3</w><w>,</w><w>now</w><w>featuring</w><w>updated</w><w>font</w><w>,</w><w>font</w><w>colors</w><w>,</w><w>and</w><w>an</w><w>embedded</w><w>figure</w><w>title</w><pc>.</pc></s><ref target="/assets/interactive-visualization-with-plotly/interactive-visualization-with-plotly-04.html"><w>Click</w><w>to</w><w>explore</w><w>an</w><w>interactive</w><w>variant</w><w>of</w><w>this</w><w>plot</w></ref><pc>.</pc></desc></figure></div><div type="3" n="3.5"><head><s xml:id="s_xeanhM"><w>Scatterplots</w></s></head><p><s xml:id="s_u2fXaB"><w>Scatterplots</w><w>,</w><w>commonly</w><w>used</w><w>for</w><w>visualizing</w><w>relationships</w><w>between</w><w>continuous</w><w>variables</w><w>,</w><w>can</w><w>be</w><w>created</w><w>with</w><w>Plotly</w><w>Express</w><w>using</w><w>the</w><code rend="inline"><w>.scatter</w><w>(</w><w>)</w></code><w>method</w><pc>.</pc></s><s xml:id="s_UQDB0w"><w>For</w><w>our</w><w>sample</w><w>dataset</w><w>,</w><w>it</w><w>might</w><w>be</w><w>appropriate</w><w>to</w><w>use</w><w>a</w><w>scatterplot</w><w>to</w><w>depict</w><w>the</w><w>relationship</w><w>between</w><w>victim</w><w>and</w><w>assailant</w><w>ages</w><pc>.</pc></s></p><ab><code lang="language-python" xml:id="code_interactive-visualization-with-plotly_8" corresp="code_interactive-visualization-with-plotly_8.txt" rend="block"/></ab><figure><figDesc><s xml:id="s_nLXpxZ"><w>Scatterplot</w><w>graph</w><w>plotting</w><w>the</w><w>Age</w><w>of</w><w>victims</w><w>and</w><w>accused</w><w>assailants</w><w>in</w><w>the</w><w>case</w><w>of</w><w>Charges</w><w>of</w><w>Abortion</w><w>,</w><w>Manslaughter</w><w>and</w><w>Murder</w><pc>.</pc></s><s xml:id="s_jU7NsF"><w>The</w><w>x</w><w>axis</w><w>is</w><w>labeled</w><w>Age</w><w>of</w><w>Accused</w><w>10</w><w>to</w><w>100</w><w>,</w><w>while</w><w>the</w><w>y</w><w>axis</w><w>is</w><w>labeled</w><w>Victim</w><w>Age</w><w>0</w><w>to</w><w>90</w><pc>.</pc></s><s xml:id="s_8DUfjv"><w>The</w><w>graph</w><w>'s</w><w>legend</w><w>defines</w><w>its</w><w>color</w><w>attributes</w><pc>.</pc></s></figDesc><graphic url="/images/interactive-visualization-with-plotly/en-or-interactive-visualization-with-plotly-05.png"/><desc><s xml:id="s_iHYm7i"><w>Figure</w><w>5</w><pc>.</pc></s><s xml:id="s_qE9Shj"><w>Simple</w><w>scatterplot</w><w>with</w><w>basic</w><w>interactivity</w><w>created</w><w>using</w><w>Plotly</w><w>Express</w><pc>.</pc></s><s xml:id="s_Er01By"><w>Readers</w><w>can</w><w>hover</w><w>over</w><w>individual</w><w>plot</w><w>points</w><w>to</w><w>invoke</w><w>floating</w><w>labels</w><pc>.</pc></s><s xml:id="s_bVyXey"><w>Additionally</w><w>,</w><w>an</w><w>interactive</w><w>legend</w><w>allows</w><w>isolation</w><w>,</w><w>comparison</w><w>or</w><w>removal</w><w>of</w><w>data</w><w>categories</w><pc>.</pc></s><ref target="/assets/interactive-visualization-with-plotly/interactive-visualization-with-plotly-05.html"><w>Click</w><w>to</w><w>explore</w><w>an</w><w>interactive</w><w>variant</w><w>of</w><w>this</w><w>plot</w></ref><pc>.</pc></desc></figure><p><s xml:id="s_YkxbtO"><w>As</w><w>you</w><w>can</w><w>see</w><w>,</w><w>scatterplots</w><w>also</w><w>contain</w><w>some</w><w>inherent</w><w>interactivity</w><w>:</w><w>hovering</w><w>over</w><w>a</w><w>unique</w><w>data</w><w>point</w><w>will</w><w>display</w><w>the</w><w>specific</w><w>charge</w><w>and</w><w>the</w><w>ages</w><w>of</w><w>both</w><w>the</w><w>accused</w><w>and</w><w>the</w><w>victim</w><pc>.</pc></s><s xml:id="s_x03WBf"><w>Clicking</w><w>and</w><w>double-clicking</w><w>on</w><w>the</w><w>legend</w><w>allows</w><w>you</w><w>to</w><w>isolate</w><w>certain</w><w>elements</w><pc>.</pc></s></p></div><div type="3" n="3.6"><head><s xml:id="s_PhXyqY"><w>Facet</w><w>Plots</w></s></head><p><s xml:id="s_1R2M02"><w>Facet</w><w>plots</w><w>are</w><w>made</w><w>up</w><w>of</w><w>the</w><w>multiple</w><w>subplots</w><w>which</w><w>a</w><w>)</w><w>share</w><w>the</w><w>same</w><w>set</w><w>of</w><w>axes</w><w>;</w><w>and</w><w>b</w><w>)</w><w>show</w><w>a</w><w>subset</w><w>of</w><w>the</w><w>data</w><w>(</w><w>for</w><w>the</w><w>same</w><w>set</w><w>of</w><w>variables</w><w>)</w><pc>.</pc></s><s xml:id="s_SPVwya"><w>These</w><w>can</w><w>be</w><w>made</w><w>very</w><w>easily</w><w>in</w><w>Plotly</w><w>Express</w><pc>.</pc></s><s xml:id="s_mxdAfi"><w>First</w><w>,</w><w>using</w><w>the</w><w>same</w><w>procedure</w><w>as</w><w>outlined</w><w>in</w><w>the</w><w>above</w><w>examples</w><w>,</w><w>you</w><w>'ll</w><w>need</w><w>to</w><w>specify</w><w>the</w><w>type</w><w>of</w><w>graph</w><w>you</w><w>want</w><w>to</w><w>use</w><w>in</w><w>your</w><w>subplots</w><pc>.</pc></s><s xml:id="s_zenDQG"><w>Second</w><w>,</w><w>the</w><code rend="inline"><w>facet_col</w></code><w>parameter</w><w>allows</w><w>you</w><w>to</w><w>specify</w><w>which</w><w>variable</w><w>to</w><w>use</w><w>for</w><w>splitting</w><w>the</w><w>data</w><w>into</w><w>subplots</w><pc>.</pc></s><s xml:id="s_WUFBWh"><w>In</w><w>the</w><w>example</w><w>below</w><w>,</w><w>a</w><w>2x1</w><w>grid</w><w>of</w><w>bar</w><w>charts</w><w>shows</w><w>prosecution</w><w>counts</w><w>for</w><w>each</w><w>weapon</w><w>type</w><w>used</w><w>by</w><w>suspects</w><w>in</w><w>homicide</w><w>cases</w><pc>.</pc></s><s xml:id="s_v36tmP"><w>One</w><w>bar</w><w>chart</w><w>provides</w><w>counts</w><w>for</w><w>male</w><w>suspects</w><w>and</w><w>the</w><w>other</w><w>for</w><w>female</w><w>suspects</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_interactive-visualization-with-plotly_9" corresp="code_interactive-visualization-with-plotly_9.txt" rend="block"/></ab><figure><figDesc><s xml:id="s_KyIjBm"><w>A</w><w>pair</w><w>of</w><w>bar</w><w>graphs</w><w>plotting</w><w>prosecution</w><w>Counts</w><w>for</w><w>each</w><w>Weapon</w><w>type</w><pc>.</pc></s><s xml:id="s_yX7QR6"><w>The</w><w>x</w><w>axes</w><w>are</w><w>labeled</w><w>Weapon</w><w>,</w><w>and</w><w>the</w><w>y</w><w>axes</w><w>are</w><w>labeled</w><w>Size</w><w>(</w><w>representing</w><w>prosecution</w><w>count</w><w>)</w><pc>.</pc></s><s xml:id="s_n6EsZU"><w>The</w><w>Weapon</w><w>types</w><w>include</w><w>guns</w><w>,</w><w>knives</w><w>,</w><w>and</w><w>poison</w><pc>.</pc></s><s xml:id="s_myTL4F"><w>The</w><w>counts</w><w>range</w><w>from</w><w>0</w><w>to</w><w>250</w><pc>.</pc></s><s xml:id="s_76hn3W"><w>The</w><w>left</w><w>graph</w><w>shows</w><w>Counts</w><w>for</w><w>gender</w><w>of</w><w>accused</w><w>-</w><w>Female</w><w>,</w><w>while</w><w>the</w><w>right</w><w>graph</w><w>shows</w><w>counts</w><w>for</w><w>gender</w><w>of</w><w>accused</w><w>-</w><w>Male</w><pc>.</pc></s><s xml:id="s_wn6PR0"><w>The</w><w>graph</w><w>'s</w><w>legend</w><w>defines</w><w>its</w><w>color</w><w>attributes</w><pc>.</pc></s></figDesc><graphic url="/images/interactive-visualization-with-plotly/en-or-interactive-visualization-with-plotly-06.png"/><desc><s xml:id="s_mHksrS"><w>Figure</w><w>6</w><pc>.</pc></s><s xml:id="s_Dk0KbU"><w>Two</w><w>bar</w><w>graph</w><w>subplots</w><w>with</w><w>basic</w><w>interactivity</w><w>created</w><w>using</w><w>Plotly</w><w>Express</w><w>,</w><w>separating</w><w>the</w><w>data</w><w>between</w><w>the</w><w>two</w><w>genders</w><pc>.</pc></s><s xml:id="s_Wd2HeM"><w>Readers</w><w>can</w><w>hover</w><w>over</w><w>the</w><w>bars</w><w>to</w><w>invoke</w><w>floating</w><w>labels</w><pc>.</pc></s><s xml:id="s_52OBLO"><w>An</w><w>interactive</w><w>legend</w><w>allows</w><w>isolation</w><w>,</w><w>comparison</w><w>or</w><w>removal</w><w>of</w><w>data</w><w>categories</w><pc>.</pc></s><ref target="/assets/interactive-visualization-with-plotly/interactive-visualization-with-plotly-06.html"><w>Click</w><w>to</w><w>explore</w><w>an</w><w>interactive</w><w>variant</w><w>of</w><w>this</w><w>plot</w></ref><pc>.</pc></desc></figure><p><s xml:id="s_gn18ho"><w>Note</w><w>that</w><w>this</w><w>method</w><w>circumvents</w><w>the</w><w>need</w><w>to</w><w>specify</w><w>your</w><w>grid</w><w>dimensions</w><w>,</w><w>as</w><w>Plotly</w><w>Express</w><w>will</w><w>automatically</w><w>divide</w><w>the</w><w>grid</w><w>into</w><w>the</w><w>number</w><w>of</w><w>categories</w><w>available</w><w>(</w><w>in</w><w>this</w><w>case</w><w>,</w><w>a</w><w>2x1</w><w>grid</w><w>—</w><w>one</w><w>chart</w><w>for</w><w>males</w><w>and</w><w>one</w><w>for</w><w>females</w><w>)</w><pc>.</pc></s><s xml:id="s_mYcyBF"><w>However</w><w>,</w><w>the</w><w>method</w><w>only</w><w>works</w><w>for</w><w>creating</w><w>a</w><w>figure</w><w>which</w><w>contains</w><w>just</w><w>one</w><w>type</w><w>of</w><w>graph</w><pc>.</pc></s><s xml:id="s_Fami1f"><w>We</w><w>will</w><w>discuss</w><w>how</w><w>to</w><w>create</w><w>figures</w><w>which</w><w>contain</w><w>specified</w><w>dimensions</w><w>and</w><w>multiple</w><w>types</w><w>of</w><w>graph</w><w>in</w><ref target="#subplots"><w>this</w><w>section</w></ref><w>on</w><w>using</w><w>Graph</w><w>Objects</w><pc>.</pc></s></p></div><div type="3" n="3.7"><head><s xml:id="s_N34v2e"><w>Adding</w><w>Animations</w><w>:</w><w>Animation</w><w>Frames</w></s></head><p><s xml:id="s_zL5Oar"><w>As</w><w>we</w><w>have</w><w>seen</w><w>,</w><w>Plotly</w><w>Express</w><w>figures</w><w>already</w><w>feature</w><w>some</w><w>inbuilt</w><w>interactivity</w><pc>.</pc></s><s xml:id="s_uZIxEr"><w>Yet</w><w>,</w><w>there</w><w>are</w><w>a</w><w>number</w><w>of</w><w>other</w><w>features</w><w>which</w><w>we</w><w>could</w><w>add</w><w>to</w><w>increase</w><w>interactivity</w><w>,</w><w>including</w><w>animation</w><w>frames</w><pc>.</pc></s></p><p><s xml:id="s_5q3512"><w>An</w><w>animation</w><w>frame</w><w>depicts</w><w>the</w><w>way</w><w>data</w><w>change</w><w>in</w><w>relation</w><w>to</w><w>a</w><w>certain</w><w>measure</w><pc>.</pc></s><s xml:id="s_45aIrm"><w>In</w><w>historical</w><w>research</w><w>,</w><w>the</w><w>measure</w><w>which</w><w>is</w><w>most</w><w>likely</w><w>to</w><w>be</w><w>useful</w><w>is</w><w>time</w><w>,</w><w>although</w><w>most</w><w>other</w><w>numerical</w><w>variables</w><w>with</w><w>some</w><w>inherent</w><w>rankability</w><w>(</w><w>e.g</w><pc>.</pc></s><s xml:id="s_7CdV6T"><w>ordinal</w><w>or</w><w>interval</w><w>data</w><w>)</w><w>should</w><w>work</w><pc>.</pc></s><s xml:id="s_NSsPJs"><w>A</w><w>Plotly</w><w>Express</w><w>figure</w><w>with</w><w>an</w><w>animation</w><w>frame</w><w>will</w><w>contain</w><w>an</w><w>interactive</w><w>toolbar</w><w>which</w><w>allows</w><w>users</w><w>not</w><w>only</w><w>to</w><w>play/stop</w><w>the</w><w>animation</w><w>but</w><w>also</w><w>to</w><w>manually</w><w>scroll</w><w>to</w><w>the</w><w>data</w><w>dispersion</w><w>at</w><w>selected</w><w>points</w><pc>.</pc></s></p><p><s xml:id="s_wHBKRF"><w>To</w><w>create</w><w>a</w><w>figure</w><w>with</w><w>an</w><w>animation</w><w>frame</w><w>,</w><w>start</w><w>by</w><w>using</w><w>the</w><w>usual</w><w>method</w><w>outlined</w><w>in</w><w>the</w><w>above</w><w>examples</w><w>to</w><w>specify</w><w>which</w><w>type</w><w>of</w><w>graph</w><w>is</w><w>desired</w><pc>.</pc></s><s xml:id="s_NpyVsz"><w>Then</w><w>,</w><w>within</w><w>that</w><w>method</w><w>,</w><w>use</w><w>the</w><code rend="inline"><w>animation_frame</w></code><w>parameter</w><w>to</w><w>specify</w><w>which</w><w>variable</w><w>should</w><w>be</w><w>used</w><w>for</w><w>visualizing</w><w>change</w><pc>.</pc></s><s xml:id="s_oq1fAU"><w>The</w><w>example</w><w>below</w><w>builds</w><w>a</w><w>bar</w><w>chart</w><w>depicting</w><w>changes</w><w>in</w><w>male</w><w>and</w><w>female</w><w>homicide</w><w>prosecutions</w><w>over</w><w>the</w><w>sample</w><w>period</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_interactive-visualization-with-plotly_10" corresp="code_interactive-visualization-with-plotly_10.txt" rend="block"/></ab><figure><figDesc><s xml:id="s_8dWuMB"><w>Amimated</w><w>bar</w><w>graph</w><w>plotting</w><w>Counts</w><w>of</w><w>homicide</w><w>according</w><w>to</w><w>the</w><w>Gender</w><w>of</w><w>accused</w><w>assailants</w><pc>.</pc></s><s xml:id="s_OXV7gv"><w>The</w><w>x</w><w>axis</w><w>is</w><w>labeled</w><w>Gender</w><w>of</w><w>Accused</w><w>,</w><w>and</w><w>the</w><w>y</w><w>axis</w><w>is</w><w>labeled</w><w>Count</w><pc>.</pc></s><s xml:id="s_NwBcan"><w>A</w><w>legend</w><w>defines</w><w>the</w><w>bar</w><w>graph</w><w>'s</w><w>color</w><w>attributes</w><pc>.</pc></s><s xml:id="s_kIEiqW"><w>Beneath</w><w>the</w><w>bar</w><w>graph</w><w>,</w><w>there</w><w>are</w><w>Play</w><w>and</w><w>Stop</w><w>buttons</w><w>alongside</w><w>a</w><w>slider</w><w>labeled</w><w>with</w><w>Years</w><w>from</w><w>1902</w><w>to</w><w>1930</w><pc>.</pc></s><s xml:id="s_bwfxj8"><w>Upon</w><w>initial</w><w>click</w><w>,</w><w>the</w><w>slider</w><w>node</w><w>is</w><w>positioned</w><w>at</w><w>the</w><w>year</w><w>1902</w><pc>.</pc></s></figDesc><graphic url="/images/interactive-visualization-with-plotly/en-or-interactive-visualization-with-plotly-07.png"/><desc><s xml:id="s_EprnK3"><w>Figure</w><w>7</w><pc>.</pc></s><s xml:id="s_2hs2XX"><w>Animated</w><w>bar</w><w>graph</w><w>featuring</w><w>an</w><w>interactive</w><w>slider</w><w>created</w><w>using</w><w>Plotly</w><w>Express</w><pc>.</pc></s><s xml:id="s_fJZhCn"><w>As</w><w>before</w><w>,</w><w>readers</w><w>have</w><w>the</w><w>option</w><w>to</w><w>hover</w><w>over</w><w>the</w><w>bars</w><w>to</w><w>display</w><w>floating</w><w>labels</w><pc>.</pc></s><s xml:id="s_ALkCnS"><w>Readers</w><w>can</w><w>either</w><w>invoke</w><w>an</w><w>animation</w><w>of</w><w>the</w><w>graph</w><w>using</w><w>Play</w><w>and</w><w>Stop</w><w>buttons</w><w>,</w><w>or</w><w>use</w><w>the</w><w>slider</w><w>function</w><w>to</w><w>manually</w><w>shift</w><w>their</w><w>view</w><w>of</w><w>the</w><w>data</w><pc>.</pc></s><ref target="/assets/interactive-visualization-with-plotly/interactive-visualization-with-plotly-07.html"><w>Click</w><w>to</w><w>explore</w><w>an</w><w>interactive</w><w>variant</w><w>of</w><w>this</w><w>plot</w></ref><pc>.</pc></desc></figure></div><div type="3" n="3.8"><head><s xml:id="s_YPk87A"><w>Adding</w><w>Animations</w><w>:</w><w>Dropdown</w><w>Bars</w></s></head><p><s xml:id="s_WTyD04"><w>Dropdown</w><w>bars</w><w>are</w><w>slightly</w><w>more</w><w>complicated</w><w>than</w><w>animation</w><w>frames</w><pc>.</pc></s><s xml:id="s_M0kqcM"><w>They</w><w>can</w><w>allow</w><w>users</w><w>to</w><w>switch</w><w>between</w><w>a</w><w>wide</w><w>variety</w><w>of</w><w>display</w><w>options</w><w>,</w><w>including</w><w>changing</w><w>colors</w><w>,</w><w>lines</w><w>,</w><w>axes</w><w>and</w><w>even</w><w>variables</w><pc>.</pc></s><s xml:id="s_PyHL22"><w>When</w><w>creating</w><w>figures</w><w>with</w><w>dropdown</w><w>bars</w><w>,</w><w>the</w><w>first</w><w>step</w><w>is</w><w>to</w><w>create</w><w>the</w><w>initial</w><w>graph</w><w>without</w><w>a</w><w>dropdown</w><w>bar</w><w>(</w><w>this</w><w>will</w><w>be</w><w>the</w><w>first</w><w>graph</w><w>which</w><w>your</w><w>users</w><w>will</w><w>see</w><w>)</w><pc>.</pc></s><s xml:id="s_F7cEMm"><w>In</w><w>this</w><w>example</w><w>,</w><w>we</w><w>'ll</w><w>be</w><w>working</w><w>with</w><w>a</w><w>scatter</w><w>plot</w><w>which</w><w>visualises</w><w>the</w><w>ages</w><w>of</w><w>perpetrators</w><w>and</w><w>victims</w><w>,</w><w>so</w><w>we</w><w>'ll</w><w>create</w><w>this</w><w>as</w><w>follows</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_interactive-visualization-with-plotly_11" corresp="code_interactive-visualization-with-plotly_11.txt" rend="block"/></ab><p><s xml:id="s_raPEcx"><w>Note</w><w>that</w><w>the</w><w>graph</w><w>has</w><w>been</w><w>created</w><w>but</w><w>is</w><w>not</w><w>visible</w><w>since</w><w>we</w><w>have</w><w>not</w><w>used</w><w>the</w><code rend="inline"><w>fig.show</w><w>(</w><w>)</w></code><w>command</w><w>yet</w><pc>.</pc></s><s xml:id="s_EyEpXH"><w>This</w><w>figure</w><w>will</w><w>be</w><w>displayed</w><w>once</w><w>we</w><w>have</w><w>added</w><w>a</w><w>dropdown</w><w>bar</w><w>in</w><w>the</w><w>following</w><w>steps</w><pc>.</pc></s></p><p><s xml:id="s_KXC4hI"><w>After</w><w>creating</w><w>our</w><w>initial</w><w>graph</w><w>,</w><w>we</w><w>can</w><w>use</w><w>the</w><code rend="inline"><w>update_layout</w></code><w>method</w><w>again</w><w>to</w><w>add</w><w>a</w><w>dropdown</w><w>bar</w><pc>.</pc></s><s xml:id="s_gGvYC9"><w>This</w><w>is</w><w>a</w><w>more</w><w>complex</w><w>step</w><w>,</w><w>since</w><w>Plotly</w><w>Express</w><w>objects</w><w>'</w><w>data</w><w>are</w><w>nested</w><w>at</w><w>many</w><w>levels</w><w>under</w><w>the</w><w>hood</w><w>,</w><w>so</w><w>we</w><w>'ll</w><w>need</w><w>to</w><w>go</w><w>a</w><w>few</w><w>layers</w><w>deeper</w><w>than</w><w>normal</w><w>to</w><w>access</w><w>the</w><w>dropdown</w><w>feature</w><pc>.</pc></s></p><p><s xml:id="s_1LOlSC"><w>Once</w><w>we</w><w>have</w><w>called</w><w>the</w><code rend="inline"><w>update_layout</w></code><w>method</w><w>:</w></s></p><list type="unordered"><item><s xml:id="s_JXd7fB"><w>We</w><w>first</w><w>need</w><w>to</w><w>access</w><w>the</w><code rend="inline"><w>updatemenus</w></code><w>parameter</w><w>:</w><w>this</w><w>stores</w><w>a</w><w>list</w><w>of</w><w>dictionaries</w><w>,</w><w>each</w><w>storing</w><w>the</w><w>metadata</w><w>for</w><w>various</w><w>design</w><w>features</w><pc>.</pc></s></item><item><s xml:id="s_JBYBht"><w>The</w><w>only</w><w>design</w><w>feature</w><w>we</w><w>are</w><w>currently</w><w>interested</w><w>in</w><w>is</w><w>the</w><w>dropdown</w><w>box</w><w>,</w><w>which</w><w>is</w><w>stored</w><w>under</w><w>the</w><code rend="inline"><w>buttons</w></code><w>dictionary</w><pc>.</pc></s></item><item><s xml:id="s_zOiNfx"><w>The</w><code rend="inline"><w>buttons</w></code><w>key</w><w>stores</w><w>as</w><w>its</w><w>value</w><emph><w>another</w></emph><w>list</w><w>of</w><w>dictionaries</w><w>,</w><w>each</w><w>representing</w><w>the</w><w>options</w><w>available</w><w>in</w><w>your</w><w>dropdown</w><w>bar</w><pc>.</pc></s></item><item><s xml:id="s_elt9zy"><w>We</w><w>'ll</w><w>need</w><w>to</w><w>create</w><w>two</w><code rend="inline"><w>buttons</w></code><w>—</w><w>one</w><w>for</w><w>the</w><w>stacked</w><w>bar</w><w>chart</w><w>and</w><w>one</w><w>for</w><w>the</w><w>pie</w><w>chart</w><w>—</w><w>so</w><w>our</w><code rend="inline"><w>buttons</w></code><w>list</w><w>will</w><w>store</w><w>two</w><w>dictionaries</w><pc>.</pc></s></item><item><s xml:id="s_MzUoKY"><w>Each</w><w>of</w><w>these</w><w>two</w><w>dictionaries</w><w>will</w><w>need</w><w>three</w><w>key-value</w><w>pairs</w><w>:</w></s><list type="unordered"><item><s xml:id="s_KxfLM6"><w>The</w><w>first</w><w>,</w><w>under</w><w>the</w><code rend="inline"><w>args</w></code><w>key</w><w>,</w><w>will</w><w>specify</w><w>which</w><w>type</w><w>of</w><w>graph</w><w>to</w><w>display</w><pc>.</pc></s></item><item><s xml:id="s_vekHwr"><w>The</w><w>second</w><w>,</w><w>under</w><w>the</w><code rend="inline"><w>label</w></code><w>key</w><w>,</w><w>will</w><w>specify</w><w>the</w><w>text</w><w>to</w><w>display</w><w>in</w><w>the</w><w>dropdown</w><w>bar</w><pc>.</pc></s></item><item><s xml:id="s_P9Otsn"><w>The</w><w>third</w><w>,</w><w>under</w><w>the</w><code rend="inline"><w>method</w></code><w>key</w><w>,</w><w>will</w><w>specify</w><w>how</w><w>to</w><w>modify</w><w>the</w><w>chart</w><w>(</w><w>update</w><w>,</w><w>restyle</w><w>,</w><w>animate</w><w>,</w><w>etc.</w><w>)</w><pc>.</pc></s></item></list></item></list><p><s xml:id="s_KE7lX2"><w>In</w><w>the</w><w>example</w><w>below</w><w>,</w><w>we</w><w>will</w><w>look</w><w>at</w><w>how</w><w>to</w><w>use</w><w>a</w><w>dropdown</w><w>bar</w><w>to</w><w>toggle</w><w>between</w><w>different</w><w>categories</w><w>of</w><w>a</w><w>variable</w><pc>.</pc></s><s xml:id="s_v7BFXF"><w>Since</w><w>our</w><w>initial</w><w>scatterplot</w><w>displays</w><w>the</w><w>ages</w><w>of</w><w>the</w><w>accused</w><w>and</w><w>their</w><w>victims</w><w>,</w><w>we</w><w>'ll</w><w>add</w><w>a</w><w>dropdown</w><w>bar</w><w>which</w><w>allows</w><w>users</w><w>to</w><w>see</w><w>data</w><w>points</w><w>for</w><w>either</w><w>a</w><w>)</w><w>all</w><w>cases</w><w>,</w><w>b</w><w>)</w><w>murder</w><w>charges</w><w>only</w><w>,</w><w>c</w><w>)</w><w>manslaughter</w><w>charges</w><w>only</w><w>,</w><w>or</w><w>d</w><w>)</w><w>abortion</w><w>charges</w><w>only</w><pc>.</pc></s></p><p><s xml:id="s_yALqnF"><w>To</w><w>create</w><w>the</w><w>dropdown</w><w>,</w><w>we</w><w>need</w><w>to</w><w>take</w><w>the</w><w>following</w><w>steps</w><w>:</w></s></p><list type="unordered"><item><s xml:id="s_b8IL5Y"><w>Under</w><w>the</w><code rend="inline"><w>label</w></code><w>key</w><w>,</w><w>the</w><w>value</w><w>will</w><w>specify</w><w>the</w><w>text</w><w>to</w><w>display</w><w>in</w><w>the</w><w>dropdown</w><w>bar</w><pc>.</pc></s></item><item><s xml:id="s_MG39XQ"><w>Under</w><w>the</w><code rend="inline"><w>method</w></code><w>key</w><w>,</w><w>the</w><w>value</w><w>will</w><w>be</w><w>'update</w><w>'</w><w>since</w><w>we</w><w>are</w><w>altering</w><w>the</w><w>layout</w><emph><w>and</w></emph><w>the</w><w>data</w><pc>.</pc></s></item><item><s xml:id="s_38Huq6"><w>Under</w><w>the</w><code rend="inline"><w>args</w></code><w>key</w><w>,</w><w>the</w><w>value</w><w>(</w><w>which</w><w>is</w><w>another</w><w>list</w><w>of</w><w>dictionaries</w><w>)</w><w>will</w><w>specify</w><w>which</w><w>data</w><w>will</w><w>be</w><code rend="inline"><w>visible</w></code><w>(</w><w>more</w><w>on</w><w>this</w><w>issue</w><w>below</w><w>)</w><w>,</w><w>the</w><w>title</w><w>for</w><w>this</w><w>graph</w><w>view</w><w>(</w><w>optional</w><w>)</w><w>,</w><w>and</w><w>the</w><w>titles</w><w>for</w><w>the</w><w>x-</w><w>and</w><w>y-axes</w><w>of</w><w>this</w><w>graph</w><w>view</w><w>(</w><w>optional</w><w>)</w><pc>.</pc></s></item></list><p><s xml:id="s_pIOGIv"><w>You</w><w>need</w><w>to</w><w>enter</w><w>a</w><w>list</w><w>for</w><w>the</w><code rend="inline"><w>visible</w></code><w>key</w><w>:</w><w>each</w><w>item</w><w>in</w><w>the</w><w>list</w><w>indicates</w><w>whether</w><w>the</w><w>data</w><w>at</w><w>that</w><w>specific</w><w>index</w><w>should</w><w>be</w><w>displayed</w><pc>.</pc></s><s xml:id="s_xebk1t"><w>In</w><w>our</w><w>example</w><w>,</w><w>we</w><w>have</w><w>partitioned</w><w>our</w><w>dataset</w><w>into</w><w>three</w><w>groups</w><w>:</w><w>the</w><w>data</w><w>corresponding</w><w>to</w><w>murder</w><w>charges</w><w>,</w><w>the</w><w>data</w><w>for</w><w>the</w><w>manslaughter</w><w>charges</w><w>,</w><w>and</w><w>the</w><w>data</w><w>for</w><w>the</w><w>abortion</w><w>charges</w><pc>.</pc></s><s xml:id="s_0hCeCY"><w>As</w><w>such</w><w>,</w><w>our</w><w>list</w><w>for</w><w>the</w><code rend="inline"><w>visible</w></code><w>key</w><w>should</w><w>have</w><w>three</w><w>items</w><pc>.</pc></s><s xml:id="s_CPQyEf"><w>Our</w><w>first</w><code rend="inline"><w>button</w></code><w>,</w><w>which</w><w>represents</w><w>the</w><w>first</w><w>graph</w><w>displayed</w><w>to</w><w>the</w><w>user</w><w>,</w><w>should</w><w>therefore</w><w>specify</w><code rend="inline"><w>[</w><w>True</w><w>,</w><w>True</w><w>,</w><w>True</w><w>]</w></code><w>since</w><w>we</w><w>want</w><w>all</w><w>charges</w><w>to</w><w>be</w><w>shown</w><w>in</w><w>that</w><w>first</w><w>view</w><pc>.</pc></s><s xml:id="s_uoj2v7"><w>However</w><w>,</w><w>the</w><w>remaining</w><w>three</w><code rend="inline"><w>buttons</w></code><w>will</w><w>only</w><w>specify</w><code rend="inline"><w>True</w></code><w>for</w><w>one</w><w>item</w><w>,</w><w>because</w><w>we</w><w>want</w><w>to</w><w>show</w><w>the</w><w>data</w><w>for</w><w>only</w><w>one</w><w>type</w><w>of</w><w>crime</w><pc>.</pc></s></p><p><s xml:id="s_6QAwl5"><w>Now</w><w>let</w><w>'s</w><w>put</w><w>this</w><w>into</w><w>practice</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_interactive-visualization-with-plotly_12" corresp="code_interactive-visualization-with-plotly_12.txt" rend="block"/></ab><figure><figDesc><s xml:id="s_rzauTr"><w>Scatterplot</w><w>graph</w><w>plotting</w><w>the</w><w>Age</w><w>of</w><w>victims</w><w>and</w><w>accused</w><w>assailants</w><w>in</w><w>the</w><w>case</w><w>of</w><w>Charges</w><w>of</w><w>Abortion</w><w>,</w><w>Manslaughter</w><w>and</w><w>Murder</w><pc>.</pc></s><s xml:id="s_GQKB9b"><w>The</w><w>x</w><w>axis</w><w>is</w><w>labeled</w><w>Age</w><w>of</w><w>Accused</w><w>10</w><w>to</w><w>100</w><w>,</w><w>while</w><w>the</w><w>y</w><w>axis</w><w>is</w><w>labeled</w><w>Victim</w><w>Age</w><w>0</w><w>to</w><w>90</w><pc>.</pc></s><s xml:id="s_HjHHTm"><w>The</w><w>graph</w><w>'s</w><w>legend</w><w>defines</w><w>its</w><w>color</w><w>attributes</w><pc>.</pc></s><s xml:id="s_ZXFw02"><w>A</w><w>dropdown</w><w>filter</w><w>offers</w><w>readers</w><w>the</w><w>option</w><w>to</w><w>isolate</w><w>each</w><w>category</w><w>of</w><w>Charge</w><w>or</w><w>display</w><w>All</w><w>Charges</w><pc>.</pc></s></figDesc><graphic url="/images/interactive-visualization-with-plotly/en-or-interactive-visualization-with-plotly-08.png"/><desc><s xml:id="s_gxJd4r"><w>Figure</w><w>8</w><pc>.</pc></s><s xml:id="s_mEkONc"><w>Scatterplot</w><w>featuring</w><w>an</w><w>interactive</w><w>dropdown</w><w>filter</w><w>created</w><w>using</w><w>Plotly</w><w>Express</w><pc>.</pc></s><s xml:id="s_3drPCf"><w>This</w><w>iteration</w><w>of</w><w>the</w><w>plot</w><w>also</w><w>features</w><w>a</w><w>dropdown</w><w>menu</w><w>which</w><w>facilitates</w><w>filtering</w><w>by</w><w>category</w><w>of</w><w>Charge</w><w>or</w><w>to</w><w>display</w><w>All</w><w>Charges</w><pc>.</pc></s><s xml:id="s_0miDFo"><w>As</w><w>before</w><w>,</w><w>an</w><w>interactive</w><w>legend</w><w>allows</w><w>readers</w><w>to</w><w>isolate</w><w>,</w><w>compare</w><w>or</w><w>remove</w><w>data</w><w>categories</w><w>,</w><w>and</w><w>hover-over</w><w>invokes</w><w>floating</w><w>labels</w><w>for</w><w>individual</w><w>data</w><w>points</w><pc>.</pc></s><ref target="/assets/interactive-visualization-with-plotly/interactive-visualization-with-plotly-08.html"><w>Click</w><w>to</w><w>explore</w><w>an</w><w>interactive</w><w>variant</w><w>of</w><w>this</w><w>plot</w></ref><pc>.</pc></desc></figure><p><s xml:id="s_FICqTn"><w>Creating</w><w>the</w><w>dropdown</w><w>bar</w><w>in</w><w>the</w><w>above</w><w>example</w><w>provides</w><w>users</w><w>with</w><w>the</w><w>ability</w><w>to</w><w>isolate</w><w>(</w><w>and</w><w>examine</w><w>)</w><w>a</w><w>given</w><w>element</w><w>from</w><w>the</w><w>wider</w><w>visualization</w><pc>.</pc></s><s xml:id="s_bcCY6m"><w>We</w><w>visited</w><w>this</w><w>Plotly</w><w>feature</w><w>earlier</w><w>when</w><w>noting</w><w>that</w><w>double-clicking</w><w>on</w><w>an</w><w>element</w><w>in</w><w>the</w><w>graph</w><w>'s</w><w>legend</w><w>will</w><w>remove</w><w>it</w><w>from</w><w>the</w><w>visualization</w><pc>.</pc></s><s xml:id="s_ieHeIf"><w>However</w><w>,</w><w>the</w><w>dropdown</w><w>menu</w><w>offers</w><w>an</w><w>additional</w><w>advantage</w><w>:</w><w>it</w><w>provides</w><w>us</w><w>with</w><w>the</w><w>ability</w><w>to</w><w>create</w><w>dynamic</w><w>headings</w><w>,</w><w>which</w><w>means</w><w>our</w><w>titles</w><w>and</w><w>labels</w><w>change</w><w>depending</w><w>on</w><w>which</w><w>option</w><w>we</w><w>have</w><w>selected</w><w>from</w><w>the</w><w>dropdown</w><w>box</w><pc>.</pc></s></p><p><s xml:id="s_IC2HdS"><w>The</w><w>above</w><w>examples</w><w>demonstrate</w><w>that</w><w>it</w><w>is</w><w>very</w><w>easy</w><w>to</w><w>create</w><w>graphs</w><w>using</w><w>Plotly</w><w>Express</w><w>and</w><w>relatively</w><w>simple</w><w>to</w><w>add</w><w>interactivity</w><w>such</w><w>as</w><w>animation</w><w>frames</w><w>and</w><w>dropdown</w><w>bars</w><pc>.</pc></s><s xml:id="s_2iNKLg"><w>We</w><w>will</w><w>now</w><w>look</w><w>at</w><w>creating</w><w>graphs</w><w>with</w><w>Plotly</w><w>Graph</w><w>Objects</w><pc>.</pc></s><s xml:id="s_e4yimw"><w>Specifically</w><w>,</w><w>we</w><w>will</w><w>focus</w><w>on</w><w>what</w><w>'Graph</w><w>Objects</w><w>'</w><w>are</w><w>,</w><w>how</w><w>they</w><w>work</w><w>,</w><w>and</w><w>when</w><w>(</w><w>and</w><w>why</w><w>)</w><w>you</w><w>might</w><w>want</w><w>to</w><w>create</w><w>graphs</w><w>using</w><code rend="inline"><w>plotly.go</w></code><w>instead</w><w>of</w><code rend="inline"><w>plotly.px</w></code><pc>.</pc></s></p></div></div><div type="2" n="4"><head><s xml:id="s_JvD2p8"><w>Building</w><w>Graphs</w><w>with</w><w>Plotly</w><w>Graph</w><w>Objects</w></s></head><div type="3" n="4.1"><head><s xml:id="s_0BKhOZ"><w>Setting</w><w>Up</w><w>Plotly</w><w>Graph</w><w>Objects</w></s></head><p><s xml:id="s_XUCzCS"><w>To</w><w>start</w><w>working</w><w>with</w><w>Plotly</w><w>'s</w><w>Graph</w><w>Objects</w><w>,</w><w>you</w><w>'ll</w><w>need</w><w>to</w><w>import</w><w>the</w><code rend="inline"><w>graph_objects</w></code><w>module</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_interactive-visualization-with-plotly_13" corresp="code_interactive-visualization-with-plotly_13.txt" rend="block"/></ab><p style="alert alert-warning"><s xml:id="s_PACULc"><w>Note</w><w>that</w><w>in</w><w>a</w><w>conventional</w><w>`</w><w>.py</w><w>`</w><w>script</w><w>the</w><w>libraries</w><w>should</w><w>all</w><w>be</w><w>imported</w><w>at</w><w>the</w><w>start</w><w>of</w><w>the</w><w>script</w><pc>.</pc></s><s xml:id="s_wwomLs"><w>The</w><w>code</w><w>to</w><w>import</w><w>these</w><w>libraries</w><w>is</w><w>provided</w><w>at</w><w>this</w><w>stage</w><w>for</w><w>clarity</w><pc>.</pc></s></p></div><div type="3" n="4.2"><head><s xml:id="s_IVMYsW"><w>They</w><w>'re</w><w>All</w><w>Objects</w><pc>!</pc></s><s xml:id="s_64hPbi"><w>Data</w><w>Structure</w><w>of</w><w>Plotly</w><w>Graph</w><w>Objects</w></s></head><p><s xml:id="s_js7Xef"><w>As</w><w>mentioned</w><w>in</w><w>the</w><w>introduction</w><w>to</w><w>this</w><w>lesson</w><w>,</w><w>all</w><w>Plotly</w><w>Express</w><w>figures</w><w>are</w><w>actually</w><w>Graph</w><w>Objects</w><w>'under</w><w>the</w><w>hood</w><w>'</w><pc>.</pc></s><s xml:id="s_Tup7dn"><w>This</w><w>means</w><w>that</w><w>,</w><w>when</w><w>you</w><w>create</w><w>a</w><w>figure</w><w>using</w><code rend="inline"><w>plotly.px</w></code><w>,</w><w>you</w><w>are</w><w>creating</w><w>an</w><w>instance</w><w>of</w><w>a</w><w>Graph</w><w>Object</w><pc>.</pc></s></p><p><s xml:id="s_EtNi6M"><w>This</w><w>becomes</w><w>evident</w><w>if</w><w>we</w><w>call</w><w>the</w><code rend="inline"><w>type</w></code><w>function</w><w>on</w><w>the</w><code rend="inline"><w>fig</w></code><w>variable</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_interactive-visualization-with-plotly_14" corresp="code_interactive-visualization-with-plotly_14.txt" rend="block"/></ab><p><s xml:id="s_AARxqP"><w>It</w><w>is</w><w>important</w><w>to</w><w>note</w><w>therefore</w><w>that</w><w>all</w><w>figures</w><w>created</w><w>in</w><w>Plotly</w><w>are</w><w>effectively</w><w>Graph</w><w>Objects</w><pc>.</pc></s></p><p><s xml:id="s_iiE7WH"><w>Graph</w><w>Objects</w><w>are</w><w>represented</w><w>by</w><w>tree-like</w><w>(</w><w>hierarchical</w><w>)</w><w>data</w><w>structures</w><w>with</w><w>three</w><w>top</w><w>levels</w><w>:</w><code rend="inline"><w>data</w></code><w>,</w><code rend="inline"><w>layout</w></code><w>,</w><w>and</w><code rend="inline"><w>frames</w></code><w>:</w></s></p><list type="unordered"><item><s xml:id="s_adCD6N"><w>The</w><code rend="inline"><w>data</w></code><w>level</w><w>contains</w><w>information</w><w>such</w><w>as</w><w>the</w><w>type</w><w>of</w><w>chart</w><w>,</w><w>the</w><w>categories</w><w>available</w><w>,</w><w>the</w><w>data</w><w>points</w><w>falling</w><w>under</w><w>each</w><w>category</w><w>,</w><w>whether</w><w>to</w><w>show</w><w>the</w><w>category</w><w>in</w><w>the</w><w>legend</w><w>,</w><w>the</w><w>types</w><w>of</w><w>markers</w><w>being</w><w>used</w><w>for</w><w>data</w><w>points</w><w>,</w><w>and</w><w>the</w><w>text/data</w><w>to</w><w>display</w><w>when</w><w>hovering</w><w>over</w><w>data</w><w>points</w><pc>.</pc></s></item><item><s xml:id="s_Kw9KT4"><w>The</w><code rend="inline"><w>layout</w></code><w>attribute</w><w>contains</w><w>information</w><w>such</w><w>as</w><w>the</w><w>figure</w><w>dimensions</w><w>,</w><w>the</w><w>fonts</w><w>and</w><w>colors</w><w>used</w><w>,</w><w>any</w><w>annotations</w><w>,</w><w>the</w><w>coordinates</w><w>of</w><w>subplots</w><w>,</w><w>the</w><w>metadata</w><w>associated</w><w>with</w><w>any</w><code rend="inline"><w>buttons</w></code><w>(</w><w>as</w><w>discussed</w><w>in</w><w>a</w><w>previous</w><w>example</w><w>)</w><w>,</w><w>and</w><w>whether</w><w>any</w><w>images</w><w>should</w><w>be</w><w>used</w><w>in</w><w>the</w><w>background</w><pc>.</pc></s></item><item><s xml:id="s_gnINGv"><w>The</w><code rend="inline"><w>frames</w></code><w>attribute</w><w>stores</w><w>information</w><w>relating</w><w>to</w><w>animations</w><w>used</w><w>in</w><w>the</w><w>figure</w><w>,</w><w>such</w><w>as</w><w>the</w><w>data</w><w>to</w><w>be</w><w>displayed</w><w>at</w><w>each</w><w>stop</w><w>point</w><w>on</w><w>a</w><w>sliding</w><w>bar</w><pc>.</pc></s><s xml:id="s_CssZZX"><w>This</w><w>attribute</w><w>will</w><w>not</w><w>be</w><w>created</w><w>unless</w><w>you</w><w>add</w><w>an</w><w>animation</w><w>to</w><w>the</w><w>figure</w><pc>.</pc></s></item></list><p><s xml:id="s_mxeQUF"><w>It</w><w>is</w><w>easy</w><w>to</w><w>view</w><w>the</w><w>underlying</w><w>data</w><w>structure</w><w>of</w><w>a</w><w>figure</w><w>by</w><w>printing</w><w>it</w><w>as</w><w>a</w><w>Python</w><w>dictionary</w><w>with</w><w>the</w><code rend="inline"><w>fig.to_dict</w><w>(</w><w>)</w></code><w>function</w><pc>.</pc></s><s xml:id="s_oDS9AC"><w>We</w><w>can</w><w>format</w><w>the</w><w>structure</w><w>for</w><w>easier</w><w>reading</w><w>by</w><w>viewing</w><w>it</w><w>in</w><w>JSON</w><w>format</w><w>with</w><code rend="inline"><w>fig.to_json</w><w>(</w><w>pretty=True</w><w>)</w></code><pc>.</pc></s><s xml:id="s_PLHJlj"><w>In</w><w>the</w><w>example</w><w>below</w><w>,</w><w>we</w><w>display</w><w>only</w><w>the</w><w>first</w><w>500</w><w>characters</w><w>to</w><w>provide</w><w>a</w><w>sample</w><w>of</w><w>the</w><w>output</w><w>when</w><w>we</w><w>use</w><w>this</w><w>method</w><w>(</w><w>again</w><w>using</w><w>the</w><code rend="inline"><w>fig</w></code><w>variable</w><w>we</w><w>created</w><w>above</w><w>)</w><pc>.</pc></s></p><ab><code lang="language-python" xml:id="code_interactive-visualization-with-plotly_15" corresp="code_interactive-visualization-with-plotly_15.txt" rend="block"/></ab><ab><code lang="language-json" xml:id="code_interactive-visualization-with-plotly_16" corresp="code_interactive-visualization-with-plotly_16.txt" rend="block"/></ab><p><s xml:id="s_My5Z8M"><w>Examining</w><w>the</w><w>output</w><w>of</w><w>a</w><w>figure</w><w>should</w><w>help</w><w>you</w><w>to</w><w>understand</w><w>the</w><w>underlying</w><w>data</w><w>structure</w><w>and</w><w>properties</w><w>of</w><w>a</w><w>graph</w><w>object</w><pc>.</pc></s><s xml:id="s_M6czEp"><w>If</w><w>you</w><w>print</w><w>the</w><w>full</w><w>output</w><w>(</w><w>using</w><w>the</w><code rend="inline"><w>fig.to_dict</w><w>(</w><w>)</w></code><w>method</w><w>)</w><w>,</w><w>you</w><w>will</w><w>notice</w><w>that</w><w>:</w></s></p><list type="unordered"><item><s xml:id="s_CgrMRY"><w>Our</w><code rend="inline"><w>data</w></code><w>attribute</w><w>stores</w><w>data</w><w>for</w><w>each</w><w>of</w><w>the</w><w>three</w><w>categories</w><w>(</w><w>murder</w><w>,</w><w>manslaughter</w><w>,</w><w>and</w><w>abortion</w><w>)</w><w>under</w><w>separate</w><w>dictionaries</w></s></item><item><s xml:id="s_nSIEvy"><w>The</w><code rend="inline"><w>data</w></code><w>attribute</w><w>qualifies</w><w>which</w><w>type</w><w>of</w><w>graph</w><w>is</w><w>being</w><w>used</w><w>(</w><w>in</w><w>this</w><w>case</w><w>'scatter</w><w>'</w><w>)</w></s></item><item><s xml:id="s_DRivc2"><w>The</w><code rend="inline"><w>layout</w></code><w>attribute</w><w>contains</w><w>the</w><w>figure</w><w>title</w></s></item><item><s xml:id="s_hs1o9a"><w>The</w><code rend="inline"><w>layout</w></code><w>attribute</w><w>contains</w><w>the</w><w>data</w><w>associated</w><w>with</w><w>the</w><code rend="inline"><w>buttons</w></code><w>(</w><w>i.e</w><pc>.</pc></s><s xml:id="s_LXiTm0"><w>the</w><w>dropdown</w><w>bar</w><w>)</w></s></item><item><s xml:id="s_qNcBTl"><w>There</w><w>is</w><w>no</w><code rend="inline"><w>traces</w></code><w>attribute</w><w>since</w><w>there</w><w>is</w><w>no</w><w>animation</w><w>frame</w><w>associated</w><w>with</w><w>this</w><w>figure</w></s></item></list></div><div type="3" n="4.3"><head><s xml:id="s_OYt4SS"><w>Using</w><w>Plotly</w><w>Graph</w><w>Objects</w><w>vs.</w><w>Plotly</w><w>Express</w></s></head><p><s xml:id="s_oGLTfz"><w>Another</w><w>key</w><w>point</w><w>to</w><w>be</w><w>aware</w><w>of</w><w>is</w><w>that</w><w>creating</w><w>graphs</w><w>with</w><code rend="inline"><w>plotly.go</w></code><w>typically</w><w>requires</w><w>much</w><w>more</w><w>code</w><w>than</w><w>making</w><w>the</w><w>same</w><w>graph</w><w>with</w><code rend="inline"><w>plotly.px</w></code><pc>.</pc></s></p><p><s xml:id="s_Nk71En"><w>Consider</w><w>the</w><w>following</w><w>example</w><w>:</w><w>building</w><w>a</w><w>simple</w><w>horizontal</w><w>bar</w><w>chart</w><w>to</w><w>show</w><w>male</w><w>vs.</w><w>female</w><w>homicide</w><w>prosecutions</w><pc>.</pc></s><s xml:id="s_aV3Qon"><w>First</w><w>,</w><w>let</w><w>'s</w><w>create</w><w>a</w><code rend="inline"><w>DataFrame</w></code><w>which</w><w>tallies</w><w>prosecution</w><w>counts</w><w>by</w><w>gender</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_interactive-visualization-with-plotly_17" corresp="code_interactive-visualization-with-plotly_17.txt" rend="block"/></ab><p><s xml:id="s_jxLhCk"><w>Now</w><w>let</w><w>'s</w><w>build</w><w>the</w><w>horizontal</w><w>bar</w><w>chart</w><w>with</w><w>these</w><w>data</w><w>with</w><code rend="inline"><w>plotly.go</w></code><w>:</w></s></p><ab><code lang="language-python" xml:id="code_interactive-visualization-with-plotly_18" corresp="code_interactive-visualization-with-plotly_18.txt" rend="block"/></ab><figure><figDesc><s xml:id="s_3omgrH"><w>Horizontal</w><w>bar</w><w>chart</w><pc>.</pc></s><s xml:id="s_2wvCYk"><w>The</w><w>x</w><w>axis</w><w>is</w><w>labeled</w><w>with</w><w>Counts</w><w>from</w><w>0</w><w>to</w><w>600</w><w>,</w><w>while</w><w>the</w><w>y</w><w>axis</w><w>is</w><w>labeled</w><w>Gender</w><pc>.</pc></s><s xml:id="s_024nxG"><w>The</w><w>upper</w><w>bar</w><w>shows</w><w>the</w><w>number</w><w>of</w><w>male</w><w>accused</w><w>,</w><w>whereas</w><w>the</w><w>lower</w><w>bar</w><w>shows</w><w>the</w><w>number</w><w>of</w><w>female</w><w>accused</w><pc>.</pc></s></figDesc><graphic url="/images/interactive-visualization-with-plotly/en-or-interactive-visualization-with-plotly-09.png"/><desc><s xml:id="s_zYP5yj"><w>Figure</w><w>9</w><pc>.</pc></s><s xml:id="s_zAGgCB"><w>Horizontal</w><w>bar</w><w>chart</w><w>with</w><w>basic</w><w>interactivity</w><w>created</w><w>using</w><w>Plotly</w><w>Graph</w><w>Objects</w><pc>.</pc></s><s xml:id="s_PU6xnT"><w>Readers</w><w>can</w><w>hover</w><w>over</w><w>the</w><w>bars</w><w>to</w><w>invoke</w><w>floating</w><w>labels</w><pc>.</pc></s><ref target="/assets/interactive-visualization-with-plotly/interactive-visualization-with-plotly-09.html"><w>Click</w><w>to</w><w>explore</w><w>an</w><w>interactive</w><w>variant</w><w>of</w><w>this</w><w>plot</w></ref><pc>.</pc></desc></figure><p><s xml:id="s_wlc9oi"><w>Note</w><w>that</w><w>when</w><w>using</w><w>Plotly</w><w>Graph</w><w>Objects</w><w>,</w><w>you</w><w>can</w><w>supply</w><w>a</w><w>title</w><w>using</w><w>the</w><code rend="inline"><w>layout</w></code><w>argument</w><w>,</w><w>which</w><w>takes</w><w>a</w><w>dictionary</w><w>containing</w><w>the</w><code rend="inline"><w>title</w></code><w>keyword</w><w>and</w><w>its</w><w>value</w><pc>.</pc></s></p><p><s xml:id="s_Rnkr4W"><w>Now</w><w>,</w><w>let</w><w>'s</w><w>create</w><w>the</w><w>same</w><w>figure</w><w>using</w><code rend="inline"><w>plotly.px</w></code><w>:</w></s></p><ab><code lang="language-python" xml:id="code_interactive-visualization-with-plotly_19" corresp="code_interactive-visualization-with-plotly_19.txt" rend="block"/></ab><figure><figDesc><s xml:id="s_k0ziAt"><w>Horizontal</w><w>bar</w><w>chart</w><pc>.</pc></s><s xml:id="s_Cbr3sH"><w>The</w><w>x</w><w>axis</w><w>is</w><w>labeled</w><w>with</w><w>Counts</w><w>from</w><w>0</w><w>to</w><w>600</w><w>,</w><w>while</w><w>the</w><w>y</w><w>axis</w><w>is</w><w>labeled</w><w>Gender</w><pc>.</pc></s><s xml:id="s_MDQrRV"><w>The</w><w>upper</w><w>bar</w><w>shows</w><w>the</w><w>number</w><w>of</w><w>male</w><w>accused</w><w>,</w><w>whereas</w><w>the</w><w>lower</w><w>bar</w><w>shows</w><w>the</w><w>number</w><w>of</w><w>female</w><w>accused</w><pc>.</pc></s></figDesc><graphic url="/images/interactive-visualization-with-plotly/en-or-interactive-visualization-with-plotly-10.png"/><desc><s xml:id="s_5mUH8Q"><w>Figure</w><w>10</w><pc>.</pc></s><s xml:id="s_22I4Mx"><w>Horizontal</w><w>bar</w><w>chart</w><w>with</w><w>basic</w><w>interactivity</w><w>created</w><w>using</w><w>Plotly</w><w>Express</w><pc>.</pc></s><s xml:id="s_UBQujF"><w>Readers</w><w>can</w><w>hover</w><w>over</w><w>the</w><w>bars</w><w>to</w><w>invoke</w><w>floating</w><w>labels</w><pc>.</pc></s><ref target="/assets/interactive-visualization-with-plotly/interactive-visualization-with-plotly-10.html"><w>Click</w><w>to</w><w>explore</w><w>an</w><w>interactive</w><w>variant</w><w>of</w><w>this</w><w>plot</w></ref><pc>.</pc></desc></figure><p><s xml:id="s_3PoRVu"><w>It</w><w>becomes</w><w>clear</w><w>from</w><w>the</w><w>above</w><w>examples</w><w>that</w><code rend="inline"><w>plotly.go</w></code><w>requires</w><w>more</w><w>code</w><w>than</w><code rend="inline"><w>plotly.px</w></code><w>because</w><w>many</w><w>features</w><w>need</w><w>to</w><w>be</w><w>manually</w><w>created</w><w>in</w><code rend="inline"><w>plotly.go</w></code><pc>.</pc></s><s xml:id="s_YMWNw1"><w>Thus</w><w>,</w><w>it</w><w>is</w><w>usually</w><w>better</w><w>to</w><w>use</w><code rend="inline"><w>plotly.px</w></code><w>where</w><w>possible</w><pc>.</pc></s></p></div><div type="3" n="4.4"><head><s xml:id="s_lndlAQ"><w>Why</w><w>Use</w><w>Graph</w><w>Objects</w><pc>?</pc></s></head><p><s xml:id="s_Jd2ubD"><w>This</w><w>leads</w><w>us</w><w>to</w><w>a</w><w>key</w><w>question</w><w>:</w><w>if</w><w>it</w><w>'s</w><w>so</w><w>much</w><w>easier</w><w>to</w><w>create</w><w>graphs</w><w>using</w><code rend="inline"><w>plotly.px</w></code><w>,</w><w>why</w><w>should</w><w>we</w><w>bother</w><w>using</w><code rend="inline"><w>plotly.go</w></code><w>at</w><w>all</w><pc>?</pc></s><s xml:id="s_T3rEoR"><w>The</w><w>simple</w><w>answer</w><w>is</w><w>that</w><w>there</w><w>are</w><w>several</w><w>useful</w><w>features</w><w>and</w><w>capabilities</w><w>which</w><w>are</w><w>only</w><w>available</w><w>by</w><w>using</w><code rend="inline"><w>plotly.go</w></code><pc>.</pc></s><s xml:id="s_4GbPOm"><w>We</w><w>will</w><w>look</w><w>at</w><w>two</w><w>such</w><w>capabilities</w><w>in</w><w>this</w><w>section</w><w>of</w><w>the</w><w>tutorial</w><w>:</w><w>tables</w><w>and</w><w>subplots</w><pc>.</pc></s></p></div><div type="3" n="4.5"><head><s xml:id="s_Ymsq2r"><w>Tables</w></s></head><p><s xml:id="s_XwssNL"><w>One</w><w>of</w><w>the</w><w>most</w><w>useful</w><w>features</w><w>provided</w><w>through</w><w>the</w><code rend="inline"><w>plotly.go</w></code><w>module</w><w>is</w><w>the</w><w>option</w><w>to</w><w>create</w><w>neat</w><w>,</w><w>interactive</w><w>tables</w><pc>.</pc></s><s xml:id="s_a4Vdwg"><w>This</w><w>requires</w><w>four</w><w>steps</w><w>:</w></s></p><list type="ordered"><item><s xml:id="s_Jl5Y2Z"><w>Create</w><w>a</w><w>new</w><w>figure</w><w>using</w><w>the</w><code rend="inline"><w>.Figure</w><w>(</w><w>)</w></code><w>method</w><pc>.</pc></s></item><item><s xml:id="s_ldrHrX"><w>Under</w><w>the</w><code rend="inline"><w>data</w></code><w>attribute</w><w>,</w><w>call</w><w>the</w><code rend="inline"><w>.Table</w><w>(</w><w>)</w></code><w>method</w><w>to</w><w>specify</w><w>that</w><w>the</w><w>figure</w><w>should</w><w>be</w><w>a</w><w>table</w><pc>.</pc></s></item><item><s xml:id="s_ApjvwM"><w>Within</w><w>the</w><code rend="inline"><w>.Table</w><w>(</w><w>)</w></code><w>method</w><w>,</w><w>create</w><w>a</w><code rend="inline"><w>header</w></code><w>dictionary</w><w>to</w><w>store</w><w>a</w><w>list</w><w>of</w><w>column</w><w>headings</w><pc>.</pc></s></item><item><s xml:id="s_0PXL0J"><w>Also</w><w>within</w><w>the</w><code rend="inline"><w>.Table</w><w>(</w><w>)</w></code><w>method</w><w>,</w><w>create</w><w>a</w><code rend="inline"><w>cells</w></code><w>dictionary</w><w>to</w><w>store</w><w>the</w><w>data</w><w>(</w><w>values</w><w>)</w><pc>.</pc></s></item></list><p><s xml:id="s_snZYYj"><w>It</w><w>is</w><w>also</w><w>possible</w><w>to</w><w>customise</w><w>it</w><w>with</w><w>labels</w><w>,</w><w>colors</w><w>and</w><w>alignment</w><w>options</w><pc>.</pc></s></p><p><s xml:id="s_ZsvPVF"><w>In</w><w>the</w><w>example</w><w>below</w><w>,</w><w>we</w><w>'ll</w><w>create</w><w>a</w><w>table</w><w>to</w><w>store</w><w>the</w><w>entire</w><w>Philadelphia</w><w>homicides</w><w>dataset</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_interactive-visualization-with-plotly_20" corresp="code_interactive-visualization-with-plotly_20.txt" rend="block"/></ab><figure><figDesc><s xml:id="s_6HFgMp"><w>Table</w><w>showing</w><w>a</w><w>portion</w><w>of</w><w>the</w><w>Philadelphia</w><w>Homicides</w><w>dataset</w><w>for</w><w>the</w><w>year</w><w>1902</w><pc>.</pc></s><s xml:id="s_EbbfmV"><w>Column</w><w>headers</w><w>are</w><w>Year</w><w>,</w><w>Charge</w><w>,</w><w>Gender</w><w>of</w><w>accused</w><w>,</w><w>Victim</w><w>age</w><w>,</w><w>Weapon</w><w>,</w><w>and</w><w>Gang</w><pc>.</pc></s></figDesc><graphic url="/images/interactive-visualization-with-plotly/en-or-interactive-visualization-with-plotly-11.png"/><desc><s xml:id="s_WTxU0c"><w>Figure</w><w>11</w><pc>.</pc></s><s xml:id="s_rfhvHC"><w>Table</w><w>containing</w><w>the</w><w>Philadelphia</w><w>Homicides</w><w>dataset</w><w>created</w><w>with</w><w>Plotly</w><w>Graph</w><w>Objects</w><pc>.</pc></s><s xml:id="s_0SfJLl"><w>Readers</w><w>can</w><w>scroll</w><w>through</w><w>the</w><w>entire</w><w>dataset</w><w>as</w><w>they</w><w>would</w><w>in</w><w>a</w><w>spreadsheet</w><pc>.</pc></s><ref target="/assets/interactive-visualization-with-plotly/interactive-visualization-with-plotly-11.html"><w>Click</w><w>to</w><w>explore</w><w>an</w><w>interactive</w><w>variant</w><w>of</w><w>this</w><w>plot</w></ref><pc>.</pc></desc></figure><p><s xml:id="s_cXEQWW"><w>As</w><w>with</w><code rend="inline"><w>plotly.px</w></code><w>,</w><w>figures</w><w>created</w><w>with</w><code rend="inline"><w>plotly.go</w></code><w>have</w><w>some</w><w>inherent</w><w>interactivity</w><pc>.</pc></s><s xml:id="s_bSXryG"><w>Tables</w><w>,</w><w>for</w><w>example</w><w>,</w><w>provide</w><w>users</w><w>the</w><w>ability</w><w>to</w><w>scroll</w><w>through</w><w>rows</w><w>(</w><w>either</w><w>using</w><w>a</w><w>trackpad</w><w>or</w><w>the</w><w>scrollbar</w><w>on</w><w>the</w><w>right</w><w>)</w><w>and</w><w>are</w><w>therefore</w><w>excellent</w><w>for</w><w>saving</w><w>space</w><pc>.</pc></s><s xml:id="s_Rb8XjS"><w>It</w><w>is</w><w>also</w><w>easy</w><w>to</w><w>move</w><w>columns</w><w>around</w><w>by</w><w>clicking</w><w>on</w><w>the</w><w>column</w><w>headers</w><w>and</w><w>dragging</w><w>them</w><w>left</w><w>or</w><w>right</w><pc>.</pc></s></p></div><div type="3" n="4.6"><head><s xml:id="s_2mZft7"><w>Subplots</w></s></head><p><s xml:id="s_RH3WkH"><w>Another</w><w>useful</w><w>feature</w><w>of</w><w>the</w><code rend="inline"><w>plotly.go</w></code><w>module</w><w>is</w><w>its</w><w>capacity</w><w>for</w><w>building</w><w>subplots</w><pc>.</pc></s><s xml:id="s_iyjJFC"><w>Although</w><code rend="inline"><w>plotly.px</w></code><w>can</w><w>build</w><w>facet</w><w>plots</w><w>,</w><w>these</w><w>are</w><w>comparatively</w><w>limited</w><w>,</w><w>since</w><w>they</w><w>must</w><w>all</w><w>share</w><w>the</w><w>same</w><w>graph</w><w>type</w><w>,</w><w>axes</w><w>and</w><w>variables</w><pc>.</pc></s><s xml:id="s_8Lsg0D"><w>Subplots</w><w>,</w><w>on</w><w>the</w><w>other</w><w>hand</w><w>,</w><w>allow</w><w>you</w><w>to</w><w>create</w><w>a</w><w>grid</w><w>containing</w><w>different</w><w>types</w><w>of</w><w>graphs</w><w>with</w><w>their</w><w>own</w><w>axes</w><w>and</w><w>variables</w><w>,</w><w>which</w><w>ends</w><w>up</w><w>looking</w><w>like</w><w>a</w><w>sort</w><w>of</w><w>'dashboard</w><w>'</w><pc>.</pc></s></p><p><s xml:id="s_WrZZeM"><w>Since</w><w>the</w><w>code</w><w>is</w><w>particularly</w><w>lengthy</w><w>for</w><w>creating</w><w>subplots</w><w>,</w><w>this</w><w>example</w><w>will</w><w>be</w><w>provided</w><w>on</w><w>a</w><w>step-by-step</w><w>basis</w><pc>.</pc></s><s xml:id="s_8RNtgx"><w>We</w><w>will</w><w>create</w><w>a</w><w>3x1</w><w>grid</w><w>containing</w><w>three</w><w>different</w><w>charts</w><w>:</w><w>the</w><w>first</w><w>will</w><w>be</w><w>a</w><w>standard</w><w>bar</w><w>chart</w><w>to</w><w>quantify</w><w>prosecution</w><w>counts</w><w>for</w><w>male</w><w>vs.</w><w>female</w><w>suspects</w><w>;</w><w>the</w><w>second</w><w>will</w><w>be</w><w>a</w><w>line</w><w>graph</w><w>showing</w><w>changes</w><w>in</w><w>male</w><w>vs.</w><w>female</w><w>prosecutions</w><w>over</w><w>time</w><w>;</w><w>and</w><w>the</w><w>third</w><w>will</w><w>be</w><w>a</w><w>boxplot</w><w>showing</w><w>the</w><w>minimum</w><w>,</w><w>inter-quartile</w><w>range</w><w>and</w><w>maximum</w><w>ages</w><w>of</w><w>male</w><w>vs.</w><w>female</w><w>suspects</w><pc>.</pc></s></p><div type="4" n="4.6.1"><head><s xml:id="s_4JXUr0"><w>Step</w><w>1</w><w>:</w><w>Import</w><w>the</w><w>subplots</w><w>module</w><w>and</w><w>get</w><w>data</w></s></head><ab><code lang="language-python" xml:id="code_interactive-visualization-with-plotly_21" corresp="code_interactive-visualization-with-plotly_21.txt" rend="block"/></ab></div><div type="4" n="4.6.2"><head><s xml:id="s_kdfDnl"><w>Step</w><w>2</w><w>:</w><w>Create</w><w>an</w><w>empty</w><w>subplot</w><w>with</w><w>a</w><w>3x1</w><w>grid</w><w>using</w><w>the</w><code rend="inline"><w>make_subplots</w><w>(</w><w>)</w></code><w>function</w></s></head><ab><code lang="language-python" xml:id="code_interactive-visualization-with-plotly_22" corresp="code_interactive-visualization-with-plotly_22.txt" rend="block"/></ab></div><div type="4" n="4.6.3"><head><s xml:id="s_5FO2vr"><w>Step</w><w>3</w><w>:</w><w>Add</w><w>the</w><w>first</w><w>graph</w><w>(</w><w>the</w><w>bar</w><w>chart</w><w>)</w><w>using</w><w>the</w><code rend="inline"><w>.add_trace</w><w>(</w><w>)</w></code><w>method</w></s></head><ab><code lang="language-python" xml:id="code_interactive-visualization-with-plotly_23" corresp="code_interactive-visualization-with-plotly_23.txt" rend="block"/></ab><figure><figDesc><s xml:id="s_KBsLNt"><w>A</w><w>three-column</w><w>plot</w><w>with</w><w>a</w><w>bar</w><w>chart</w><w>in</w><w>the</w><w>left</w><w>column</w><w>and</w><w>two</w><w>empty</w><w>columns</w><w>on</w><w>its</w><w>right</w><pc>.</pc></s><s xml:id="s_lyPt13"><w>The</w><w>y</w><w>axis</w><w>is</w><w>labeled</w><w>with</w><w>counts</w><w>from</w><w>0</w><w>to</w><w>600</w><w>,</w><w>while</w><w>the</w><w>bar</w><w>charts</w><w>on</w><w>the</w><w>x</w><w>axis</w><w>are</w><w>labeled</w><w>(</w><w>from</w><w>left</w><w>to</w><w>right</w><w>)</w><w>Female</w><w>and</w><w>Male</w><pc>.</pc></s></figDesc><graphic url="/images/interactive-visualization-with-plotly/en-or-interactive-visualization-with-plotly-12.png"/><desc><s xml:id="s_qPGobw"><w>Figure</w><w>12</w><pc>.</pc></s><s xml:id="s_TGZFri"><w>A</w><w>three-column</w><w>plot</w><w>with</w><w>basic</w><w>interactivity</w><w>created</w><w>using</w><w>Plotly</w><w>Graph</w><w>Objects</w><w>,</w><w>with</w><w>a</w><w>bar</w><w>chart</w><w>on</w><w>the</w><w>left</w><w>showing</w><w>the</w><w>number</w><w>of</w><w>accused</w><w>by</w><w>gender</w><w>,</w><w>and</w><w>two</w><w>empty</w><w>columns</w><w>on</w><w>the</w><w>right</w><pc>.</pc></s><s xml:id="s_btZkqk"><w>Readers</w><w>can</w><w>hover</w><w>over</w><w>the</w><w>bars</w><w>to</w><w>invoke</w><w>floating</w><w>labels</w><pc>.</pc></s><ref target="/assets/interactive-visualization-with-plotly/interactive-visualization-with-plotly-12.html"><w>Click</w><w>to</w><w>explore</w><w>an</w><w>interactive</w><w>variant</w><w>of</w><w>this</w><w>plot</w></ref><pc>.</pc></desc></figure><p style="alert alert-warning"><s xml:id="s_TxBPHb"><w>Note</w><w>:</w><w>If</w><w>you</w><w>are</w><w>creating</w><w>a</w><w>subplot</w><w>using</w><w>Jupyter</w><w>Notebook</w><w>,</w><w>rerunning</w><w>the</w><w>code</w><w>may</w><w>duplicate</w><w>the</w><w>trace</w><w>you</w><w>added</w><w>and</w><w>thereby</w><w>add</w><w>more</w><w>items</w><w>to</w><w>the</w><w>legend</w><pc>.</pc></s><s xml:id="s_LK2Okq"><w>If</w><w>you</w><w>need</w><w>to</w><w>rerun</w><w>the</w><w>code</w><w>,</w><w>it</w><w>is</w><w>best</w><w>to</w><w>restart</w><w>the</w><w>kernel</w><w>first</w><pc>.</pc></s></p></div><div type="4" n="4.6.4"><head><s xml:id="s_5BVjRM"><w>Step</w><w>4</w><w>:</w><w>Add</w><w>the</w><w>second</w><w>graph</w><w>(</w><w>the</w><w>line</w><w>graph</w><w>)</w></s></head><ab><code lang="language-python" xml:id="code_interactive-visualization-with-plotly_24" corresp="code_interactive-visualization-with-plotly_24.txt" rend="block"/></ab><figure><figDesc><s xml:id="s_S1Vpm7"><w>A</w><w>three-column</w><w>plot</w><w>with</w><w>a</w><w>bar</w><w>chart</w><w>in</w><w>the</w><w>left</w><w>column</w><w>and</w><w>a</w><w>line</w><w>graph</w><w>in</w><w>the</w><w>middle</w><w>column</w><pc>.</pc></s><s xml:id="s_8dwONG"><w>The</w><w>bar</w><w>chart's</w><w>y</w><w>axis</w><w>is</w><w>labeled</w><w>with</w><w>counts</w><w>from</w><w>0</w><w>to</w><w>600</w><w>,</w><w>while</w><w>the</w><w>x</w><w>axis</w><w>is</w><w>labeled</w><w>(</w><w>from</w><w>left</w><w>to</w><w>right</w><w>)</w><w>Female</w><w>and</w><w>Male</w><pc>.</pc></s><s xml:id="s_N8PhSP"><w>The</w><w>line</w><w>graph</w><w>'s</w><w>x</w><w>axis</w><w>is</w><w>labeled</w><w>with</w><w>years</w><w>from</w><w>1900</w><w>to</w><w>1930</w><w>and</w><w>the</w><w>y</w><w>axis</w><w>is</w><w>labeled</w><w>with</w><w>counts</w><w>from</w><w>0</w><w>to</w><w>150</w><pc>.</pc></s><s xml:id="s_vECS6c"><w>A</w><w>green</w><w>line</w><w>indicates</w><w>the</w><w>number</w><w>of</w><w>male</w><w>accused</w><w>,</w><w>and</w><w>a</w><w>red</w><w>line</w><w>indicates</w><w>the</w><w>number</w><w>of</w><w>female</w><w>accused</w><pc>.</pc></s><s xml:id="s_2khZ9n"><w>A</w><w>legend</w><w>in</w><w>the</w><w>top</w><w>right</w><w>provides</w><w>the</w><w>color</w><w>attributes</w><w>for</w><w>the</w><w>bars</w><w>in</w><w>the</w><w>bar</w><w>chart</w><w>and</w><w>the</w><w>lines</w><w>in</w><w>the</w><w>line</w><w>chart</w><pc>.</pc></s></figDesc><graphic url="/images/interactive-visualization-with-plotly/en-or-interactive-visualization-with-plotly-13.png"/><desc><s xml:id="s_PLBvXv"><w>Figure</w><w>13</w><pc>.</pc></s><s xml:id="s_fZ9jxv"><w>A</w><w>three-column</w><w>plot</w><w>created</w><w>using</w><w>Plotly</w><w>Graph</w><w>Objects</w><w>,</w><w>with</w><w>a</w><w>bar</w><w>chart</w><w>showing</w><w>the</w><w>number</w><w>of</w><w>accused</w><w>by</w><w>gender</w><w>and</w><w>a</w><w>line</w><w>graph</w><w>showing</w><w>the</w><w>number</w><w>of</w><w>male</w><w>and</w><w>female</w><w>accused</w><w>by</w><w>year</w><pc>.</pc></s><s xml:id="s_qJor9E"><w>Hover-over</w><w>invokes</w><w>floating</w><w>labels</w><w>for</w><w>each</w><w>bar</w><w>and</w><w>individual</w><w>data</w><w>points</w><pc>.</pc></s><s xml:id="s_tqgLo3"><w>The</w><w>third</w><w>column</w><w>is</w><w>still</w><w>empty</w><pc>.</pc></s><ref target="/assets/interactive-visualization-with-plotly/interactive-visualization-with-plotly-13.html"><w>Click</w><w>to</w><w>explore</w><w>an</w><w>interactive</w><w>variant</w><w>of</w><w>this</w><w>plot</w></ref><pc>.</pc></desc></figure><p style="alert alert-warning"><s xml:id="s_C2KK3D"><w>Note</w><w>that</w><w>if</w><w>you</w><w>did</w><w>not</w><w>import</w><w>`</w><w>plotly.graph_objs.scatter.Line</w><w>`</w><w>,</w><w>you</w><w>may</w><w>get</w><w>the</w><w>following</w><w>warning</w><w>(</w><w>which</w><w>you</w><w>can</w><w>safely</w><w>ignore</w><w>)</w><w>:</w><code xml:id="code_interactive-visualization-with-plotly_25" corresp="code_interactive-visualization-with-plotly_25.txt" rend="block"/></s></p></div><div type="4" n="4.6.5"><head><s xml:id="s_04q9h4"><w>Step</w><w>5</w><w>:</w><w>Add</w><w>the</w><w>final</w><w>graph</w><w>(</w><w>the</w><w>boxplot</w><w>)</w></s></head><p><s xml:id="s_VTysWY"><w>We</w><w>have</w><w>not</w><w>looked</w><w>at</w><w>boxplots</w><w>yet</w><w>,</w><w>but</w><w>they</w><w>are</w><w>created</w><w>in</w><w>a</w><w>similar</w><w>way</w><w>to</w><w>other</w><w>graphs</w><w>and</w><w>have</w><w>similar</w><w>interactive</w><w>behaviour</w><w>(</w><w>e.g</w><pc>.</pc></s><s xml:id="s_uG4zD0"><w>scrolling</w><w>over</w><w>a</w><w>box</w><w>will</w><w>show</w><w>the</w><w>minimum</w><w>,</w><w>maximum</w><w>,</w><w>median</w><w>,</w><w>and</w><w>interquartile</w><w>range</w><w>of</w><w>the</w><w>data</w><w>)</w><pc>.</pc></s></p><ab><code lang="language-python" xml:id="code_interactive-visualization-with-plotly_26" corresp="code_interactive-visualization-with-plotly_26.txt" rend="block"/></ab><figure><figDesc><s xml:id="s_X4ipyz"><w>A</w><w>three-column</w><w>plot</w><w>with</w><w>a</w><w>bar</w><w>chart</w><w>in</w><w>the</w><w>left</w><w>column</w><w>,</w><w>a</w><w>line</w><w>graph</w><w>in</w><w>the</w><w>middle</w><w>column</w><w>and</w><w>a</w><w>box</w><w>plot</w><w>in</w><w>the</w><w>right</w><w>column</w><pc>.</pc></s><s xml:id="s_b7v5Zp"><w>The</w><w>bar</w><w>chart's</w><w>y</w><w>axis</w><w>is</w><w>labeled</w><w>with</w><w>counts</w><w>from</w><w>0</w><w>to</w><w>600</w><w>,</w><w>while</w><w>the</w><w>x</w><w>axis</w><w>is</w><w>labeled</w><w>(</w><w>from</w><w>left</w><w>to</w><w>right</w><w>)</w><w>Female</w><w>and</w><w>Male</w><pc>.</pc></s><s xml:id="s_AxYZP3"><w>The</w><w>line</w><w>graph</w><w>'s</w><w>x</w><w>axis</w><w>is</w><w>labeled</w><w>with</w><w>years</w><w>from</w><w>1900</w><w>to</w><w>1930</w><w>and</w><w>the</w><w>y</w><w>axis</w><w>is</w><w>labeled</w><w>with</w><w>counts</w><w>from</w><w>0</w><w>to</w><w>150</w><pc>.</pc></s><s xml:id="s_j4T17M"><w>A</w><w>green</w><w>line</w><w>indicates</w><w>the</w><w>number</w><w>of</w><w>male</w><w>accused</w><w>,</w><w>and</w><w>a</w><w>red</w><w>line</w><w>indicates</w><w>the</w><w>number</w><w>of</w><w>female</w><w>accused</w><pc>.</pc></s><s xml:id="s_d6iZzO"><w>The</w><w>x</w><w>axis</w><w>of</w><w>the</w><w>box</w><w>plot</w><w>shows</w><w>one</w><w>box</w><w>for</w><w>female</w><w>accused</w><w>on</w><w>the</w><w>left</w><w>and</w><w>another</w><w>box</w><w>for</w><w>male</w><w>accused</w><w>on</w><w>the</w><w>right</w><pc>.</pc></s><s xml:id="s_XgQykW"><w>The</w><w>y</w><w>axis</w><w>indicates</w><w>age</w><w>between</w><w>0</w><w>and</w><w>100</w><pc>.</pc></s><s xml:id="s_xNJSn4"><w>The</w><w>legend</w><w>indicates</w><w>the</w><w>color</w><w>attributes</w><w>and</w><w>labels</w><w>for</w><w>all</w><w>three</w><w>subplots</w><pc>.</pc></s></figDesc><graphic url="/images/interactive-visualization-with-plotly/en-or-interactive-visualization-with-plotly-14.png"/><desc><s xml:id="s_GibsHi"><w>Figure</w><w>14</w><pc>.</pc></s><s xml:id="s_Ryi5yu"><w>A</w><w>three-column</w><w>plot</w><w>created</w><w>using</w><w>Plotly</w><w>Graph</w><w>Objects</w><w>,</w><w>with</w><w>a</w><w>bar</w><w>chart</w><w>showing</w><w>the</w><w>number</w><w>of</w><w>accused</w><w>by</w><w>gender</w><w>,</w><w>a</w><w>line</w><w>graph</w><w>showing</w><w>the</w><w>number</w><w>of</w><w>male</w><w>and</w><w>female</w><w>accused</w><w>by</w><w>year</w><w>,</w><w>and</w><w>a</w><w>box</w><w>plot</w><w>showing</w><w>the</w><w>distribution</w><w>and</w><w>outlier</w><w>values</w><w>of</w><w>male</w><w>and</w><w>female</w><w>accused</w><w>by</w><w>age</w><pc>.</pc></s><s xml:id="s_HESpNr"><w>Hover-over</w><w>invokes</w><w>floating</w><w>labels</w><w>for</w><w>each</w><w>bar</w><w>or</w><w>individual</w><w>data</w><w>point</w><w>and</w><w>shows</w><w>the</w><w>minimum</w><w>,</w><w>maximum</w><w>,</w><w>median</w><w>,</w><w>and</w><w>interquartile</w><w>range</w><w>on</w><w>the</w><w>box</w><w>plot</w><pc>.</pc></s><ref target="/assets/interactive-visualization-with-plotly/interactive-visualization-with-plotly-14.html"><w>Click</w><w>to</w><w>explore</w><w>an</w><w>interactive</w><w>variant</w><w>of</w><w>this</w><w>plot</w></ref><pc>.</pc></desc></figure></div><div type="4" n="4.6.6"><head><s xml:id="s_MZx89q"><w>Step</w><w>6</w><w>:</w><w>Format</w><w>the</w><w>figure</w></s></head><p><s xml:id="s_2eS8QI"><w>There</w><w>are</w><w>still</w><w>some</w><w>tweaks</w><w>needed</w><w>,</w><w>like</w><w>adding</w><w>a</w><w>main</w><w>title</w><w>for</w><w>the</w><w>figure</w><w>and</w><w>subtitles</w><w>for</w><w>each</w><w>subplot</w><pc>.</pc></s><s xml:id="s_p7U4Fh"><w>You</w><w>might</w><w>also</w><w>want</w><w>to</w><w>change</w><w>fonts</w><w>,</w><w>text</w><w>positioning</w><w>,</w><w>and</w><w>the</w><w>figure</w><w>size</w><w>—</w><w>you</w><w>can</w><w>use</w><w>the</w><code rend="inline"><w>.update_layout</w><w>(</w><w>)</w></code><w>method</w><w>to</w><w>change</w><w>these</w><w>properties</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_interactive-visualization-with-plotly_27" corresp="code_interactive-visualization-with-plotly_27.txt" rend="block"/></ab><figure><figDesc><s xml:id="s_nFuaMU"><w>A</w><w>three-column</w><w>plot</w><w>with</w><w>a</w><w>bar</w><w>chart</w><w>in</w><w>the</w><w>left</w><w>column</w><w>,</w><w>a</w><w>line</w><w>graph</w><w>in</w><w>the</w><w>middle</w><w>column</w><w>and</w><w>a</w><w>box</w><w>plot</w><w>in</w><w>the</w><w>right</w><w>column</w><pc>.</pc></s><s xml:id="s_JzNfWe"><w>The</w><w>bar</w><w>chart's</w><w>y</w><w>axis</w><w>is</w><w>labeled</w><w>with</w><w>counts</w><w>from</w><w>0</w><w>to</w><w>600</w><w>,</w><w>while</w><w>the</w><w>x</w><w>axis</w><w>is</w><w>labeled</w><w>(</w><w>from</w><w>left</w><w>to</w><w>right</w><w>)</w><w>Female</w><w>and</w><w>Male</w><pc>.</pc></s><s xml:id="s_PVH06F"><w>The</w><w>line</w><w>graph</w><w>'s</w><w>x</w><w>axis</w><w>is</w><w>labeled</w><w>with</w><w>years</w><w>from</w><w>1900</w><w>to</w><w>1930</w><w>and</w><w>the</w><w>y</w><w>axis</w><w>is</w><w>labeled</w><w>with</w><w>counts</w><w>from</w><w>0</w><w>to</w><w>150</w><pc>.</pc></s><s xml:id="s_Dzdt2H"><w>A</w><w>green</w><w>line</w><w>indicates</w><w>the</w><w>number</w><w>of</w><w>male</w><w>accused</w><w>,</w><w>and</w><w>a</w><w>red</w><w>line</w><w>indicates</w><w>the</w><w>number</w><w>of</w><w>female</w><w>accused</w><pc>.</pc></s><s xml:id="s_wLm5Mh"><w>The</w><w>x</w><w>axis</w><w>of</w><w>the</w><w>box</w><w>plot</w><w>shows</w><w>one</w><w>box</w><w>for</w><w>female</w><w>accused</w><w>on</w><w>the</w><w>left</w><w>and</w><w>another</w><w>box</w><w>for</w><w>male</w><w>accused</w><w>on</w><w>the</w><w>right</w><pc>.</pc></s><s xml:id="s_DKVGys"><w>The</w><w>y</w><w>axis</w><w>indicates</w><w>age</w><w>between</w><w>0</w><w>and</w><w>100</w><pc>.</pc></s><s xml:id="s_Nc3rus"><w>The</w><w>legend</w><w>indicates</w><w>the</w><w>color</w><w>attributes</w><w>and</w><w>labels</w><w>for</w><w>all</w><w>three</w><w>subplots</w><pc>.</pc></s><s xml:id="s_CRAE34"><w>The</w><w>subtitles</w><w>:</w><w>Suspect</w><w>gender</w><w>,</w><w>Year</w><w>,</w><w>and</w><w>Suspect</w><w>gender</w><w>are</w><w>placed</w><w>under</w><w>each</w><w>subplot</w><w>(</w><w>from</w><w>left</w><w>to</w><w>right</w><w>)</w><pc>.</pc></s></figDesc><graphic url="/images/interactive-visualization-with-plotly/en-or-interactive-visualization-with-plotly-15.png"/><desc><s xml:id="s_auW1k6"><w>Figure</w><w>15</w><pc>.</pc></s><s xml:id="s_TV9Gld"><w>A</w><w>three-column</w><w>plot</w><w>created</w><w>using</w><w>Plotly</w><w>Graph</w><w>Objects</w><w>,</w><w>with</w><w>a</w><w>bar</w><w>chart</w><w>showing</w><w>the</w><w>number</w><w>of</w><w>accused</w><w>by</w><w>gender</w><w>,</w><w>a</w><w>line</w><w>graph</w><w>showing</w><w>the</w><w>number</w><w>of</w><w>male</w><w>and</w><w>female</w><w>accused</w><w>by</w><w>year</w><w>,</w><w>and</w><w>a</w><w>box</w><w>plot</w><w>showing</w><w>the</w><w>distribution</w><w>and</w><w>outlier</w><w>values</w><w>of</w><w>male</w><w>and</w><w>female</w><w>accused</w><w>by</w><w>age</w><pc>.</pc></s><s xml:id="s_YfbWIT"><w>This</w><w>plot</w><w>is</w><w>a</w><w>variant</w><w>of</w><w>that</w><w>produced</w><w>in</w><w>Figure</w><w>14</w><w>,</w><w>with</w><w>added</w><w>subtitles</w><w>for</w><w>each</w><w>subplot</w><pc>.</pc></s><ref target="/assets/interactive-visualization-with-plotly/interactive-visualization-with-plotly-15.html"><w>Click</w><w>to</w><w>explore</w><w>an</w><w>interactive</w><w>variant</w><w>of</w><w>this</w><w>plot</w></ref><pc>.</pc></desc></figure></div><div type="4" n="4.6.7"><head><s xml:id="s_cFZehN"><w>Step</w><w>7</w><w>:</w><w>Add</w><w>annotations</w><w>to</w><w>the</w><w>line</w><w>graph</w></s></head><p><s xml:id="s_Cnlkdw"><w>Since</w><w>the</w><w>legend</w><w>has</w><w>been</w><w>removed</w><w>,</w><w>it</w><w>'s</w><w>now</w><w>impossible</w><w>to</w><w>distinguish</w><w>between</w><w>the</w><w>lines</w><w>which</w><w>represent</w><w>males</w><w>and</w><w>those</w><w>which</w><w>represent</w><w>females</w><w>in</w><w>the</w><w>line</w><w>graph</w><pc>.</pc></s><s xml:id="s_TBPNr2"><w>We</w><w>can</w><w>use</w><w>the</w><code rend="inline"><w>.update_layout</w><w>(</w><w>)</w></code><w>method</w><w>to</w><w>add</w><w>annotated</w><w>arrows</w><w>pointing</w><w>to</w><w>each</w><w>line</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_interactive-visualization-with-plotly_28" corresp="code_interactive-visualization-with-plotly_28.txt" rend="block"/></ab><figure><figDesc><s xml:id="s_fICeK0"><w>A</w><w>three-column</w><w>plot</w><w>with</w><w>a</w><w>bar</w><w>chart</w><w>in</w><w>the</w><w>left</w><w>column</w><w>,</w><w>a</w><w>line</w><w>graph</w><w>in</w><w>the</w><w>middle</w><w>column</w><w>and</w><w>a</w><w>box</w><w>plot</w><w>in</w><w>the</w><w>right</w><w>column</w><pc>.</pc></s><s xml:id="s_muiiAA"><w>The</w><w>bar</w><w>chart's</w><w>y</w><w>axis</w><w>is</w><w>labeled</w><w>with</w><w>counts</w><w>from</w><w>0</w><w>to</w><w>600</w><w>,</w><w>while</w><w>the</w><w>x</w><w>axis</w><w>is</w><w>labeled</w><w>(</w><w>from</w><w>left</w><w>to</w><w>right</w><w>)</w><w>Female</w><w>and</w><w>Male</w><pc>.</pc></s><s xml:id="s_ckhBiu"><w>The</w><w>line</w><w>graph</w><w>'s</w><w>x</w><w>axis</w><w>is</w><w>labeled</w><w>with</w><w>years</w><w>from</w><w>1900</w><w>to</w><w>1930</w><w>and</w><w>the</w><w>y</w><w>axis</w><w>is</w><w>labeled</w><w>with</w><w>counts</w><w>from</w><w>0</w><w>to</w><w>150</w><pc>.</pc></s><s xml:id="s_LtUenz"><w>A</w><w>green</w><w>line</w><w>indicates</w><w>the</w><w>number</w><w>of</w><w>male</w><w>accused</w><w>,</w><w>and</w><w>a</w><w>red</w><w>line</w><w>indicates</w><w>the</w><w>number</w><w>of</w><w>female</w><w>accused</w><pc>.</pc></s><s xml:id="s_Zr3LGk"><w>An</w><w>arrow</w><w>with</w><w>the</w><w>label</w><w>Males</w><w>points</w><w>to</w><w>the</w><w>green</w><w>line</w><w>and</w><w>an</w><w>arrow</w><w>with</w><w>the</w><w>label</w><w>females</w><w>points</w><w>to</w><w>the</w><w>red</w><w>line</w><pc>.</pc></s><s xml:id="s_TV8HzL"><w>The</w><w>x</w><w>axis</w><w>of</w><w>the</w><w>box</w><w>plot</w><w>shows</w><w>one</w><w>box</w><w>for</w><w>female</w><w>accused</w><w>on</w><w>the</w><w>left</w><w>and</w><w>another</w><w>box</w><w>for</w><w>male</w><w>accused</w><w>on</w><w>the</w><w>right</w><pc>.</pc></s><s xml:id="s_0wG2T3"><w>The</w><w>y</w><w>axis</w><w>indicates</w><w>age</w><w>between</w><w>0</w><w>and</w><w>100</w><pc>.</pc></s><s xml:id="s_f7SyWD"><w>The</w><w>legend</w><w>indicates</w><w>the</w><w>color</w><w>attributes</w><w>and</w><w>labels</w><w>for</w><w>all</w><w>three</w><w>subplots</w><pc>.</pc></s><s xml:id="s_nS6wTU"><w>The</w><w>subtitles</w><w>:</w><w>Suspect</w><w>gender</w><w>,</w><w>Year</w><w>,</w><w>and</w><w>Suspect</w><w>gender</w><w>are</w><w>placed</w><w>under</w><w>each</w><w>subplot</w><w>(</w><w>from</w><w>left</w><w>to</w><w>right</w><w>)</w><pc>.</pc></s></figDesc><graphic url="/images/interactive-visualization-with-plotly/en-or-interactive-visualization-with-plotly-16.png"/><desc><s xml:id="s_ygZIyl"><w>Figure</w><w>16</w><pc>.</pc></s><s xml:id="s_FwEdwN"><w>A</w><w>three-column</w><w>plot</w><w>created</w><w>using</w><w>Plotly</w><w>Graph</w><w>Objects</w><w>,</w><w>with</w><w>a</w><w>bar</w><w>chart</w><w>showing</w><w>the</w><w>number</w><w>of</w><w>accused</w><w>by</w><w>gender</w><w>,</w><w>a</w><w>line</w><w>graph</w><w>showing</w><w>the</w><w>number</w><w>of</w><w>male</w><w>and</w><w>female</w><w>accused</w><w>by</w><w>year</w><w>,</w><w>and</w><w>a</w><w>box</w><w>plot</w><w>showing</w><w>the</w><w>distribution</w><w>and</w><w>outlier</w><w>values</w><w>of</w><w>male</w><w>and</w><w>female</w><w>accused</w><w>by</w><w>age</w><pc>.</pc></s><s xml:id="s_nLkWjI"><w>This</w><w>plot</w><w>is</w><w>a</w><w>variant</w><w>of</w><w>that</w><w>produced</w><w>in</w><w>Figure</w><w>15</w><w>,</w><w>with</w><w>added</w><w>annotations</w><w>in</w><w>the</w><w>line</w><w>graph</w><pc>.</pc></s><ref target="/assets/interactive-visualization-with-plotly/interactive-visualization-with-plotly-16.html"><w>Click</w><w>to</w><w>explore</w><w>an</w><w>interactive</w><w>variant</w><w>of</w><w>this</w><w>plot</w></ref><pc>.</pc></desc></figure></div><div type="4" n="4.6.8"><head><s xml:id="s_79Q5Fs"><w>Step</w><w>8</w><w>:</w><w>Add</w><w>annotations</w><w>below</w><w>the</w><w>figure</w></s></head><p><s xml:id="s_TmRDT9"><w>We</w><w>might</w><w>want</w><w>to</w><w>add</w><w>annotations</w><w>below</w><w>the</w><w>figure</w><w>to</w><w>specify</w><w>the</w><w>focus</w><w>of</w><w>each</w><w>subplot</w><w>(</w><w>particularly</w><w>useful</w><w>for</w><w>academic</w><w>publishing</w><w>)</w><w>,</w><w>which</w><w>we</w><w>can</w><w>do</w><w>using</w><w>the</w><code rend="inline"><w>.add_annotation</w><w>(</w><w>)</w></code><w>method</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_interactive-visualization-with-plotly_29" corresp="code_interactive-visualization-with-plotly_29.txt" rend="block"/></ab><figure><figDesc><s xml:id="s_n8x37A"><w>A</w><w>three-column</w><w>plot</w><w>with</w><w>a</w><w>bar</w><w>chart</w><w>in</w><w>the</w><w>left</w><w>column</w><w>,</w><w>a</w><w>line</w><w>graph</w><w>in</w><w>the</w><w>middle</w><w>column</w><w>and</w><w>a</w><w>box</w><w>plot</w><w>in</w><w>the</w><w>right</w><w>column</w><pc>.</pc></s><s xml:id="s_CJnho5"><w>The</w><w>bar</w><w>chart's</w><w>y</w><w>axis</w><w>is</w><w>labeled</w><w>with</w><w>counts</w><w>from</w><w>0</w><w>to</w><w>600</w><w>,</w><w>while</w><w>the</w><w>x</w><w>axis</w><w>is</w><w>labeled</w><w>(</w><w>from</w><w>left</w><w>to</w><w>right</w><w>)</w><w>Female</w><w>and</w><w>Male</w><pc>.</pc></s><s xml:id="s_fkoL7n"><w>The</w><w>line</w><w>graph</w><w>'s</w><w>x</w><w>axis</w><w>is</w><w>labeled</w><w>with</w><w>years</w><w>from</w><w>1900</w><w>to</w><w>1930</w><w>and</w><w>the</w><w>y</w><w>axis</w><w>is</w><w>labeled</w><w>with</w><w>counts</w><w>from</w><w>0</w><w>to</w><w>150</w><pc>.</pc></s><s xml:id="s_ZYXeBX"><w>A</w><w>green</w><w>line</w><w>indicates</w><w>the</w><w>number</w><w>of</w><w>male</w><w>accused</w><w>,</w><w>and</w><w>a</w><w>red</w><w>line</w><w>indicates</w><w>the</w><w>number</w><w>of</w><w>female</w><w>accused</w><pc>.</pc></s><s xml:id="s_Wmwm3Y"><w>An</w><w>arrow</w><w>with</w><w>the</w><w>label</w><w>Males</w><w>points</w><w>to</w><w>the</w><w>green</w><w>line</w><w>and</w><w>an</w><w>arrow</w><w>with</w><w>the</w><w>label</w><w>females</w><w>points</w><w>to</w><w>the</w><w>red</w><w>line</w><pc>.</pc></s><s xml:id="s_3Y5HOg"><w>The</w><w>x</w><w>axis</w><w>of</w><w>the</w><w>box</w><w>plot</w><w>shows</w><w>one</w><w>box</w><w>for</w><w>female</w><w>accused</w><w>on</w><w>the</w><w>left</w><w>and</w><w>another</w><w>box</w><w>for</w><w>male</w><w>accused</w><w>on</w><w>the</w><w>right</w><pc>.</pc></s><s xml:id="s_rwEegC"><w>The</w><w>y</w><w>axis</w><w>indicates</w><w>age</w><w>between</w><w>0</w><w>and</w><w>100</w><pc>.</pc></s><s xml:id="s_eBhuux"><w>The</w><w>legend</w><w>indicates</w><w>the</w><w>color</w><w>attributes</w><w>and</w><w>labels</w><w>for</w><w>all</w><w>three</w><w>subplots</w><pc>.</pc></s><s xml:id="s_dXEgcS"><w>The</w><w>subtitles</w><w>:</w><w>Suspect</w><w>gender</w><w>,</w><w>Year</w><w>,</w><w>and</w><w>Suspect</w><w>gender</w><w>are</w><w>placed</w><w>under</w><w>each</w><w>subplot</w><w>(</w><w>from</w><w>left</w><w>to</w><w>right</w><w>)</w><pc>.</pc></s><s xml:id="s_5GwNC3"><w>An</w><w>additional</w><w>annotation</w><w>below</w><w>all</w><w>three</w><w>subplots</w><w>reads</w><w>Male</w><w>vs.</w><w>female</w><w>suspects</w><w>(</w><w>left</w><w>)</w><w>;</w><w>male</w><w>vs.</w><w>female</w><w>suspects</w><w>over</w><w>time</w><w>(</w><w>middle</w><w>)</w><w>;</w><w>age</w><w>distributions</w><w>of</w><w>male</w><w>vs.</w><w>female</w><w>suspects</w><w>(</w><w>right</w><w>)</w><pc>.</pc></s></figDesc><graphic url="/images/interactive-visualization-with-plotly/en-or-interactive-visualization-with-plotly-17.png"/><desc><s xml:id="s_dbmdpn"><w>Figure</w><w>17</w><pc>.</pc></s><s xml:id="s_EFb7uZ"><w>A</w><w>three-column</w><w>plot</w><w>created</w><w>using</w><w>Plotly</w><w>Graph</w><w>Objects</w><w>,</w><w>with</w><w>a</w><w>bar</w><w>chart</w><w>showing</w><w>the</w><w>number</w><w>of</w><w>accused</w><w>by</w><w>gender</w><w>,</w><w>a</w><w>line</w><w>graph</w><w>showing</w><w>the</w><w>number</w><w>of</w><w>male</w><w>and</w><w>female</w><w>accused</w><w>by</w><w>year</w><w>,</w><w>and</w><w>a</w><w>box</w><w>plot</w><w>showing</w><w>the</w><w>distribution</w><w>and</w><w>outlier</w><w>values</w><w>of</w><w>male</w><w>and</w><w>female</w><w>accused</w><w>by</w><w>age</w><pc>.</pc></s><s xml:id="s_0Eccme"><w>This</w><w>plot</w><w>is</w><w>a</w><w>variant</w><w>of</w><w>that</w><w>produced</w><w>in</w><w>Figure</w><w>16</w><w>,</w><w>with</w><w>an</w><w>additional</w><w>annotation</w><w>added</w><w>below</w><w>all</w><w>three</w><w>subplots</w><pc>.</pc></s><ref target="/assets/interactive-visualization-with-plotly/interactive-visualization-with-plotly-17.html"><w>Click</w><w>to</w><w>explore</w><w>an</w><w>interactive</w><w>variant</w><w>of</w><w>this</w><w>plot</w></ref><pc>.</pc></desc></figure></div></div></div><div type="2" n="5"><head><s xml:id="s_9mdDRS"><w>Viewing</w><w>and</w><w>Exporting</w><w>Figures</w></s></head><p><s xml:id="s_OrnVbf"><w>In</w><w>the</w><w>previous</w><w>sections</w><w>of</w><w>the</w><w>lesson</w><w>,</w><w>we</w><w>saw</w><w>how</w><w>to</w><w>create</w><w>and</w><w>modify</w><w>interactive</w><w>graphs</w><w>using</w><w>both</w><w>the</w><code rend="inline"><w>plotly.px</w></code><w>and</w><code rend="inline"><w>plotly.go</w></code><w>modules</w><pc>.</pc></s><s xml:id="s_Z5RmnM"><w>We</w><w>will</w><w>next</w><w>consider</w><w>how</w><w>to</w><w>view</w><w>and</w><w>export</w><w>these</w><w>graphs</w><w>for</w><w>publications</w><w>or</w><w>other</w><w>research</w><w>outputs</w><pc>.</pc></s></p><p><s xml:id="s_yRJ3pB"><w>The</w><w>methods</w><w>discussed</w><w>here</w><w>will</w><w>use</w><w>a</w><w>basic</w><w>line</w><w>graph</w><w>,</w><w>identical</w><w>to</w><w>that</w><w>created</w><w>earlier</w><w>in</w><w>the</w><w>tutorial</w><w>(</w><w>see</w><w>Figure</w><w>3</w><w>)</w><pc>.</pc></s><s xml:id="s_Z3wis2"><w>Let</w><w>'s</w><w>start</w><w>by</w><w>recreating</w><w>that</w><w>figure</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_interactive-visualization-with-plotly_30" corresp="code_interactive-visualization-with-plotly_30.txt" rend="block"/></ab><div type="3" n="5.1"><head><s xml:id="s_MwbTDL"><w>Viewing</w><w>Figures</w></s></head><p><s xml:id="s_GgFSyP"><w>As</w><w>we</w><w>have</w><w>seen</w><w>throughout</w><w>this</w><w>lesson</w><w>,</w><w>the</w><code rend="inline"><w>.show</w><w>(</w><w>)</w></code><w>method</w><w>can</w><w>be</w><w>used</w><w>to</w><w>output</w><w>a</w><w>figure</w><pc>.</pc></s><s xml:id="s_P8CpHw"><w>By</w><w>default</w><w>,</w><w>this</w><w>method</w><w>uses</w><w>the</w><w>inbuilt</w><w>Plotly</w><w>renderer</w><w>and</w><w>therefore</w><w>provides</w><w>interactivity</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_interactive-visualization-with-plotly_31" corresp="code_interactive-visualization-with-plotly_31.txt" rend="block"/></ab><figure><figDesc><s xml:id="s_Cw8diB"><w>Bar</w><w>graph</w><w>plotting</w><w>Charge</w><w>on</w><w>the</w><w>x</w><w>axis</w><w>,</w><w>against</w><w>Size</w><w>on</w><w>the</w><w>y</w><w>axis</w><pc>.</pc></s><s xml:id="s_P0JMBD"><w>The</w><w>Charges</w><w>are</w><w>Abortion</w><w>,</w><w>Manslaughter</w><w>and</w><w>Murder</w><w>,</w><w>and</w><w>the</w><w>Sizes</w><w>range</w><w>from</w><w>0</w><w>to</w><w>500</w><pc>.</pc></s></figDesc><graphic url="/images/interactive-visualization-with-plotly/en-or-interactive-visualization-with-plotly-03.png"/><desc><s xml:id="s_NPBYYO"><w>Figure</w><w>18</w><pc>.</pc></s><s xml:id="s_1E8hUy"><w>Reproduction</w><w>of</w><w>Figure</w><w>3</w><w>,</w><w>illustrating</w><w>the</w><code rend="inline"><w>fig.show</w><w>(</w><w>)</w></code><w>method</w><pc>.</pc></s><ref target="/assets/interactive-visualization-with-plotly/interactive-visualization-with-plotly-03.html"><w>Click</w><w>to</w><w>explore</w><w>an</w><w>interactive</w><w>variant</w><w>of</w><w>this</w><w>plot</w></ref><pc>.</pc></desc></figure></div><div type="3" n="5.2"><head><s xml:id="s_MQvb3D"><w>Exporting</w><w>Figures</w></s></head><p><s xml:id="s_hRAFlL"><w>Plotly</w><w>figures</w><w>can</w><w>be</w><w>exported</w><w>either</w><w>as</w><w>interactive</w><w>or</w><w>static</w><w>(</w><w>non-interactive</w><w>)</w><w>graphs</w><pc>.</pc></s><s xml:id="s_lRXi3o"><w>Interactive</w><w>graphs</w><w>may</w><w>be</w><w>useful</w><w>for</w><w>research</w><w>websites</w><w>and</w><w>(</w><w>some</w><w>)</w><w>digital</w><w>publications</w><w>,</w><w>whereas</w><w>static</w><w>graphs</w><w>are</w><w>appropriate</w><w>for</w><w>print</w><w>publications</w><pc>.</pc></s></p><div type="4" n="5.2.1"><head><s xml:id="s_sbKfqK"><w>Exporting</w><w>as</w><w>HTML</w></s></head><p><s xml:id="s_igaCBr"><w>Exporting</w><w>figures</w><w>as</w><w>HTML</w><w>retains</w><w>their</w><w>interactivity</w><w>when</w><w>viewed</w><w>in</w><w>a</w><w>web</w><w>browser</w><pc>.</pc></s><s xml:id="s_dRCoaY"><w>Any</w><w>figure</w><w>can</w><w>be</w><w>saved</w><w>as</w><w>an</w><w>HTML</w><w>file</w><w>by</w><w>using</w><w>the</w><code rend="inline"><w>.write_html</w><w>(</w><w>)</w></code><w>method</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_interactive-visualization-with-plotly_32" corresp="code_interactive-visualization-with-plotly_32.txt" rend="block"/></ab><p><s xml:id="s_wsDCb4"><w>By</w><w>default</w><w>,</w><w>any</w><w>exported</w><w>figure</w><w>will</w><w>be</w><w>saved</w><w>in</w><w>the</w><w>same</w><w>folder</w><w>as</w><w>that</w><w>in</w><w>which</w><w>your</w><w>script</w><w>is</w><w>stored</w><pc>.</pc></s><s xml:id="s_UhptBf"><w>If</w><w>you</w><w>want</w><w>to</w><w>store</w><w>the</w><w>figure</w><w>elsewhere</w><w>(</w><w>a</w><w>different</w><w>folder</w><w>)</w><w>,</w><w>you</w><w>can</w><w>specify</w><w>the</w><w>exact</w><w>directory</w><w>when</w><w>you</w><w>specify</w><w>the</w><w>file</w><w>name</w><w>(</w><w>for</w><w>example</w><w>,</w><code rend="inline"><w>fig.write_html</w><w>(</w><w>``</w><w>your_path/your_file_name.html</w><w>''</w><w>)</w></code><w>)</w><pc>.</pc></s></p></div><div type="4" n="5.2.2"><head><s xml:id="s_7euhv0"><w>Exporting</w><w>static</w><w>images</w></s></head><p><s xml:id="s_1iQUQ5"><w>Plotly</w><w>provides</w><w>numerous</w><w>options</w><w>for</w><w>exporting</w><w>both</w><w>raster</w><w>images</w><w>(</w><code rend="inline"><w>.png</w></code><w>or</w><code rend="inline"><w>.jpg</w></code><w>)</w><w>and</w><w>vector</w><w>images</w><w>(</w><code rend="inline"><w>.pdf</w></code><w>or</w><pc>.</pc></s><s xml:id="s_p6riLO"><code rend="inline"><w>svg</w></code><w>)</w><pc>.</pc></s><s xml:id="s_b7LDU1"><w>To</w><w>do</w><w>this</w><w>,</w><w>use</w><w>the</w><code rend="inline"><w>.write_image</w><w>(</w><w>)</w></code><w>function</w><w>and</w><w>specify</w><w>the</w><w>image</w><w>type</w><w>within</w><w>the</w><w>file</w><w>name</w><w>:</w></s></p><ab><code lang="language-python" xml:id="code_interactive-visualization-with-plotly_33" corresp="code_interactive-visualization-with-plotly_33.txt" rend="block"/></ab></div></div></div><div type="2" n="6"><head><s xml:id="s_0gGv5y"><w>Summary</w></s></head><p><s xml:id="s_Ju0ok6"><w>Plotly</w><w>offers</w><w>the</w><w>ability</w><w>to</w><w>create</w><w>publication-quality</w><w>,</w><w>interactive</w><w>figures</w><w>using</w><w>Python</w><w>and</w><w>other</w><w>programming</w><w>languages</w><pc>.</pc></s><s xml:id="s_ALxn5O"><w>This</w><w>lesson</w><w>provides</w><w>an</w><w>overview</w><w>of</w><w>what</w><w>Plotly</w><w>is</w><w>,</w><w>why</w><w>it</w><w>'s</w><w>useful</w><w>,</w><w>and</w><w>how</w><w>it</w><w>can</w><w>be</w><w>used</w><w>with</w><w>Python</w><pc>.</pc></s><s xml:id="s_UilxWD"><w>It</w><w>also</w><w>demonstrates</w><w>the</w><w>different</w><w>modules</w><w>in</w><w>the</w><w>Plotly</w><w>framework</w><w>(</w><w>Plotly</w><w>Express</w><w>and</w><w>Plotly</w><w>Graph</w><w>Objects</w><w>)</w><w>and</w><w>the</w><w>methods</w><w>required</w><w>to</w><w>create</w><w>,</w><w>edit</w><w>,</w><w>and</w><w>export</w><w>data</w><w>visualizations</w><pc>.</pc></s><s xml:id="s_CJRMZ0"><w>The</w><w>key</w><w>syntaxes</w><w>covered</w><w>in</w><w>this</w><w>lesson</w><w>are</w><w>:</w></s></p><list type="unordered"><item><s xml:id="s_djNUYJ"><w>Installing</w><w>Plotly</w><w>using</w><code rend="inline"><w>pip</w><w>install</w><w>plotly</w></code></s></item><item><s xml:id="s_7ykCkm"><w>Importing</w><w>Plotly</w><w>Express</w><w>and</w><w>Plotly</w><w>Graph</w><w>Objects</w><w>using</w><code rend="inline"><w>import</w><w>plotly.express</w><w>as</w><w>px</w></code><w>and</w><code rend="inline"><w>import</w><w>plotly.graph_objects</w><w>as</w><w>go</w></code></s></item><item><s xml:id="s_lrw6c5"><w>With</w><w>Plotly</w><w>Express</w><w>:</w><list type="unordered"><item><s xml:id="s_JCdzvZ"><w>Creating</w><w>graphs</w><w>using</w><code rend="inline"><w>px.bar</w><w>(</w><w>)</w></code><w>,</w><code rend="inline"><w>px.line</w><w>(</w><w>)</w></code><w>,</w><w>and</w><code rend="inline"><w>px.scatter</w><w>(</w><w>)</w></code></s></item><item><s xml:id="s_twU5JH"><w>Adding</w><w>features</w><w>to</w><w>graphs</w><w>using</w><w>parameters</w><w>such</w><w>as</w><code rend="inline"><w>title</w></code><w>,</w><code rend="inline"><w>labels</w></code><w>,</w><code rend="inline"><w>color</w></code><w>,</w><w>and</w><code rend="inline"><w>animation_frame</w></code></s></item><item><s xml:id="s_hLc9Ok"><w>Using</w><code rend="inline"><w>.update_layout</w><w>(</w><w>)</w></code><w>to</w><w>edit</w><w>figures</w><w>after</w><w>creation</w><w>and/or</w><w>add</w><w>dropdown</w><w>bars</w></s></item></list></s></item><item><s xml:id="s_wd9enu"><w>With</w><w>Plotly</w><w>Graph</w><w>Objects</w><w>:</w><list type="unordered"><item><s xml:id="s_9SBfa0"><w>Recognizing</w><w>the</w><code rend="inline"><w>data</w></code><w>,</w><code rend="inline"><w>layout</w></code><w>,</w><w>and</w><code rend="inline"><w>traces</w></code><w>attributes</w><w>as</w><w>key</w><w>underlying</w><w>structure</w><w>of</w><w>a</w><w>graph</w><w>object</w></s></item><item><s xml:id="s_9HExHU"><w>Creating</w><w>new</w><w>(</w><w>empty</w><w>)</w><w>graph</w><w>objects</w><w>with</w><code rend="inline"><w>go.Figure</w><w>(</w><w>)</w></code></s></item><item><s xml:id="s_Ofs11k"><w>Creating</w><w>graphs</w><w>using</w><code rend="inline"><w>go.Bar</w><w>(</w><w>)</w></code><w>,</w><code rend="inline"><w>go.Table</w><w>(</w><w>)</w></code><w>,</w><code rend="inline"><w>go.Line</w><w>(</w><w>)</w></code><w>,</w><w>and</w><code rend="inline"><w>go.Box</w><w>(</w><w>)</w></code></s></item><item><s xml:id="s_ZaIhhd"><w>Editing</w><w>features</w><w>using</w><w>the</w><code rend="inline"><w>layout</w></code><w>attribute</w></s></item><item><s xml:id="s_zmRE9O"><w>Creating</w><w>subplots</w><w>(</w><w>importing</w><w>the</w><w>subplots</w><w>module</w><w>using</w><code rend="inline"><w>from</w><w>plotly.subplots</w><w>import</w><w>make_subplots</w></code><w>,</w><w>implementing</w><w>subplots</w><w>with</w><code rend="inline"><w>make_subplots</w><w>(</w><w>)</w></code><w>function</w><w>,</w><w>and</w><w>adding</w><w>traces</w><w>to</w><w>subplots</w><w>using</w><code rend="inline"><w>.add_trace</w><w>(</w><w>)</w></code><w>method</w><w>)</w></s></item><item><s xml:id="s_i2nggL"><w>Using</w><code rend="inline"><w>.update_layout</w><w>(</w><w>)</w></code><w>to</w><w>edit</w><w>figures</w><w>after</w><w>creation</w></s></item></list></s></item><item><s xml:id="s_VorkRo"><w>Exporting</w><w>figures</w><w>created</w><w>with</w><w>Express</w><w>or</w><w>Graph</w><w>Objects</w><w>using</w><code rend="inline"><w>.write_html</w><w>(</w><w>)</w></code><w>and</w><code rend="inline"><w>.write_image</w><w>(</w><w>)</w></code></s></item></list></div><div type="2" n="7"><head><s xml:id="s_QgwbXU"><w>Endnotes</w></s></head><p><s xml:id="s_zQqoO1"><ref type="footnotemark" target="#en_note_1"/><w>:</w><w>Under</w><w>the</w><w>hood</w><w>,</w><w>these</w><w>libraries</w><w>are</w><w>built</w><w>on</w><w>top</w><w>of</w><w>the</w><w>Plotly</w><w>JavaScript</w><w>library</w><pc>.</pc></s><s xml:id="s_RfIr9Q"><ref type="footnotemark" target="#en_note_2"/><w>:</w><w>Plotly</w><w>Dash</w><w>is</w><w>outside</w><w>the</w><w>scope</w><w>of</w><w>this</w><w>lesson</w><w>,</w><w>which</w><w>instead</w><w>focuses</w><w>on</w><code rend="inline"><w>plotly.px</w></code><w>and</w><code rend="inline"><w>plotly.go</w></code><pc>.</pc></s><s xml:id="s_oHHhYb"><ref type="footnotemark" target="#en_note_3"/><w>:</w><w>For</w><w>further</w><w>information</w><w>on</w><w>Bokeh</w><w>,</w><w>see</w><w>Charlie</w><w>Harper</w><w>'s</w><w>lesson</w><w>on</w><ref target="/en/lessons/visualizing-with-bokeh"><w>Visualizing</w><w>Data</w><w>with</w><w>Bokeh</w><w>and</w><w>Pandas</w></ref><w>here</w><w>on</w><emph><w>Programming</w><w>Historian</w></emph><pc>.</pc></s><s xml:id="s_xN4td7"><ref type="footnotemark" target="#en_note_4"/><w>:</w><w>The</w><w>dataset</w><w>and</w><w>its</w><w>related</w><w>documents</w><w>are</w><w>available</w><w>freely</w><w>via</w><w>the</w><ref target="https://perma.cc/WCW9-YRX9"><w>Historical</w><w>Violence</w><w>Database</w></ref><w>project</w><w>organized</w><w>by</w><w>Ohio</w><w>State</w><w>University</w><w>and</w><w>licensed</w><w>under</w><w>a</w><ref target="https://perma.cc/3BYZ-UDYW"><w>Creative</w><w>Commons</w><w>Attribution-Noncommercial-Share</w><w>Alike</w><w>3.0</w><w>United</w><w>States</w><w>License</w></ref><pc>.</pc></s><s xml:id="s_GSUy1m"><ref type="footnotemark" target="#en_note_5"/><w>:</w><w>If</w><w>you</w><w>already</w><w>work</w><w>with</w><w>Jupyter</w><w>notebooks</w><w>,</w><w>there</w><w>is</w><w>a</w><w>good</w><w>chance</w><w>that</w><w>other</w><w>dependencies</w><w>are</w><w>already</w><w>installed</w><pc>.</pc></s><s xml:id="s_uPaS7l"><w>However</w><w>,</w><w>if</w><w>you</w><w>are</w><w>working</w><w>in</w><w>a</w><w>clean</w><w>Python</w><w>environment</w><w>or</w><w>in</w><w>a</w><w>code</w><w>editor</w><w>like</w><w>VS</w><w>Code</w><w>,</w><w>it</w><w>may</w><w>also</w><w>be</w><w>necessary</w><w>to</w><w>run</w><code rend="inline"><w>pip</w><w>install</w><w>ipykernel</w></code><w>and</w><code rend="inline"><w>pip</w><w>install</w><w>nbformat</w></code><pc>.</pc></s><s xml:id="s_QLXkfT"><ref type="footnotemark" target="#en_note_6"/><w>:</w><w>We</w><w>will</w><w>also</w><w>be</w><w>using</w><w>the</w><w>NumPy</w><w>module</w><w>,</w><w>but</w><w>this</w><w>is</w><w>automatically</w><w>installed</w><w>with</w><w>the</w><w>installation</w><w>of</w><w>pandas</w><pc>.</pc></s><s xml:id="s_tHG4Gs"><ref type="footnotemark" target="#en_note_7"/><w>:</w><w>Kaleido</w><w>is</w><w>a</w><w>Python</w><w>library</w><w>for</w><w>generating</w><w>static</w><w>images</w><w>(</w><w>e.g</w><pc>.</pc></s><s xml:id="s_Xp9NDv"><w>JPG</w><w>and</w><w>SVG</w><w>files</w><w>)</w><w>and</w><w>will</w><w>therefore</w><w>be</w><w>needed</w><w>when</w><w>exporting</w><w>non-interactive</w><w>graphs</w><pc>.</pc></s></p></div></body>
    </text>
</TEI>
