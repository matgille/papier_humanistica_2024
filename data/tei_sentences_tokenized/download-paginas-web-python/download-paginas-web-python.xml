<TEI xmlns="http://www.tei-c.org/ns/1.0" xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="download-paginas-web-python" type="translation" xml:base="download-paginas-web-python/download-paginas-web-python/download-paginas-web-python.xml">
    <teiHeader>
        <fileDesc>
            <titleStmt>
                <title>Download de páginas Web com Python</title>
                <author role="original_author">
                    <persName>William J. Turkel</persName>
                    <persName>Adam Crymble</persName>
                </author>
                <editor role="reviewers">
                    <persName>Jim Clifford</persName>
                    <persName>Frederik Elwert</persName>
                </editor>
                <author role="translators">Bruno Gasparotto Ponne</author>
                <editor role="translation-reviewers">
                    <persName>Felipe Lamarca</persName>
                    <persName>Daniel Alves</persName>
                </editor>
                <editor role="editors">Miriam Posner</editor>
            </titleStmt>
            <publicationStmt>
                <distributor>Programming Historian</distributor>
                <date type="translated">03/26/2021</date>
                <idno type="doi">10.46430/phpt0010</idno>
                <date type="published">07/17/2012</date>
            </publicationStmt>
            <sourceDesc>
                <p>Born digital, in a markdown format. Original file: <ref type="original_file" target="#working-with-web-pages"/>.</p>
                <p>There are other translations: <ref target="#telecharger-des-pages-web-avec-python #trabajar-con-paginas-web"/>
                </p>
            </sourceDesc>
        </fileDesc>
        <profileDesc>
            <abstract>
                <p>Esta lição apresenta o conceito de *Localizador Uniforme de Recursos* (URL em inglês) e explica como usar o Python para fazer o download de uma página *Web* no seu disco local.</p>
            </abstract>
            <textClass>
                <keywords>
                    <term xml:lang="en">python</term>
                </keywords>
            </textClass>
        </profileDesc>
    </teiHeader>
    <text xml:lang="pt">
        <body><div type="2" n="1"><head><s xml:id="s_ubXQv7"><w>Objetivos</w><w>da</w><w>Lição</w></s></head><p><s xml:id="s_4i4jGm"><w>Esta</w><w>lição</w><w>apresenta</w><w>o</w><w>conceito</w><w>de</w><emph><w>Localizador</w><w>Uniforme</w><w>de</w><w>Recursos</w></emph><w>(</w><w>URL</w><w>em</w><w>inglês</w><w>)</w><w>e</w><w>explica</w><w>como</w><w>usar</w><w>o</w><w>Python</w><w>para</w><w>fazer</w><w>o</w><w>download</w><w>de</w><w>uma</w><w>página</w><emph><w>Web</w></emph><w>no</w><w>seu</w><w>disco</w><w>local</w><pc>.</pc></s></p></div><div type="2" n="2"><head><s xml:id="s_dc3Pg7"><w>Sobre</w><w>URLs</w></s></head><p><s xml:id="s_0i0amq"><w>Uma</w><w>página</w><emph><w>Web</w></emph><w>é</w><w>um</w><w>ficheiro</w><w>hospedado</w><w>noutro</w><w>computador</w><w>,</w><w>conhecido</w><w>como</w><emph><w>servidor</w></emph><pc>.</pc></s><s xml:id="s_UubJ56"><w>Quando</w><w>um</w><w>site</w><w>é</w><w>acessado</w><w>,</w><w>na</w><w>realidade</w><w>,</w><w>o</w><w>seu</w><w>computador</w><w>(</w><w>o</w><emph><w>cliente</w></emph><w>)</w><w>envia</w><w>um</w><w>pedido</w><w>ao</w><emph><w>servidor</w><w>de</w><w>hospedagem</w></emph><w>por</w><w>meio</w><w>da</w><w>rede</w><w>e</w><w>o</w><w>servidor</w><w>responde</w><w>enviando</w><w>uma</w><w>cópia</w><w>da</w><w>página</w><w>ao</w><w>seu</w><w>computador</w><pc>.</pc></s><s xml:id="s_oXBJLw"><w>Uma</w><w>forma</w><w>de</w><w>acessar</w><w>uma</w><w>página</w><w>por</w><w>meio</w><w>do</w><w>seu</w><w>navegador</w><w>é</w><w>seguir</w><w>um</w><w>link</w><pc>.</pc></s><s xml:id="s_F3D9gB"><w>É</w><w>possível</w><w>também</w><w>colar</w><w>ou</w><w>digitar</w><w>uma</w><w>URL</w><w>(</w><w>localizador</w><w>uniforme</w><w>de</w><w>recursos</w><w>)</w><w>diretamente</w><w>no</w><w>seu</w><w>navegador</w><pc>.</pc></s><s xml:id="s_Ckhk6D"><w>A</w><w>URL</w><w>informa</w><w>ao</w><w>seu</w><w>navegador</w><w>onde</w><w>encontrar</w><w>um</w><w>recurso</w><w>online</w><w>,</w><w>especificando</w><w>o</w><w>servidor</w><w>,</w><w>o</w><w>diretório</w><w>e</w><w>o</w><w>nome</w><w>do</w><w>ficheiro</w><w>a</w><w>ser</w><w>recuperado</w><w>,</w><w>bem</w><w>como</w><w>o</w><w>tipo</w><w>de</w><emph><w>protocolo</w></emph><w>que</w><w>o</w><w>servidor</w><w>e</w><w>o</w><w>seu</w><w>navegador</w><w>utilizarão</w><w>para</w><w>troca</w><w>de</w><w>informações</w><w>(</w><w>como</w><w>o</w><w>HTTP</w><w>,</w><emph><w>protocolo</w><w>de</w><w>transferência</w><w>de</w><w>hipertexto</w></emph><w>)</w><pc>.</pc></s><s xml:id="s_DN2U7N"><w>A</w><w>estrutura</w><w>básica</w><w>de</w><w>uma</w><w>URL</w><w>é</w></s></p><ab><code xml:id="code_download-paginas-web-python_0" corresp="code_download-paginas-web-python_0.txt" rend="block"/></ab><p><s xml:id="s_wUQYc5"><w>Vejamos</w><w>alguns</w><w>exemplos</w><w>:</w></s></p><ab><code lang="language-xml" xml:id="code_download-paginas-web-python_1" corresp="code_download-paginas-web-python_1.txt" rend="block"/></ab><p><s xml:id="s_l0uVsi"><w>O</w><w>tipo</w><w>mais</w><w>básico</w><w>de</w><w>URL</w><w>especifica</w><w>apenas</w><w>o</w><w>protocolo</w><w>e</w><w>o</w><w>domínio</w><pc>.</pc></s><s xml:id="s_tb6aOH"><w>Quando</w><w>inserido</w><w>em</w><w>seu</w><w>navegador</w><w>,</w><w>essa</w><w>URL</w><w>retornará</w><w>a</w><w>página</w><w>principal</w><w>do</w><w>site</w><ref target="https://www.oldbaileyonline.org"><w>Old</w><w>Bailey</w><w>Online</w></ref><pc>.</pc></s><s xml:id="s_B5MjYG"><w>O</w><w>pressuposto</w><w>convencional</w><w>é</w><w>que</w><w>a</w><w>página</w><w>principal</w><w>num</w><w>determinado</w><w>diretório</w><w>se</w><w>chamará</w><emph><w>index</w></emph><w>,</w><w>geralmente</w><code rend="inline"><w>index.html</w></code><pc>.</pc></s></p><p><s xml:id="s_IaYxOy"><w>A</w><w>URL</w><w>pode</w><w>incluir</w><w>também</w><w>um</w><emph><w>número</w><w>de</w><w>porta</w></emph><w>opcional</w><pc>.</pc></s><s xml:id="s_foOHt1"><w>Sem</w><w>entrar</w><w>em</w><w>muitos</w><w>detalhes</w><w>,</w><w>o</w><w>protocolo</w><w>de</w><w>rede</w><w>em</w><w>que</w><w>se</w><w>baseia</w><w>a</w><w>troca</w><w>de</w><w>informações</w><w>na</w><w>Internet</w><w>permite</w><w>que</w><w>computadores</w><w>se</w><w>conectem</w><w>de</w><w>diferentes</w><w>maneiras</w><pc>.</pc></s><s xml:id="s_NegaeK"><w>Números</w><w>de</w><w>portas</w><w>são</w><w>utilizados</w><w>para</w><w>distinguir</w><w>esses</w><w>diferentes</w><w>tipos</w><w>de</w><w>conexão</w><pc>.</pc></s><s xml:id="s_5EWtTI"><w>Uma</w><w>vez</w><w>que</w><w>a</w><w>porta</w><w>padrão</w><w>para</w><w>HTTP</w><w>é</w><w>a</w><w>80</w><w>,</w><w>a</w><w>seguinte</w><w>URL</w><w>é</w><w>equivalente</w><w>à</w><w>anterior</w><pc>.</pc></s></p><ab><code lang="language-xml" xml:id="code_download-paginas-web-python_2" corresp="code_download-paginas-web-python_2.txt" rend="block"/></ab><p><s xml:id="s_IuaTI0"><w>Geralmente</w><w>há</w><w>diversas</w><w>páginas</w><emph><w>Web</w></emph><w>num</w><w>determinado</w><w>site</w><pc>.</pc></s><s xml:id="s_t50ytR"><w>Essas</w><w>páginas</w><w>são</w><w>armazenadas</w><w>em</w><w>diretórios</w><w>no</w><w>servidor</w><w>e</w><w>é</w><w>possível</w><w>especificar</w><w>o</w><w>caminho</w><w>para</w><w>uma</w><w>página</w><w>em</w><w>particular</w><pc>.</pc></s><s xml:id="s_uTI0s6"><w>A</w><w>página</w><w>``</w><w>About</w><w>''</w><w>para</w><w>o</w><w>site</w><emph><w>The</w><w>Old</w><w>Bailey</w><w>Online</w></emph><w>tem</w><w>a</w><w>seguinte</w><w>URL</w><w>:</w></s></p><ab><code lang="language-xml" xml:id="code_download-paginas-web-python_3" corresp="code_download-paginas-web-python_3.txt" rend="block"/></ab><p><s xml:id="s_S3JwFs"><w>Por</w><w>fim</w><w>,</w><w>algumas</w><w>páginas</w><w>permitem</w><w>inserir</w><emph><w>queries</w></emph><w>,</w><w>termo</w><w>em</w><w>inglês</w><w>que</w><w>significa</w><w>pedido</w><w>,</w><w>solicitação</w><pc>.</pc></s><s xml:id="s_dubXuh"><w>O</w><w>site</w><emph><w>The</w><w>Old</w><w>Bailey</w><w>Online</w></emph><w>,</w><w>por</w><w>exemplo</w><w>,</w><w>foi</w><w>desenvolvido</w><w>de</w><w>forma</w><w>que</w><w>é</w><w>possível</w><w>requisitar</w><w>uma</w><w>de</w><w>suas</w><w>páginas</w><w>utilizando</w><w>uma</w><emph><w>query</w><w>string</w></emph><w>(</w><w>conjunto</w><w>de</w><w>caracteres</w><w>que</w><w>contém</w><w>uma</w><w>solicitação</w><w>)</w><pc>.</pc></s><s xml:id="s_OJ2M6V"><w>A</w><w>seguinte</w><w>URL</w><w>acessará</w><w>uma</w><w>página</w><w>de</w><w>resultado</w><w>de</w><w>buscas</w><w>por</w><w>registros</w><w>de</w><w>julgamentos</w><w>criminais</w><w>contendo</w><w>a</w><w>palavra</w><w>``</w><w>arsenic</w><w>''</w><pc>.</pc></s></p><ab><code lang="language-xml" xml:id="code_download-paginas-web-python_4" corresp="code_download-paginas-web-python_4.txt" rend="block"/></ab><p><s xml:id="s_y0YVKj"><w>O</w><w>fragmento</w><w>a</w><w>seguir</w><w>ao</w><w>sinal</w><w>``</w><pc>?</pc></s><s xml:id="s_PkAljD"><w>''</w><w>representa</w><w>a</w><emph><w>query</w></emph><pc>.</pc></s><s xml:id="s_z4vz55"><w>Aprenda</w><w>mais</w><w>sobre</w><w>como</w><w>criar</w><emph><w>queries</w></emph><w>na</w><w>lição</w><ref target="/en/lessons/downloading-multiple-records-using-query-strings"><w>Downloading</w><w>Multiple</w><w>Records</w><w>Using</w><w>Query</w><w>Strings</w></ref><w>(</w><w>em</w><w>inglês</w><w>)</w><pc>.</pc></s></p></div><div type="2" n="3"><head><s xml:id="s_RasNJ5"><w>Acessando</w><w>URLs</w><w>com</w><w>Python</w></s></head><p><s xml:id="s_A4Nkl2"><w>Como</w><w>um</w><w>historiador</w><w>da</w><w>era</w><w>digital</w><w>,</w><w>você</w><w>frenquentemente</w><w>desejará</w><w>utilizar</w><w>dados</w><w>mantidos</w><w>em</w><w>sites</w><w>acadêmicos</w><pc>.</pc></s><s xml:id="s_3mhUSi"><w>Para</w><w>acessar</w><w>esses</w><w>dados</w><w>,</w><w>seria</w><w>possível</w><w>abrir</w><w>as</w><w>URLs</w><w>uma</w><w>por</w><w>uma</w><w>e</w><w>copiar</w><w>e</w><w>colar</w><w>os</w><w>conteúdos</w><w>num</w><w>ficheiro</w><w>de</w><w>texto</w><pc>.</pc></s><s xml:id="s_FJIBRa"><w>Alternativamente</w><w>,</w><w>é</w><w>possível</w><w>utilizar</w><w>Python</w><w>para</w><w>,</w><w>automaticamente</w><w>,</w><w>coletar</w><w>e</w><w>processar</w><w>os</w><w>dados</w><pc>.</pc></s><s xml:id="s_tJ2SCa"><w>Para</w><w>isso</w><w>,</w><w>é</w><w>preciso</w><w>aprender</w><w>como</w><w>abrir</w><w>uma</w><w>URL</w><w>por</w><w>meio</w><w>do</w><w>seu</w><w>próprio</w><w>código</w><pc>.</pc></s><s xml:id="s_fuyOIA"><w>A</w><w>linguagem</w><w>Python</w><w>inclui</w><w>uma</w><w>série</w><w>de</w><w>padrões</w><w>para</w><w>fazer</w><w>isso</w><pc>.</pc></s></p><p><s xml:id="s_6l4uAw"><w>Como</w><w>exemplo</w><w>,</w><w>vamos</w><w>trabalhar</w><w>com</w><w>o</w><w>tipo</w><w>de</w><w>documento</w><w>que</w><w>provavelmente</w><w>você</w><w>vai</w><w>encontrar</w><w>ao</w><w>realizar</w><w>uma</w><w>pesquisa</w><w>na</w><w>área</w><w>de</w><w>História</w><pc>.</pc></s><s xml:id="s_3CmoXl"><w>Suponhamos</w><w>que</w><w>haja</w><w>interesse</w><w>nas</w><w>relações</w><w>raciais</w><w>na</w><w>Inglaterra</w><w>do</w><w>século</w><w>XVIII</w><pc>.</pc></s><s xml:id="s_uzugEi"><w>O</w><w>site</w><emph><w>The</w><w>Old</w><w>Bailey</w><w>Online</w></emph><w>é</w><w>uma</w><w>fonte</w><w>rica</w><w>de</w><w>informações</w><w>históricas</w><w>e</w><w>disponibiliza</w><w>transcrições</w><w>de</w><w>julgamentos</w><w>que</w><w>ocorreram</w><w>entre</w><w>1674</w><w>e</w><w>1913</w><pc>.</pc></s></p><figure><desc><s xml:id="s_kGxbVT"><w>A</w><w>homepage</w><w>do</w><w>site</w><w>The</w><w>Old</w><w>Bailey</w><w>Online</w></s></desc><graphic url="old-bailey.png"/></figure><p><s xml:id="s_ckcjq8"><w>Para</w><w>esse</w><w>exemplo</w><w>,</w><w>utilizaremos</w><w>a</w><w>transcrição</w><w>do</w><w>julgamento</w><w>de</w><w>Benjamin</w><w>Bowsey</w><w>,</w><w>um</w><w>negro</w><w>condenado</w><w>por</w><w>perturbar</w><w>a</w><w>paz</w><w>durante</w><w>os</w><w>protestos</w><w>de</w><w>Gordon</w><w>em</w><w>1780</w><pc>.</pc></s><s xml:id="s_47hdae"><w>A</w><w>URL</w><w>para</w><w>o</w><w>registro</w><w>é</w></s></p><ab><code lang="language-xml" xml:id="code_download-paginas-web-python_5" corresp="code_download-paginas-web-python_5.txt" rend="block"/></ab><p><s xml:id="s_MGncq3"><w>Estudando</w><w>a</w><w>URL</w><w>,</w><w>podemos</w><w>verificar</w><w>algumas</w><w>coisas</w><pc>.</pc></s><s xml:id="s_2gFTgG"><w>Primeiro</w><w>,</w><w>o</w><w>site</w><w>é</w><w>programado</w><w>em</w><w>JSP</w><w>(</w><emph><w>JavaServer</w><w>Pages</w></emph><w>,</w><w>uma</w><w>linguagem</w><w>de</w><w>programação</w><w>para</w><w>a</w><emph><w>web</w></emph><w>cujo</w><w>resultado</w><w>é</w><w>um</w><w>ficheiro</w><w>HTML</w><w>)</w><pc>.</pc></s><s xml:id="s_zXFtIA"><w>Segundo</w><w>,</w><w>é</w><w>possível</w><w>acessar</w><w>registros</w><w>de</w><w>julgamentos</w><w>individuais</w><w>fazendo</w><w>uso</w><w>de</w><emph><w>query</w><w>strings</w></emph><pc>.</pc></s><s xml:id="s_9rr250"><w>Cada</w><w>registro</w><w>recebe</w><w>um</w><w>número</w><w>único</w><w>(</w><emph><w>id=t</w></emph><w>na</w><w>URL</w><w>)</w><w>,</w><w>formado</w><w>a</w><w>partir</w><w>da</w><w>data</w><w>da</w><w>sessão</w><w>de</w><w>julgamento</w><w>no</w><w>formato</w><w>(</w><emph><w>AAAAMMDD</w></emph><w>)</w><w>e</w><w>o</w><w>número</w><w>do</w><w>julgamento</w><w>naquela</w><w>sessão</w><w>do</w><w>tribunal</w><pc>.</pc></s><s xml:id="s_vknPBA"><w>Neste</w><w>caso</w><w>,</w><emph><w>33</w></emph><pc>.</pc></s><s xml:id="s_CGWCbs"><w>Caso</w><w>as</w><w>duas</w><w>ocorrências</w><w>de</w><code rend="inline"><w>33</w></code><w>sejam</w><w>trocadas</w><w>por</w><code rend="inline"><w>34</w></code><w>no</w><w>link</w><w>acima</w><w>,</w><w>o</w><w>seu</w><w>navegador</w><w>o</w><w>encaminhará</w><w>ao</w><w>próximo</w><w>julgamento</w><pc>.</pc></s><s xml:id="s_KqWU3x"><w>Infelizmente</w><w>,</w><w>nem</w><w>todos</w><w>os</w><w>sites</w><w>possuem</w><w>URLs</w><w>tão</w><w>acessíveis</w><w>e</w><w>confiáveis</w><w>quanto</w><w>essa</w><pc>.</pc></s></p><figure><desc><s xml:id="s_h96CeN"><w>Transcrição</w><w>do</w><w>julgamento</w><w>de</w><w>Benjamin</w><w>Bowsey</w><w>,</w><w>1780</w></s></desc><graphic url="bowsey-trial-page.png"/></figure><p><s xml:id="s_KdIfNB"><w>Observe</w><w>a</w><w>página</w><w>do</w><w>julgamento</w><w>de</w><w>Benjamin</w><w>Bowsey</w><pc>.</pc></s><s xml:id="s_yB8up2"><w>Mais</w><w>importante</w><w>do</w><w>que</w><w>o</w><w>conteúdo</w><w>são</w><w>os</w><w>elementos</w><w>presentes</w><w>na</w><w>página</w><pc>.</pc></s><s xml:id="s_Pr5tMw"><w>Note</w><w>o</w><w>link</w><ref target="http://www.oldbaileyonline.org/browse.jsp?foo=bar&amp;path=sessionsPapers/17800628.xml&amp;div=t17800628-33&amp;xml=yes"><w>View</w><w>as</w><w>XML</w></ref><w>na</w><w>parte</w><w>inferior</w><pc>.</pc></s><s xml:id="s_8QeEXc"><w>Esse</w><w>link</w><w>apresenta</w><w>uma</w><w>versão</w><w>repleta</w><w>de</w><w>marcações</w><w>no</w><w>texto</w><w>que</w><w>podem</w><w>ser</w><w>úteis</w><w>para</w><w>certos</w><w>tipos</w><w>de</w><w>pesquisa</w><pc>.</pc></s><s xml:id="s_vV3sfa"><w>O</w><ref target="http://www.oldbaileyonline.org/images.jsp?doc=178006280084"><w>documento</w><w>original</w><w>digitalizado</w></ref><w>do</w><w>julgamento</w><w>também</w><w>pode</w><w>ser</w><w>acessado</w><pc>.</pc></s></p><p><s xml:id="s_zw6RZb"><w>Agora</w><w>vamos</w><w>tentar</w><w>abrir</w><w>a</w><w>página</w><w>utilizando</w><w>Python</w><pc>.</pc></s><s xml:id="s_VgQo8k"><w>Copie</w><w>o</w><w>seguinte</w><w>programa</w><w>no</w><emph><w>Komodo</w><w>Edit</w></emph><w>e</w><w>salve</w><w>o</w><w>ficheiro</w><w>como</w><code rend="inline"><w>open-webpage.py</w></code><pc>.</pc></s><s xml:id="s_4mOo3n"><w>Quando</w><w>executar</w><w>o</w><w>programa</w><w>,</w><w>a</w><w>página</w><w>do</w><w>julgamento</w><w>será</w><w>acessada</w><w>,</w><w>seus</w><w>conteúdos</w><w>serão</w><w>lidos</w><w>e</w><w>copiados</w><w>numa</w><w>string</w><w>chamada</w><code rend="inline"><w>webContent</w></code><pc>.</pc></s><s xml:id="s_HDfWvX"><w>Na</w><w>sequência</w><w>,</w><w>os</w><w>primeiros</w><w>300</w><w>caracteres</w><w>serão</w><w>exibidos</w><w>no</w><emph><w>painel</w><w>de</w><w>saída</w><w>de</w><w>comandos</w></emph><pc>.</pc></s><s xml:id="s_fz0mMu"><w>Utilize</w><code rend="inline"><w>Ferramentas</w><w>-</w><w>&gt;</w><w>Ferramentas</w><w>do</w><w>Navegador</w><w>-</w><w>&gt;</w><w>Fonte</w><w>da</w><w>página</w></code><w>no</w><w>navegador</w><w>Firefox</w><w>para</w><w>verificar</w><w>que</w><w>o</w><w>código</w><w>HTML</w><w>da</w><w>página</w><w>é</w><w>o</w><w>mesmo</w><w>que</w><w>o</w><w>seu</w><w>programa</w><w>acessou</w><pc>.</pc></s><s xml:id="s_AxxRPs"><w>Outros</w><w>navegadores</w><w>podem</w><w>ter</w><w>caminhos</w><w>distintos</w><w>para</w><w>acessar</w><w>o</w><w>código</w><w>fonte</w><pc>.</pc></s><s xml:id="s_l4W08V"><w>Caso</w><w>não</w><w>consiga</w><w>encontrar</w><w>o</w><w>caminho</w><w>no</w><w>seu</w><w>navegador</w><w>,</w><w>tente</w><w>utilizar</w><w>um</w><w>mecanismo</w><w>de</w><w>busca</w><w>para</w><w>encontrá-lo</w><pc>.</pc></s><s xml:id="s_5BCYBg"><w>(</w><w>Consulte</w><w>a</w><w>biblioteca</w><w>de</w><w>referência</w><w>do</w><w>Python</w><w>para</w><w>aprender</w><w>mais</w><w>sobre</w><ref target="https://docs.python.org/3/library/urllib.html?highlight=urllib"><w>urllib</w></ref><pc>.</pc></s><s xml:id="s_zmrBld"><w>)</w></s></p><ab><code lang="language-python" xml:id="code_download-paginas-web-python_6" corresp="code_download-paginas-web-python_6.txt" rend="block"/></ab><p><s xml:id="s_V2QIYI"><w>Utilizando</w><w>apenas</w><w>essas</w><w>cinco</w><w>linhas</w><w>de</w><w>código</w><w>,</w><w>é</w><w>possível</w><w>obter</w><w>resultados</w><w>substanciais</w><pc>.</pc></s><s xml:id="s_QZvD4Y"><w>Agora</w><w>,</w><w>vamos</w><w>nos</w><w>assegurar</w><w>de</w><w>que</w><w>cada</w><w>linha</w><w>de</w><w>código</w><w>está</w><w>clara</w><w>e</w><w>que</w><w>é</w><w>possível</w><w>distinguir</w><w>os</w><w>blocos</w><w>que</w><w>permitem</w><w>ao</w><w>programa</w><w>realizar</w><w>a</w><w>tarefa</w><w>que</w><w>desejamos</w><pc>.</pc></s></p><p><s xml:id="s_cjlxNJ"><emph><w>url</w></emph><w>,</w><emph><w>response</w></emph><w>e</w><emph><w>webContent</w></emph><w>são</w><w>todas</w><w>variáveis</w><w>nomeadas</w><w>por</w><w>nós</w><pc>.</pc></s></p><p><s xml:id="s_upkPvd"><emph><w>url</w></emph><w>contém</w><w>a</w><w>URL</w><w>da</w><w>página</w><w>que</w><w>queremos</w><w>baixar</w><pc>.</pc></s><s xml:id="s_1qZqiN"><w>Neste</w><w>exemplo</w><w>,</w><w>trata-se</w><w>do</w><w>julgamento</w><w>de</w><w>Benjamin</w><w>Bowsey</w><pc>.</pc></s></p><p><s xml:id="s_f8eldQ"><w>Na</w><w>linha</w><w>seguinte</w><w>,</w><w>chamamos</w><w>a</w><w>função</w><code rend="inline"><w>urlopen</w></code><w>,</w><w>contida</w><w>no</w><w>módulo</w><w>do</w><w>Python</w><w>chamado</w><code rend="inline"><w>urllib.py</w></code><w>,</w><w>e</w><w>solicitamos</w><w>que</w><w>ela</w><w>acesse</w><w>o</w><w>site</w><w>especificado</w><w>na</w><w>variável</w><emph><w>url</w></emph><pc>.</pc></s><s xml:id="s_QnkubF"><w>Em</w><w>seguida</w><w>,</w><w>salvamos</w><w>o</w><w>resultado</w><w>desse</w><w>processo</w><w>numa</w><w>variável</w><w>chamada</w><emph><w>response</w></emph><pc>.</pc></s><s xml:id="s_FOiksp"><w>Essa</w><w>variável</w><w>contém</w><w>agora</w><w>uma</w><w>versão</w><w>aberta</w><w>do</w><w>site</w><w>solicitado</w><pc>.</pc></s></p><p><s xml:id="s_NsKxGa"><w>No</w><w>próximo</w><w>passo</w><w>,</w><w>utilizamos</w><w>o</w><w>método</w><code rend="inline"><w>read</w></code><w>,</w><w>que</w><w>já</w><w>utilizamos</w><w>anteriormente</w><w>,</w><w>para</w><w>copiar</w><w>os</w><w>conteúdos</w><w>do</w><w>site</w><w>numa</w><w>nova</w><w>variável</w><w>chamada</w><emph><w>webContent</w></emph><pc>.</pc></s></p><p><s xml:id="s_vuWcA5"><w>Assegure-se</w><w>de</w><w>ser</w><w>capaz</w><w>de</w><w>identificar</w><w>as</w><w>variáveis</w><w>(</w><w>3</w><w>)</w><w>,</w><w>o</w><w>módulo</w><w>(</w><w>1</w><w>)</w><w>,</w><w>os</w><w>métodos</w><w>(</w><w>2</w><w>)</w><w>e</w><w>os</w><w>parâmetros</w><w>(</w><w>1</w><w>)</w><w>antes</w><w>de</w><w>prosseguir</w><pc>.</pc></s></p><p><s xml:id="s_vWl7Wt"><w>No</w><w>resultado</w><w>do</w><w>código</w><w>acima</w><w>,</w><w>alguns</w><w>marcadores</w><w>da</w><w>linguagem</w><w>HTML</w><w>poderão</w><w>ser</w><w>identificados</w><w>:</w></s></p><ab><code lang="language-xml" xml:id="code_download-paginas-web-python_7" corresp="code_download-paginas-web-python_7.txt" rend="block"/></ab><p><s xml:id="s_qoxA6v"><w>O</w><w>conteúdo</w><w>do</w><w>julgamento</w><w>fica</w><w>na</w><w>parte</w><w>inferior</w><w>da</w><w>página</w><pc>.</pc></s><s xml:id="s_ZHIn9s"><w>O</w><w>que</w><w>vemos</w><w>aqui</w><w>é</w><w>o</w><w>código</w><w>HTML</w><w>no</w><w>início</w><w>do</w><w>documento</w><pc>.</pc></s><s xml:id="s_b8WsSq"><w>Isso</w><w>não</w><w>é</w><w>exatamente</w><w>o</w><w>que</w><w>precisamos</w><w>para</w><w>pesquisa</w><w>histórica</w><w>,</w><w>mas</w><w>não</w><w>se</w><w>preocupe</w><w>:</w><w>aprenderemos</w><w>noutra</w><w>lição</w><w>a</w><w>eliminar</w><w>o</w><w>excesso</w><w>de</w><w>marcadores</w><w>e</w><w>obter</w><w>o</w><w>conteúdo</w><w>que</w><w>procuramos</w><pc>.</pc></s></p></div><div type="2" n="4"><head><s xml:id="s_YLmmkD"><w>Salvando</w><w>uma</w><w>cópia</w><w>local</w><w>da</w><w>página</w></s></head><p><s xml:id="s_0si5qh"><w>Considerando</w><w>o</w><w>que</w><w>foi</w><w>visto</w><w>sobre</w><w>atribuir</w><w>conteúdo</w><w>a</w><w>um</w><w>ficheiro</w><w>,</w><w>é</w><w>bem</w><w>fácil</w><w>modificar</w><w>o</w><w>programa</w><w>acima</w><w>para</w><w>salvar</w><w>o</w><w>conteúdo</w><w>da</w><w>variável</w><emph><w>webContent</w></emph><w>num</w><w>ficheiro</w><w>local</w><w>no</w><w>seu</w><w>computador</w><pc>.</pc></s><s xml:id="s_IZK8Rd"><w>Copie</w><w>o</w><w>seguinte</w><w>programa</w><w>no</w><emph><w>Komodo</w><w>Edit</w></emph><w>,</w><w>salve-o</w><w>como</w><code rend="inline"><w>save-webpage.py</w></code><w>e</w><w>o</w><w>execute</w><pc>.</pc></s><s xml:id="s_f8wxuT"><w>Utilizando</w><w>o</w><w>comando</w><code rend="inline"><w>File</w><w>-</w><w>&gt;</w><w>Open</w><w>File</w></code><w>no</w><w>Firefox</w><w>,</w><w>abra</w><w>o</w><w>ficheiro</w><w>criado</w><w>no</w><w>seu</w><w>disco</w><w>local</w><w>(</w><code rend="inline"><w>obo-t17800628-33.html</w></code><w>)</w><w>para</w><w>confirmar</w><w>que</w><w>a</w><w>cópia</w><w>salva</w><w>é</w><w>a</w><w>mesma</w><w>que</w><w>a</w><w>online</w><pc>.</pc></s></p><ab><code lang="language-python" xml:id="code_download-paginas-web-python_8" corresp="code_download-paginas-web-python_8.txt" rend="block"/></ab><p><s xml:id="s_1cHl9u"><w>Se</w><w>é</w><w>possível</w><w>salvar</w><w>um</w><w>único</w><w>ficheiro</w><w>dessa</w><w>maneira</w><w>,</w><w>seria</w><w>possível</w><w>escrever</w><w>um</w><w>programa</w><w>para</w><w>baixar</w><w>um</w><w>conjunto</w><w>de</w><w>ficheiros</w><pc>?</pc></s><s xml:id="s_rYHShw"><w>Por</w><w>exemplo</w><w>,</w><w>seria</w><w>possível</w><w>percorrer</w><w>os</w><w>identificadores</w><w>de</w><w>um</w><w>conjunto</w><w>de</w><w>páginas</w><w>e</w><w>copiá-las</w><w>para</w><w>o</w><w>seu</w><w>computador</w><pc>?</pc></s><s xml:id="s_ScbVbs"><w>Sim</w><pc>.</pc></s><s xml:id="s_LlrNHS"><w>Aprenda</w><w>como</w><w>na</w><w>lição</w><ref target="/en/lessons/downloading-multiple-records-using-query-strings"><w>Downloading</w><w>Multiple</w><w>Files</w><w>using</w><w>Query</w><w>Strings</w></ref><w>(</w><w>em</w><w>inglês</w><w>)</w><w>,</w><w>que</w><w>recomendamos</w><w>depois</w><w>que</w><w>tenha</w><w>terminado</w><w>as</w><w>lições</w><w>introdutórias</w><w>dessa</w><w>série</w><pc>.</pc></s></p></div><div type="2" n="5"><head><s xml:id="s_dmL1MF"><w>Leitura</w><w>Sugerida</w></s></head><list type="unordered"><item><s xml:id="s_jAg7ca"><w>Mitchell</w><w>,</w><w>Ryan</w><pc>.</pc></s><s xml:id="s_zH0rQG"><w>“</w><w>Web</w><w>Scraping</w><w>com</w><w>Python</w><w>:</w><w>Coletando</w><w>Mais</w><w>Dados</w><w>da</w><w>Web</w><w>Moderna</w><w>''</w><w>(</w><w>O</w><w>’</w><w>Reilly</w><w>,</w><w>2019</w><w>)</w><pc>.</pc></s></item></list></div><div type="2" n="6"><head><s xml:id="s_rqfMXh"><w>Sincronização</w><w>do</w><w>Código</w></s></head><p><s xml:id="s_H0My7y"><w>Para</w><w>acompanhar</w><w>futuras</w><w>lições</w><w>,</w><w>é</w><w>importante</w><w>ter</w><w>os</w><w>ficheiros</w><w>e</w><w>programas</w><w>corretos</w><w>no</w><w>seu</w><w>diretório</w><w>“</w><w>programming-historian</w><w>”</w><pc>.</pc></s><s xml:id="s_rFldUw"><w>Ao</w><w>final</w><w>de</w><w>cada</w><w>lição</w><w>,</w><w>é</w><w>possível</w><w>baixar</w><w>o</w><w>ficheiro</w><w>zip</w><w>“</w><w>programming-historian</w><w>”</w><w>para</w><w>ter</w><w>certeza</w><w>de</w><w>que</w><w>o</w><w>ficheiro</w><w>correto</w><w>está</w><w>sendo</w><w>utilizado</w><pc>.</pc></s></p><list type="unordered"><item><s xml:id="s_X9BHRV"><w>programming-historian-1</w><w>(</w><ref target="/assets/python-lessons1.zip"><w>zip</w></ref><w>)</w></s></item></list></div></body>
    </text>
</TEI>
