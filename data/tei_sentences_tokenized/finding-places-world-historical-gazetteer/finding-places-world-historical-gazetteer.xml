<TEI xmlns="http://www.tei-c.org/ns/1.0" xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="finding-places-world-historical-gazetteer" type="original" xml:base="finding-places-world-historical-gazetteer/finding-places-world-historical-gazetteer/finding-places-world-historical-gazetteer.xml">
    <teiHeader>
        <fileDesc>
            <titleStmt>
                <title>Finding Places in Text with the World Historical Gazetteer</title>
                <author role="original_author">
                    <persName>Susan Grunewald</persName>
                    <persName>Andrew Janco</persName>
                </author>
                <editor role="reviewers">
                    <persName>Eleni Gadolou</persName>
                    <persName>Randa El Khatib</persName>
                </editor>
                <editor role="editors">Anna-Maria Sichani</editor>
            </titleStmt>
            <publicationStmt>
                <distributor>Programming Historian</distributor>
                <idno type="doi">10.46430/phen0096</idno>
                <date type="published">02/11/2022</date>
            </publicationStmt>
            <sourceDesc>
                <p>Born digital, in a markdown format. This lesson is original.</p>
            </sourceDesc>
        </fileDesc>
        <profileDesc>
            <abstract>
                <p>Researchers often need to be able to search a corpus of texts for a defined list of terms and historians are often interested in certain places named in a text or texts. This lesson details how to programmatically search documents for a list of terms, including place names and then how to obtain coordinates and map historical place names with the World Historical Gazetteer.</p>
            </abstract>
            <textClass>
                <keywords>
                    <term xml:lang="en">data-manipulation</term>
                </keywords>
            </textClass>
        </profileDesc>
    </teiHeader>
    <text xml:lang="en">
        <body><div type="2" n="1"><head><w>A</w><w>Table</w><w>of</w><w>Contents</w></head><div type="3" n="1.1"><head><w>1</w><pc>.</pc><w>Lesson</w><w>Overview</w></head><p><w>Researchers</w><w>often</w><w>need</w><w>to</w><w>be</w><w>able</w><w>to</w><w>search</w><w>a</w><w>corpus</w><w>of</w><w>texts</w><w>for</w><w>a</w><w>defined</w><w>list</w><w>of</w><w>terms</w><pc>.</pc><w>In</w><w>many</w><w>cases</w><w>,</w><w>historians</w><w>are</w><w>interested</w><w>in</w><w>certain</w><w>places</w><w>named</w><w>in</w><w>a</w><w>text</w><w>or</w><w>texts</w><pc>.</pc><w>This</w><w>lesson</w><w>details</w><w>how</w><w>to</w><w>programmatically</w><w>search</w><w>documents</w><w>for</w><w>a</w><w>list</w><w>of</w><w>terms</w><w>,</w><w>including</w><w>place</w><w>names</w><pc>.</pc><w>To</w><w>begin</w><w>,</w><w>we</w><w>will</w><w>produce</w><w>a</w><ref target="https://perma.cc/856E-N2BV"><w>tab-separated</w><w>value</w></ref><w>(</w><w>TSV</w><w>)</w><w>file</w><w>where</w><w>each</w><w>row</w><w>gives</w><w>the</w><w>matched</w><w>term</w><w>and</w><w>the</w><w>term</w><w>'s</w><w>location</w><w>in</w><w>the</w><w>text</w><pc>.</pc><w>We</w><w>also</w><w>generate</w><w>a</w><w>visualization</w><w>that</w><w>can</w><w>be</w><w>used</w><w>to</w><w>interpret</w><w>the</w><w>matches</w><w>in</w><w>context</w><w>and</w><w>to</w><w>assess</w><w>their</w><w>usefulness</w><w>for</w><w>a</w><w>given</w><w>project</w><pc>.</pc><w>The</w><w>goal</w><w>of</w><w>the</w><w>lesson</w><w>is</w><w>to</w><w>systematically</w><w>search</w><w>a</w><w>text</w><w>corpus</w><w>for</w><w>place</w><w>names</w><w>and</w><w>then</w><w>to</w><w>use</w><w>a</w><w>service</w><w>to</w><w>locate</w><w>and</w><w>map</w><w>historic</w><w>place</w><w>names</w><pc>.</pc><w>This</w><w>lesson</w><w>will</w><w>be</w><w>useful</w><w>for</w><w>anyone</w><w>wishing</w><w>to</w><w>perform</w><ref target="https://perma.cc/KH4Q-5VCD"><w>named</w><w>entity</w><w>recognition</w></ref><w>(</w><w>NER</w><w>)</w><w>on</w><w>a</w><w>text</w><w>corpus</w><pc>.</pc><w>Other</w><w>users</w><w>may</w><w>wish</w><w>to</w><w>skip</w><w>the</w><w>text</w><w>extraction</w><w>portion</w><w>of</w><w>this</w><w>lesson</w><w>and</w><w>focus</w><w>solely</w><w>on</w><w>the</w><w>spatial</w><w>elements</w><w>of</w><w>the</w><w>lesson</w><w>,</w><w>that</w><w>is</w><w>gazetteer</w><w>building</w><w>and</w><w>using</w><w>the</w><ref target="https://perma.cc/7MPY-GK6M"><w>World</w><w>Historical</w><w>Gazetteer</w></ref><w>(</w><w>WHG</w><w>)</w><pc>.</pc><w>These</w><w>spatial</w><w>steps</w><w>are</w><w>especially</w><w>useful</w><w>for</w><w>someone</w><w>looking</w><w>to</w><w>create</w><w>maps</w><w>depicting</w><w>historical</w><w>information</w><w>in</w><w>a</w><w>largely</w><w>point</w><w>and</w><w>click</w><w>interface</w><pc>.</pc><w>We</w><w>have</w><w>designed</w><w>this</w><w>lesson</w><w>to</w><w>show</w><w>how</w><w>to</w><w>combine</w><w>text</w><w>analysis</w><w>with</w><w>mapping</w><w>,</w><w>but</w><w>understand</w><w>that</w><w>some</w><w>readers</w><w>may</w><w>only</w><w>be</w><w>interested</w><w>in</w><w>one</w><w>of</w><w>these</w><w>two</w><w>methodologies</w><pc>.</pc><w>We</w><w>urge</w><w>you</w><w>to</w><w>try</w><w>both</w><w>parts</w><w>of</w><w>the</w><w>lesson</w><w>together</w><w>if</w><w>you</w><w>have</w><w>time</w><w>,</w><w>as</w><w>this</w><w>will</w><w>enable</w><w>you</w><w>to</w><w>learn</w><w>how</w><w>text</w><w>analysis</w><w>and</w><w>mapping</w><w>can</w><w>be</w><w>combined</w><w>in</w><w>one</w><w>project</w><pc>.</pc><w>Additionally</w><w>,</w><w>it</w><w>will</w><w>demonstrate</w><w>how</w><w>the</w><w>results</w><w>of</w><w>these</w><w>two</w><w>activities</w><w>can</w><w>be</w><w>ported</w><w>into</w><w>another</w><w>form</w><w>of</w><w>digital</w><w>analysis</w><pc>.</pc></p><p><w>In</w><w>this</w><w>lesson</w><w>,</w><w>readers</w><w>will</w><w>use</w><w>the</w><w>Python</w><ref target="https://perma.cc/YX55-EXXK"><w>pathlib</w></ref><w>library</w><w>to</w><w>load</w><w>a</w><w>directory</w><w>of</w><w>text</w><w>files</w><pc>.</pc><w>For</w><w>those</w><w>with</w><w>an</w><w>existing</w><ref target="https://perma.cc/HX2V-8DWZ"><w>gazetteer</w></ref><w>or</w><w>list</w><w>of</w><w>terms</w><w>,</w><w>readers</w><w>will</w><w>then</w><w>be</w><w>able</w><w>to</w><w>create</w><w>a</w><w>list</w><w>of</w><w>term</w><w>matches</w><w>and</w><w>their</w><w>locations</w><w>in</w><w>a</w><w>text</w><pc>.</pc><w>Those</w><w>without</w><w>a</w><w>gazetteer</w><w>,</w><w>can</w><w>use</w><w>a</w><w>statistical</w><w>language</w><w>model</w><w>to</w><w>identify</w><w>places</w><pc>.</pc><w>Users</w><w>will</w><w>create</w><w>a</w><w>TSV</w><w>file</w><w>in</w><w>the</w><ref target="https://perma.cc/2WSX-VZZB"><w>Linked</w><w>Places</w><w>Format</w></ref><w>,</w><w>which</w><w>can</w><w>then</w><w>be</w><w>uploaded</w><w>to</w><w>the</w><w>World</w><w>Historical</w><w>Gazetteer</w><pc>.</pc><w>Linked</w><w>Places</w><w>Format</w><w>is</w><w>designed</w><w>to</w><w>standardize</w><w>descriptions</w><w>of</w><w>places</w><w>and</w><w>is</w><w>primarily</w><w>intended</w><w>to</w><w>link</w><w>gazetteer</w><w>datasets</w><pc>.</pc><w>It</w><w>is</w><w>a</w><w>form</w><w>of</w><w>Linked</w><w>Open</w><w>Data</w><w>(</w><w>LOD</w><w>)</w><w>,</w><w>which</w><w>attempts</w><w>to</w><w>make</w><w>datasets</w><w>interoperable</w><pc>.</pc><w>Once</w><w>a</w><w>user</w><w>uploads</w><w>their</w><w>Linked</w><w>Places</w><w>Format</w><w>dataset</w><w>to</w><w>the</w><w>WHG</w><w>,</w><w>they</w><w>can</w><w>use</w><w>the</w><w>WHG</w><w>for</w><w>reconciliation</w><w>and</w><w>geocoding</w><pc>.</pc><w>Reconciliation</w><w>is</w><w>the</w><w>alignment</w><w>of</w><w>a</w><w>user</w><w>’</w><w>s</w><w>dataset</w><w>with</w><w>the</w><w>index</w><w>of</w><w>place</w><w>records</w><w>in</w><w>the</w><w>WHG</w><pc>.</pc><w>This</w><w>is</w><w>what</w><w>enables</w><w>the</w><w>WHG</w><w>to</w><w>geocode</w><w>,</w><w>or</w><w>‘</w><w>match</w><w>’</w><w>,</w><w>a</w><w>place</w><w>’</w><w>s</w><w>name</w><w>with</w><w>its</w><w>geographic</w><w>coordinates</w><pc>.</pc><w>These</w><w>geographic</w><w>coordinates</w><w>are</w><w>what</w><w>allow</w><w>a</w><w>list</w><w>of</w><w>names</w><w>to</w><w>be</w><w>transformed</w><w>into</w><w>plots</w><w>on</w><w>a</w><w>map</w><pc>.</pc></p><p><w>Please</w><w>note</w><w>that</w><w>the</w><w>sample</w><w>data</w><w>and</w><w>context</w><w>of</w><w>this</w><w>lesson</w><w>constitute</w><w>an</w><w>example</w><w>of</w><w>multilingual</w><w>digital</w><w>humanities</w><pc>.</pc><w>The</w><w>memoir</w><w>texts</w><w>are</w><w>in</w><w>German</w><w>,</w><w>while</w><w>the</w><w>list</w><w>of</w><w>place</w><w>names</w><w>represent</w><w>German</w><w>transliterations</w><w>of</w><w>Russian</w><w>names</w><w>for</w><w>places</w><w>across</w><w>the</w><w>former</w><w>Soviet</w><w>Union</w><w>circa</w><w>1941-56</w><pc>.</pc></p></div><div type="3" n="1.2"><head><w>2</w><pc>.</pc><w>Historical</w><w>example</w></head><p><w>This</w><w>lesson</w><w>applies</w><w>co-author</w><w>Susan</w><w>Grunewald</w><w>'s</w><w>research</w><w>and</w><w>serves</w><w>to</w><w>demonstrate</w><w>how</w><w>her</w><w>practical</w><w>methods</w><w>can</w><w>be</w><w>beneficial</w><w>to</w><w>historians</w><pc>.</pc><w>Grunewald</w><w>mapped</w><w>forced</w><w>labor</w><w>camps</w><w>where</w><w>German</w><w>Prisoners</w><w>of</w><w>War</w><w>(</w><w>POWs</w><w>)</w><w>were</w><w>held</w><w>in</w><w>the</w><w>former</w><w>Soviet</w><w>Union</w><w>during</w><w>and</w><w>after</w><w>the</w><w>Second</w><w>World</w><w>War</w><pc>.</pc><w>Her</w><w>maps</w><w>have</w><w>been</w><w>used</w><w>to</w><w>argue</w><w>that</w><w>contrary</w><w>to</w><w>popular</w><w>memory</w><w>,</w><w>German</w><w>POWs</w><w>in</w><w>the</w><w>Soviet</w><w>Union</w><w>were</w><w>sent</w><w>more</w><w>commonly</w><w>to</w><w>industrial</w><w>and</w><w>reconstruction</w><w>projects</w><w>in</w><w>Western</w><w>Russia</w><w>rather</w><w>than</w><w>Siberia</w><pc>.</pc><w>Grunewald</w><w>’</w><w>s</w><w>research</w><w>went</w><w>on</w><w>to</w><w>investigate</w><w>whether</w><w>POW</w><w>memoirs</w><w>gave</w><w>a</w><w>misrepresentation</w><w>of</w><w>Siberian</w><w>captivity</w><w>,</w><w>which</w><w>could</w><w>have</w><w>helped</w><w>to</w><w>create</w><w>or</w><w>promulgate</w><w>this</w><w>popular</w><w>memory</w><pc>.</pc></p><p><w>In</w><w>this</w><w>lesson</w><w>,</w><w>we</w><w>will</w><w>use</w><w>a</w><w>list</w><w>of</w><w>camp</w><w>names</w><w>to</w><w>identify</w><w>mentions</w><w>of</w><w>particular</w><w>camps</w><w>and</w><w>their</w><w>locations</w><w>in</w><w>POW</w><w>memoirs</w><pc>.</pc><w>This</w><w>data</w><w>can</w><w>then</w><w>be</w><w>mapped</w><w>to</w><w>demonstrate</w><ref target="https://perma.cc/XBE9-VNDT"><w>Grunswald</w><w>’</w><w>s</w><w>thesis</w></ref><w>that</w><w>not</w><w>all</w><w>direct</w><w>mentions</w><w>of</w><w>places</w><w>in</w><w>POW</w><w>memoirs</w><w>were</w><w>in</w><w>Siberia</w><pc>.</pc></p></div><div type="3" n="1.3"><head><w>3</w><pc>.</pc><w>Building</w><w>a</w><w>corpus</w></head><p><w>To</w><w>facilitate</w><w>this</w><w>lesson</w><w>,</w><w>we</w><w>have</w><w>compiled</w><w>a</w><w>sample</w><w>dataset</w><w>of</w><w>selections</w><w>from</w><w>digitized</w><w>POW</w><w>memoirs</w><w>to</w><w>search</w><w>for</w><w>place</w><w>names</w><pc>.</pc><w>Due</w><w>to</w><w>copyright</w><w>restrictions</w><w>,</w><w>the</w><w>dataset</w><w>does</w><w>not</w><w>include</w><w>the</w><w>full</w><w>text</w><w>of</w><w>the</w><w>memoirs</w><w>but</w><w>rather</w><w>snippets</w><w>from</w><w>roughly</w><w>35</w><w>sources</w><pc>.</pc><ref target="/assets/finding-places-world-historical-gazetteer/place_texts.txt"><w>We</w><w>have</w><w>provided</w><w>a</w><w>sample</w><w>textual</w><w>corpus</w><w>for</w><w>download</w></ref><pc>.</pc></p><p><w>Alternatively</w><w>,</w><w>to</w><w>build</w><w>your</w><w>own</w><w>corpus</w><w>for</w><w>this</w><w>exercise</w><w>,</w><w>all</w><w>you</w><w>need</w><w>are</w><w>files</w><w>saved</w><w>in</w><w>.txt</w><w>format</w><pc>.</pc><w>If</w><w>you</w><w>need</w><w>help</w><w>building</w><w>a</w><w>corpus</w><w>of</w><w>.txt</w><w>files</w><w>,</w><w>you</w><w>may</w><w>find</w><ref target="https://doi.org/10.46430/phen0091"><w>this</w><emph><w>Programming</w><w>Historian</w></emph><w>tutorial</w><w>by</w><w>Andrew</w><w>Akhlaghi</w></ref><w>useful</w><w>—</w><w>it</w><w>provides</w><w>instructions</w><w>for</w><w>transforming</w><w>PDF</w><w>files</w><w>into</w><w>machine</w><w>readable</w><w>text</w><w>files</w><pc>.</pc></p></div><div type="3" n="1.4"><head><w>4</w><pc>.</pc><w>Building</w><w>a</w><w>gazetteer</w></head><p><w>A</w><w>gazetteer</w><w>is</w><w>an</w><w>index</w><w>or</w><w>directory</w><w>of</w><w>place</w><w>names</w><pc>.</pc><w>For</w><w>our</w><w>example</w><w>,</w><w>we</w><w>are</w><w>using</w><w>information</w><w>from</w><ref target="https://perma.cc/3JW3-FE9B"><w>an</w><w>encyclopedia</w><w>about</w><w>German</w><w>prisoners</w><w>of</w><w>war</w><w>camps</w></ref><w>catalogued</w><w>in</w><w>central</w><w>Soviet</w><w>government</w><w>documents</w><pc>.</pc><w>This</w><w>particular</w><w>encyclopedia</w><w>lists</w><w>the</w><w>nearest</w><w>location</w><w>(</w><w>e.g.</w><w>,</w><w>settlement</w><w>or</w><w>city</w><w>)</w><w>for</w><w>each</w><w>of</w><w>the</w><w>roughly</w><w>4,000</w><w>forced</w><w>labor</w><w>POW</w><w>camps</w><pc>.</pc></p><p><w>As</w><w>a</w><w>quick</w><w>side</w><w>note</w><w>,</w><w>this</w><w>encyclopedia</w><w>is</w><w>an</w><w>interesting</w><w>example</w><w>of</w><w>the</w><w>many</w><w>layers</w><w>of</w><w>languages</w><w>involved</w><w>when</w><w>studying</w><w>Soviet</w><w>history</w><pc>.</pc><w>The</w><w>original</w><w>source</w><w>book</w><w>is</w><w>in</w><w>German</w><w>,</w><w>meaning</w><w>it</w><w>uses</w><w>German</w><w>transliteration</w><w>standards</w><w>for</w><w>the</w><w>Russian</w><w>Cyrillic</w><w>alphabet</w><pc>.</pc><w>Generally</w><w>,</w><w>the</w><w>places</w><w>named</w><w>in</w><w>the</w><w>book</w><w>represent</w><w>the</w><w>Russified</w><w>Soviet</w><w>names</w><pc>.</pc><w>This</w><w>means</w><w>that</w><w>the</w><w>places</w><w>listed</w><w>may</w><w>not</w><w>be</w><w>named</w><w>as</w><w>we</w><w>know</w><w>them</w><w>today</w><pc>.</pc><w>Many</w><w>are</w><w>Russified</w><w>versions</w><w>of</w><w>places</w><w>that</w><w>are</w><w>now</w><w>more</w><w>commonly</w><w>known</w><w>by</w><w>different</w><w>names</w><w>due</w><w>to</w><w>post-Soviet</w><w>identity</w><w>politics</w><pc>.</pc><w>Some</w><w>of</w><w>the</w><w>places</w><w>do</w><w>still</w><w>have</w><w>the</w><w>same</w><w>name</w><w>,</w><w>but</w><w>an</w><w>added</w><w>complexity</w><w>is</w><w>that</w><w>the</w><w>German</w><w>transliteration</w><w>we</w><w>read</w><w>here</w><w>,</w><w>is</w><w>from</w><w>a</w><w>Russian</w><w>transliteration</w><w>of</w><w>a</w><w>local</w><w>language</w><w>,</w><w>such</w><w>as</w><w>Armenian</w><pc>.</pc><w>As</w><w>we</w><w>proceed</w><w>with</w><w>the</w><w>mapping</w><w>process</w><w>,</w><w>it</w><w>is</w><w>important</w><w>we</w><w>remain</w><w>aware</w><w>of</w><w>these</w><w>extra</w><w>layers</w><w>of</w><w>possible</w><w>distortion</w><pc>.</pc></p><p><w>The</w><w>directory</w><w>of</w><w>place</w><w>names</w><w>we</w><w>use</w><w>in</w><w>this</w><w>lesson</w><w>is</w><w>an</w><w>example</w><w>of</w><w>a</w><w>historical</w><w>gazetteer</w><pc>.</pc><w>That</w><w>is</w><w>,</w><w>these</w><w>names</w><w>are</w><w>those</w><w>utilized</w><w>by</w><w>a</w><w>particular</w><w>regime</w><w>during</w><w>a</w><w>specific</w><w>historical</w><w>context</w><pc>.</pc><w>Trying</w><w>to</w><w>map</w><w>the</w><w>places</w><w>mentioned</w><w>in</w><w>the</w><w>memoirs</w><w>is</w><w>therefore</w><w>not</w><w>a</w><w>simple</w><w>task</w><w>as</w><w>the</w><w>names</w><w>have</w><w>changed</w><w>both</w><w>in</w><w>the</w><w>Soviet</w><w>and</w><w>post-Soviet</w><w>era</w><pc>.</pc><w>By</w><w>using</w><w>a</w><w>resource</w><w>such</w><w>as</w><w>the</w><w>World</w><w>Historical</w><w>Gazetteer</w><w>,</w><w>it</w><w>is</w><w>possible</w><w>to</w><w>use</w><w>the</w><w>larger</w><w>historical</w><w>gazetteer</w><w>system</w><w>as</w><w>a</w><w>crosswalk</w><w>between</w><w>the</w><w>historical</w><w>and</w><w>contemporary</w><w>names</w><pc>.</pc><w>This</w><w>gives</w><w>us</w><w>the</w><w>ability</w><w>to</w><w>map</w><w>the</w><w>locations</w><w>on</w><w>a</w><w>modern</w><w>map</w><pc>.</pc><w>This</w><w>process</w><w>is</w><w>not</w><w>straightforward</w><w>if</w><w>you</w><w>are</w><w>working</w><w>with</w><w>larger</w><w>,</w><w>more</w><w>common</w><w>geographic</w><w>information</w><w>systems</w><w>such</w><w>as</w><w>Google</w><w>Maps</w><w>or</w><w>ArcGIS</w><pc>.</pc><w>The</w><w>WHG</w><w>is</w><w>not</w><w>perfect</w><w>,</w><w>though</w><pc>.</pc><w>It</w><w>works</w><w>well</w><w>for</w><w>matching</w><w>historical</w><w>place</w><w>names</w><w>with</w><w>modern</w><w>ones</w><w>only</w><w>when</w><w>those</w><w>links</w><w>already</w><w>exist</w><w>in</w><w>the</w><w>gazetteer</w><w>,</w><w>which</w><w>is</w><w>continuously</w><w>growing</w><w>due</w><w>to</w><w>active</w><w>user</w><w>contributions</w><pc>.</pc><w>However</w><w>,</w><w>certain</w><w>place</w><w>names</w><w>are</w><w>not</w><w>currently</w><w>supported</w><w>–</w><w>sometimes</w><w>because</w><w>the</w><w>links</w><w>between</w><w>the</w><w>historical</w><w>and</w><w>contemporary</w><w>names</w><w>are</w><w>not</w><w>yet</w><w>established</w><w>,</w><w>or</w><w>because</w><w>their</w><w>locations</w><w>are</w><w>unknown</w><pc>.</pc></p><p><w>Users</w><w>can</w><w>build</w><w>their</w><w>own</w><w>gazetteer</w><w>simply</w><w>by</w><w>listing</w><w>places</w><w>of</w><w>importance</w><w>for</w><w>their</w><w>study</w><w>in</w><w>an</w><w>Excel</w><w>spreadsheet</w><w>and</w><w>saving</w><w>the</w><w>document</w><w>as</w><w>a</w><w>comma-separated</w><w>value</w><w>(</w><w>CSV</w><w>)</w><w>file</w><pc>.</pc><w>Note</w><w>that</w><w>for</w><w>this</w><w>lesson</w><w>,</w><w>and</w><w>whenever</w><w>working</w><w>with</w><w>the</w><w>World</w><w>Historical</w><w>Gazetteer</w><w>,</w><w>it</w><w>is</w><w>best</w><w>to</w><w>focus</w><w>on</w><w>the</w><w>names</w><w>of</w><w>settlements</w><w>(</w><w>i.e.</w><w>,</w><w>towns</w><w>and</w><w>cities</w><w>)</w><pc>.</pc><w>This</w><w>is</w><w>because</w><w>the</w><w>World</w><w>Historical</w><w>Gazetteer</w><w>does</w><w>not</w><w>currently</w><w>support</w><w>mapping</w><w>and</w><w>geolocating</w><w>of</w><w>states</w><w>or</w><w>countries</w><pc>.</pc></p><p><ref target="https://perma.cc/5Z28-RBKV"><w>We</w><w>have</w><w>provided</w><w>a</w><w>sample</w><w>gazetteer</w><w>of</w><w>German</w><w>names</w><w>for</w><w>prisoner</w><w>of</w><w>war</w><w>camps</w></ref><w>for</w><w>use</w><w>with</w><w>this</w><w>lesson</w><pc>.</pc></p></div><div type="3" n="1.5"><head><w>5</w><pc>.</pc><w>Finding</w><w>Places</w><w>in</w><w>Text</w><w>with</w><w>Python</w></head><p><w>From</w><w>your</w><w>computer</w><w>’</w><w>s</w><w>perspective</w><w>,</w><w>text</w><w>is</w><w>nothing</w><w>more</w><w>than</w><w>a</w><w>sequence</w><w>of</w><w>characters</w><pc>.</pc><w>If</w><w>you</w><w>ask</w><w>Python</w><w>to</w><w>iterate</w><w>a</w><w>snippet</w><w>of</w><w>text</w><w>,</w><w>you</w><w>’</w><w>ll</w><w>notice</w><w>that</w><w>it</w><w>returns</w><w>just</w><w>one</w><w>letter</w><w>at</w><w>a</w><w>time</w><pc>.</pc><w>Note</w><w>that</w><w>the</w><w>index</w><w>starts</w><w>at</w><w>0</w><w>,</w><w>not</w><w>1</w><w>,</w><w>and</w><w>that</w><w>spaces</w><w>are</w><w>part</w><w>of</w><w>the</w><w>sequence</w><pc>.</pc></p><ab><code lang="language-python" xml:id="code_finding-places-world-historical-gazetteer_0" corresp="code_finding-places-world-historical-gazetteer_0.txt" rend="block"/></ab><ab><code xml:id="code_finding-places-world-historical-gazetteer_1" corresp="code_finding-places-world-historical-gazetteer_1.txt" rend="block"/></ab><p><w>When</w><w>we</w><w>ask</w><w>Python</w><w>to</w><w>find</w><w>the</w><w>word</w><w>“</w><w>rivers</w><w>,</w><w>”</w><w>in</w><w>a</w><w>larger</w><w>text</w><w>,</w><w>it</w><w>is</w><w>specifically</w><w>searching</w><w>for</w><w>a</w><w>lower-case</w><w>“</w><w>r</w><w>”</w><w>followed</w><w>by</w><w>“</w><w>i</w><w>”</w><w>“</w><w>v</w><w>”</w><w>and</w><w>so</w><w>on</w><pc>.</pc><w>It</w><w>returns</w><w>a</w><w>match</w><w>only</w><w>if</w><w>it</w><w>finds</w><w>exactly</w><w>the</w><w>right</w><w>letters</w><w>in</w><w>the</w><w>right</w><w>order</w><pc>.</pc><w>When</w><w>it</w><w>makes</w><w>a</w><w>match</w><w>,</w><w>Python</w><w>’</w><w>s</w><code rend="inline"><w>.find</w><w>(</w><w>)</w></code><w>function</w><w>will</w><w>return</w><w>the</w><w>location</w><w>of</w><w>the</w><w>first</w><w>character</w><w>in</w><w>the</w><w>sequence</w><pc>.</pc><w>For</w><w>example</w><w>:</w></p><ab><code lang="language-python" xml:id="code_finding-places-world-historical-gazetteer_2" corresp="code_finding-places-world-historical-gazetteer_2.txt" rend="block"/></ab><ab><code xml:id="code_finding-places-world-historical-gazetteer_3" corresp="code_finding-places-world-historical-gazetteer_3.txt" rend="block"/></ab><p><w>Keep</w><w>in</w><w>mind</w><w>that</w><w>computers</w><w>are</w><w>very</w><w>precise</w><w>and</w><w>picky</w><pc>.</pc><w>Any</w><w>messiness</w><w>in</w><w>the</w><w>text</w><w>will</w><w>cause</w><w>the</w><w>word</w><w>to</w><w>be</w><w>missed</w><w>,</w><w>so</w><code rend="inline"><w>text.find</w><w>(</w><w>``</w><w>Rivers</w><w>''</w><w>)</w></code><w>returns</w><w>-1</w><w>,</w><w>which</w><w>means</w><w>that</w><w>the</w><w>sequence</w><w>“</w><w>Rivers</w><w>”</w><w>(</w><w>with</w><w>an</w><w>uppercase</w><w>R</w><w>)</w><w>could</w><w>not</w><w>be</w><w>found</w><pc>.</pc><w>You</w><w>can</w><w>also</w><w>inadvertently</w><w>match</w><w>characters</w><w>that</w><w>are</w><w>part</w><w>of</w><w>the</w><w>sequence</w><w>,</w><w>but</w><w>don</w><w>’</w><w>t</w><w>represent</w><w>a</w><w>whole</w><w>word</w><pc>.</pc><w>Try</w><code rend="inline"><w>text.find</w><w>(</w><w>``</w><w>y</w><w>riv</w><w>''</w><w>)</w></code><pc>.</pc><w>You</w><w>retrieve</w><w>15</w><w>matches</w><w>because</w><w>that</w><w>is</w><w>part</w><w>of</w><w>the</w><w>“</w><w>y</w><w>riv</w><w>”</w><w>sequence</w><pc>.</pc><w>So</w><w>while</w><w>it</w><w>is</w><w>present</w><w>in</w><w>the</w><w>text</w><w>,</w><w>this</w><w>isn</w><w>’</w><w>t</w><w>a</w><w>term</w><w>that</w><w>you</w><w>’</w><w>d</w><w>normally</w><w>set</w><w>out</w><w>to</w><w>find</w><pc>.</pc></p></div><div type="3" n="1.6"><head><w>6</w><pc>.</pc><w>Natural</w><w>language</w><w>processing</w></head><p><w>While</w><w>pure</w><w>Python</w><w>is</w><w>sufficient</w><w>for</w><w>many</w><w>tasks</w><w>,</w><ref target="https://perma.cc/VJA8-REBA"><w>natural</w><w>language</w><w>processing</w></ref><w>(</w><w>NLP</w><w>)</w><w>libraries</w><w>allow</w><w>us</w><w>to</w><w>work</w><w>computationally</w><w>with</w><w>the</w><w>text</w><w>as</w><w>language</w><pc>.</pc><w>NLP</w><w>reveals</w><w>a</w><w>whole</w><w>host</w><w>of</w><w>linguistic</w><w>attributes</w><w>of</w><w>the</w><w>text</w><w>that</w><w>can</w><w>be</w><w>used</w><w>for</w><w>analysis</w><pc>.</pc><w>For</w><w>example</w><w>,</w><w>it</w><w>can</w><w>identify</w><w>if</w><w>a</w><w>word</w><w>is</w><w>a</w><w>noun</w><w>or</w><w>a</w><w>verb</w><w>using</w><w>‘</w><w>part</w><w>of</w><w>speech</w><w>’</w><w>tagging</w><pc>.</pc><w>We</w><w>can</w><w>also</w><w>use</w><w>NLP</w><w>to</w><w>identify</w><w>the</w><w>direct</w><w>object</w><w>of</w><w>a</w><w>verb</w><w>,</w><w>to</w><w>determine</w><w>who</w><w>is</w><w>speaking</w><w>and</w><w>locate</w><w>the</w><w>subject</w><w>of</w><w>that</w><w>speech</w><pc>.</pc><w>NLP</w><w>provides</w><w>your</w><w>programs</w><w>with</w><w>additional</w><w>information</w><w>which</w><w>can</w><w>open</w><w>up</w><w>new</w><w>forms</w><w>of</w><w>analysis</w><pc>.</pc><w>As</w><w>historians</w><w>,</w><w>we</w><w>can</w><w>also</w><w>appreciate</w><w>how</w><w>NLP</w><w>prompts</w><w>us</w><w>to</w><w>consider</w><w>the</w><w>linguistic</w><w>aspects</w><w>of</w><w>our</w><w>sources</w><w>in</w><w>ways</w><w>that</w><w>we</w><w>might</w><w>otherwise</w><w>not</w><pc>.</pc></p><p><w>Our</w><w>first</w><w>NLP</w><w>task</w><w>is</w><ref target="https://nlp.stanford.edu/IR-book/html/htmledition/tokenization-1.html"><w>tokenization</w></ref><pc>.</pc><w>This</w><w>is</w><w>where</w><w>our</w><w>text</w><w>is</w><w>split</w><w>into</w><w>meaningful</w><w>parts</w><w>,</w><w>known</w><w>as</w><w>word</w><w>tokens</w><pc>.</pc><w>The</w><w>sentence</w><w>,</w><w>“</w><w>Siberia</w><w>has</w><w>many</w><w>rivers.</w><w>”</w><w>can</w><w>be</w><w>split</w><w>into</w><w>the</w><w>tokens</w><w>:</w><code rend="inline"><w>&lt;</w><w>Siberia</w><w>&gt;</w><w>&lt;</w><w>has</w><w>&gt;</w><w>&lt;</w><w>many</w><w>&gt;</w><w>&lt;</w><w>rivers</w><w>&gt;</w><w>&lt;</w><pc>.</pc><w>&gt;</w></code><pc>.</pc><w>Note</w><w>that</w><w>the</w><w>closing</w><w>punctuation</w><w>is</w><w>now</w><w>distinct</w><w>from</w><w>the</w><w>word</w><w>rivers</w><pc>.</pc><w>The</w><w>rules</w><w>for</w><w>tokenization</w><w>depend</w><w>on</w><w>the</w><w>language</w><w>you</w><w>are</w><w>using</w><pc>.</pc><w>For</w><w>English</w><w>and</w><w>other</w><w>languages</w><w>that</w><w>use</w><w>spaces</w><w>between</w><w>words</w><w>,</w><w>you</w><w>often</w><w>achieve</w><w>good</w><w>results</w><w>simply</w><w>by</w><w>splitting</w><w>the</w><w>tokens</w><w>where</w><w>there</w><w>are</w><w>spaces</w><pc>.</pc><w>However</w><w>,</w><w>more</w><w>specific</w><w>rules</w><w>are</w><w>needed</w><w>to</w><w>separate</w><w>punctuation</w><w>from</w><w>a</w><w>token</w><w>,</w><w>to</w><w>split</w><w>and</w><w>normalize</w><w>elided</w><w>words</w><w>(</w><w>for</w><w>example</w><w>,</w><w>“</w><w>Let</w><w>’</w><w>s</w><w>”</w><w>&gt;</w><w>Let</w><w>us</w><w>)</w><w>as</w><w>well</w><w>as</w><w>other</w><w>exceptions</w><w>that</w><w>don</w><w>’</w><w>t</w><w>follow</w><w>regular</w><w>patterns</w><pc>.</pc></p><p><w>For</w><w>this</w><w>lesson</w><w>,</w><w>we</w><w>’</w><w>ll</w><w>be</w><w>using</w><w>an</w><w>NLP</w><w>library</w><w>called</w><ref target="https://perma.cc/E7L8-Y8YH"><w>spaCy</w></ref><pc>.</pc><w>This</w><w>library</w><w>focuses</w><w>on</w><w>“</w><w>practical</w><w>NLP</w><w>”</w><w>and</w><w>is</w><w>designed</w><w>to</w><w>be</w><w>fast</w><w>and</w><w>simple</w><w>so</w><w>that</w><w>it</w><w>works</w><w>well</w><w>on</w><w>a</w><w>basic</w><w>laptop</w><pc>.</pc><w>For</w><w>these</w><w>reasons</w><w>,</w><w>spaCy</w><w>can</w><w>be</w><w>a</w><w>good</w><w>choice</w><w>for</w><w>historical</w><w>research</w><w>tasks</w><pc>.</pc><w>As</w><w>a</w><w>library</w><w>,</w><w>spaCy</w><w>is</w><ref target="https://perma.cc/NW3C-T8UP"><w>opinionated</w></ref><w>and</w><w>its</w><w>simplicity</w><w>comes</w><w>at</w><w>the</w><w>cost</w><w>of</w><w>choices</w><w>being</w><w>made</w><w>on</w><w>your</w><w>behalf</w><pc>.</pc><w>For</w><w>those</w><w>who</w><w>are</w><w>new</w><w>to</w><w>NLP</w><w>,</w><w>the</w><w>spaCy</w><w>documentation</w><w>is</w><w>a</w><w>good</w><w>place</w><w>to</w><w>learn</w><w>about</w><w>how</w><w>their</w><w>design</w><w>choices</w><w>influence</w><w>the</w><w>way</w><w>the</w><w>software</w><w>operates</w><w>,</w><w>and</w><w>will</w><w>help</w><w>you</w><w>to</w><w>assess</w><w>whether</w><w>spaCy</w><w>is</w><w>the</w><w>best</w><w>solution</w><w>for</w><w>your</w><w>particular</w><w>project</w><pc>.</pc><w>That</w><w>said</w><w>,</w><w>spaCy</w><w>works</w><w>extremely</w><w>well</w><w>for</w><w>tasks</w><w>such</w><w>as</w><w>tokenization</w><w>,</w><w>part-of-speech</w><w>tagging</w><w>and</w><w>named</w><w>entity</w><w>recognition</w><pc>.</pc><w>Similar</w><w>libraries</w><w>,</w><w>such</w><w>as</w><ref target="https://perma.cc/8926-M2X7"><w>NLTK</w></ref><w>,</w><ref target="https://perma.cc/W8VX-BCS6"><w>CLTK</w></ref><w>or</w><ref target="https://perma.cc/J8A5-BE8B"><w>Stanza</w></ref><w>are</w><w>also</w><w>excellent</w><w>choices</w><w>and</w><w>you</w><w>can</w><w>learn</w><w>a</w><w>lot</w><w>by</w><w>comparing</w><w>the</w><w>different</w><w>approaches</w><w>these</w><w>libraries</w><w>take</w><w>to</w><w>similar</w><w>problems</w><pc>.</pc></p><p><w>Once</w><w>you</w><w>’</w><w>ve</w><w>run</w><code rend="inline"><w>pip</w><w>install</w><w>spacy</w></code><ref target="https://doi.org/10.46430/phen0029"><w>(</w><w>see</w><w>the</w><emph><w>Programming</w><w>Historian</w></emph><w>article</w><w>``</w><w>Installing</w><w>Python</w><w>Modules</w><w>with</w><w>pip</w><w>''</w><w>by</w><w>Fred</w><w>Gibbs</w><w>if</w><w>you</w><w>’</w><w>re</w><w>new</w><w>to</w><w>pip</w><w>)</w></ref><w>,</w><w>you</w><w>will</w><w>be</w><w>able</w><w>to</w><w>import</w><w>the</w><w>‘</w><w>object</w><w>’</w><w>for</w><w>your</w><w>language</w><w>so</w><w>that</w><w>the</w><w>tokenization</w><w>rules</w><w>are</w><w>specific</w><w>to</w><w>your</w><w>language</w><pc>.</pc><w>The</w><ref target="https://perma.cc/SN7G-W3HT"><w>spaCy</w><w>documentation</w></ref><w>lists</w><w>the</w><w>currently</w><w>supported</w><w>languages</w><w>and</w><w>their</w><w>language</w><w>codes</w><pc>.</pc></p><p><w>To</w><w>load</w><w>a</w><w>new</w><w>language</w><w>,</w><w>you</w><w>will</w><w>import</w><w>it</w><pc>.</pc><w>For</w><w>example</w><w>,</w><code rend="inline"><w>from</w><w>spacy.lang.de</w><w>import</w><w>German</w></code><w>or</w><code rend="inline"><w>from</w><w>spacy.lang.en</w><w>import</w><w>English</w></code><w>In</w><w>Python</w><w>,</w><w>this</w><w>command</w><w>navigates</w><w>to</w><w>spaCy</w><w>'s</w><w>directory</w><w>,</w><w>then</w><w>into</w><w>the</w><w>subfolders</w><code rend="inline"><w>lang</w></code><w>and</w><code rend="inline"><w>de</w></code><w>to</w><w>import</w><w>the</w><w>Language</w><w>object</w><w>called</w><w>German</w><w>from</w><w>that</w><w>folder</w><pc>.</pc></p><p><w>We</w><w>are</w><w>now</w><w>able</w><w>to</w><w>tokenize</w><w>our</w><w>text</w><w>with</w><w>the</w><w>following</w><w>:</w></p><ab><code lang="language-python" xml:id="code_finding-places-world-historical-gazetteer_4" corresp="code_finding-places-world-historical-gazetteer_4.txt" rend="block"/></ab><ab><code xml:id="code_finding-places-world-historical-gazetteer_5" corresp="code_finding-places-world-historical-gazetteer_5.txt" rend="block"/></ab><p><w>Note</w><w>that</w><w>each</w><w>token</w><w>now</w><w>has</w><w>its</w><w>own</w><w>index</w><w>number</w><pc>.</pc></p><p><w>With</w><w>the</w><w>language</w><w>object</w><w>we</w><w>can</w><w>tokenize</w><w>the</w><w>text</w><w>,</w><w>remove</w><w>‘</w><w>stop</w><w>words</w><w>’</w><w>(</w><w>words</w><w>to</w><w>be</w><w>filtered</w><w>out</w><w>before</w><w>processing</w><w>)</w><w>and</w><w>punctuation</w><w>,</w><w>and</w><w>many</w><w>other</w><w>common</w><w>text</w><w>processing</w><w>tasks</w><pc>.</pc><w>For</w><w>further</w><w>information</w><w>,</w><w>Ines</w><w>Montani</w><w>has</w><w>created</w><w>an</w><w>excellent</w><w>free</w><ref target="https://perma.cc/GK9J-4KT2"><w>online</w><w>course</w><w>(</w><w>available</w><w>in</w><w>English</w><w>and</w><w>six</w><w>other</w><w>languages</w><w>)</w></ref><pc>.</pc></p><div type="4" n="1.6.1"><head><w>6.1</w><w>Load</w><w>the</w><w>gazetteer</w></head><p><w>Now</w><w>let</w><w>’</w><w>s</w><w>focus</w><w>back</w><w>on</w><w>the</w><w>task</w><w>at</w><w>hand</w><pc>.</pc><w>We</w><w>need</w><w>to</w><w>load</w><w>our</w><w>list</w><w>of</w><w>place</w><w>names</w><w>and</w><w>find</w><w>where</w><w>they</w><w>occur</w><w>in</w><w>a</w><w>text</w><pc>.</pc><w>To</w><w>do</w><w>this</w><w>,</w><w>let</w><w>’</w><w>s</w><w>start</w><w>by</w><w>reading</w><w>the</w><w>file</w><w>containing</w><w>our</w><w>list</w><w>of</w><w>names</w><pc>.</pc><w>We</w><w>’</w><w>ll</w><w>use</w><w>Python</w><w>’</w><w>s</w><w>pathlib</w><w>library</w><w>,</w><w>which</w><w>offers</w><w>a</w><w>simple</w><w>way</w><w>to</w><w>read</w><w>the</w><w>text</w><w>or</w><w>data</w><w>in</w><w>a</w><w>file</w><pc>.</pc><w>In</w><w>the</w><w>following</w><w>example</w><w>,</w><w>we</w><w>will</w><w>import</w><w>pathlib</w><w>and</w><w>use</w><w>it</w><w>to</w><w>open</w><w>a</w><w>file</w><w>called</w><w>‘</w><w>gazetteer.txt</w><w>’</w><w>and</w><w>load</w><w>its</w><w>text</w><pc>.</pc><w>We</w><w>then</w><w>create</w><w>a</w><w>Python</w><w>list</w><w>of</w><w>the</w><w>place</w><w>names</w><w>by</w><w>splitting</w><w>on</w><w>the</w><w>new</w><w>line</w><w>character</w><w>“</w><w>\n</w><w>”</w><pc>.</pc><w>This</w><w>assumes</w><w>that</w><w>your</w><w>file</w><w>is</w><w>structured</w><w>with</w><w>a</w><w>new</w><w>line</w><w>for</w><w>each</w><w>place</w><w>name</w><pc>.</pc><w>If</w><w>you</w><w>’</w><w>ve</w><w>used</w><w>a</w><w>different</w><w>format</w><w>in</w><w>your</w><w>file</w><w>,</w><w>you</w><w>may</w><w>need</w><w>to</w><w>split</w><w>on</w><w>the</w><w>comma</w><w>“</w><w>,</w><w>”</w><w>or</w><w>tab</w><w>”</w><w>\t</w><w>”</w><pc>.</pc><w>To</w><w>do</w><w>this</w><w>,</w><w>just</w><w>change</w><w>the</w><w>value</w><w>inside</w><code rend="inline"><w>.split</w><w>(</w><w>)</w></code><w>below</w><pc>.</pc></p><ab><code lang="language-python" xml:id="code_finding-places-world-historical-gazetteer_6" corresp="code_finding-places-world-historical-gazetteer_6.txt" rend="block"/></ab><p><w>At</w><w>this</w><w>point</w><w>,</w><w>you</w><w>should</w><w>be</w><w>able</w><w>to</w><code rend="inline"><w>print</w><w>(</w><w>gazetteer</w><w>)</w></code><w>and</w><w>get</w><w>a</w><w>nice</w><w>list</w><w>of</w><w>places</w><w>:</w></p><ab><code lang="language-python" xml:id="code_finding-places-world-historical-gazetteer_7" corresp="code_finding-places-world-historical-gazetteer_7.txt" rend="block"/></ab><ab><code xml:id="code_finding-places-world-historical-gazetteer_8" corresp="code_finding-places-world-historical-gazetteer_8.txt" rend="block"/></ab></div><div type="4" n="1.6.2"><head><w>6.2</w><w>Matching</w><w>Place</w><w>Names</w></head><p><w>Now</w><w>that</w><w>we</w><w>have</w><w>a</w><w>list</w><w>of</w><w>place</w><w>names</w><w>,</w><w>let</w><w>’</w><w>s</w><w>find</w><w>where</w><w>those</w><w>terms</w><w>appear</w><w>in</w><w>our</w><w>texts</w><pc>.</pc><w>As</w><w>an</w><w>example</w><w>,</w><w>let</w><w>’</w><w>s</w><w>use</w><w>this</w><w>sentence</w><w>:</w></p><ab><code lang="language-text" xml:id="code_finding-places-world-historical-gazetteer_9" corresp="code_finding-places-world-historical-gazetteer_9.txt" rend="block"/></ab><p><w>``</w><w>Karl-Heinz</w><w>Quade</w><w>was</w><w>interned</w><w>in</w><w>Camp</w><w>150</w><w>in</w><w>Gryazovets</w><w>from</w><w>March</w><w>1944</w><w>to</w><w>August</w><w>1948</w><pc>.</pc><w>''</w><w>There</w><w>’</w><w>s</w><w>one</w><w>place</w><w>name</w><w>in</w><w>this</w><w>sentence</w><w>,</w><ref target="https://www.openstreetmap.org/search?query=Gryazovets#map=12/58.8695/40.2395"><w>Gryazovets</w></ref><w>,</w><w>which</w><w>is</w><w>a</w><w>town</w><w>450</w><w>km</w><w>from</w><w>Moscow</w><pc>.</pc><w>We</w><w>just</w><w>need</w><w>to</w><w>show</w><w>our</w><w>computer</w><w>how</w><w>to</w><w>find</w><w>it</w><w>(</w><w>and</w><w>all</w><w>the</w><w>other</w><w>places</w><w>we</w><w>care</w><w>about</w><w>)</w><pc>.</pc><w>To</w><w>do</w><w>this</w><w>,</w><w>we</w><w>'ll</w><w>use</w><w>spaCy</w><w>'s</w><w>Matcher</w><w>tool</w><w>,</w><w>which</w><w>is</w><w>a</w><w>powerful</w><w>tool</w><w>for</w><w>searching</w><w>the</w><w>tokenized</w><w>text</w><w>for</w><w>patterns</w><w>in</w><w>words</w><w>and</w><w>their</w><w>attributes</w><pc>.</pc></p><ab><code lang="language-python" xml:id="code_finding-places-world-historical-gazetteer_10" corresp="code_finding-places-world-historical-gazetteer_10.txt" rend="block"/></ab><ab><code xml:id="code_finding-places-world-historical-gazetteer_11" corresp="code_finding-places-world-historical-gazetteer_11.txt" rend="block"/></ab><p><w>The</w><w>Matcher</w><w>will</w><w>find</w><w>tokens</w><w>that</w><w>match</w><w>the</w><w>patterns</w><w>that</w><w>we</w><w>’</w><w>ve</w><w>given</w><w>it</w><pc>.</pc><w>Note</w><w>that</w><w>we</w><w>’</w><w>ve</w><w>changed</w><w>the</w><w>place</w><w>names</w><w>to</w><w>be</w><w>written</w><w>in</w><w>all</w><w>lower</w><w>case</w><w>letters</w><w>so</w><w>that</w><w>the</w><w>search</w><w>will</w><w>be</w><w>case-insensitive</w><pc>.</pc><w>Use</w><w>“</w><w>ORTH</w><w>”</w><w>instead</w><w>of</w><w>”</w><w>LOWER</w><w>”</w><w>if</w><w>you</w><w>want</w><w>to</w><w>perform</w><w>a</w><w>case-sensitive</w><w>search</w><pc>.</pc><w>Note</w><w>that</w><w>we</w><w>retrieve</w><w>a</w><w>list</w><w>including</w><w>exact</w><w>matches</w><w>as</w><w>well</w><w>as</w><w>the</w><w>start</w><w>and</w><w>end</w><w>indexes</w><w>of</w><w>the</w><w>matched</w><w>spans</w><w>or</w><w>tokens</w><pc>.</pc><w>With</w><w>Matchers</w><w>,</w><w>we</w><w>are</w><w>able</w><w>to</w><w>search</w><w>for</w><w>combinations</w><w>of</w><w>more</w><w>than</w><w>one</w><w>word</w><w>such</w><w>as</w><w>“</w><w>New</w><w>York</w><w>City</w><w>”</w><w>or</w><w>“</w><w>Steamboat</w><w>Springs.</w><w>”</w><w>This</w><w>is</w><w>really</w><w>important</w><w>because</w><w>you</w><w>might</w><w>have</w><w>“</w><w>York</w><w>”</w><w>,</w><w>“</w><w>New</w><w>York</w><w>”</w><w>and</w><w>“</w><w>New</w><w>York</w><w>City</w><w>”</w><w>in</w><w>your</w><w>places</w><w>list</w><pc>.</pc></p><p><w>If</w><w>you</w><w>’</w><w>ve</w><w>ever</w><w>worked</w><w>with</w><ref target="https://doi.org/10.46430/phen0033"><w>regular</w><w>expressions</w></ref><w>,</w><w>some</w><w>of</w><w>this</w><w>may</w><w>feel</w><w>familiar</w><pc>.</pc><w>However</w><w>,</w><w>rather</w><w>than</w><w>matching</w><w>on</w><w>sequences</w><w>of</w><w>characters</w><w>,</w><w>here</w><w>we</w><w>’</w><w>re</w><w>matching</w><w>token</w><w>patterns</w><w>that</w><w>can</w><w>also</w><w>include</w><w>parts</w><w>of</w><w>speech</w><w>and</w><w>other</w><w>linguistic</w><w>attributes</w><w>of</w><w>a</w><w>text</w><pc>.</pc><w>As</w><w>an</w><w>example</w><w>,</w><w>let</w><w>'s</w><w>also</w><w>match</w><w>on</w><w>“</w><w>Camp</w><w>150</w><w>”</w><w>(</w><w>which</w><w>is</w><w>“</w><w>Lager</w><w>150</w><w>”</w><w>in</w><w>German</w><w>)</w><pc>.</pc><w>We</w><w>’</w><w>ll</w><w>add</w><w>a</w><w>new</w><w>pattern</w><w>that</w><w>will</w><w>identify</w><w>a</w><w>match</w><w>whenever</w><w>we</w><w>have</w><w>“</w><w>Lager</w><w>”</w><w>followed</w><w>by</w><w>a</w><w>number</w><pc>.</pc></p><ab><code lang="language-python" xml:id="code_finding-places-world-historical-gazetteer_12" corresp="code_finding-places-world-historical-gazetteer_12.txt" rend="block"/></ab><p><w>We</w><w>now</w><w>see</w><w>(</w><w>start</w><w>index</w><w>,</w><w>end</w><w>index</w><w>,</w><w>match</w><w>)</w><w>:</w></p><ab><code xml:id="code_finding-places-world-historical-gazetteer_13" corresp="code_finding-places-world-historical-gazetteer_13.txt" rend="block"/></ab><p><w>The</w><w>pattern</w><w>can</w><w>be</w><w>any</w><w>sequence</w><w>of</w><w>tokens</w><w>and</w><w>their</w><w>attributes</w><pc>.</pc><w>For</w><w>more</w><w>on</w><w>how</w><w>to</w><w>wield</w><w>this</w><w>new</w><w>superpower</w><w>,</w><w>see</w><w>the</w><ref target="https://perma.cc/6U34-2YQ5"><w>spaCy</w><w>Matcher</w><w>documentation</w></ref><w>,</w><w>the</w><ref target="https://course.spacy.io"><w>spaCy</w><w>course</w></ref><w>and</w><w>the</w><ref target="https://perma.cc/5HRT-6D8Q"><w>Rule-based</w><w>Matcher</w><w>Explorer</w></ref><pc>.</pc></p></div><div type="4" n="1.6.3"><head><w>6.3</w><w>Loading</w><w>Text</w><w>Files</w></head><p><w>In</w><w>the</w><w>examples</w><w>above</w><w>,</w><w>we</w><w>processed</w><w>a</w><w>single</w><w>sentence</w><pc>.</pc><w>That</w><w>might</w><w>be</w><w>all</w><w>you</w><w>need</w><w>,</w><w>but</w><w>most</w><w>often</w><w>you</w><w>'ll</w><w>need</w><w>to</w><w>process</w><w>multiple</w><w>texts</w><w>at</w><w>once</w><pc>.</pc><w>The</w><w>code</w><w>below</w><w>will</w><w>load</w><w>an</w><w>entire</w><w>directory</w><w>full</w><w>of</w><w>.txt</w><w>files</w><pc>.</pc><w>Pathlib</w><w>gives</w><w>us</w><w>an</w><w>easy</w><w>way</w><w>to</w><w>iterate</w><w>over</w><w>all</w><w>the</w><w>files</w><w>in</w><w>the</w><w>directory</w><w>using</w><code rend="inline"><w>iterdir</w><w>(</w><w>)</w></code><w>as</w><w>well</w><w>as</w><w>a</w><code rend="inline"><w>read_text</w><w>(</w><w>)</w></code><w>method</w><w>that</w><w>will</w><w>load</w><w>the</w><w>text</w><pc>.</pc><w>The</w><w>code</w><w>below</w><w>will</w><w>generate</w><w>a</w><w>list</w><w>of</w><w>the</w><w>filename</w><w>,</w><w>location</w><w>and</w><w>name</w><w>of</w><w>every</w><w>place</w><w>from</w><w>our</w><w>gazetteer</w><w>that</w><w>appears</w><w>in</w><w>the</w><w>texts</w><pc>.</pc></p><ab><code lang="language-python" xml:id="code_finding-places-world-historical-gazetteer_14" corresp="code_finding-places-world-historical-gazetteer_14.txt" rend="block"/></ab></div><div type="4" n="1.6.4"><head><w>6.4</w><w>Term</w><w>Frequency</w></head><p><w>At</w><w>this</w><w>point</w><w>you</w><w>may</w><w>want</w><w>to</w><w>know</w><w>which</w><w>items</w><w>appear</w><w>most</w><w>frequently</w><w>in</w><w>the</w><w>text</w><pc>.</pc><w>To</w><w>count</w><w>frequencies</w><w>,</w><w>you</w><w>can</w><w>use</w><w>Python</w><w>’</w><w>s</w><w>Counter</w><w>object</w><pc>.</pc><w>In</w><w>the</w><w>following</w><w>cell</w><w>,</w><w>we</w><w>create</w><w>an</w><w>empty</w><w>list</w><w>and</w><w>then</w><w>add</w><w>the</w><w>text</w><w>for</w><w>each</w><w>match</w><pc>.</pc><w>The</w><w>counter</w><w>will</w><w>then</w><w>return</w><w>the</w><w>frequency</w><w>for</w><w>each</w><w>term</w><w>in</w><w>the</w><w>list</w><pc>.</pc></p><ab><code lang="language-python" xml:id="code_finding-places-world-historical-gazetteer_15" corresp="code_finding-places-world-historical-gazetteer_15.txt" rend="block"/></ab><ab><code xml:id="code_finding-places-world-historical-gazetteer_16" corresp="code_finding-places-world-historical-gazetteer_16.txt" rend="block"/></ab></div><div type="4" n="1.6.5"><head><w>6.5</w><w>Named</w><w>Entity</w><w>Recognition</w></head><p><w>Up</w><w>to</w><w>this</w><w>point</w><w>,</w><w>we</w><w>have</w><w>been</w><w>using</w><w>the</w><w>spaCy</w><w>Matcher</w><w>to</w><w>search</w><w>a</w><w>document</w><w>for</w><w>specific</w><w>place</w><w>names</w><pc>.</pc><w>It</w><w>will</w><w>find</w><w>any</w><w>of</w><w>the</w><w>places</w><w>in</w><w>our</w><w>list</w><w>that</w><w>occur</w><w>in</w><w>the</w><w>text</w><pc>.</pc><w>However</w><w>,</w><w>what</w><w>if</w><w>we</w><w>want</w><w>to</w><w>find</w><w>places</w><w>including</w><w>those</w><w>not</w><w>in</w><w>our</w><w>list</w><pc>?</pc><w>Can</w><w>we</w><w>retrieve</w><w>all</w><w>the</w><w>place</w><w>names</w><w>that</w><w>appear</w><w>in</w><w>the</w><w>text</w><pc>?</pc><w>For</w><w>this</w><w>task</w><w>,</w><w>there</w><w>are</w><w>pre-trained</w><w>models</w><w>available</w><w>in</w><w>many</w><w>languages</w><w>for</w><w>identifying</w><w>place</w><w>names</w><pc>.</pc><w>These</w><w>are</w><w>statistical</w><w>models</w><w>that</w><w>have</w><w>learned</w><w>the</w><w>general</w><w>``</w><w>look</w><w>and</w><w>feel</w><w>''</w><w>of</w><w>place</w><w>names</w><w>and</w><w>can</w><w>make</w><w>predictions</w><pc>.</pc><w>This</w><w>enables</w><w>the</w><w>model</w><w>to</w><w>identify</w><w>place</w><w>names</w><w>even</w><w>if</w><w>they</w><w>were</w><w>not</w><w>included</w><w>in</w><w>its</w><w>training</w><w>data</w><pc>.</pc><w>But</w><w>it</w><w>also</w><w>means</w><w>that</w><w>the</w><w>model</w><w>can</w><w>make</w><w>mistakes</w><pc>.</pc><w>With</w><w>the</w><w>jump</w><w>into</w><w>machine</w><w>learning</w><w>,</w><w>it</w><w>'s</w><w>important</w><w>that</w><w>you</w><w>keep</w><w>in</w><w>mind</w><w>that</w><w>the</w><w>machine</w><w>is</w><w>making</w><w>informed</w><w>predictions</w><w>based</w><w>on</w><w>what</w><w>it</w><w>has</w><w>learned</w><pc>.</pc><w>If</w><w>your</w><w>materials</w><w>are</w><w>significantly</w><w>different</w><w>from</w><w>what</w><w>the</w><w>model</w><w>was</w><w>trained</w><w>on</w><w>,</w><w>say</w><w>Ottoman</w><w>government</w><w>texts</w><w>rather</w><w>than</w><w>contemporary</w><w>Turkish</w><w>newspaper</w><w>articles</w><w>,</w><w>you</w><w>should</w><w>expect</w><w>rather</w><w>poor</w><w>performance</w><pc>.</pc><w>However</w><w>,</w><w>it</w><w>is</w><w>also</w><w>possible</w><w>to</w><w>fine-tune</w><w>a</w><w>model</w><w>using</w><w>your</w><w>materials</w><w>to</w><w>improve</w><w>accuracy</w><pc>.</pc></p><p><w>To</w><w>work</w><w>with</w><w>a</w><w>pre-trained</w><w>model</w><w>in</w><w>spaCy</w><w>,</w><w>you</w><w>'ll</w><w>need</w><w>to</w><w>download</w><w>one</w><pc>.</pc><w>A</w><w>list</w><w>of</w><w>the</w><w>current</w><w>options</w><w>can</w><w>be</w><w>found</w><ref target="https://perma.cc/M2DK-G3R4"><w>in</w><w>the</w><w>spaCy</w><w>documentation</w></ref><pc>.</pc><w>For</w><w>our</w><w>German</w><w>example</w><w>,</w><w>use</w><w>the</w><w>command-line</w><w>interface</w><w>to</w><w>download</w><w>the</w><w>small</w><w>model</w><w>trained</w><w>on</w><w>newspaper</w><w>articles</w><w>:</w><code rend="inline"><w>python</w><w>-m</w><w>spacy</w><w>download</w><w>de_core_news_sm</w></code><pc>.</pc><w>To</w><w>load</w><w>the</w><w>model</w><w>and</w><w>identify</w><w>named</w><w>entities</w><w>,</w><w>use</w><w>the</w><w>following</w><w>:</w></p><ab><code lang="language-python" xml:id="code_finding-places-world-historical-gazetteer_17" corresp="code_finding-places-world-historical-gazetteer_17.txt" rend="block"/></ab><ab><code xml:id="code_finding-places-world-historical-gazetteer_18" corresp="code_finding-places-world-historical-gazetteer_18.txt" rend="block"/></ab><p><w>Just</w><w>by</w><w>looking</w><w>at</w><w>the</w><w>text</w><w>and</w><w>the</w><w>relationships</w><w>between</w><w>words</w><w>,</w><w>the</w><w>model</w><w>is</w><w>able</w><w>to</w><w>correctly</w><w>identify</w><w>that</w><w>Karl-Heinz</w><w>Quade</w><w>is</w><w>a</w><w>person</w><w>(</w><w>PER</w><w>)</w><w>and</w><w>that</w><w>Grjasowez</w><w>is</w><w>a</w><w>place</w><w>(</w><w>LOC</w><w>)</w><pc>.</pc><w>Named</w><w>entity</w><w>recognition</w><w>is</w><w>a</w><w>powerful</w><w>tool</w><w>for</w><w>finding</w><w>places</w><w>,</w><w>people</w><w>and</w><w>organizations</w><w>in</w><w>text</w><pc>.</pc><w>However</w><w>,</w><w>you</w><w>are</w><w>likely</w><w>to</w><w>encounter</w><w>machine</w><w>errors</w><w>,</w><w>so</w><w>it</w><w>’</w><w>s</w><w>important</w><w>to</w><w>review</w><w>the</w><w>results</w><w>and</w><w>to</w><w>correct</w><w>errors</w><pc>.</pc><w>With</w><w>Matcher</w><w>,</w><w>you</w><w>won</w><w>’</w><w>t</w><w>encounter</w><w>these</w><w>mistakes</w><w>,</w><w>but</w><w>you</w><w>also</w><w>won</w><w>’</w><w>t</w><w>find</w><w>place</w><w>names</w><w>that</w><w>are</w><w>not</w><w>featured</w><w>in</w><w>the</w><w>gazetteer</w><pc>.</pc></p></div><div type="4" n="1.6.6"><head><w>6.6</w><w>DisplaCy</w></head><p><w>To</w><w>see</w><w>your</w><w>results</w><w>in</w><w>the</w><w>context</w><w>of</w><w>the</w><w>text</w><w>,</w><w>spaCy</w><w>includes</w><w>a</w><w>useful</w><w>tool</w><w>called</w><ref target="https://perma.cc/GG6G-LBG5"><w>displaCy</w></ref><pc>.</pc><w>displaCy</w><w>will</w><w>display</w><w>an</w><w>image</w><w>of</w><w>the</w><w>text</w><w>alongside</w><w>any</w><w>predictions</w><w>made</w><w>,</w><w>which</w><w>can</w><w>be</w><w>very</w><w>useful</w><w>when</w><w>assessing</w><w>whether</w><w>the</w><w>results</w><w>are</w><w>going</w><w>to</w><w>be</w><w>helpful</w><w>to</w><w>your</w><w>research</w><w>or</w><w>introduce</w><w>too</w><w>many</w><w>machine</w><w>errors</w><w>to</w><w>be</w><w>practical</w><pc>.</pc><w>spaCy</w><w>also</w><w>offers</w><w>a</w><ref target="https://perma.cc/N5A8-6JAK"><w>web</w><w>application</w></ref><w>that</w><w>enables</w><w>you</w><w>to</w><w>assess</w><w>predictions</w><w>quickly</w><pc>.</pc><w>Visualizations</w><w>can</w><w>be</w><w>created</w><w>either</w><w>using</w><w>a</w><w>Python</w><w>script</w><w>or</w><w>by</w><w>running</w><w>a</w><ref target="https://doi.org/10.46430/phen0087"><w>Jupyter</w><w>notebook</w></ref><pc>.</pc></p><p><hi rend="bold"><w>python</w><w>script</w></hi></p><ab><code lang="language-python" xml:id="code_finding-places-world-historical-gazetteer_19" corresp="code_finding-places-world-historical-gazetteer_19.txt" rend="block"/></ab><figure><desc><w>Figure</w><w>1</w><w>:</w><w>entity</w><w>recognition</w><w>image</w></desc><graphic url="FINDING-PLACES-WORLD-HISTORICAL-GAZETTEER0.png"/></figure><p><hi rend="bold"><w>jupyter</w><w>notebook</w></hi></p><ab><code lang="language-python" xml:id="code_finding-places-world-historical-gazetteer_20" corresp="code_finding-places-world-historical-gazetteer_20.txt" rend="block"/></ab><p><w>With</w><w>statistical</w><w>models</w><w>,</w><w>you</w><w>can</w><w>also</w><w>use</w><w>displaCy</w><w>to</w><w>create</w><w>a</w><w>useful</w><w>visualization</w><w>of</w><w>the</w><w>relationships</w><w>between</w><w>words</w><w>in</w><w>the</w><w>text</w><pc>.</pc><w>Just</w><w>use</w><code rend="inline"><w>style='dep</w><w>'</w></code><w>to</w><w>generate</w><w>this</w><w>form</w><w>of</w><w>visualization</w><pc>.</pc></p><ab><code lang="language-python" xml:id="code_finding-places-world-historical-gazetteer_21" corresp="code_finding-places-world-historical-gazetteer_21.txt" rend="block"/></ab><figure><desc><w>Figure</w><w>2</w><w>:</w><w>dependency</w><w>visualization</w></desc><graphic url="FINDING-PLACES-WORLD-HISTORICAL-GAZETTEER1.svg"/></figure><p><w>DisplaCy</w><w>visualizations</w><w>can</w><w>also</w><w>be</w><w>saved</w><w>to</w><w>a</w><w>file</w><w>for</w><w>use</w><w>elsewhere</w><w>(</w><ref target="https://perma.cc/6U37-R63K"><w>spaCy</w><w>'s</w><w>documentation</w><w>provides</w><w>further</w><w>guidance</w></ref><w>)</w><pc>.</pc></p><ab><code lang="language-python" xml:id="code_finding-places-world-historical-gazetteer_22" corresp="code_finding-places-world-historical-gazetteer_22.txt" rend="block"/></ab></div><div type="4" n="1.6.7"><head><w>6.7</w><w>Named</w><w>Entity</w><w>Linking</w></head><p><w>While</w><w>it</w><w>'s</w><w>useful</w><w>to</w><w>note</w><w>that</w><w>Karl-Heinz</w><w>Quade</w><w>is</w><w>a</w><w>person</w><w>,</w><w>it</w><w>would</w><w>be</w><w>even</w><w>better</w><w>to</w><w>know</w><w>who</w><w>Karl-Heinz</w><w>Quade</w><w>is</w><pc>.</pc><w>Named</w><w>entity</w><w>linking</w><w>is</w><w>the</w><w>process</w><w>of</w><w>connecting</w><w>a</w><w>place</w><w>or</w><w>person</w><w>’</w><w>s</w><w>name</w><w>to</w><w>a</w><w>specific</w><w>record</w><w>in</w><w>a</w><w>knowledge</w><w>base</w><pc>.</pc><w>This</w><w>link</w><w>connects</w><w>the</w><w>predicted</w><w>entity</w><w>to</w><w>a</w><w>unique</w><w>record</w><w>and</w><w>its</w><w>associated</w><w>data</w><pc>.</pc><w>For</w><w>example</w><w>,</w><w>DBpedia</w><w>records</w><w>for</w><w>places</w><w>often</w><w>contain</w><w>data</w><w>including</w><w>the</w><w>latitude</w><w>and</w><w>longitude</w><w>,</w><w>region</w><w>,</w><w>country</w><w>,</w><w>time</w><w>zone</w><w>,</w><w>and</w><w>population</w><pc>.</pc><w>By</w><w>connecting</w><w>our</w><w>text</w><w>to</w><w>the</w><w>DBpedia</w><w>knowledge</w><w>base</w><w>,</w><w>we</w><w>are</w><w>able</w><w>to</w><w>utilize</w><w>external</w><w>information</w><w>in</w><w>our</w><w>analysis</w><pc>.</pc></p><p><w>There</w><w>is</w><w>a</w><w>useful</w><w>Python</w><w>library</w><w>for</w><w>spaCy</w><w>known</w><w>as</w><w>the</w><w>DBpedia</w><w>Spotlight</w><w>which</w><w>can</w><w>attempt</w><w>to</w><w>match</w><w>predicted</w><w>entities</w><w>with</w><w>records</w><w>in</w><w>DBpedia</w><pc>.</pc><w>This</w><w>relationship</w><w>will</w><w>then</w><w>be</w><w>visible</w><w>as</w><w>part</w><w>of</w><w>the</w><w>‘</w><w>entity</w><w>span</w><w>’</w><w>annotation</w><pc>.</pc><w>To</w><w>install</w><w>the</w><w>DBpedia</w><w>Spotlight</w><w>library</w><w>,</w><w>enter</w><code rend="inline"><w>pip</w><w>install</w><w>spacy-dbpedia-spotlight</w></code><w>in</w><w>the</w><w>command</w><w>line</w><w>and</w><w>press</w><w>enter</w><pc>.</pc></p><ab><code lang="language-python" xml:id="code_finding-places-world-historical-gazetteer_23" corresp="code_finding-places-world-historical-gazetteer_23.txt" rend="block"/></ab><ab><code xml:id="code_finding-places-world-historical-gazetteer_24" corresp="code_finding-places-world-historical-gazetteer_24.txt" rend="block"/></ab><p><w>Note</w><w>that</w><w>we</w><w>now</w><w>have</w><w>entities</w><w>in</w><w>the</w><w>document</w><w>with</w><w>the</w><w>``</w><w>DBPEDIA_ENT</w><w>''</w><w>label</w><w>and</w><w>the</w><w>URI</w><w>for</w><w>the</w><w>DBpedia</w><w>record</w><pc>.</pc><w>Karl-Heinz</w><w>Quade</w><w>does</w><w>not</w><w>feature</w><w>in</w><w>DBpedia</w><w>,</w><w>so</w><w>we</w><w>do</w><w>n't</w><w>get</w><w>a</w><w>match</w><w>,</w><w>but</w><w>the</w><w>Grjasowez</w><w>record</w><w>has</w><w>a</w><w>wealth</w><w>of</w><w>information</w><pc>.</pc><w>To</w><w>access</w><w>the</w><w>associated</w><w>data</w><w>,</w><w>you</w><w>can</w><w>send</w><w>a</w><w>request</w><w>to</w><w>the</w><w>DBpedia</w><w>server</w><pc>.</pc><w>Note</w><w>that</w><w>we</w><w>have</w><w>replaced</w><w>the</w><w>human-readable</w><w>page</w><w>“</w><w>resource</w><w>”</w><w>with</w><w>the</w><w>machine-readable</w><w>operator</w><w>“</w><w>data</w><w>”</w><pc>.</pc><w>We</w><w>then</w><w>add</w><w>“</w><w>.json</w><w>”</w><w>to</w><w>the</w><w>record</w><w>name</w><w>,</w><w>which</w><w>will</w><w>return</w><w>the</w><w>data</w><w>as</w><w>JSON</w><pc>.</pc><w>We</w><w>can</w><w>use</w><w>the</w><w>requests</w><w>library</w><w>to</w><w>parse</w><w>the</w><w>JSON</w><w>data</w><w>and</w><w>make</w><w>it</w><w>ready</w><w>for</w><w>use</w><w>in</w><w>our</w><w>Python</w><w>script</w><pc>.</pc></p><ab><code lang="language-python" xml:id="code_finding-places-world-historical-gazetteer_25" corresp="code_finding-places-world-historical-gazetteer_25.txt" rend="block"/></ab><p><w>You</w><w>can</w><w>explore</w><w>this</w><w>data</w><w>using</w><code rend="inline"><w>print</w><w>(</w><w>data</w><w>)</w></code><w>or</w><code rend="inline"><w>data.keys</w><w>(</w><w>)</w></code><pc>.</pc><w>For</w><w>more</w><w>on</w><w>JSON</w><w>,</w><w>see</w><ref target="https://doi.org/10.46430/phen0055"><w>Matthew</w><w>Lincoln</w><w>’</w><w>s</w><w>lesson</w><w>for</w><w>the</w><emph><w>Programming</w><w>Historian</w></emph></ref><pc>.</pc><w>Here</w><w>is</w><w>an</w><w>example</w><w>of</w><w>how</w><w>to</w><w>access</w><w>the</w><w>latitude</w><w>and</w><w>longitude</w><w>for</w><w>this</w><w>particular</w><w>result</w><w>:</w></p><ab><code xml:id="code_finding-places-world-historical-gazetteer_26" corresp="code_finding-places-world-historical-gazetteer_26.txt" rend="block"/></ab><ab><code xml:id="code_finding-places-world-historical-gazetteer_27" corresp="code_finding-places-world-historical-gazetteer_27.txt" rend="block"/></ab><p><w>Before</w><w>moving</w><w>on</w><w>,</w><w>it</w><w>is</w><w>important</w><w>to</w><w>note</w><w>that</w><code rend="inline"><w>spacy-dbpedia-spotlight</w></code><w>is</w><w>similar</w><w>to</w><w>the</w><w>Matcher</w><pc>.</pc><w>It</w><w>takes</w><w>a</w><w>predicted</w><w>entity</w><w>(</w><w>a</w><w>person</w><w>,</w><w>place</w><w>,</w><w>or</w><w>organization</w><w>)</w><w>and</w><w>searches</w><w>DBpedia</w><w>for</w><w>a</w><w>corresponding</w><w>entry</w><pc>.</pc><w>It</w><w>can</w><w>identify</w><w>a</w><w>match</w><w>,</w><w>but</w><w>it</w><w>is</w><w>not</w><w>able</w><w>to</w><w>look</w><w>at</w><w>the</w><w>context</w><w>of</w><w>the</w><w>text</w><w>to</w><w>predict</w><w>whether</w><w>``</w><w>I.</w><w>Ivanov</w><w>''</w><w>is</w><w>the</w><w>famous</w><w>Bulgarian</w><w>badminton</w><w>player</w><w>or</w><w>the</w><w>Russian</w><w>skier</w><pc>.</pc><w>Whereas</w><w>,</w><w>spaCy</w><w>has</w><w>the</w><w>capacity</w><w>to</w><w>use</w><w>the</w><w>surrounding</w><w>text</w><w>to</w><w>disambiguate</w><w>the</w><w>results</w><pc>.</pc><w>``</w><w>Ivan</w><w>cherished</w><w>badminton</w><w>''</w><w>and</w><w>``</w><w>The</w><w>great</w><w>skier</w><w>,</w><w>Ivanov</w><w>...</w><w>''</w><w>will</w><w>return</w><w>different</w><w>link</w><w>predictions</w><w>given</w><w>the</w><w>textual</w><w>context</w><w>and</w><w>frequency</w><w>of</w><w>the</w><w>record</w><w>in</w><w>the</w><w>corpus</w><pc>.</pc><w>This</w><w>is</w><w>a</w><w>more</w><w>involved</w><w>process</w><w>than</w><w>we</w><w>can</w><w>detail</w><w>within</w><w>the</w><w>scope</w><w>of</w><w>this</w><w>lesson</w><pc>.</pc><w>However</w><w>,</w><w>one</w><w>of</w><w>the</w><w>developers</w><w>of</w><w>spaCy</w><w>,</w><w>Sofie</w><w>Van</w><w>Landeghem</w><w>,</w><w>has</w><w>recorded</w><ref target="https://spacy.io/universe/project/video-spacy-irl-entity-linking"><w>a</w><w>very</w><w>useful</w><w>video</w><w>on</w><w>this</w><w>process</w></ref><w>for</w><w>those</w><w>advanced</w><w>users</w><w>who</w><w>require</w><w>this</w><w>functionality</w><pc>.</pc></p></div><div type="4" n="1.6.8"><head><w>6.8</w><w>Export</w><w>Our</w><w>Data</w></head><p><w>The</w><w>final</w><w>step</w><w>in</w><w>this</w><w>section</w><w>is</w><w>to</w><w>export</w><w>our</w><w>Matches</w><w>in</w><w>the</w><ref target="https://perma.cc/Z3SM-P5JZ"><w>tab</w><w>separated</w><w>value</w><w>(</w><w>TSV</w><w>)</w><w>format</w><w>required</w><w>by</w><w>the</w><w>World</w><w>Historical</w><w>Gazetteer</w></ref><pc>.</pc><w>If</w><w>you</w><w>’</w><w>ve</w><w>used</w><w>a</w><w>spreadsheet</w><w>program</w><w>like</w><w>Excel</w><w>or</w><w>Google</w><w>Sheets</w><w>,</w><w>then</w><w>you</w><w>will</w><w>already</w><w>be</w><w>familiar</w><w>with</w><w>tabular</w><w>data</w><pc>.</pc><w>This</w><w>is</w><w>information</w><w>structured</w><w>in</w><w>rows</w><w>and</w><w>columns</w><pc>.</pc><w>To</w><w>store</w><w>tabular</w><w>data</w><w>in</w><w>a</w><w>simple</w><w>format</w><w>,</w><w>programmers</w><w>often</w><w>use</w><w>tab-separated</w><w>value</w><w>(</w><w>TSV</w><w>)</w><w>files</w><pc>.</pc><w>These</w><w>are</w><w>simple</w><w>text</w><w>files</w><w>including</w><w>symbols</w><w>that</w><w>split</w><w>the</w><w>text</w><w>into</w><w>rows</w><w>and</w><w>columns</w><pc>.</pc><w>Rows</w><w>are</w><w>separated</w><w>by</w><w>the</w><w>new</w><w>line</w><w>character</w><code rend="inline"><w>\n</w></code><w>and</w><w>rows</w><w>are</w><w>split</w><w>into</w><w>columns</w><w>by</w><w>tabs</w><code rend="inline"><w>\t</w></code><pc>.</pc></p><ab><code lang="language-python" xml:id="code_finding-places-world-historical-gazetteer_28" corresp="code_finding-places-world-historical-gazetteer_28.txt" rend="block"/></ab></div></div><div type="3" n="1.7"><head><w>7</w><pc>.</pc><w>Uploading</w><w>to</w><w>the</w><w>World</w><w>Historical</w><w>Gazetteer</w></head><p><w>Now</w><w>that</w><w>we</w><w>have</w><w>a</w><w>Linked</w><w>Places</w><w>TSV</w><w>,</w><w>we</w><w>will</w><w>upload</w><w>it</w><w>to</w><w>the</w><w>World</w><w>Historical</w><w>Gazetteer</w><w>(</w><w>WHG</w><w>)</w><pc>.</pc><w>The</w><w>WHG</w><w>is</w><w>a</w><w>fully</w><w>web-based</w><w>application</w><pc>.</pc><w>It</w><w>indexes</w><w>place</w><w>names</w><w>drawn</w><w>from</w><w>historical</w><w>sources</w><w>,</w><w>adding</w><w>temporal</w><w>depth</w><w>to</w><w>a</w><w>corpus</w><w>of</w><w>approximately</w><w>1.8</w><w>million</w><w>modern</w><w>records</w><pc>.</pc><w>This</w><w>is</w><w>especially</w><w>useful</w><w>for</w><w>places</w><w>which</w><w>have</w><w>changed</w><w>names</w><w>over</w><w>time</w><pc>.</pc><w>By</w><w>using</w><w>the</w><w>WHG</w><w>,</w><w>users</w><w>can</w><w>upload</w><w>their</w><w>data</w><w>and</w><w>rapidly</w><w>find</w><w>the</w><w>coordinates</w><w>of</w><w>historical</w><w>places</w><w>(</w><w>provided</w><w>that</w><w>the</w><w>places</w><w>are</w><w>in</w><w>the</w><w>WHG</w><w>index</w><w>and</w><w>have</w><w>coordinates</w><w>)</w><pc>.</pc><w>As</w><w>mentioned</w><w>in</w><w>the</w><w>gazetteer</w><w>section</w><w>above</w><w>,</w><w>this</w><w>service</w><w>provides</w><w>automatic</w><w>geocoding</w><w>that</w><w>is</w><w>suitable</w><w>for</w><w>use</w><w>with</w><w>historical</w><w>data</w><pc>.</pc><w>Many</w><w>common</w><w>geocoding</w><w>services</w><w>including</w><w>Google</w><w>Maps</w><w>,</w><w>as</w><w>well</w><w>as</w><w>those</w><w>behind</w><w>a</w><w>paywall</w><w>barrier</w><w>such</w><w>as</w><w>ArcGIS</w><w>,</w><w>are</w><w>unsuitable</w><w>for</w><w>historical</w><w>research</w><w>as</w><w>they</w><w>are</w><w>based</w><w>primarily</w><w>upon</w><w>21st</w><w>century</w><w>information</w><pc>.</pc><w>They</w><w>rarely</w><w>support</w><w>historical</w><w>place</w><w>name</w><w>information</w><w>beyond</w><w>the</w><w>most</w><w>common</w><w>instances</w><pc>.</pc><w>Additionally</w><w>,</w><w>the</w><w>WHG</w><w>also</w><w>supports</w><w>a</w><w>multitude</w><w>of</w><w>languages</w><pc>.</pc><w>Finally</w><w>,</w><w>geocoding</w><w>and</w><w>basic</w><w>mapping</w><w>are</w><w>achievable</w><w>through</w><w>a</w><w>graphical</w><w>user</w><w>interface</w><pc>.</pc><w>This</w><w>circumnavigates</w><w>the</w><w>need</w><w>to</w><w>use</w><w>a</w><w>script</w><w>,</w><w>to</w><w>trace</w><w>layers</w><w>from</w><w>maps</w><w>in</w><w>a</w><w>different</w><w>program</w><w>,</w><w>or</w><w>create</w><w>relational</w><w>databases</w><w>and</w><w>table</w><w>joins</w><w>in</w><w>GIS</w><w>software</w><pc>.</pc></p><p><w>The</w><w>WHG</w><w>is</w><w>free</w><w>to</w><w>use</w><pc>.</pc><w>To</w><w>get</w><w>started</w><w>,</w><ref target="https://whgazetteer.org/accounts/signup/"><w>register</w><w>for</w><w>an</w><w>account</w></ref><w>and</w><w>then</w><w>sign</w><w>in</w><pc>.</pc></p><figure><desc><w>Figure</w><w>3</w><w>:</w><w>Register</w></desc><graphic url="FINDING-PLACES-WORLD-HISTORICAL-GAZETTEER2.JPG"/></figure><p><w>After</w><w>registering</w><w>and</w><w>logging</w><w>in</w><w>,</w><w>you</w><w>will</w><w>be</w><w>taken</w><w>to</w><w>the</w><w>“</w><w>Datasets</w><w>”</w><w>tab</w><pc>.</pc><w>Press</w><w>“</w><w>add</w><w>new</w><w>”</w><w>to</w><w>upload</w><w>your</w><w>Linked</w><w>Pasts</w><w>TSV</w><w>to</w><w>the</w><w>WHG</w><pc>.</pc></p><figure><desc><w>Figure</w><w>4</w><w>:</w><w>Add</w><w>Data</w></desc><graphic url="FINDING-PLACES-WORLD-HISTORICAL-GAZETTEER3.JPG"/></figure><p><w>Insert</w><w>a</w><w>title</w><w>,</w><w>such</w><w>as</w><w>“</w><w>POW</w><w>Memoir</w><w>Places</w><w>,</w><w>”</w><w>and</w><w>add</w><w>a</w><w>brief</w><w>description</w><pc>.</pc><w>Do</w><w>not</w><w>check</w><w>the</w><w>public</w><w>box</w><w>for</w><w>now</w><w>,</w><w>as</w><w>we</w><w>do</w><w>not</w><w>want</w><w>this</w><w>dataset</w><w>to</w><w>be</w><w>visible</w><w>to</w><w>anyone</w><w>but</w><w>your</w><w>own</w><w>user</w><w>account</w><pc>.</pc><w>If</w><w>you</w><w>want</w><w>to</w><w>contribute</w><w>to</w><w>the</w><w>WHG</w><w>,</w><w>you</w><w>can</w><w>upload</w><w>your</w><w>historic</w><w>place</w><w>name</w><w>information</w><w>and</w><w>adjust</w><w>the</w><w>privacy</w><w>settings</w><w>in</w><w>the</w><w>future</w><pc>.</pc><w>Next</w><w>,</w><w>browse</w><w>your</w><w>computer</w><w>to</w><w>locate</w><w>your</w><w>Linked</w><w>Places</w><w>TSV</w><w>file</w><w>and</w><w>upload</w><w>it</w><pc>.</pc><w>Do</w><w>not</w><w>change</w><w>the</w><w>formatting</w><w>selection</w><w>-</w><w>Delimited/Spreadsheet</w><w>must</w><w>remain</w><w>selected</w><pc>.</pc><w>The</w><w>image</w><w>below</w><w>shows</w><w>a</w><w>properly</w><w>formatted</w><w>upload</w><w>dialogue</w><w>box</w><pc>.</pc></p><figure><desc><w>Figure</w><w>5</w><w>:</w><w>Adding</w><w>Data</w></desc><graphic url="FINDING-PLACES-WORLD-HISTORICAL-GAZETTEER4.JPG"/></figure><p><w>Once</w><w>the</w><w>dataset</w><w>is</w><w>successfully</w><w>uploaded</w><w>,</w><w>you</w><w>can</w><w>begin</w><w>what</w><w>is</w><w>known</w><w>as</w><w>the</w><w>reconciliation</w><w>process</w><pc>.</pc><w>Back</w><w>on</w><w>the</w><w>“</w><w>Datasets</w><w>”</w><w>tab</w><w>,</w><w>click</w><w>on</w><w>the</w><w>TSV</w><w>file</w><w>you</w><w>'ve</w><w>uploaded</w><pc>.</pc><w>This</w><w>will</w><w>take</w><w>you</w><w>to</w><w>a</w><w>new</w><w>screen</w><w>to</w><w>preview</w><w>the</w><w>dataset</w><w>’</w><w>s</w><w>metadata</w><pc>.</pc><w>Click</w><w>on</w><w>the</w><w>“</w><w>Reconciliation</w><w>”</w><w>tab</w><w>at</w><w>the</w><w>top</w><w>of</w><w>this</w><w>page</w><pc>.</pc><w>Reconciliation</w><w>is</w><w>the</w><w>process</w><w>of</w><w>entries</w><w>in</w><w>your</w><w>TSV</w><w>file</w><w>to</w><w>the</w><w>database</w><w>of</w><w>place</w><w>names</w><w>and</w><w>their</w><w>additional</w><w>relations</w><w>in</w><w>the</w><w>WHG</w><pc>.</pc><w>On</w><w>the</w><w>“</w><w>Reconciliation</w><w>”</w><w>tab</w><w>,</w><w>press</w><w>the</w><w>“</w><w>add</w><w>new</w><w>task</w><w>”</w><w>button</w><pc>.</pc></p><figure><desc><w>Figure</w><w>6</w><w>:</w><w>Starting</w><w>Reconciliation</w><w>Part</w><w>1</w></desc><graphic url="FINDING-PLACES-WORLD-HISTORICAL-GAZETTEER5.JPG"/></figure><p><w>You</w><w>currently</w><w>have</w><w>the</w><w>option</w><w>to</w><w>reconcile</w><w>your</w><w>data</w><w>with</w><w>Getty</w><w>TGN</w><w>or</w><w>Wikidata</w><pc>.</pc><w>Select</w><w>Wikidata</w><w>and</w><w>press</w><w>start</w><pc>.</pc><w>If</w><w>you</w><w>want</w><w>to</w><w>limit</w><w>the</w><w>geographical</w><w>area</w><w>of</w><w>your</w><w>results</w><w>,</w><w>apply</w><w>a</w><w>geographic</w><w>constraint</w><w>filter</w><w>before</w><w>pressing</w><w>start</w><pc>.</pc><w>If</w><w>none</w><w>of</w><w>the</w><w>pre-defined</w><w>regions</w><w>are</w><w>acceptable</w><w>,</w><w>you</w><w>can</w><w>create</w><w>your</w><w>own</w><w>user</w><w>area</w><w>to</w><w>fine-tune</w><w>the</w><w>results</w><w>retrieved</w><w>in</w><w>the</w><w>reconciliation</w><w>process</w><pc>.</pc></p><figure><desc><w>Figure</w><w>7</w><w>:</w><w>Starting</w><w>Reconciliation</w><w>Part</w><w>2</w></desc><graphic url="FINDING-PLACES-WORLD-HISTORICAL-GAZETTEER6.JPG"/></figure><p><w>After</w><w>pressing</w><w>Start</w><w>,</w><w>you</w><w>will</w><w>be</w><w>returned</w><w>to</w><w>the</w><w>main</w><w>“</w><w>Reconciliation</w><w>”</w><w>tab</w><pc>.</pc><w>The</w><w>process</w><w>will</w><w>run</w><w>for</w><w>a</w><w>while</w><w>and</w><w>you</w><w>will</w><w>receive</w><w>an</w><w>email</w><w>when</w><w>the</w><w>process</w><w>is</w><w>complete</w><pc>.</pc><w>You</w><w>can</w><w>also</w><w>refresh</w><w>the</w><w>screen</w><w>every</w><w>few</w><w>seconds</w><w>to</w><w>see</w><w>if</w><w>it</w><w>is</w><w>done</w><pc>.</pc><w>When</w><w>the</w><w>reconciliation</w><w>is</w><w>complete</w><w>,</w><w>you</w><w>will</w><w>be</w><w>advised</w><w>how</w><w>many</w><w>results</w><w>need</w><w>to</w><w>be</w><w>reviewed</w><w>for</w><w>each</w><w>‘</w><w>Pass</w><w>’</w><w>of</w><w>the</w><w>process</w><pc>.</pc><w>In</w><w>this</w><w>case</w><w>we</w><w>reconciled</w><w>133</w><w>records</w><w>,</w><w>of</w><w>which</w><w>126</w><w>were</w><w>’</w><w>hits</w><w>’</w><pc>.</pc><w>We</w><w>now</w><w>have</w><w>to</w><w>do</w><w>a</w><w>manual</w><w>review</w><w>of</w><w>the</w><w>‘</w><w>hits</w><w>’</w><w>to</w><w>see</w><w>if</w><w>they</w><w>are</w><w>correct</w><w>Matches</w><pc>.</pc><w>Press</w><w>the</w><w>“</w><w>Review</w><w>”</w><w>button</w><w>next</w><w>to</w><w>“</w><w>Pass</w><w>1</w><w>”</w><w>to</w><w>begin</w><pc>.</pc></p><figure><desc><w>Figure</w><w>8</w><w>:</w><w>Starting</w><w>Reconciliation</w><w>Part</w><w>3</w></desc><graphic url="FINDING-PLACES-WORLD-HISTORICAL-GAZETTEER7.JPG"/></figure><p><w>You</w><w>will</w><w>be</w><w>taken</w><w>to</w><w>a</w><w>new</w><w>screen</w><w>that</w><w>asks</w><w>you</w><w>to</w><w>match</w><w>the</w><w>place</w><w>names</w><w>in</w><w>your</w><w>TSV</w><w>file</w><w>with</w><w>records</w><w>in</w><w>the</w><w>WHG</w><pc>.</pc><w>You</w><w>will</w><w>be</w><w>given</w><w>a</w><w>choice</w><w>of</w><w>potential</w><w>matches</w><w>on</w><w>the</w><w>right</w><w>hand</w><w>side</w><w>of</w><w>the</w><w>screen</w><pc>.</pc><w>Hover</w><w>over</w><w>them</w><w>and</w><w>they</w><w>will</w><w>appear</w><w>as</w><w>green</w><w>flashes</w><w>on</w><w>the</w><w>map</w><w>illustration</w><w>screen</w><pc>.</pc><w>Your</w><w>options</w><w>are</w><w>“</w><w>closeMatch</w><w>”</w><w>or</w><w>“</w><w>no</w><w>match</w><w>”</w><pc>.</pc><w>You</w><w>can</w><w>only</w><w>have</w><w>one</w><w>closeMatch</w><w>per</w><w>place</w><w>so</w><w>choose</w><w>the</w><w>one</w><w>from</w><w>the</w><w>reconciliation</w><w>area</w><w>that</w><w>best</w><w>describes</w><w>your</w><w>place</w><w>in</w><w>question</w><pc>.</pc><w>It</w><w>is</w><w>also</w><w>possible</w><w>that</w><w>none</w><w>of</w><w>the</w><w>suggested</w><w>matches</w><w>are</w><w>correct</w><w>,</w><w>and</w><w>in</w><w>that</w><w>case</w><w>select</w><w>“</w><w>no</w><w>match</w><w>”</w><pc>.</pc></p><quote><p><w>The</w><w>more</w><w>information</w><w>you</w><w>put</w><w>into</w><w>the</w><w>LP-TSV</w><w>format</w><w>,</w><w>such</w><w>as</w><w>country</w><w>codes</w><w>,</w><w>the</w><w>easier</w><w>it</w><w>will</w><w>be</w><w>to</w><w>make</w><w>these</w><w>matches</w><pc>.</pc><w>The</w><w>associated</w><w>information</w><w>from</w><w>the</w><w>LP-TSV</w><w>upload</w><w>will</w><w>appear</w><w>on</w><w>the</w><w>left</w><w>hand</w><w>side</w><w>of</w><w>the</w><w>reconciliation</w><w>screen</w><w>to</w><w>help</w><w>you</w><w>understand</w><w>all</w><w>of</w><w>the</w><w>information</w><w>provided</w><w>on</w><w>the</w><w>right</w><w>hand</w><w>side</w><pc>.</pc><w>If</w><w>you</w><w>are</w><w>building</w><w>your</w><w>own</w><w>dataset</w><w>,</w><w>it</w><w>is</w><w>worth</w><w>taking</w><w>the</w><w>time</w><w>to</w><w>add</w><w>a</w><w>country</w><w>codes</w><w>(</w><w>ccodes</w><w>)</w><w>column</w><w>into</w><w>the</w><w>file</w><w>you</w><w>upload</w><w>as</w><w>well</w><w>as</w><w>a</w><w>type</w><w>column</w><w>with</w><w>the</w><w>corresponding</w><w>type</w><w>(</w><w>e.g</w><pc>.</pc><w>settlement</w><w>,</w><w>state</w><w>,</w><w>country</w><w>)</w><pc>.</pc></p></quote><p><w>Given</w><w>the</w><w>bare-bones</w><w>nature</w><w>of</w><w>this</w><w>upload</w><w>,</w><w>it</w><w>will</w><w>be</w><w>a</w><w>little</w><w>harder</w><w>to</w><w>reconcile</w><w>these</w><w>matches</w><pc>.</pc><w>All</w><w>of</w><w>the</w><w>results</w><w>should</w><w>originate</w><w>from</w><w>the</w><w>countries</w><w>that</w><w>made</w><w>up</w><w>the</w><w>former</w><w>Soviet</w><w>Union</w><w>:</w><w>Russia</w><w>,</w><w>Ukraine</w><w>,</w><w>Belarus</w><w>,</w><w>Estonia</w><w>,</w><w>Latvia</w><w>,</w><w>Lithuania</w><w>,</w><w>Moldova</w><w>,</w><w>Armenia</w><w>,</w><w>Azerbaijan</w><w>,</w><w>Georgia</w><w>,</w><w>Uzbekistan</w><w>,</w><w>Kazakhstan</w><w>,</w><w>Kyrgyzstan</w><w>,</w><w>Tajikistan</w><w>,</w><w>and</w><w>Turkmenistan</w><pc>.</pc><w>To</w><w>see</w><w>this</w><w>in</w><w>action</w><w>,</w><w>let</w><w>'s</w><w>start</w><w>the</w><w>reconciliation</w><w>process</w><pc>.</pc><w>Our</w><w>first</w><w>review</w><w>is</w><w>for</w><w>Jelabuga</w><pc>.</pc><w>It</w><w>is</w><w>indeed</w><w>a</w><w>close</w><w>match</w><w>for</w><w>Yelabuga</w><w>,</w><w>which</w><w>we</w><w>note</w><w>is</w><w>a</w><w>variant</w><w>of</w><w>Yelabuga</w><w>being</w><w>listed</w><w>as</w><w>``</w><w>Jelabuga</w><w>@</w><w>de</w><w>,</w><w>''</w><w>confirming</w><w>that</w><w>Jelabuga</w><w>is</w><w>the</w><w>German</w><w>language</w><w>variant</w><w>of</w><w>Yelabuga</w><pc>.</pc><w>We</w><w>will</w><w>select</w><w>``</w><w>closeMatch</w><w>''</w><w>and</w><w>then</w><w>``</w><w>save</w><w>,</w><w>''</w><w>which</w><w>will</w><w>advance</w><w>us</w><w>to</w><w>the</w><w>next</w><w>item</w><w>for</w><w>review</w><pc>.</pc></p><figure><desc><w>Figure</w><w>9</w><w>:</w><w>closeMatch</w></desc><graphic url="FINDING-PLACES-WORLD-HISTORICAL-GAZETTEER8.JPG"/></figure><p><w>The</w><w>next</w><w>location</w><w>for</w><w>review</w><w>is</w><w>Keller</w><pc>.</pc><w>We</w><w>can</w><w>tell</w><w>that</w><w>this</w><w>example</w><w>is</w><w>``</w><w>no</w><w>match</w><w>''</w><w>because</w><w>the</w><w>suggested</w><w>match</w><w>is</w><w>a</w><w>place</w><w>in</w><w>Italy</w><pc>.</pc><w>As</w><w>our</w><w>data</w><w>only</w><w>concerns</w><w>places</w><w>in</w><w>the</w><w>former</w><w>Soviet</w><w>Union</w><w>,</w><w>we</w><w>can</w><w>save</w><w>``</w><w>no</w><w>match</w><w>''</w><w>and</w><w>quickly</w><w>move</w><w>on</w><pc>.</pc><w>Note</w><w>that</w><w>if</w><w>you</w><w>realize</w><w>you</w><w>'ve</w><w>made</w><w>a</w><w>mistake</w><w>,</w><w>you</w><w>can</w><w>go</w><w>back</w><w>one</w><w>previous</w><w>save</w><w>by</w><w>pressing</w><w>the</w><w>``</w><w>Undo</w><w>last</w><w>save</w><w>''</w><w>button</w><w>on</w><w>the</w><w>top</w><w>left</w><w>of</w><w>the</w><w>``</w><w>Reconciliation</w><w>Review</w><w>''</w><w>screen</w><pc>.</pc></p><figure><desc><w>Figure</w><w>10</w><w>:</w><w>No</w><w>Match</w></desc><graphic url="FINDING-PLACES-WORLD-HISTORICAL-GAZETTEER9.JPG"/></figure><p><w>Go</w><w>ahead</w><w>and</w><w>finish</w><w>the</w><w>review</w><w>of</w><w>the</w><w>remaining</w><w>23</w><w>records</w><w>for</w><w>Pass</w><w>1</w><pc>.</pc><w>As</w><w>a</w><w>hint</w><w>,</w><w>of</w><w>the</w><w>25</w><w>places</w><w>for</w><w>Pass</w><w>1</w><w>reconciliation</w><w>,</w><w>only</w><w>Yelabuga</w><w>,</w><w>Kupjansk</w><w>,</w><w>Atkarsk</w><w>,</w><w>Makejewka</w><w>,</w><w>Kokand</w><w>,</w><w>Selenodolsk</w><w>,</w><w>Merefa</w><w>,</w><w>Usa</w><w>(</w><w>in</w><w>Belarus</w><w>)</w><w>,</w><w>Wjasma</w><w>,</w><w>Fastow</w><w>,</w><w>and</w><w>Owrutsch</w><w>are</w><w>close</w><w>matches</w><pc>.</pc></p><p><w>Once</w><w>you</w><w>complete</w><w>review</w><w>of</w><w>Pass</w><w>1</w><w>,</w><w>you</w><w>are</w><w>automatically</w><w>taken</w><w>to</w><w>complete</w><w>the</w><w>review</w><w>of</w><w>Pass</w><w>2</w><pc>.</pc><w>For</w><w>now</w><w>,</w><w>go</w><w>back</w><w>to</w><w>the</w><w>Data</w><w>button</w><w>on</w><w>the</w><w>top</w><w>right</w><w>corner</w><w>of</w><w>the</w><w>screen</w><w>to</w><w>return</w><w>to</w><w>your</w><w>data</w><w>tab</w><pc>.</pc><w>Click</w><w>on</w><w>your</w><w>``</w><w>POW</w><w>Memoir</w><w>Places</w><w>''</w><w>dataset</w><w>again</w><w>to</w><w>go</w><w>to</w><w>its</w><w>metadata</w><w>page</w><pc>.</pc><w>If</w><w>you</w><w>click</w><w>on</w><w>the</w><w>``</w><w>Browse</w><w>''</w><w>tab</w><w>next</w><w>to</w><w>the</w><w>``</w><w>Metadata</w><w>''</w><w>tab</w><w>,</w><w>you</w><w>will</w><w>now</w><w>see</w><w>that</w><w>there</w><w>are</w><w>geometries</w><w>for</w><w>the</w><w>places</w><w>we</w><w>decided</w><w>were</w><w>close</w><w>matches</w><pc>.</pc><w>These</w><w>places</w><w>now</w><w>appear</w><w>on</w><w>the</w><w>map</w><w>preview</w><pc>.</pc></p><figure><desc><w>Figure</w><w>11</w><w>:</w><w>Map</w><w>Preview</w></desc><graphic url="FINDING-PLACES-WORLD-HISTORICAL-GAZETTEER10.JPG"/></figure><p><w>If</w><w>you</w><w>click</w><w>on</w><w>the</w><w>``</w><w>Reconciliation</w><w>''</w><w>tab</w><w>again</w><w>,</w><w>you</w><w>can</w><w>click</w><w>on</w><w>review</w><w>next</w><w>two</w><w>Pass</w><w>2</w><w>to</w><w>keep</w><w>reviewing</w><w>locations</w><pc>.</pc><w>If</w><w>you</w><w>wish</w><w>,</w><w>you</w><w>can</w><w>continue</w><w>going</w><w>through</w><w>the</w><w>101</w><w>locations</w><w>for</w><w>Pass</w><w>2</w><pc>.</pc><w>Should</w><w>you</w><w>complete</w><w>the</w><w>review</w><w>process</w><w>,</w><w>you</w><w>will</w><w>produce</w><w>a</w><w>map</w><w>that</w><w>looks</w><w>like</w><w>the</w><w>one</w><w>below</w><pc>.</pc></p><figure><desc><w>Figure</w><w>12</w><w>:</w><w>Full</w><w>Map</w></desc><graphic url="FINDING-PLACES-WORLD-HISTORICAL-GAZETTEER11.JPG"/></figure><p><w>If</w><w>you</w><w>wish</w><w>to</w><w>download</w><w>an</w><w>image</w><w>file</w><w>of</w><w>the</w><w>map</w><w>,</w><w>you</w><w>can</w><w>do</w><w>so</w><w>by</w><w>hovering</w><w>over</w><w>the</w><w>download</w><w>symbol</w><w>in</w><w>the</w><w>top</w><w>left</w><w>corner</w><w>of</w><w>the</w><w>map</w><w>preview</w><w>and</w><w>then</w><w>sliding</w><w>your</w><w>mouse</w><w>over</w><w>to</w><w>the</w><w>arrows</w><w>that</w><w>appear</w><w>showing</w><w>``</w><w>download</w><w>current</w><w>size</w><pc>.</pc><w>''</w></p><figure><desc><w>Figure</w><w>13</w><w>:</w><w>Map</w><w>Download</w></desc><graphic url="FINDING-PLACES-WORLD-HISTORICAL-GAZETTEER12.png"/></figure></div><div type="3" n="1.8"><head><w>8</w><pc>.</pc><w>Future</w><w>Mapping</w><w>Work</w><w>and</w><w>Suggested</w><w>Further</w><w>Lessons</w></head><p><w>The</w><w>reconciliation</w><w>process</w><w>will</w><w>not</w><w>only</w><w>give</w><w>you</w><w>a</w><w>static</w><w>map</w><w>,</w><w>but</w><w>it</w><w>will</w><w>also</w><w>give</w><w>you</w><w>an</w><w>augmented</w><w>dataset</w><w>to</w><w>download</w><pc>.</pc><w>This</w><w>augmented</w><w>file</w><w>will</w><w>include</w><w>the</w><w>latitude</w><w>and</w><w>longitude</w><w>coordinates</w><w>for</w><w>your</w><w>close</w><w>matches</w><pc>.</pc><w>You</w><w>can</w><w>download</w><w>the</w><w>augmented</w><w>file</w><w>from</w><w>the</w><w>dataset</w><w>'s</w><w>Metadata</w><w>tab</w><pc>.</pc><w>In</w><w>the</w><w>bottom</w><w>right</w><w>hand</w><w>corner</w><w>,</w><w>there</w><w>is</w><w>a</w><w>box</w><w>labelled</w><w>``</w><w>Downloads</w><w>''</w><w>and</w><w>you</w><w>can</w><w>choose</w><w>either</w><w>the</w><w>Linked</w><w>Placed</w><w>format</w><w>GeoJSON</w><w>file</w><w>or</w><w>a</w><w>TSV</w><pc>.</pc></p><figure><desc><w>Figure</w><w>14</w><w>:</w><w>Augmented</w><w>Data</w></desc><graphic url="FINDING-PLACES-WORLD-HISTORICAL-GAZETTEER13.JPG"/></figure><p><w>You</w><w>can</w><w>then</w><w>use</w><w>the</w><w>augmented</w><w>dataset</w><w>in</w><w>desktop</w><w>or</w><w>web-based</w><w>mapping</w><w>applications</w><w>such</w><w>as</w><ref target="https://perma.cc/YH53-UVCD"><w>QGIS</w></ref><w>or</w><ref target="https://www.arcgis.com/index.html"><w>ArcGIS</w><w>Online</w></ref><w>to</w><w>undertake</w><w>more</w><w>advanced</w><w>geographic</w><w>information</w><w>system</w><w>(</w><w>GIS</w><w>)</w><w>spatial</w><w>analysis</w><pc>.</pc><w>In</w><w>these</w><w>programs</w><w>,</w><w>you</w><w>can</w><w>change</w><w>the</w><w>map</w><w>visualizations</w><w>,</w><w>perform</w><w>analysis</w><w>,</w><w>or</w><w>make</w><w>a</w><w>multimedia</w><w>web</w><w>mapping</w><w>project</w><pc>.</pc><w>We</w><w>highly</w><w>recommend</w><w>you</w><w>look</w><w>at</w><w>the</w><w>additional</w><emph><w>Programming</w><w>Historian</w></emph><w>mapping</w><w>lessons</w><w>,</w><w>specifically</w><ref target="https://doi.org/10.46430/phen0031"><w>Installing</w><w>QGIS</w><w>and</w><w>Adding</w><w>Layers</w></ref><w>as</w><w>well</w><w>as</w><ref target="https://doi.org/10.46430/phen0034"><w>Creating</w><w>Vector</w><w>Layers</w><w>in</w><w>QGIS</w></ref><w>to</w><w>see</w><w>how</w><w>you</w><w>can</w><w>use</w><w>the</w><w>results</w><w>of</w><w>this</w><w>lesson</w><w>to</w><w>carry</w><w>out</w><w>further</w><w>analysis</w><pc>.</pc></p></div></div></body>
    </text>
</TEI>
