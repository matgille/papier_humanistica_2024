<TEI xmlns="http://www.tei-c.org/ns/1.0" xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="working-with-web-pages" type="original" xml:base="working-with-web-pages/working-with-web-pages/working-with-web-pages.xml">
    <teiHeader>
        <fileDesc>
            <titleStmt>
                <title>Downloading Web Pages with Python</title>
                <author role="original_author">
                    <persName>William J. Turkel</persName>
                    <persName>Adam Crymble</persName>
                </author>
                <editor role="reviewers">
                    <persName>Jim Clifford</persName>
                    <persName>Frederik Elwert</persName>
                </editor>
                <editor role="editors">Miriam Posner</editor>
            </titleStmt>
            <publicationStmt>
                <distributor>Programming Historian</distributor>
                <idno type="doi">10.46430/phen0021</idno>
                <date type="published">07/17/2012</date>
            </publicationStmt>
            <sourceDesc>
                <p>Born digital, in a markdown format. This lesson is original. Available translations are the following:<ref type="translations" target="#download-paginas-web-python #telecharger-des-pages-web-avec-python #trabajar-con-paginas-web"/>
                </p>
            </sourceDesc>
        </fileDesc>
        <profileDesc>
            <abstract>
                <p>This lesson introduces Uniform Resource Locators (URLs) and explains how to use Python to download and save the contents of a web page to your local hard drive.</p>
            </abstract>
            <textClass>
                <keywords>
                    <term xml:lang="en">python</term>
                </keywords>
            </textClass>
        </profileDesc>
    </teiHeader>
    <text xml:lang="en">
        <body><div type="2" n="1"><head><s xml:id="s_tpukmn"><w>Lesson</w><w>Goals</w></s></head><p><s xml:id="s_HvGr86"><w>This</w><w>lesson</w><w>introduces</w><emph><w>Uniform</w><w>Resource</w><w>Locators</w></emph><w>(</w><w>URLs</w><w>)</w><w>and</w><w>explains</w><w>how</w><w>to</w><w>use</w><w>Python</w><w>to</w><w>download</w><w>and</w><w>save</w><w>the</w><w>contents</w><w>of</w><w>a</w><w>web</w><w>page</w><w>to</w><w>your</w><w>local</w><w>hard</w><w>drive</w><pc>.</pc></s></p><div type="3" n="1.1"><head><s xml:id="s_3bkBpq"><w>About</w><w>URLs</w></s></head><p><s xml:id="s_G6LUV4"><w>A</w><emph><w>web</w><w>page</w></emph><w>is</w><w>a</w><w>file</w><w>that</w><w>is</w><w>stored</w><w>on</w><w>another</w><w>computer</w><w>,</w><w>a</w><w>machine</w><w>known</w><w>as</w><w>a</w><emph><w>web</w><w>server</w></emph><pc>.</pc></s><s xml:id="s_yeoQcu"><w>When</w><w>you</w><w>``</w><w>go</w><w>to</w><w>''</w><w>a</w><w>web</w><w>page</w><w>,</w><w>what</w><w>is</w><w>actually</w><w>happening</w><w>is</w><w>that</w><w>your</w><w>computer</w><w>,</w><w>(</w><w>the</w><emph><w>client</w></emph><w>)</w><w>sends</w><w>a</w><w>request</w><w>to</w><w>the</w><w>server</w><w>(</w><w>the</w><emph><w>host</w></emph><w>)</w><w>out</w><w>over</w><w>the</w><w>network</w><w>,</w><w>and</w><w>the</w><w>server</w><w>replies</w><w>by</w><w>sending</w><w>a</w><w>copy</w><w>of</w><w>the</w><w>page</w><w>back</w><w>to</w><w>your</w><w>machine</w><pc>.</pc></s><s xml:id="s_f44D6L"><w>One</w><w>way</w><w>to</w><w>get</w><w>to</w><w>a</w><w>web</w><w>page</w><w>with</w><w>your</w><w>browser</w><w>is</w><w>to</w><w>follow</w><w>a</w><w>link</w><w>from</w><w>somewhere</w><w>else</w><pc>.</pc></s><s xml:id="s_lHC6Z6"><w>You</w><w>also</w><w>have</w><w>the</w><w>ability</w><w>,</w><w>of</w><w>course</w><w>,</w><w>to</w><w>paste</w><w>or</w><w>type</w><w>a</w><w>Uniform</w><w>Resource</w><w>Locator</w><w>(</w><w>URL</w><w>)</w><w>directly</w><w>into</w><w>your</w><w>browser</w><pc>.</pc></s><s xml:id="s_5bAiDz"><w>The</w><w>URL</w><w>tells</w><w>your</w><w>browser</w><w>where</w><w>to</w><w>find</w><w>an</w><w>online</w><w>resource</w><w>by</w><w>specifying</w><w>the</w><w>server</w><w>,</w><w>directory</w><w>and</w><w>name</w><w>of</w><w>the</w><w>file</w><w>to</w><w>be</w><w>retrieved</w><w>,</w><w>as</w><w>well</w><w>as</w><w>the</w><w>kind</w><w>of</w><emph><w>protocol</w></emph><w>that</w><w>the</w><w>server</w><w>and</w><w>your</w><w>browser</w><w>will</w><w>agree</w><w>to</w><w>use</w><w>while</w><w>exchanging</w><w>information</w><w>(</w><w>like</w><w>HTTP</w><w>,</w><w>the</w><emph><w>Hypertext</w><w>Transfer</w><w>Protocol</w></emph><w>)</w><pc>.</pc></s><s xml:id="s_UN277q"><w>The</w><w>basic</w><w>structure</w><w>of</w><w>a</w><w>URL</w><w>is</w></s></p><ab><code xml:id="code_working-with-web-pages_0" corresp="code_working-with-web-pages_0.txt" rend="block"/></ab><p><s xml:id="s_XY2PoL"><w>Let</w><w>'s</w><w>look</w><w>at</w><w>a</w><w>few</w><w>examples</w><pc>.</pc></s></p><ab><code lang="language-xml" xml:id="code_working-with-web-pages_1" corresp="code_working-with-web-pages_1.txt" rend="block"/></ab><p><s xml:id="s_o5I4pP"><w>The</w><w>most</w><w>basic</w><w>kind</w><w>of</w><w>URL</w><w>simply</w><w>specifies</w><w>the</w><w>protocol</w><w>and</w><w>host</w><pc>.</pc></s><s xml:id="s_BAwVYx"><w>If</w><w>you</w><w>give</w><w>this</w><w>URL</w><w>to</w><w>your</w><w>browser</w><w>,</w><w>it</w><w>will</w><w>return</w><w>the</w><w>main</w><w>page</w><w>of</w><w>The</w><ref target="http://www.oldbaileyonline.org/"><w>Old</w><w>Bailey</w><w>Online</w></ref><w>website</w><pc>.</pc></s><s xml:id="s_YgCGXx"><w>The</w><w>default</w><w>assumption</w><w>is</w><w>that</w><w>the</w><w>main</w><w>page</w><w>in</w><w>a</w><w>given</w><w>directory</w><w>will</w><w>be</w><w>named</w><w>index</w><w>,</w><w>usually</w><code rend="inline"><w>index.html</w></code><pc>.</pc></s></p><p><s xml:id="s_Hbd5Bj"><w>The</w><w>URL</w><w>can</w><w>also</w><w>include</w><w>an</w><w>optional</w><emph><w>port</w><w>number</w></emph><pc>.</pc></s><s xml:id="s_mLdmSP"><w>Without</w><w>getting</w><w>into</w><w>too</w><w>much</w><w>detail</w><w>,</w><w>the</w><w>network</w><w>protocol</w><w>that</w><w>underlies</w><w>the</w><w>exchange</w><w>of</w><w>information</w><w>on</w><w>the</w><w>Internet</w><w>allows</w><w>computers</w><w>to</w><w>connect</w><w>in</w><w>different</w><w>ways</w><pc>.</pc></s><s xml:id="s_VO7Xvo"><w>Port</w><w>numbers</w><w>are</w><w>used</w><w>to</w><w>distinguish</w><w>these</w><w>different</w><w>kinds</w><w>of</w><w>connection</w><pc>.</pc></s><s xml:id="s_TBU0bK"><w>Since</w><w>the</w><w>default</w><w>port</w><w>for</w><w>HTTP</w><w>is</w><w>80</w><w>,</w><w>the</w><w>following</w><w>URL</w><w>is</w><w>equivalent</w><w>to</w><w>the</w><w>previous</w><w>one</w><pc>.</pc></s></p><ab><code lang="language-xml" xml:id="code_working-with-web-pages_2" corresp="code_working-with-web-pages_2.txt" rend="block"/></ab><p><s xml:id="s_OkOtGZ"><w>As</w><w>you</w><w>know</w><w>,</w><w>there</w><w>are</w><w>usually</w><w>many</w><w>web</w><w>pages</w><w>on</w><w>a</w><w>given</w><w>website</w><pc>.</pc></s><s xml:id="s_UVqyiw"><w>These</w><w>are</w><w>stored</w><w>in</w><w>directories</w><w>on</w><w>the</w><w>server</w><w>,</w><w>and</w><w>you</w><w>can</w><w>specify</w><w>the</w><w>path</w><w>to</w><w>a</w><w>particular</w><w>page</w><pc>.</pc></s><s xml:id="s_5RZDB8"><w>The</w><w>``</w><w>About</w><w>''</w><w>page</w><w>for</w><emph><w>The</w><w>Old</w><w>Bailey</w><w>Online</w></emph><w>has</w><w>the</w><w>following</w><w>URL</w><pc>.</pc></s></p><ab><code lang="language-xml" xml:id="code_working-with-web-pages_3" corresp="code_working-with-web-pages_3.txt" rend="block"/></ab><p><s xml:id="s_tsmfHJ"><w>Finally</w><w>,</w><w>some</w><w>web</w><w>pages</w><w>allow</w><w>you</w><w>to</w><w>enter</w><w>queries</w><pc>.</pc></s><s xml:id="s_PPbafn"><emph><w>The</w><w>Old</w><w>Bailey</w><w>Online</w></emph><w>website</w><w>,</w><w>for</w><w>example</w><w>,</w><w>is</w><w>laid</w><w>out</w><w>in</w><w>such</w><w>a</w><w>way</w><w>that</w><w>you</w><w>can</w><w>request</w><w>a</w><w>particular</w><w>page</w><w>within</w><w>it</w><w>by</w><w>using</w><w>a</w><emph><w>query</w><w>string</w></emph><pc>.</pc></s><s xml:id="s_8Ale9c"><w>The</w><w>following</w><w>URL</w><w>will</w><w>take</w><w>you</w><w>to</w><w>a</w><w>search</w><w>results</w><w>page</w><w>for</w><w>criminal</w><w>record</w><w>trials</w><w>containing</w><w>the</w><w>word</w><w>``</w><w>arsenic</w><w>''</w><pc>.</pc></s></p><ab><code lang="language-xml" xml:id="code_working-with-web-pages_4" corresp="code_working-with-web-pages_4.txt" rend="block"/></ab><p><s xml:id="s_8GbZl7"><w>The</w><w>snippet</w><w>after</w><w>the</w><w>``</w><pc>?</pc></s><s xml:id="s_7K1ZLt"><w>''</w><w>represents</w><w>the</w><w>query</w><pc>.</pc></s><s xml:id="s_kZRRrI"><w>You</w><w>can</w><w>learn</w><w>more</w><w>about</w><w>building</w><w>queries</w><w>in</w><ref target="/lessons/downloading-multiple-records-using-query-strings"><w>Downloading</w><w>Multiple</w><w>Records</w><w>Using</w><w>Query</w><w>Strings</w></ref><pc>.</pc></s></p></div></div><div type="2" n="2"><head><s xml:id="s_vYQSEI"><w>Opening</w><w>URLs</w><w>with</w><w>Python</w></s></head><p><s xml:id="s_c9yoGB"><w>As</w><w>a</w><w>digital</w><w>historian</w><w>you</w><w>will</w><w>often</w><w>find</w><w>yourself</w><w>wanting</w><w>to</w><w>use</w><w>data</w><w>held</w><w>in</w><w>scholarly</w><w>databases</w><w>online</w><pc>.</pc></s><s xml:id="s_0DtAMA"><w>To</w><w>get</w><w>this</w><w>data</w><w>you</w><w>could</w><w>open</w><w>URLs</w><w>one</w><w>at</w><w>a</w><w>time</w><w>and</w><w>copy</w><w>and</w><w>paste</w><w>their</w><w>contents</w><w>to</w><w>a</w><w>text</w><w>file</w><w>,</w><w>or</w><w>you</w><w>can</w><w>use</w><w>Python</w><w>to</w><w>automatically</w><w>harvest</w><w>and</w><w>process</w><w>webpages</w><pc>.</pc></s><s xml:id="s_LE65Qk"><w>To</w><w>do</w><w>this</w><w>,</w><w>you</w><w>'re</w><w>going</w><w>to</w><w>need</w><w>to</w><w>be</w><w>able</w><w>to</w><w>open</w><w>URLs</w><w>with</w><w>your</w><w>own</w><w>programs</w><pc>.</pc></s><s xml:id="s_LQLTeN"><w>The</w><w>Python</w><w>language</w><w>includes</w><w>a</w><w>number</w><w>of</w><w>standard</w><w>ways</w><w>to</w><w>do</w><w>this</w><pc>.</pc></s></p><p><s xml:id="s_3tFJ06"><w>As</w><w>an</w><w>example</w><w>,</w><w>let</w><w>'s</w><w>work</w><w>with</w><w>the</w><w>kind</w><w>of</w><w>file</w><w>that</w><w>you</w><w>might</w><w>encounter</w><w>while</w><w>doing</w><w>historical</w><w>research</w><pc>.</pc></s><s xml:id="s_2A1r23"><w>Say</w><w>you</w><w>'re</w><w>interested</w><w>in</w><w>race</w><w>relations</w><w>in</w><w>eighteenth</w><w>century</w><w>Britain</w><pc>.</pc></s><s xml:id="s_comiE9"><w>'The</w><w>Old</w><w>Bailey</w><w>Online</w><w>'</w><w>(</w><w>OBO</w><w>)</w><w>is</w><w>a</w><w>rich</w><w>resource</w><w>that</w><w>provides</w><w>trial</w><w>transcripts</w><w>from</w><w>1674</w><w>to</w><w>1913</w><w>and</w><w>is</w><w>one</w><w>good</w><w>place</w><w>to</w><w>seek</w><w>sources</w><pc>.</pc></s></p><figure><desc><s xml:id="s_Hhuort"><w>The</w><w>Old</w><w>Bailey</w><w>Online</w><w>Homepage</w></s></desc><graphic url="old-bailey.png"/></figure><p><s xml:id="s_G7yLqn"><w>For</w><w>this</w><w>example</w><w>,</w><w>we</w><w>will</w><w>be</w><w>using</w><w>the</w><w>trial</w><w>transcript</w><w>of</w><w>Benjamin</w><w>Bowsey</w><w>,</w><w>a</w><w>“</w><w>black</w><w>moor</w><w>”</w><w>who</w><w>was</w><w>convicted</w><w>of</w><w>breaking</w><w>the</w><w>peace</w><w>during</w><w>the</w><ref target="http://en.wikipedia.org/wiki/Gordon_Riots"><w>Gordon</w><w>Riots</w></ref><w>of</w><w>1780</w><pc>.</pc></s><s xml:id="s_wxAR1G"><w>The</w><w>URL</w><w>for</w><w>the</w><w>entry</w><w>is</w></s></p><ab><code lang="language-xml" xml:id="code_working-with-web-pages_5" corresp="code_working-with-web-pages_5.txt" rend="block"/></ab><p><s xml:id="s_WB9I5O"><w>By</w><w>studying</w><w>the</w><w>URL</w><w>we</w><w>can</w><w>learn</w><w>a</w><w>few</w><w>things</w><pc>.</pc></s><s xml:id="s_TGXER0"><w>First</w><w>,</w><w>The</w><w>OBO</w><w>is</w><w>written</w><w>in</w><w>JSP</w><w>(</w><emph><w>JavaServer</w><w>Pages</w></emph><w>,</w><w>a</w><w>web</w><w>programming</w><w>language</w><w>which</w><w>outputs</w><w>HTML</w><w>)</w><w>,</w><w>and</w><w>it</w><w>’</w><w>s</w><w>possible</w><w>to</w><w>retrieve</w><w>individual</w><w>trial</w><w>entries</w><w>by</w><w>making</w><w>use</w><w>of</w><w>the</w><w>query</w><w>string</w><pc>.</pc></s><s xml:id="s_xOBsH9"><w>Each</w><w>is</w><w>apparently</w><w>given</w><w>a</w><w>unique</w><w>ID</w><w>number</w><w>(</w><emph><w>id=t</w></emph><w>in</w><w>the</w><w>URL</w><w>)</w><w>,</w><w>built</w><w>from</w><w>the</w><w>date</w><w>of</w><w>the</w><w>trial</w><w>session</w><w>in</w><w>the</w><w>format</w><w>(</w><emph><w>YYYYMMDD</w></emph><w>)</w><w>and</w><w>the</w><w>trial</w><w>number</w><w>from</w><w>within</w><w>that</w><w>court</w><w>session</w><w>,</w><w>in</w><w>this</w><w>case</w><w>:</w><emph><w>33</w></emph><pc>.</pc></s><s xml:id="s_iXYmBr"><w>If</w><w>you</w><w>change</w><w>the</w><w>two</w><w>instances</w><w>of</w><code rend="inline"><w>33</w></code><w>to</w><code rend="inline"><w>34</w></code><w>in</w><w>your</w><w>browser</w><w>and</w><w>press</w><w>Enter</w><w>,</w><w>you</w><w>should</w><w>be</w><w>taken</w><w>to</w><w>the</w><w>next</w><w>trial</w><pc>.</pc></s><s xml:id="s_sH06xr"><w>Unfortunately</w><w>,</w><w>not</w><w>all</w><w>websites</w><w>have</w><w>such</w><w>readable</w><w>and</w><w>reliable</w><w>URLs</w><pc>.</pc></s></p><figure><desc><s xml:id="s_Ado6Dq"><w>Trial</w><w>Transcript</w><w>Page</w><w>of</w><w>Benjamin</w><w>Bowsey</w><w>,</w><w>1780</w></s></desc><graphic url="bowsey-trial-page.png"/></figure><p><s xml:id="s_fifyhp"><w>Spend</w><w>a</w><w>few</w><w>minutes</w><w>looking</w><w>at</w><w>Benjamin</w><w>Bowsey</w><w>’</w><w>s</w><w>trial</w><w>page</w><pc>.</pc></s><s xml:id="s_EdaRIm"><w>Here</w><w>we</w><w>are</w><w>not</w><w>so</w><w>much</w><w>interested</w><w>in</w><w>what</w><w>the</w><w>transcript</w><w>says</w><w>,</w><w>but</w><w>what</w><w>features</w><w>the</w><w>page</w><w>has</w><pc>.</pc></s><s xml:id="s_fVevGp"><w>Notice</w><w>the</w><ref target="http://www.oldbaileyonline.org/browse.jsp?foo=bar&amp;path=sessionsPapers/17800628.xml&amp;div=t17800628-33&amp;xml=yes"><w>View</w><w>as</w><w>XML</w></ref><w>link</w><w>at</w><w>the</w><w>bottom</w><w>that</w><w>takes</w><w>you</w><w>to</w><w>a</w><w>heavily</w><w>marked</w><w>up</w><w>version</w><w>of</w><w>the</w><w>text</w><w>which</w><w>may</w><w>be</w><w>useful</w><w>to</w><w>certain</w><w>types</w><w>of</w><w>research</w><pc>.</pc></s><s xml:id="s_iPUG8J"><w>You</w><w>can</w><w>also</w><w>look</w><w>at</w><w>a</w><ref target="http://www.oldbaileyonline.org/images.jsp?doc=178006280084"><w>scan</w><w>of</w><w>the</w><w>original</w><w>document</w></ref><w>,</w><w>which</w><w>was</w><w>transcribed</w><w>to</w><w>make</w><w>this</w><w>resource</w><pc>.</pc></s></p><p><s xml:id="s_d63oHP"><w>Now</w><w>let</w><w>'s</w><w>try</w><w>opening</w><w>the</w><w>page</w><w>using</w><w>Python</w><pc>.</pc></s><s xml:id="s_cpUG9P"><w>Copy</w><w>the</w><w>following</w><w>program</w><w>into</w><w>Komodo</w><w>Edit</w><w>and</w><w>save</w><w>it</w><w>as</w><code rend="inline"><w>open-webpage.py</w></code><pc>.</pc></s><s xml:id="s_wqsRDz"><w>When</w><w>you</w><w>execute</w><w>the</w><w>program</w><w>,</w><w>it</w><w>will</w><code rend="inline"><w>open</w></code><w>the</w><w>trial</w><w>file</w><w>,</w><code rend="inline"><w>read</w></code><w>its</w><w>contents</w><w>into</w><w>a</w><w>Python</w><w>string</w><w>called</w><w>webContent</w><w>and</w><w>then</w><code rend="inline"><w>print</w></code><w>the</w><w>first</w><w>three</w><w>hundred</w><w>characters</w><w>of</w><w>the</w><w>string</w><w>to</w><w>the</w><w>``</w><w>Command</w><w>Output</w><w>''</w><w>pane</w><pc>.</pc></s><s xml:id="s_nh4w1V"><w>Use</w><w>the</w><code rend="inline"><w>View</w><w>-</w><w>&gt;</w><w>Web</w><w>Developer</w><w>-</w><w>&gt;</w><w>View</w><w>Page</w><w>Source</w></code><w>command</w><w>in</w><w>Firefox</w><w>to</w><w>verify</w><w>that</w><w>the</w><w>HTML</w><w>source</w><w>of</w><w>the</w><w>page</w><w>is</w><w>the</w><w>same</w><w>as</w><w>the</w><w>source</w><w>that</w><w>your</w><w>program</w><w>retrieved</w><pc>.</pc></s><s xml:id="s_y4Mevc"><w>Each</w><w>browser</w><w>has</w><w>a</w><w>different</w><w>shortcut</w><w>key</w><w>to</w><w>open</w><w>the</w><w>page</w><w>source</w><pc>.</pc></s><s xml:id="s_M16CAq"><w>In</w><w>Firefox</w><w>on</w><w>PC</w><w>it</w><w>is</w><code rend="inline"><w>CTRL+u</w></code><pc>.</pc></s><s xml:id="s_ABeo9z"><w>If</w><w>you</w><w>can</w><w>not</w><w>find</w><w>it</w><w>on</w><w>your</w><w>browser</w><w>,</w><w>try</w><w>using</w><w>a</w><w>search</w><w>engine</w><w>to</w><w>find</w><w>where</w><w>it</w><w>is</w><pc>.</pc></s><s xml:id="s_QCFhIP"><w>(</w><w>See</w><w>the</w><w>Python</w><w>library</w><w>reference</w><w>to</w><w>learn</w><w>more</w><w>about</w><ref target="https://docs.python.org/3/library/urllib.html?highlight=urllib"><w>urllib</w></ref><pc>.</pc></s><s xml:id="s_znFHHq"><w>)</w></s></p><ab><code lang="language-python" xml:id="code_working-with-web-pages_6" corresp="code_working-with-web-pages_6.txt" rend="block"/></ab><p><s xml:id="s_xgFBxO"><w>These</w><w>five</w><w>lines</w><w>of</w><w>code</w><w>achieve</w><w>an</w><w>awful</w><w>lot</w><w>very</w><w>quickly</w><pc>.</pc></s><s xml:id="s_bY5II8"><w>Let</w><w>us</w><w>take</w><w>a</w><w>moment</w><w>to</w><w>make</w><w>sure</w><w>that</w><w>everything</w><w>is</w><w>clear</w><w>and</w><w>that</w><w>you</w><w>can</w><w>recognize</w><w>the</w><w>building</w><w>blocks</w><w>that</w><w>allow</w><w>us</w><w>to</w><w>make</w><w>this</w><w>program</w><w>do</w><w>what</w><w>we</w><w>want</w><w>it</w><w>to</w><w>do</w><pc>.</pc></s></p><p><s xml:id="s_JEZHzM"><emph><w>url</w></emph><w>,</w><emph><w>response</w></emph><w>,</w><w>and</w><emph><w>webContent</w></emph><w>are</w><w>all</w><w>variables</w><w>that</w><w>we</w><w>have</w><w>named</w><w>ourselves</w><pc>.</pc></s></p><p><s xml:id="s_QObWOo"><emph><w>url</w></emph><w>holds</w><w>the</w><w>URL</w><w>of</w><w>the</w><w>web</w><w>page</w><w>that</w><w>we</w><w>want</w><w>to</w><w>download</w><pc>.</pc></s><s xml:id="s_oNLduB"><w>In</w><w>this</w><w>case</w><w>,</w><w>it</w><w>is</w><w>the</w><w>trial</w><w>of</w><w>Benjamin</w><w>Bowsey</w><pc>.</pc></s></p><p><s xml:id="s_VYBCpI"><w>On</w><w>the</w><w>following</w><w>line</w><w>,</w><w>we</w><w>call</w><w>the</w><w>function</w><code rend="inline"><w>urlopen</w></code><w>,</w><w>which</w><w>is</w><w>stored</w><w>in</w><w>a</w><w>Python</w><w>module</w><w>named</w><code rend="inline"><w>urllib.py</w></code><w>,</w><w>and</w><w>we</w><w>have</w><w>asked</w><w>that</w><w>function</w><w>to</w><w>open</w><w>the</w><w>website</w><w>found</w><w>at</w><w>the</w><w>URL</w><w>we</w><w>just</w><w>specified</w><pc>.</pc></s><s xml:id="s_0zSTQ6"><w>We</w><w>then</w><w>saved</w><w>the</w><w>result</w><w>of</w><w>that</w><w>process</w><w>into</w><w>a</w><w>variable</w><w>named</w><emph><w>response</w></emph><pc>.</pc></s><s xml:id="s_yRHnl4"><w>That</w><w>variable</w><w>now</w><w>contains</w><w>an</w><w>open</w><w>version</w><w>of</w><w>the</w><w>requested</w><w>website</w><pc>.</pc></s></p><p><s xml:id="s_aYnfWb"><w>We</w><w>then</w><w>use</w><w>the</w><code rend="inline"><w>read</w></code><w>method</w><w>,</w><w>which</w><w>we</w><w>used</w><w>earlier</w><w>,</w><w>to</w><w>copy</w><w>the</w><w>contents</w><w>of</w><w>that</w><w>open</w><w>webpage</w><w>into</w><w>a</w><w>new</w><w>variable</w><w>named</w><emph><w>webContent</w></emph><pc>.</pc></s></p><p><s xml:id="s_lPfJBt"><w>Make</w><w>sure</w><w>you</w><w>can</w><w>pick</w><w>out</w><w>the</w><w>variables</w><w>(</w><w>there</w><w>are</w><w>3</w><w>of</w><w>them</w><w>)</w><w>,</w><w>the</w><w>modules</w><w>(</w><w>1</w><w>)</w><w>,</w><w>the</w><w>methods</w><w>(</w><w>2</w><w>)</w><w>,</w><w>and</w><w>the</w><w>parameters</w><w>(</w><w>1</w><w>)</w><w>before</w><w>you</w><w>move</w><w>on</w><pc>.</pc></s></p><p><s xml:id="s_7wg51h"><w>In</w><w>the</w><w>resulting</w><w>output</w><w>,</w><w>you</w><w>will</w><w>notice</w><w>a</w><w>little</w><w>bit</w><w>of</w><w>HTML</w><w>markup</w><w>:</w></s></p><ab><code lang="language-xml" xml:id="code_working-with-web-pages_7" corresp="code_working-with-web-pages_7.txt" rend="block"/></ab><p><s xml:id="s_7SczDn"><w>The</w><w>content</w><w>of</w><w>the</w><w>trial</w><w>itself</w><w>is</w><w>much</w><w>further</w><w>down</w><w>the</w><w>page</w><pc>.</pc></s><s xml:id="s_IK6n6r"><w>What</w><w>we</w><w>see</w><w>here</w><w>is</w><w>the</w><w>HTML</w><w>code</w><w>at</w><w>the</w><w>top</w><w>of</w><w>the</w><w>document</w><pc>.</pc></s><s xml:id="s_ootz6p"><w>This</w><w>is</w><w>not</w><w>quite</w><w>what</w><w>we</w><w>need</w><w>for</w><w>historical</w><w>research</w><w>,</w><w>but</w><w>do</w><w>n't</w><w>worry</w><w>;</w><w>you</w><w>will</w><w>soon</w><w>learn</w><w>how</w><w>to</w><w>remove</w><w>that</w><w>excess</w><w>markup</w><w>and</w><w>get</w><w>the</w><w>content</w><w>you</w><w>are</w><w>after</w><pc>.</pc></s></p></div><div type="2" n="3"><head><s xml:id="s_TIRFhf"><w>Saving</w><w>a</w><w>Local</w><w>Copy</w><w>of</w><w>a</w><w>Web</w><w>Page</w></s></head><p><s xml:id="s_0gylaU"><w>Given</w><w>what</w><w>you</w><w>already</w><w>know</w><w>about</w><w>writing</w><w>to</w><w>files</w><w>,</w><w>it</w><w>is</w><w>quite</w><w>easy</w><w>to</w><w>modify</w><w>the</w><w>above</w><w>program</w><w>so</w><w>that</w><w>it</w><w>writes</w><w>the</w><w>contents</w><w>of</w><w>the</w><emph><w>webContent</w></emph><w>string</w><w>to</w><w>a</w><w>local</w><w>file</w><w>on</w><w>our</w><w>computer</w><w>rather</w><w>than</w><w>to</w><w>the</w><w>''</w><w>Command</w><w>Output</w><w>''</w><w>pane</w><pc>.</pc></s><s xml:id="s_kcfoiS"><w>Copy</w><w>the</w><w>following</w><w>program</w><w>into</w><w>Komodo</w><w>Edit</w><w>,</w><w>save</w><w>it</w><w>as</w><code rend="inline"><w>save-webpage.py</w></code><w>and</w><w>execute</w><w>it</w><pc>.</pc></s><s xml:id="s_dmqtpd"><w>Using</w><w>the</w><code rend="inline"><w>File</w><w>-</w><w>&gt;</w><w>Open</w><w>File</w></code><w>command</w><w>in</w><w>Firefox</w><w>,</w><w>open</w><w>the</w><w>file</w><w>on</w><w>your</w><w>hard</w><w>drive</w><w>that</w><w>it</w><w>creates</w><w>(</w><code rend="inline"><w>obo-t17800628-33.html</w></code><w>)</w><w>to</w><w>confirm</w><w>that</w><w>your</w><w>saved</w><w>copy</w><w>is</w><w>the</w><w>same</w><w>as</w><w>the</w><w>online</w><w>copy</w><pc>.</pc></s></p><ab><code lang="language-python" xml:id="code_working-with-web-pages_8" corresp="code_working-with-web-pages_8.txt" rend="block"/></ab><p><s xml:id="s_C2lWqp"><w>So</w><w>,</w><w>if</w><w>you</w><w>can</w><w>save</w><w>a</w><w>single</w><w>file</w><w>this</w><w>easily</w><w>,</w><w>could</w><w>you</w><w>write</w><w>a</w><w>program</w><w>to</w><w>download</w><w>a</w><w>bunch</w><w>of</w><w>files</w><pc>?</pc></s><s xml:id="s_BfAAKJ"><w>Could</w><w>you</w><w>step</w><w>through</w><w>trial</w><w>IDs</w><w>,</w><w>for</w><w>example</w><w>,</w><w>and</w><w>make</w><w>your</w><w>own</w><w>copies</w><w>of</w><w>a</w><w>whole</w><w>bunch</w><w>of</w><w>them</w><pc>?</pc></s><s xml:id="s_a1LGDa"><w>Yep</w><pc>.</pc></s><s xml:id="s_aYGCVA"><w>You</w><w>can</w><w>learn</w><w>how</w><w>to</w><w>do</w><w>that</w><w>in</w><ref target="/lessons/downloading-multiple-records-using-query-strings"><w>Downloading</w><w>Multiple</w><w>Files</w><w>using</w><w>Query</w><w>Strings</w></ref><w>,</w><w>which</w><w>we</w><w>recommend</w><w>after</w><w>you</w><w>have</w><w>completed</w><w>the</w><w>introductory</w><w>lessons</w><w>in</w><w>this</w><w>series</w><pc>.</pc></s></p></div><div type="2" n="4"><head><s xml:id="s_lS1sge"><w>Suggested</w><w>Readings</w></s></head><list type="unordered"><item><s xml:id="s_FMFty6"><w>Lutz</w><w>,</w><w>Mark</w><pc>.</pc></s><s xml:id="s_5ntNgS"><w>“</w><w>Ch</w><pc>.</pc></s><s xml:id="s_cV6x23"><w>4</w><w>:</w><w>Introducing</w><w>Python</w><w>Object</w><w>Types</w><w>”</w><w>,</w><emph><w>Learning</w><w>Python</w></emph><w>(</w><w>O</w><w>’</w><w>Reilly</w><w>,</w><w>1999</w><w>)</w><pc>.</pc></s></item></list><div type="3" n="4.1"><head><s xml:id="s_2CtBFJ"><w>Code</w><w>Syncing</w></s></head><p><s xml:id="s_FnxquV"><w>To</w><w>follow</w><w>along</w><w>with</w><w>future</w><w>lessons</w><w>it</w><w>is</w><w>important</w><w>that</w><w>you</w><w>have</w><w>the</w><w>right</w><w>files</w><w>and</w><w>programs</w><w>in</w><w>your</w><w>``</w><w>programming-historian</w><w>''</w><w>directory</w><pc>.</pc></s><s xml:id="s_lUeyS1"><w>At</w><w>the</w><w>end</w><w>of</w><w>each</w><w>lesson</w><w>you</w><w>can</w><w>download</w><w>the</w><w>``</w><w>programming-historian</w><w>''</w><w>zip</w><w>file</w><w>to</w><w>make</w><w>sure</w><w>you</w><w>have</w><w>the</w><w>correct</w><w>code</w><pc>.</pc></s></p><list type="unordered"><item><s xml:id="s_rFXe9D"><w>programming-historian-1</w><w>(</w><ref target="/assets/python-lessons1.zip"><w>zip</w></ref><w>)</w></s></item></list></div></div></body>
    </text>
</TEI>
