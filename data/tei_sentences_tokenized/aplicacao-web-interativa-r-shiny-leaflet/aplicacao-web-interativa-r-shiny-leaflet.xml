<TEI xmlns="http://www.tei-c.org/ns/1.0" xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="aplicacao-web-interativa-r-shiny-leaflet" type="translation">
    <teiHeader>
        <fileDesc>
            <titleStmt>
                <title>Criando uma aplicação Web interativa com R e Shiny</title>
                <author role="original_author">Yann Ryan</author>
                <editor role="reviewers">
                    <persName>Amanda Regan</persName>
                    <persName>Nicole Lemire Garlic</persName>
                </editor>
                <author role="translators">Aracele Torres</author>
                <editor role="translation-reviewers">
                    <persName>Joana Malta</persName>
                    <persName>Juciane Pereira</persName>
                </editor>
                <editor role="editors">
                    <persName>Tiago Sousa Garcia</persName>
                    <persName>Alex Wermer-Colan</persName>
                </editor>
            </titleStmt>
            <publicationStmt>
                <distributor>Programming Historian</distributor>
                <date type="translated">10/14/2023</date>
                <idno type="doi">10.46430/phpt0044</idno>
                <date type="published">10/19/2022</date>
            </publicationStmt>
            <sourceDesc>
                <p>Born digital, in a markdown format. Original file: <ref type="original_file" target="#shiny-leaflet-newspaper-map-tutorial"/>.</p>
                <p>There are other translations: <ref target="#creacion-de-aplicacion-shiny"/>
                </p>
            </sourceDesc>
        </fileDesc>
        <profileDesc>
            <abstract>
                <p>Esta lição demonstra como construir um mapa interativo na web usando R e a biblioteca Shiny. Na lição, será projetado e implementado um aplicativo simples, que consiste num controlo deslizante que permite ao usuário selecionar um intervalo de datas e exibir um conjunto de pontos correspondentes num mapa interativo.</p>
            </abstract>
            <textClass>
                <keywords>
                    <term xml:lang="en">mapping</term>
                    <term xml:lang="en">website</term>
                    <term xml:lang="en">r</term>
                    <term xml:lang="en">data-visualization</term>
                </keywords>
            </textClass>
        </profileDesc>
    </teiHeader>
    <text xml:lang="pt">
        <body><div type="2" n="1"><head><s xml:id="s_A3uDja" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Rwe4VU']}"><w>Introdução</w></s></head><p><s xml:id="s_DqTUNH" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_HMC8O5']}"><w>Esta</w><w>lição</w><w>demonstra</w><w>como</w><w>criar</w><w>uma</w><w>aplicação</w><w>Web</w><w>interativa</w><w>básica</w><w>usando</w><w>Shiny</w><pc>.</pc></s><s xml:id="s_LcIMEs" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_aC7eXF']}"><w>Shiny</w><w>é</w><w>uma</w><w>biblioteca</w><w>(</w><w>um</w><w>conjunto</w><w>de</w><w>funções</w><w>adicionais</w><w>)</w><w>para</w><w>a</w><w>linguagem</w><w>de</w><w>programação</w><w>R.</w><w>O</w><w>seu</w><w>objetivo</w><w>é</w><w>facilitar</w><w>o</w><w>desenvolvimento</w><w>de</w><w>aplicações</w><w>Web</w><w>,</w><w>que</w><w>permitem</w><w>que</w><w>um</w><w>usuário</w><w>interaja</w><w>com</w><w>o</w><w>código</w><w>R</w><w>usando</w><w>elementos</w><w>da</w><w>Interface</w><w>do</w><w>Utilizador</w><w>(</w><w>UI</w><w>)</w><w>num</w><w>navegador</w><w>Web</w><w>,</w><w>como</w><w>controlos</w><w>deslizantes</w><w>,</w><w>menus</w><w>suspensos</w><w>e</w><w>assim</w><w>por</w><w>diante</w><pc>.</pc></s><s xml:id="s_116O4Q" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_baCL9z']}"><w>Na</w><w>lição</w><w>,</w><w>será</w><w>projetada</w><w>e</w><w>implementada</w><w>uma</w><w>aplicação</w><w>simples</w><w>,</w><w>consistindo</w><w>num</w><w>controlo</w><w>deslizante</w><w>que</w><w>permite</w><w>ao</w><w>usuário</w><w>selecionar</w><w>um</w><w>intervalo</w><w>de</w><w>datas</w><w>,</w><w>que</w><w>acionará</w><w>algum</w><w>código</w><w>em</w><w>R</w><w>e</w><w>exibirá</w><w>um</w><w>conjunto</w><w>de</w><w>pontos</w><w>correspondentes</w><w>num</w><w>mapa</w><w>interativo</w><pc>.</pc></s></p></div><div type="2" n="2"><head><s xml:id="s_xZuQ8W" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_O0VnqU']}"><w>Objetivos</w><w>da</w><w>lição</w></s></head><p><s xml:id="s_Dub883" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_ttE3gH']}"><w>Nesta</w><w>lição</w><w>,</w><w>irá</w><w>aprender</w><w>:</w></s></p><list type="unordered"><item><s xml:id="s_jrTeeS" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_SpDM1o']}"><w>Como</w><w>criar</w><w>uma</w><w>aplicação</w><w>Shiny</w><w>interativa</w><w>básica</w><pc>.</pc></s></item><item><s xml:id="s_r0ZrHD" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_3SLBGG']}"><w>Os</w><w>principais</w><emph><w>layouts</w></emph><w>e</w><w>princípios</w><w>de</w><w>design</w><w>da</w><w>UI</w><w>Shiny</w><pc>.</pc></s></item><item><s xml:id="s_hORJNx" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_CBGF7p']}"><w>O</w><w>conceito</w><w>e</w><w>a</w><w>prática</w><w>de</w><w>'programação</w><w>reativa</w><w>'</w><w>,</w><w>conforme</w><w>implementado</w><w>por</w><w>aplicações</w><w>Shiny</w><pc>.</pc></s><s xml:id="s_QUBXBt" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_8koj2O']}"><w>Especificamente</w><w>,</w><w>aprenderá</w><w>como</w><w>usar</w><w>Shiny</w><w>para</w><w>'entender</w><w>'</w><w>informações</w><w>de</w><emph><w>input</w></emph><w>e</w><w>como</w><w>elas</w><w>estão</w><w>conectadas</w><w>aos</w><w>resultados</w><w>a</w><w>serem</w><w>exibidos</w><w>na</w><w>sua</w><w>aplicação</w><pc>.</pc></s></item></list><p style="alert alert-info"><s xml:id="s_tXLv45" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_7RUfcq']}"><w>Saiba</w><w>que</w><w>esta</w><w>lição</w><w>não</w><w>ensina</w><w>nenhuma</w><w>codificação</w><w>em</w><w>R</w><w>,</w><w>além</w><w>da</w><w>suficiente</w><w>para</w><w>criar</w><w>a</w><w>aplicação</w><w>,</w><w>nem</w><w>aborda</w><w>a</w><w>publicação</w><w>da</w><w>aplicação</w><w>finalizada</w><w>na</w><w>Web</w><pc>.</pc></s><s xml:id="s_BrR8FO" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_6OjYeU']}"><w>É</w><w>recomendado</w><w>um</w><w>conhecimento</w><w>básico</w><w>em</w><w>linguagem</w><w>de</w><w>programação</w><w>R</w><w>,</w><w>particularmente</w><w>com</w><w>o</w><ref target="/pt/licoes/manipulacao-transformacao-dados-R"><w>tidyverse</w></ref><pc>.</pc></s></p><div type="3" n="2.1"><head><s xml:id="s_M1CxK3" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_3Zemuk']}"><w>Interfaces</w><w>Gráficas</w><w>do</w><w>Utilizador</w><w>e</w><w>Humanidades</w><w>Digitais</w></s></head><p><s xml:id="s_2Adv8w" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_c6xW8g']}"><ref target="https://perma.cc/8SYH-TX26"><w>Interfaces</w><w>Gráficas</w><w>do</w><w>Utilizador</w></ref><w>(</w><w>em</w><w>inglês</w><w>)</w><w>(</w><w>GUI</w><w>,</w><w>na</w><w>sigla</w><w>em</w><w>inglês</w><w>)</w><w>e</w><w>elementos</w><w>interativos</w><w>podem</w><w>ajudar</w><w>a</w><w>tornar</w><w>certos</w><w>tipos</w><w>de</w><w>trabalhos</w><w>académicos</w><w>baseados</w><w>em</w><w>dados</w><w>mais</w><w>acessíveis</w><w>ou</w><w>legíveis</w><pc>.</pc></s><s xml:id="s_sIRPix" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_t3Fz1U']}"><w>Para</w><w>dar</w><w>um</w><w>exemplo</w><w>simples</w><w>,</w><w>os</w><w>historiadores</w><w>que</w><w>trabalham</w><w>com</w><w>um</w><w>grande</w><w>volume</w><w>de</w><w>dados</w><w>(</w><emph><w>big</w><w>data</w></emph><w>)</w><w>podem</w><w>querer</w><w>demonstrar</w><w>a</w><w>mudança</w><w>numa</w><w>variável</w><w>ao</w><w>longo</w><w>do</w><w>tempo</w><pc>.</pc></s><s xml:id="s_hdJNmW" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_rRjiMF']}"><w>Um</w><w>mapa</w><w>interativo</w><w>com</w><w>uma</w><w>linha</w><w>do</w><w>tempo</w><w>ajustável</w><w>é</w><w>,</w><w>em</w><w>alguns</w><w>casos</w><w>,</w><w>mais</w><w>fácil</w><w>de</w><w>ler</w><w>e</w><w>permite</w><w>mais</w><w>granularidade</w><w>do</w><w>que</w><w>uma</w><w>série</w><w>de</w><w>mapas</w><w>estáticos</w><pc>.</pc></s><s xml:id="s_oCwpEk" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_MeRyy7']}"><w>Permitir</w><w>que</w><w>um</w><w>usuário</w><w>defina</w><w>os</w><w>parâmetros</w><w>da</w><w>visualização</w><w>pode</w><w>ajudar</w><w>a</w><w>evitar</w><w>alguns</w><w>dos</w><w>vieses</w><w>frequentemente</w><w>encontrados</w><w>em</w><w>visualizações</w><w>de</w><w>dados</w><w>usando</w><w>séries</w><w>temporais</w><w>(</w><w>por</w><w>exemplo</w><w>,</w><w>desenhar</w><w>arbitrariamente</w><w>um</w><w>mapa</w><w>por</w><w>década</w><w>)</w><pc>.</pc></s></p><p><s xml:id="s_kUbr8S" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_wcRvrf']}"><w>Muitos</w><w>projetos</w><w>de</w><w>pesquisa</w><w>têm</w><w>elementos</w><w>interativos</w><w>como</w><w>resultados</w><pc>.</pc></s><s xml:id="s_dW7JwC" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_vI67SW']}"><w>Alguns</w><w>exemplos</w><w>incluem</w><w>o</w><ref target="https://tudornetworks.net/"><w>Tudor</w><w>Networks</w><w>of</w><w>Power</w></ref><w>(</w><w>em</w><w>inglês</w><w>)</w><w>,</w><w>uma</w><w>visualização</w><w>das</w><w>redes</w><w>nos</w><w>Tudor</w><w>State</w><w>Papers</w><w>,</w><w>o</w><ref target="https://livingwithmachines.ac.uk/press-tracer-visualise-newspaper-lineage/"><w>Press</w><w>Tracer</w></ref><w>(</w><w>em</w><w>inglês</w><w>)</w><w>interativo</w><w>e</w><w>(</w><w>para</w><w>dar</w><w>um</w><w>exemplo</w><w>usando</w><w>Shiny</w><w>)</w><w>o</w><ref target="https://utrecht-university.shinyapps.io/GeoNewsMiner/"><w>GeoNewsMiner</w></ref><w>(</w><w>em</w><w>inglês</w><w>)</w><w>,</w><w>que</w><w>exibe</w><w>menções</w><w>geocodificadas</w><w>num</w><emph><w>corpus</w></emph><w>de</w><w>jornais</w><pc>.</pc></s><s xml:id="s_N7vKgi" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_SbEIQv']}"><w>Aplicações</w><w>interativas</w><w>podem</w><w>ser</w><w>ferramentas</w><w>úteis</w><w>para</w><w>arquivistas</w><w>:</w><w>pesquisadores</w><w>do</w><w>National</w><w>Archives</w><w>UK</w><ref target="https://perma.cc/C6U5-PYHF"><w>criaram</w><w>uma</w><w>aplicação</w><w>usando</w><w>Shiny</w></ref><w>(</w><w>em</w><w>inglês</w><w>)</w><w>que</w><w>avalia</w><w>o</w><w>nível</w><w>de</w><w>risco</w><w>numa</w><w>coleção</w><w>digital</w><w>,</w><w>por</w><w>meio</w><w>de</w><w>uma</w><w>série</w><w>de</w><w>perguntas</w><w>respondidas</w><w>por</w><w>um</w><w>usuário</w><pc>.</pc></s></p><p><s xml:id="s_r7ALKp" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_jZBVPR']}"><w>Outro</w><w>caso</w><w>de</w><w>uso</w><w>típico</w><w>para</w><w>aplicações</w><w>interativas</w><w>é</w><w>fornecer</w><w>uma</w><w>maneira</w><w>mais</w><w>fácil</w><w>de</w><w>explorar</w><w>o</w><w>seu</w><w>próprio</w><w>conjunto</w><w>de</w><w>dados</w><w>,</w><w>sem</w><w>nunca</w><w>pretender</w><w>que</w><w>a</w><w>própria</w><w>aplicação</w><w>seja</w><w>disponibilizada</w><w>publicamente</w><pc>.</pc></s><s xml:id="s_eDv7lf" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_QMIOl8']}"><w>Pode-se</w><w>simplesmente</w><w>usá-la</w><w>para</w><w>encontrar</w><w>padrões</w><w>interessantes</w><w>ou</w><w>como</w><w>ponto</w><w>de</w><w>partida</w><w>para</w><w>pesquisas</w><w>futuras</w><pc>.</pc></s><s xml:id="s_51QtJy" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_r5ZPVM']}"><w>Dessa</w><w>forma</w><w>,</w><w>a</w><w>interatividade</w><w>pode</w><w>ser</w><w>particularmente</w><w>útil</w><w>para</w><w>ajudar</w><w>a</w><w>explorar</w><w>e</w><w>encontrar</w><w>padrões</w><w>em</w><w>conjuntos</w><w>de</w><w>dados</w><w>de</w><w>grande</w><w>escala</w><pc>.</pc></s></p></div><div type="3" n="2.2"><head><s xml:id="s_Nc7V7T" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_FIxWx9']}"><w>Opções</w><w>para</w><w>criar</w><w>uma</w><w>GUI</w></s></head><p><s xml:id="s_Kxl46c" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_rO8DfL']}"><w>Existem</w><w>várias</w><w>maneiras</w><w>de</w><w>abordar</w><w>o</w><w>desenvolvimento</w><w>de</w><w>visualizações</w><w>interativas</w><w>semelhantes</w><w>aos</w><w>exemplos</w><w>acima</w><pc>.</pc></s><s xml:id="s_6fDA4N" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Ku3vxb']}"><w>Uma</w><w>delas</w><w>é</w><w>aprender</w><w>a</w><w>desenvolver</w><w>uma</w><w>ferramenta</w><w>especializada</w><w>projetada</w><w>para</w><w>manipular</w><w>páginas</w><w>da</w><w>Web</w><w>em</w><w>resposta</w><w>a</w><w>informações</w><w>de</w><emph><w>input</w></emph><w>,</w><w>como</w><w>a</w><ref target="https://perma.cc/BG9S-KPJE"><w>biblioteca</w><w>Javascript</w><w>D3</w></ref><w>(</w><w>em</w><w>inglês</w><w>)</w><pc>.</pc></s><s xml:id="s_IS9uXE" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_d1FnQR']}"><w>Uma</w><w>segunda</w><w>opção</w><w>seria</w><w>usar</w><w>ferramentas</w><w>baseadas</w><w>na</w><w>Web</w><w>existentes</w><w>,</w><w>sejam</w><w>gerais</w><w>,</w><w>como</w><ref target="https://perma.cc/M6Y9-9ZCP"><w>Tableau</w></ref><w>(</w><w>em</w><w>inglês</w><w>)</w><w>e</w><ref target="https://perma.cc/TAA2-W7WA"><w>Rawgraphs</w></ref><w>(</w><w>em</w><w>inglês</w><w>)</w><w>,</w><w>ou</w><w>com</w><w>uma</w><w>finalidade</w><w>mais</w><w>específica</w><w>,</w><w>como</w><ref target="https://perma.cc/2W5A-PBJU"><w>Palladio</w></ref><w>(</w><w>em</w><w>inglês</w><w>)</w><w>ou</w><ref target="https://perma.cc/SS9Z-6DAG"><w>Gephi</w></ref><w>(</w><w>em</w><w>inglês</w><w>)</w><pc>.</pc></s><s xml:id="s_bcsOQL" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_LSvwPK']}"><w>Uma</w><w>terceira</w><w>abordagem</w><w>pode</w><w>ser</w><w>usar</w><ref target="https://perma.cc/CX23-VTAK"><w>Jupyter</w><w>notebooks</w></ref><w>(</w><w>em</w><w>inglês</w><w>)</w><w>,</w><w>que</w><w>permitem</w><w>compartilhar</w><w>código</w><w>interativo</w><w>e</w><w>até</w><w>mesmo</w><w>,</w><w>com</w><w>alguns</w><ref target="https://perma.cc/ESA5-9MEJ"><w>pacotes</w><w>adicionais</w></ref><w>,</w><w>criar</w><w>uma</w><w>interface</w><w>do</w><w>usuário</w><pc>.</pc></s></p><p><s xml:id="s_qptRtQ" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Hmgloq']}"><w>Esta</w><w>lição</w><w>abrange</w><w>uma</w><w>quarta</w><w>abordagem</w><w>:</w><w>fazer</w><w>aplicações</w><w>interativas</w><w>com</w><w>uma</w><w>GUI</w><w>usando</w><w>uma</w><w>biblioteca</w><w>para</w><w>uma</w><w>linguagem</w><w>de</w><w>programação</w><w>de</w><w>propósito</w><w>geral</w><w>,</w><w>como</w><ref target="https://perma.cc/LXR5-BYC9"><w>Bokeh</w></ref><w>(</w><w>em</w><w>inglês</w><w>)</w><w>ou</w><ref target="https://perma.cc/J7T9-EHTJ"><w>Dash</w></ref><w>(</w><w>em</w><w>inglês</w><w>)</w><w>para</w><w>Python</w><w>ou</w><w>,</w><w>conforme</w><w>usado</w><w>neste</w><w>tutorial</w><w>,</w><ref target="https://perma.cc/CK9W-VRKN"><w>Shiny</w></ref><w>(</w><w>em</w><w>inglês</w><w>)</w><w>para</w><w>R.</w><w>Tanto</w><w>o</w><w>Python</w><w>quanto</w><w>o</w><w>R</w><w>são</w><w>linguagens</w><w>de</w><w>programação</w><w>versáteis</w><w>,</w><w>de</w><w>código</w><w>aberto</w><w>,</w><w>amplamente</w><w>usadas</w><w>,</w><w>com</w><w>comunidades</w><w>ativas</w><w>e</w><w>com</w><w>uma</w><w>enorme</w><w>variedade</w><w>de</w><w>pacotes</w><w>de</w><w>terceiros</w><pc>.</pc></s><s xml:id="s_IOzPqX" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_l4mJut']}"><w>Há</w><w>muitas</w><w>circunstâncias</w><w>em</w><w>que</w><w>faz</w><w>sentido</w><w>usá-las</w><w>como</w><w>base</w><w>para</w><w>aplicações</w><w>interativas</w><pc>.</pc></s><s xml:id="s_ginLGA" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_nwjgXq']}"><w>Em</w><w>essência</w><w>,</w><w>esses</w><w>pacotes</w><w>atuam</w><w>como</w><w>interfaces</w><w>interativas</w><w>para</w><w>a</w><w>linguagem</w><w>de</w><w>programação</w><w>,</w><w>permitindo</w><w>a</w><w>criação</w><w>de</w><w>controlos</w><w>deslizantes</w><w>e</w><w>outras</w><w>funcionalidades</w><w>,</w><w>que</w><w>podem</w><w>ser</w><w>usadas</w><w>como</w><w>informação</w><w>de</w><emph><w>input</w></emph><w>para</w><w>alterar</w><w>dinamicamente</w><w>parcelas</w><w>de</w><w>código</w><pc>.</pc></s><s xml:id="s_GDAeKn" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_hCg7GI']}"><w>Na</w><w>maioria</w><w>dos</w><w>casos</w><w>,</w><w>estes</w><w>pacotes</w><w>não</w><w>exigem</w><w>conhecimento</w><w>técnico</w><w>do</w><w>usuário</w><w>final</w><pc>.</pc></s><s xml:id="s_7XPfGN" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_XroWuA']}"><w>Como</w><w>são</w><w>projetados</w><w>para</w><w>funcionar</w><w>num</w><w>navegador</w><w>,</w><w>funcionam</w><w>em</w><w>qualquer</w><w>plataforma</w><w>e</w><w>são</w><w>fáceis</w><w>de</w><w>compartilhar</w><pc>.</pc></s></p></div><div type="3" n="2.3"><head><s xml:id="s_ORw3FG" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_CyU8CK']}"><w>Shiny</w><w>e</w><w>programação</w><w>reativa</w></s></head><p><s xml:id="s_ypeByK" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_6UXL9K']}"><w>Shiny</w><w>é</w><w>baseada</w><w>num</w><w>conceito</w><w>chamado</w><ref target="https://perma.cc/SGQ8-BU48"><w>reatividade</w></ref><pc>.</pc></s><s xml:id="s_dGA5o2" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_FWB35C']}"><w>Normalmente</w><w>,</w><w>ao</w><w>codificar</w><w>,</w><w>definimos</w><w>uma</w><w>variável</w><w>para</w><w>um</w><w>valor</w><w>específico</w><w>,</w><w>digamos</w><code rend="inline"><w>x</w><w>=</w><w>5</w></code><pc>.</pc></s><s xml:id="s_sUvNMr" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_RhrUP6']}"><w>Na</w><emph><w>programação</w><w>reativa</w></emph><w>,</w><w>a</w><w>variável</w><w>depende</w><w>de</w><w>uma</w><w>informação</w><w>de</w><emph><w>input</w></emph><w>variável</w><w>,</w><w>geralmente</w><w>definida</w><w>por</w><w>um</w><w>usuário</w><w>(</w><w>de</w><w>um</w><w>controlo</w><w>deslizante</w><w>de</w><w>texto</w><w>ou</w><w>lista</w><w>suspensa</w><w>,</w><w>por</w><w>exemplo</w><w>)</w><pc>.</pc></s><s xml:id="s_AJkmSh" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_jHYygP']}"><w>O</w><w>código</w><w>'capta</w><w>'</w><w>as</w><w>alterações</w><w>nessas</w><w>variáveis</w><w>reativas</w><w>e</w><w>,</w><w>sempre</w><w>que</w><w>essas</w><w>variáveis</w><w>especiais</w><w>mudam</w><w>,</w><w>quaisquer</w><w>resultados</w><w>são</w><w>usados</w><w>para</w><w>gerar</w><w>atualizações</w><w>automaticamente</w><pc>.</pc></s></p><p><s xml:id="s_hkQLMP" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_wu7EFR']}"><w>No</w><w>entanto</w><w>,</w><w>essa</w><w>atualização</w><w>só</w><w>acontece</w><w>em</w><pc>.</pc></s><hi rend="bold"><s xml:id="s_dqA3B6" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_viqX2v']}"><w>contextos</w><w>reativos</w></s></hi><s xml:id="s_feJbTi" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_xPDAmB']}"><w>Shiny</w><w>tem</w><w>três</w><w>contextos</w><w>reativos</w><w>importantes</w><w>:</w><w>funções</w><code rend="inline"><w>render</w><w>*</w></code><w>,</w><w>que</w><w>são</w><w>usadas</w><w>para</w><w>criar</w><w>objetos</w><w>R</w><w>e</w><w>exibi-los</w><w>na</w><w>aplicação</w><w>,</w><code rend="inline"><w>observe</w><w>(</w><w>{</w><w>}</w><w>)</w></code><w>e</w><code rend="inline"><w>reactive</w><w>(</w><w>{</w><w>}</w><w>)</w></code><pc>.</pc></s><s xml:id="s_Hksf6u" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_ih9gMf']}"><w>Neste</w><w>tutorial</w><w>,</w><w>usará</w><w>a</w><w>reatividade</w><w>para</w><w>criar</w><w>um</w><emph><w>dataframe</w></emph><w>resumido</w><w>de</w><w>títulos</w><w>de</w><w>jornais</w><w>e</w><w>suas</w><w>datas</w><w>,</w><w>que</w><w>é</w><w>atualizado</w><w>dinamicamente</w><w>com</w><w>base</w><w>num</w><emph><w>input</w></emph><w>de</w><w>datas</w><w>do</w><w>usuário</w><pc>.</pc></s><s xml:id="s_FFMf8C" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_XanLVx']}"><w>Em</w><w>outras</w><w>partes</w><w>da</w><w>sua</w><w>aplicação</w><w>,</w><w>usará</w><w>uma</w><w>função</w><code rend="inline"><w>render</w><w>*</w></code><w>para</w><w>exibir</w><w>um</w><w>mapa</w><w>que</w><w>captará</w><w>as</w><w>alterações</w><w>nesse</w><emph><w>dataframe</w></emph><w>reativo</w><w>e</w><w>se</w><w>atualizará</w><w>quando</w><w>qualquer</w><w>uma</w><w>for</w><w>encontrada</w><pc>.</pc></s></p></div><div type="3" n="2.4"><head><s xml:id="s_Mb54HV" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_3OYqD9']}"><w>Vantagens</w><w>e</w><w>desvantagens</w><w>de</w><w>usar</w><w>Shiny</w></s></head><p><s xml:id="s_eUiSK1" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_ZImH2X']}"><w>A</w><w>vantagem</w><w>dessa</w><w>abordagem</w><w>é</w><w>que</w><w>a</w><w>criação</w><w>de</w><w>aplicações</w><w>Shiny</w><w>é</w><emph><w>relativamente</w></emph><w>simples</w><w>se</w><w>já</w><w>conhece</w><w>R</w><w>,</w><w>e</w><w>toda</w><w>a</w><w>variedade</w><w>de</w><w>bibliotecas</w><w>e</w><w>recursos</w><w>da</w><w>R</w><w>pode</w><w>ser</w><w>aproveitada</w><w>pela</w><w>Shiny</w><pc>.</pc></s><s xml:id="s_PznjOf" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_3EaFAu']}"><w>Em</w><w>algumas</w><w>circunstâncias</w><w>,</w><w>isso</w><w>pode</w><w>ser</w><w>preferível</w><w>a</w><w>aprender</w><w>uma</w><w>nova</w><w>linguagem</w><w>do</w><w>zero</w><pc>.</pc></s><s xml:id="s_WwiPgv" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_bvlAw0']}"><w>Se</w><w>tiver</w><w>experiência</w><w>com</w><w>R</w><w>e</w><w>pouco</w><w>conhecimento</w><w>de</w><w>Shiny</w><w>,</w><w>poderá</w><w>criar</w><w>aplicações</w><w>muito</w><w>complexas</w><w>e</w><w>úteis</w><w>,</w><w>abrangendo</w><w>tudo</w><w>,</w><w>desde</w><w>mapas</w><w>,</w><w>análise</w><w>de</w><w>redes</w><w>,</w><ref target="https://perma.cc/YAX3-RZZP"><w>modelos</w><w>de</w><w>aprendizado</w><w>de</w><w>máquina</w></ref><w>(</w><w>em</w><w>inglês</w><w>)</w><w>ou</w><w>painéis</w><w>de</w><w>controlo</w><w>completos</w><w>com</w><w>muitas</w><w>funcionalidades</w><pc>.</pc></s><s xml:id="s_c1wfkq" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_es38lx']}"><w>Se</w><w>pode</w><w>programá-las</w><w>com</w><w>R</w><w>,</w><w>provavelmente</w><w>pode</w><w>torná-las</w><w>interativas</w><w>com</w><w>Shiny</w><pc>.</pc></s><s xml:id="s_msIOvy" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_8x1MLh']}"><w>O</w><w>processo</w><w>de</w><w>criação</w><w>de</w><w>uma</w><w>interface</w><w>do</w><w>usuário</w><w>Shiny</w><w>é</w><w>muito</w><w>flexível</w><w>e</w><w>fácil</w><w>de</w><w>personalizar</w><w>,</w><w>o</w><w>que</w><w>significa</w><w>que</w><w>é</w><w>simples</w><w>criar</w><w>uma</w><w>aplicação</w><w>num</w><w>formato</w><w>que</w><w>possa</w><w>ser</w><w>incorporado</w><w>num</w><w>site</w><w>de</w><w>projeto</w><w>usando</w><emph><w>iframes</w></emph><w>:</w><w>veja</w><w>o</w><w>projeto</w><ref target="https://www.mappingthegayguides.org/map/"><w>Mapping</w><w>the</w><w>Gay</w><w>Guides</w></ref><w>(</w><w>em</w><w>inglês</w><w>)</w><w>como</w><w>exemplo</w><pc>.</pc></s></p><p><s xml:id="s_W9u9wD" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_kgPbYC']}"><w>Existem</w><w>algumas</w><w>desvantagens</w><w>que</w><w>valem</w><w>a</w><w>pena</w><w>considerar</w><pc>.</pc></s><s xml:id="s_2lih9x" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_E3X8PS']}"><w>Para</w><w>aqueles</w><w>que</w><w>não</w><w>têm</w><w>intenção</w><w>de</w><w>usar</w><w>uma</w><w>linguagem</w><w>como</w><w>R</w><w>em</w><w>outros</w><w>aspectos</w><w>do</w><w>seu</w><w>trabalho</w><w>,</w><w>aprendê-la</w><w>apenas</w><w>para</w><w>produzir</w><w>aplicações</w><w>Shiny</w><w>pode</w><w>ser</w><w>um</w><w>exagero</w><pc>.</pc></s><s xml:id="s_YzTfSl" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_qoqrMj']}"><w>Shiny</w><w>é</w><w>de</w><w>código</w><w>aberto</w><w>e</w><w>de</w><w>uso</w><w>gratuito</w><w>,</w><w>mas</w><w>de</w><w>longe</w><w>a</w><w>maneira</w><w>mais</w><w>fácil</w><w>de</w><w>publicar</w><w>a</w><w>sua</w><w>aplicação</w><w>finalizada</w><w>na</w><w>Web</w><w>é</w><w>usando</w><w>um</w><w>serviço</w><w>chamado</w><w>shinyapps.io</w><pc>.</pc></s><s xml:id="s_QEZs0c" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_7kNyQh']}"><w>Shinyapps.io</w><w>é</w><w>um</w><w>produto</w><w>comercial</w><w>com</w><w>uma</w><w>opção</w><w>gratuita</w><w>que</w><w>oferece</w><w>um</w><w>número</w><w>limitado</w><w>de</w><w>horas</w><w>de</w><w>uso</w><w>(</w><w>25</w><w>horas</w><w>,</w><w>depois</w><w>disso</w><w>precisará</w><w>pagar</w><w>uma</w><w>taxa</w><w>mensal</w><w>)</w><pc>.</pc></s><s xml:id="s_uhyP5e" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_4BNIQI']}"><w>Pode</w><w>executar</w><w>a</w><w>Shiny</w><w>no</w><w>seu</w><w>próprio</w><w>servidor</w><w>(</w><w>ou</w><w>através</w><w>de</w><w>algo</w><w>como</w><ref target="https://perma.cc/DEA2-HCC7"><w>Amazon</w><w>Web</w><w>Services</w></ref><w>(</w><w>em</w><w>inglês</w><w>)</w><w>)</w><w>,</w><w>mas</w><w>é</w><w>um</w><w>processo</w><w>bastante</w><w>complicado</w><w>e</w><w>requer</w><w>conhecimento</w><w>avançado</w><w>de</w><w>configuração</w><w>de</w><w>servidores</w><w>Web</w><pc>.</pc></s><s xml:id="s_7N44Rq" corresp="{'shiny-leaflet-newspaper-map-tutorial': '[\'s_Q0m0jH\']'}"><w>Deve</w><w>ter</w><w>isso</w><w>em</w><w>mente</w><w>se</w><w>estiver</w><w>pensando</w><w>em</w><w>usar</w><w>Shiny</w><w>para</w><w>uma</w><w>saída</w><w>voltada</w><w>para</w><w>o</w><w>público</w><w>,</w><w>principalmente</w><w>se</w><w>achar</w><w>que</w><w>pode</w><w>ter</w><w>muito</w><w>tráfego</w><w>e</w><w>uso</w><w>pesado</w><pc>.</pc></s></p></div></div><div type="2" n="3"><head><s xml:id="s_CtpXQc" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_uKd4am']}"><w>Contexto</w><w>histórico</w><w>e</w><w>dados</w></s></head><p><s xml:id="s_nSIRsa" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_0p6PIy']}"><w>A</w><w>biblioteca</w><w>nacional</w><w>do</w><w>Reino</w><w>Unido</w><w>,</w><w>a</w><ref target="https://perma.cc/C7VP-VBTS"><w>British</w><w>Library</w></ref><w>(</w><w>em</w><w>inglês</w><w>)</w><w>possui</w><w>,</w><w>de</w><w>longe</w><w>,</w><w>a</w><w>maior</w><w>coleção</w><w>de</w><w>jornais</w><w>britânicos</w><w>e</w><w>irlandeses</w><w>do</w><w>mundo</w><pc>.</pc></s><s xml:id="s_Uin94C" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_xgO6fx']}"><w>A</w><w>primeira</w><w>publicação</w><w>de</w><w>notícias</w><w>em</w><w>série</w><w>na</w><w>sua</w><w>coleção</w><w>é</w><w>de</w><w>1621</w><w>e</w><w>continua</w><w>a</w><w>ser</w><w>coletada</w><w>até</w><w>hoje</w><pc>.</pc></s><s xml:id="s_raBPFO" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_GpIVbY']}"><w>O</w><w>catálogo</w><w>da</w><w>biblioteca</w><w>contém</w><w>uma</w><w>riqueza</w><w>de</w><w>informações</w><w>sobre</w><w>os</w><w>seus</w><w>acervos</w><w>jornalísticos</w><w>,</w><w>que</w><w>foram</w><w>disponibilizadas</w><w>publicamente</w><w>na</w><w>forma</w><w>de</w><w>metadados</w><w>estruturados</w><pc>.</pc></s><s xml:id="s_InibLa" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_JICxzK']}"><w>Esses</w><w>metadados</w><w>são</w><w>,</w><w>essencialmente</w><w>,</w><w>uma</w><w>lista</w><w>de</w><w>títulos</w><w>de</w><w>jornais</w><w>,</w><w>contendo</w><w>as</w><w>datas</w><w>e</w><w>locais</w><w>de</w><w>publicação</w><w>de</w><w>cada</w><w>um</w><w>,</w><w>mudanças</w><w>e</w><w>fusões</w><w>de</w><w>títulos</w><w>e</w><w>informações</w><w>sobre</w><w>substitutos</w><w>de</w><w>microfilmes</w><w>e</w><w>acervos</w><w>digitais</w><pc>.</pc></s></p><p><s xml:id="s_c4kopI" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_RGD3x9']}"><w>Esses</w><w>metadados</w><w>estruturados</w><w>são</w><w>o</w><w>recurso</w><w>usado</w><w>nesta</w><w>lição</w><pc>.</pc></s><s xml:id="s_HvYfvi" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_c85vQE']}"><w>Rastrear</w><w>os</w><w>metadados</w><w>dessa</w><w>coleção</w><w>é</w><w>uma</w><w>forma</w><w>dos</w><w>historiadores</w><w>mapearem</w><w>o</w><w>crescimento</w><w>e</w><w>as</w><w>mudanças</w><w>na</w><w>imprensa</w><w>ao</w><w>longo</w><w>do</w><w>tempo</w><w>e</w><w>em</w><w>diferentes</w><w>regiões</w><pc>.</pc></s><s xml:id="s_6Vl7d5" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_kV6wfe']}"><w>Além</w><w>disso</w><w>,</w><w>pode</w><w>ajudar</w><w>a</w><w>entender</w><w>mais</w><w>sobre</w><w>o</w><w>próprio</w><w>acervo</w><w>da</w><w>British</w><w>Library</w><w>,</w><w>incluindo</w><w>as</w><w>suas</w><w>lacunas</w><w>,</w><w>vieses</w><w>,</w><w>estratégias</w><w>de</w><w>digitalização</w><w>e</w><w>pontos</w><w>cegos</w><pc>.</pc></s><s xml:id="s_y6J0lF" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_3PMge0']}"><w>Os</w><w>dados</w><w>podem</w><w>até</w><w>indicar</w><w>algo</w><w>sobre</w><w>a</w><w>mudança</w><w>demográfica</w><w>e</w><w>industrialização</w><w>da</w><w>Grã-Bretanha</w><w>,</w><w>bem</w><w>como</w><w>desenvolvimentos</w><w>nas</w><w>tecnologias</w><w>de</w><w>comunicação</w><w>(</w><w>por</w><w>exemplo</w><w>,</w><w>comboios</w><w>e</w><w>,</w><w>depois</w><w>,</w><w>telégrafos</w><w>tornaram</w><w>possível</w><w>ter</w><w>imprensas</w><w>regionais</w><w>e</w><w>locais</w><w>)</w><pc>.</pc></s></p><p><s xml:id="s_IaHmhu" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_tdSM5P']}"><w>A</w><w>indústria</w><w>jornalística</w><w>(</w><w>e</w><w>,</w><w>também</w><w>,</w><w>a</w><w>coleção</w><w>)</w><w>cresceu</w><w>de</w><w>um</w><w>pequeno</w><w>número</w><w>de</w><w>títulos</w><w>publicados</w><w>em</w><w>Londres</w><w>no</w><w>início</w><w>do</w><w>século</w><w>XVII</w><w>para</w><w>uma</w><w>florescente</w><w>imprensa</w><w>provincial</w><w>semanal</w><w>e</w><w>diária</w><w>no</w><w>século</w><w>XVIII</w><w>e</w><w>,</w><w>depois</w><w>,</w><w>para</w><w>uma</w><w>grande</w><w>imprensa</w><w>local</w><w>nos</w><w>séculos</w><w>XIX</w><w>e</w><w>XX</w><pc>.</pc></s><s xml:id="s_ngkPAb" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_JTMIuT']}"><w>Durante</w><w>grande</w><w>parte</w><w>do</w><w>século</w><w>XVIII</w><w>,</w><w>um</w><w>imposto</w><w>foi</w><w>adicionado</w><w>a</w><w>cada</w><w>exemplar</w><w>de</w><w>jornal</w><w>,</w><w>tornando-o</w><w>caro</w><w>e</w><w>disponível</w><w>apenas</w><w>para</w><w>a</w><w>elite</w><pc>.</pc></s><s xml:id="s_s4p2NK" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_fsigV7']}"><w>No</w><w>século</w><w>seguinte</w><w>,</w><w>este</w><w>foi</w><w>revogado</w><w>e</w><w>a</w><w>imprensa</w><w>começou</w><w>—ainda</w><w>que</w><w>lentamente—</w><w>a</w><w>refletir</w><w>mais</w><w>plenamente</w><w>sobre</w><w>as</w><w>aspirações</w><w>e</w><w>a</w><w>diversidade</w><w>do</w><w>país</w><pc>.</pc></s><s xml:id="s_XAcIlD" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_yPYzuu']}"><w>A</w><w>aplicação</w><w>criada</w><w>neste</w><w>tutorial</w><w>—um</w><w>mapa</w><w>interativo</w><w>de</w><w>títulos</w><w>publicados</w><w>,</w><w>com</w><w>um</w><w>controlo</w><w>deslizante</w><w>de</w><w>tempo</w><w>selecionado</w><w>pelo</w><w>usuário—</w><w>é</w><w>uma</w><w>maneira</w><w>útil</w><w>de</w><w>visualizar</w><w>essas</w><w>mudanças</w><pc>.</pc></s></p><div type="3" n="3.1"><head><s xml:id="s_HiU5uC" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_oFeuvx']}"><w>Obtendo</w><w>os</w><w>dados</w></s></head><p><s xml:id="s_fNMg8D" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_NmTyww', 's_1mtMfn']}"><w>Para</w><w>este</w><w>tutorial</w><w>,</w><w>será</w><w>preciso</w><w>descarregar</w><w>dois</w><w>ficheiros</w><w>:</w><w>primeiro</w><w>,</w><w>uma</w><w>lista</w><w>de</w><w>títulos</w><w>de</w><w>jornais</w><w>britânicos</w><w>e</w><w>irlandeses</w><w>,</w><w>depois</w><w>disso</w><w>chamada</w><w>de</w><w>'lista</w><w>de</w><w>títulos</w><w>'</w><w>;</w><w>e</w><w>,</w><w>segundo</w><w>,</w><w>um</w><w>conjunto</w><w>de</w><w>dados</w><w>auxiliar</w><w>com</w><w>nomes</w><w>de</w><w>lugares</w><w>e</w><w>coordenadas</w><w>,</w><w>que</w><w>permitirá</w><w>a</w><w>correspondência</w><w>dos</w><w>lugares</w><w>encontrados</w><w>na</w><w>lista</w><w>de</w><w>títulos</w><w>aos</w><w>locais</w><w>num</w><w>mapa</w><w>,</w><w>a</w><w>que</w><w>chamaremos</w><w>de</w><w>'lista</w><w>de</w><w>coordenadas</w><w>'</w><pc>.</pc></s></p><list type="unordered"><item><p><s xml:id="s_E5ONJl" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Eel3A0']}"><w>Para</w><w>obter</w><w>a</w><w>lista</w><w>de</w><w>títulos</w><w>,</w><w>visite</w><w>o</w><ref target="https://bl.iro.bl.uk/concern/datasets/7da47fac-a759-49e2-a95a-26d49004eba8?locale=en"><w>repositório</w><w>da</w><w>British</w><w>Library</w></ref><w>(</w><w>em</w><w>inglês</w><w>)</w><pc>.</pc></s><s xml:id="s_DKpO0n" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_YjXLGd']}"><w>A</w><w>lista</w><w>está</w><w>disponível</w><w>no</w><w>repositório</w><w>em</w><w>dois</w><w>formatos</w><w>:</w><w>um</w><w>ficheiro</w><code rend="inline"><w>.zip</w></code><w>contendo</w><w>um</w><code rend="inline"><w>.csv</w></code><w>e</w><w>um</w><w>readme</w><w>,</w><w>ou</w><w>uma</w><w>folha</w><w>de</w><w>cálculo</w><w>do</w><w>Excel</w><pc>.</pc></s><s xml:id="s_tmuYt3" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_adQCdD']}"><w>Para</w><w>esta</w><w>lição</w><w>,</w><w>trabalharemos</w><w>com</w><w>o</w><w>formato</w><code rend="inline"><w>.csv</w></code><pc>.</pc></s><s xml:id="s_XddzKr" corresp="{'shiny-leaflet-newspaper-map-tutorial': '[\'s_YUrkA8\']'}"><w>Descarregue</w><w>o</w><w>ficheiro</w><code rend="inline"><w>.zip</w></code><w>e</w><w>descompacte-o.</w><w>Como</w><w>alternativa</w><w>,</w><w>pode</w><ref target="/assets/shiny-leaflet-newspaper-map-tutorial-data/newspaper_coordinates.csv"><w>descarregar</w><w>aqui</w></ref><w>uma</w><w>cópia</w><w>do</w><w>conjunto</w><w>de</w><w>dados</w><w>usado</w><w>neste</w><w>tutorial</w><pc>.</pc></s></p></item><item><p><s xml:id="s_b12WOs" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_WV9uSx', 's_hNvZuS']}"><w>A</w><w>lista</w><w>de</w><w>coordenadas</w><w>está</w><ref target="/assets/shiny-leaflet-newspaper-map-tutorial-data/newspaper_coordinates.csv"><w>disponível</w><w>aqui</w></ref><pc>.</pc></s><s xml:id="s_sfCx7d" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_2GT76P']}"><w>Descarregue</w><w>este</w><w>ficheiro</w><w>de</w><w>coordenadas</w><pc>.</pc></s><s xml:id="s_g9r1Hm" corresp="{&quot;shiny-leaflet-newspaper-map-tutorial&quot;: [&quot;s_2GT76P&quot;]}"><w>Não</w><w>importa</w><w>onde</w><w>o</w><w>coloca</w><w>agora</w><w>,</w><w>pois</w><w>posteriormente</w><w>na</w><w>lição</w><w>moverá</w><w>os</w><w>dois</w><w>ficheiros</w><w>para</w><w>uma</w><w>nova</w><w>pasta</w><pc>.</pc></s></p></item></list></div><div type="3" n="3.2"><head><s xml:id="s_m34SkE" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Oufw7D']}"><w>Entender</w><w>a</w><w>lista</w><w>de</w><w>títulos</w></s></head><p><s xml:id="s_AmeeaF" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_cOdSyd']}"><w>Feito</w><w>isto</w><w>,</w><w>dê</w><w>uma</w><w>olhada</w><w>no</w><w>conjunto</w><w>de</w><w>dados</w><w>da</w><w>lista</w><w>de</w><w>títulos</w><w>(</w><w>pode</w><w>abri-lo</w><w>no</w><w>R</w><w>,</w><w>num</w><w>programa</w><w>de</w><w>folha</w><w>de</w><w>cálculo</w><w>ou</w><w>um</w><w>editor</w><w>de</w><w>texto</w><w>)</w><pc>.</pc></s><s xml:id="s_QkUmRE" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_wnDCU2']}"><w>A</w><w>lista</w><w>de</w><w>títulos</w><w>foi</w><w>produzida</w><w>pela</w><w>British</w><w>Library</w><w>e</w><w>publicada</w><w>no</w><w>seu</w><w>repositório</w><w>institucional</w><pc>.</pc></s><s xml:id="s_wnA283" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_352kHm']}"><w>Contém</w><w>metadados</w><w>retirados</w><w>do</w><w>catálogo</w><w>da</w><w>biblioteca</w><w>,</w><w>de</w><w>todos</w><w>os</w><w>jornais</w><w>publicados</w><w>na</w><w>Grã-Bretanha</w><w>e</w><w>Irlanda</w><w>até</w><w>o</w><w>ano</w><w>de</w><w>2019</w><w>,</w><w>um</w><w>total</w><w>de</w><w>cerca</w><w>de</w><w>24.000</w><w>títulos</w><pc>.</pc></s><s xml:id="s_uKnRGg" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_nYJcwC']}"><w>Há</w><w>mais</w><w>informações</w><w>disponíveis</w><w>num</w><w>artigo</w><w>de</w><w>dados</w><w>publicado</w><pc>.</pc></s><ref type="footnotemark" target="#pt_note_1"/></p><p><s xml:id="s_D2GJ79" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_5GQVEn']}"><w>O</w><w>ficheiro</w><code rend="inline"><w>.csv</w></code><w>(</w><code rend="inline"><w>BritishAndIrishNewspapersTitleList_20191118.csv</w></code><w>)</w><w>contém</w><w>vários</w><w>campos</w><w>para</w><w>cada</w><w>título</w><w>,</w><w>incluindo</w><w>o</w><w>nome</w><w>da</w><w>publicação</w><w>,</w><w>nomes</w><w>de</w><w>títulos</w><w>posteriores</w><w>e</w><w>anteriores</w><w>,</w><w>vários</w><w>campos</w><w>para</w><w>a</w><w>cobertura</w><w>geográfica</w><w>,</w><w>a</w><w>primeira</w><w>e</w><w>a</w><w>última</w><w>datas</w><w>catalogadas</w><w>e</w><w>algumas</w><w>outras</w><w>informações</w><pc>.</pc></s></p><p><s xml:id="s_lyTlxH" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_pZqG4W']}"><w>Vale</w><w>a</w><w>pena</w><w>ler</w><w>o</w><w>ficheiro</w><code rend="inline"><w>README</w></code><w>que</w><w>acompanha</w><w>o</w><w>ficheiro</w><code rend="inline"><w>.zip</w></code><pc>.</pc></s><s xml:id="s_1ctZIC" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_tW3YuT']}"><w>Este</w><w>explica</w><w>que</w><w>existem</w><w>vários</w><w>campos</w><w>previstos</w><w>para</w><w>a</w><w>cobertura</w><w>geográfica</w><w>,</w><w>pois</w><w>os</w><w>registros</w><w>foram</w><w>catalogados</w><w>durante</w><w>um</w><w>longo</w><w>período</w><w>de</w><w>tempo</w><w>durante</w><w>o</w><w>qual</w><w>os</w><w>padrões</w><w>e</w><w>convenções</w><w>de</w><w>catalogação</w><w>mudaram</w><pc>.</pc></s><s xml:id="s_K1T5H7" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_2loRUP']}"><w>O</w><w>objetivo</w><w>aqui</w><w>é</w><w>mapear</w><w>os</w><w>jornais</w><w>num</w><w>nível</w><w>de</w><w>ponto</w><w>geográfico</w><w>,</w><w>ou</w><w>seja</w><w>,</w><w>no</w><w>nível</w><w>de</w><w>povoado</w><w>,</w><w>vila</w><w>ou</w><w>cidade</w><w>,</w><w>em</w><w>vez</w><w>de</w><w>região</w><w>ou</w><w>país</w><pc>.</pc></s><s xml:id="s_cZDidy" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_sN6Yep']}"><w>Existem</w><w>dois</w><w>campos</w><w>onde</w><w>podemos</w><w>encontrar</w><w>os</w><w>pontos</w><w>geográficos</w><w>potencialmente</w><w>relevantes</w><w>para</w><w>mapear</w><w>:</w><code rend="inline"><w>place_of_publication</w></code><w>e</w><code rend="inline"><w>coverage_city</w></code><pc>.</pc></s><s xml:id="s_r0OBhh" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_soayOL']}"><w>Parecem</w><w>coisas</w><w>diferentes</w><w>(</w><w>um</w><w>jornal</w><w>poderia</w><w>ser</w><w>publicado</w><w>num</w><w>lugar</w><w>,</w><w>mas</w><w>ter</w><w>cobertura</w><w>geográfica</w><w>noutro</w><w>,</w><w>talvez</w><w>se</w><w>o</w><w>primeiro</w><w>não</w><w>tivesse</w><w>uma</w><w>imprensa</w><w>jornalística</w><w>adequada</w><w>)</w><w>,</w><w>mas</w><w>não</w><w>é</w><w>assim</w><w>que</w><w>têm</w><w>sido</w><w>usados</w><w>pelos</w><w>catalogadores</w><w>na</w><w>prática</w><pc>.</pc></s><s xml:id="s_gfBhfU" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_NKfrvH']}"><w>O</w><w>ficheiro</w><code rend="inline"><w>README</w></code><w>diz</w><w>que</w><w>este</w><w>último</w><w>(</w><code rend="inline"><w>coverage_city</w></code><w>)</w><w>contém</w><w>dados</w><w>mais</w><w>completos</w><w>,</w><w>então</w><w>é</w><w>esse</w><w>que</w><w>usará</w><w>para</w><w>mapear</w><w>os</w><w>títulos</w><pc>.</pc></s></p><p><s xml:id="s_pSIoWR" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_hdYY8Z']}"><w>Os</w><w>outros</w><w>dois</w><w>campos</w><w>de</w><w>interesse</w><w>são</w><w>a</w><w>primeira</w><w>e</w><w>a</w><w>última</w><w>datas</w><w>catalogadas</w><pc>.</pc></s><s xml:id="s_hFg53K" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_HTHWfQ']}"><w>O</w><w>readme</w><w>também</w><w>nos</w><w>diz</w><w>que</w><w>a</w><w>biblioteca</w><w>não</w><w>tem</w><w>cobertura</w><w>completa</w><w>,</w><w>embora</w><w>tenha</w><w>a</w><w>maioria</w><w>dos</w><w>títulos</w><w>da</w><w>década</w><w>de</w><w>1840</w><w>em</w><w>diante</w><w>,</w><w>e</w><w>efetivamente</w><w>todos</w><w>os</w><w>títulos</w><w>a</w><w>partir</w><w>de</w><w>1869</w><w>,</w><w>quando</w><w>o</w><w>Depósito</w><w>Legal</w><ref type="footnotemark" target="#pt_note_2"/><w>foi</w><w>introduzido</w><pc>.</pc></s><s xml:id="s_xkluvl" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Lsj3W9']}"><w>Isso</w><w>significa</w><w>que</w><w>a</w><w>coleção</w><w>não</w><w>possui</w><w>,</w><w>necessariamente</w><w>,</w><w>todos</w><w>os</w><w>números</w><w>de</w><w>um</w><w>jornal</w><emph><w>entre</w></emph><w>a</w><w>primeira</w><w>e</w><w>a</w><w>última</w><w>data</w><w>catalogadas</w><w>pela</w><w>Biblioteca</w><pc>.</pc></s></p><p><s xml:id="s_22J18r" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_OgrLq2']}"><w>Neste</w><w>tutorial</w><w>,</w><w>será</w><w>criado</w><w>um</w><w>controlo</w><w>deslizante</w><w>interativo</w><w>que</w><w>permitirá</w><w>ao</w><w>usuário</w><w>escolher</w><w>uma</w><w>data</w><w>de</w><w>início</w><w>e</w><w>de</w><w>término</w><pc>.</pc></s><s xml:id="s_UlNS8s" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_cAniBM']}"><w>Isso</w><w>pode</w><w>ser</w><w>usado</w><w>para</w><w>filtrar</w><w>os</w><w>dados</w><w>de</w><w>duas</w><w>maneiras</w><w>:</w><w>para</w><w>todos</w><w>os</w><w>jornais</w><w>publicados</w><emph><w>em</w><w>algum</w><w>momento</w></emph><w>entre</w><w>essas</w><w>duas</w><w>datas</w><w>,</w><w>ou</w><w>pode</w><w>mapear</w><w>todos</w><w>os</w><w>jornais</w><w>publicados</w><emph><w>pela</w><w>primeira</w><w>vez</w></emph><w>entre</w><w>duas</w><w>datas</w><w>específicas</w><pc>.</pc></s><s xml:id="s_7qoePJ" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Wb4b2A']}"><w>Como</w><w>o</w><w>primeiro</w><w>cenário</w><w>super-representaria</w><w>as</w><w>coleções</w><w>da</w><w>biblioteca</w><w>,</w><w>para</w><w>simplificar</w><w>as</w><w>coisas</w><w>,</w><w>neste</w><w>tutorial</w><w>trabalhará</w><w>na</w><w>visualização</w><w>dos</w><w>jornais</w><w>publicados</w><w>dentro</w><w>de</w><w>um</w><w>determinado</w><w>período</w><w>de</w><w>tempo</w><pc>.</pc></s></p></div></div><div type="2" n="4"><head><s xml:id="s_FtGf4M" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_xlwDEW']}"><w>Configurando</w><w>o</w><w>seu</w><w>ambiente</w><w>de</w><w>codificação</w><w>e</w><w>criando</w><w>a</w><w>aplicação</w><w>Shiny</w></s></head><p><s xml:id="s_QPhnDx" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_WxonP4']}"><w>Para</w><w>demonstrar</w><w>como</w><w>Shiny</w><w>funciona</w><w>,</w><w>neste</w><w>tutorial</w><w>será</w><w>utilizado</w><w>esse</w><w>conjunto</w><w>de</w><w>dados</w><w>de</w><w>títulos</w><w>de</w><w>jornais</w><w>,</w><w>locais</w><w>de</w><w>publicação</w><w>e</w><w>datas</w><w>e</w><w>o</w><w>transformará</w><w>numa</w><w>aplicação</w><w>interativa</w><w>básica</w><pc>.</pc></s><s xml:id="s_PmJPLt" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_cklWqo']}"><w>No</w><w>total</w><w>,</w><w>há</w><w>cinco</w><w>tarefas</w><w>curtas</w><w>de</w><w>codificação</w><w>que</w><w>a</w><w>sua</w><w>aplicação</w><w>precisa</w><w>de</w><w>realizar</w><w>:</w></s></p><list type="unordered"><item><s xml:id="s_f84hLx" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_eeZnNN']}"><w>Carregar</w><w>os</w><w>dois</w><w>conjuntos</w><w>de</w><w>dados</w><w>necessários</w></s></item><item><s xml:id="s_of5PFl" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_gpeya9']}"><w>Criar</w><w>uma</w><w>interface</w><w>de</w><w>usuário</w></s></item><item><s xml:id="s_tfUPp0" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_HCkkuX']}"><w>Criar</w><w>um</w><w>conjunto</w><w>de</w><w>dados</w><w>``</w><w>reativo</w><w>''</w><w>de</w><w>lugares</w><w>,</w><w>uma</w><w>contagem</w><w>de</w><w>ocorrências</w><w>e</w><w>as</w><w>suas</w><w>coordenadas</w><w>geográficas</w></s></item><item><s xml:id="s_KY73Uq" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_lQS5rf']}"><w>Transformar</w><w>isto</w><w>num</w><w>conjunto</w><w>de</w><w>dados</w><w>geográfico</w><w>especial</w><w>chamado</w><w>de</w><w>objeto</w><w>de</w><w>recursos</w><w>simples</w></s></item><item><s xml:id="s_M4Xcbr" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_mU3NyM']}"><w>Criar</w><w>um</w><w>mapa</w><w>interativo</w><w>usando</w><w>outra</w><w>biblioteca</w><w>R</w><w>chamada</w><ref target="https://perma.cc/RW6M-ZCG2"><w>Leaflet</w></ref><w>(</w><w>em</w><w>inglês</w><w>)</w></s></item></list><p><s xml:id="s_2qVbpF" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Oz4veK']}"><w>No</w><w>entanto</w><w>,</w><w>antes</w><w>de</w><w>chegar</w><w>a</w><w>estes</w><w>pontos</w><w>é</w><w>preciso</w><w>configurar</w><w>o</w><w>ambiente</w><w>correto</w><w>e</w><w>criar</w><w>uma</w><w>nova</w><w>aplicação</w><w>Shiny</w><pc>.</pc></s></p><div type="3" n="4.1"><head><s xml:id="s_GRZaPe" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_AGT7cY']}"><w>Instalar</w><w>o</w><w>R</w><w>e</w><w>o</w><w>RStudio</w></s></head><p><s xml:id="s_fE1fXp" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_i86DU9']}"><w>Instale</w><w>as</w><ref target="https://cran.rstudio.com/"><w>últimas</w><w>versões</w><w>do</w><w>R</w></ref><w>(</w><w>em</w><w>inglês</w><w>)</w><w>e</w><w>do</w><ref target="https://www.rstudio.com/products/rstudio/download/"><w>RStudio</w></ref><w>(</w><w>em</w><w>inglês</w><w>)</w><w>na</w><w>sua</w><w>máquina</w><w>local</w><w>para</w><w>concluir</w><w>esta</w><w>lição</w><pc>.</pc></s><s xml:id="s_vWRa9u" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_KbiO9U']}"><w>O</w><w>R</w><w>tem</w><w>uma</w><w>IDE</w><w>(</w><w>Ambiente</w><w>de</w><w>Desenvolvimento</w><w>Integrado</w><w>)</w><w>muito</w><w>popular</w><w>(</w><w>embora</w><w>separado</w><w>)</w><w>chamado</w><w>RStudio</w><w>,</w><w>que</w><w>é</w><w>frequentemente</w><w>usado</w><w>junto</w><w>com</w><w>o</w><w>R</w><w>,</w><w>pois</w><w>fornece</w><w>um</w><w>grande</w><w>conjunto</w><w>de</w><w>recursos</w><w>para</w><w>tornar</w><w>a</w><w>codificação</w><w>na</w><w>linguagem</w><w>mais</w><w>conveniente</w><pc>.</pc></s><s xml:id="s_LOduTl" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_ZmKiOT']}"><w>Usaremos</w><w>ao</w><w>longo</w><w>da</w><w>lição</w><pc>.</pc></s></p><p><s xml:id="s_mv7Ns6" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_MFvi9D']}"><w>Lições</w><w>anteriores</w><w>do</w><emph><w>Programming</w><w>Historian</w></emph><w>abordaram</w><w>como</w><ref target="/pt/licoes/nocoes-basicas-R-dados-tabulares"><w>trabalhar</w><w>com</w><w>R</w></ref><w>e</w><ref target="/pt/licoes/manipulacao-transformacao-dados-R"><w>trabalhar</w><w>com</w><w>o</w><w>tydeverse</w></ref><pc>.</pc></s><s xml:id="s_QFBC8L" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_jQZKG7']}"><w>Seria</w><w>útil</w><w>passar</w><w>por</w><w>essas</w><w>lições</w><w>primeiro</w><w>,</w><w>para</w><w>aprender</w><w>os</w><w>fundamentos</w><w>da</w><w>instalação</w><w>do</w><w>R</w><w>e</w><w>usar</w><w>o</w><w>tydeverse</w><w>para</w><w>organizar</w><w>os</w><w>dados</w><pc>.</pc></s></p></div><div type="3" n="4.2"><head><s xml:id="s_4zReLl" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Hpw6qZ']}"><w>Criar</w><w>um</w><w>novo</w><w>projeto</w><w>no</w><w>RStudio</w></s></head><p><s xml:id="s_zELJMy" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_OaJezs']}"><w>Depois</w><w>de</w><w>instalar</w><w>o</w><w>R</w><w>e</w><w>o</w><w>RStudio</w><w>,</w><w>abra</w><w>o</w><w>último</w><w>e</w><w>crie</w><w>um</w><w>novo</w><w>projeto</w><w>para</w><w>trabalhar</w><w>na</w><w>sua</w><w>aplicação</w><pc>.</pc></s><s xml:id="s_A7RLbm" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_PMk6Ml']}"><w>Para</w><w>fazer</w><w>isto</w><w>,</w><w>abra</w><w>a</w><w>janela</w><w>'Create</w><w>a</w><w>Project</w><w>'</w><w>(</w><w>em</w><w>português</w><w>,</w><w>criar</w><w>um</w><w>novo</w><w>projeto</w><w>)</w><w>usando</w><w>o</w><w>menu</w><w>(</w><w>File-</w><w>&gt;</w><w>New</w><w>Project</w><w>)</w><w>(</w><w>em</w><w>português</w><w>,</w><w>Ficheiro-</w><w>&gt;</w><w>Novo</w><w>Projeto</w><w>)</w><pc>.</pc></s><s xml:id="s_V2K7eA" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_dA6mnq', 's_ju2mKZ']}"><w>Selecione</w><w>'New</w><w>Directory</w><w>'</w><w>(</w><w>em</w><w>português</w><w>,</w><w>novo</w><w>diretório</w><w>)</w><w>,</w><w>e</w><w>então</w><w>'New</w><w>Project</w><w>'</w><w>(</w><w>em</w><w>português</w><w>,</w><w>novo</w><w>projeto</w><w>)</w><pc>.</pc></s><s xml:id="s_aMU4gd" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_529Qyt', 's_LtCcaG']}"><w>Nomeie</w><w>o</w><w>diretótio</w><w>do</w><w>seu</w><w>projeto</w><w>,</w><w>marque</w><w>a</w><w>opção</w><w>'Use</w><w>renv</w><w>with</w><w>the</w><w>project</w><w>'</w><w>(</w><w>em</w><w>português</w><w>,</w><w>use</w><w>renv</w><w>com</w><w>o</w><w>projeto</w><w>)</w><w>,</w><w>e</w><w>clique</w><w>em</w><w>'Create</w><w>Project</w><w>'</w><w>(</w><w>em</w><w>português</w><w>,</w><w>criar</w><w>projeto</w><w>)</w><pc>.</pc></s></p><p><s xml:id="s_ozMwgR" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_2dEFuo']}"><w>Antes</w><w>de</w><w>continuar</w><w>,</w><w>instale</w><w>os</w><w>quatro</w><w>pacotes</w><w>necessários</w><w>para</w><w>concluir</w><w>o</w><w>tutorial</w><w>,</w><w>caso</w><w>ainda</w><w>não</w><w>os</w><w>tenha</w><pc>.</pc></s><s xml:id="s_3CXkUW" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_uM4pFW']}"><w>Três</w><w>deles</w><w>podem</w><w>ser</w><w>instalados</w><w>diretamente</w><w>pelo</w><w>RStudio</w><pc>.</pc></s><s xml:id="s_VhZIyk" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Xwotdo']}"><w>Na</w><w>linha</w><w>de</w><w>comandos</w><w>do</w><w>R</w><w>ou</w><w>num</w><w>script</w><w>R</w><w>separado</w><w>,</w><w>execute</w><w>os</w><w>seguintes</w><w>comandos</w><w>:</w></s></p><ab><code xml:id="code_aplicacao-web-interativa-r-shiny-leaflet_0" corresp="code_aplicacao-web-interativa-r-shiny-leaflet_0.txt" rend="block"/></ab><p><s xml:id="s_lwsbr9" corresp="{'shiny-leaflet-newspaper-map-tutorial': '[\'s_86fNZ2\']'}"><w>Dependendo</w><w>da</w><w>configuração</w><w>do</w><w>seu</w><w>sistema</w><w>,</w><w>o</w><w>quarto</w><w>pacote</w><w>,</w><code rend="inline"><w>sf</w></code><w>,</w><w>pode</w><w>exigir</w><w>etapas</w><w>adicionais</w><w>antes</w><w>de</w><w>ser</w><w>instalado</w><pc>.</pc></s><s xml:id="s_oo3yVt" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_a73ZOI', 's_tiqviH']}"><w>Detalhes</w><w>sobre</w><w>isso</w><w>podem</w><w>ser</w><w>encontrados</w><w>na</w><ref target="https://github.com/r-spatial/sf"><w>página</w><w>do</w><w>pacote</w><w>no</w><w>Github</w></ref><w>(</w><w>em</w><w>inglês</w><w>)</w><pc>.</pc></s><s xml:id="s_l1Fudo" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_IulSp6']}"><w>Verifique</w><w>as</w><w>instruções</w><w>no</w><w>cabeçalho</w><w>(</w><w>em</w><w>português</w><w>,</w><w>instalar</w><w>)</w><w>no</w><w>ficheiro</w><w>Readme</w><w>vinculado</w><w>ao</w><w>Github</w><pc>.</pc></s><hi rend="bold"><s xml:id="s_ajbcpy" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Mjjj9N']}"><w>Installing</w></s></hi><s xml:id="s_NxNKGM" corresp="{'shiny-leaflet-newspaper-map-tutorial': []}"><w>Usuários</w><w>de</w><w>Mac</w><w>em</w><w>particular</w><w>podem</w><w>precisar</w><w>de</w><w>instalar</w><w>uma</w><w>biblioteca</w><w>de</w><w>terceiros</w><w>,</w><code rend="inline"><w>gdal</w></code><w>,</w><w>antes</w><w>que</w><w>a</w><w>instalação</w><w>funcione</w><w>,</w><w>usando</w><w>o</w><ref target="https://brew.sh/pt/"><w>Homebrew</w></ref><pc>.</pc></s></p></div><div type="3" n="4.3"><head><s xml:id="s_OzHRFz" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_d9ftJj']}"><w>Criar</w><w>uma</w><w>aplicação</w><w>Shiny</w><w>vazia</w></s></head><p><s xml:id="s_VX89e6" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_0i4f3l']}"><w>Uma</w><w>aplicação</w><w>Shiny</w><w>consiste</w><w>num</w><w>ficheiro</w><w>de</w><w>script</w><w>com</w><w>um</w><w>nome</w><w>de</w><w>ficheiro</w><w>especial</w><w>reservado</w><w>,</w><code rend="inline"><w>app.R</w></code><w>,</w><w>que</w><w>diz</w><w>ao</w><w>RStudio</w><w>para</w><w>tratar</w><w>esse</w><w>script</w><w>como</w><w>uma</w><w>aplicação</w><w>e</w><w>abri-lo</w><w>num</w><w>navegador</w><w>Web</w><w>quando</w><w>for</w><w>executado</w><pc>.</pc></s><s xml:id="s_fqLNDf" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_9bzWPv']}"><w>Nesta</w><w>primeira</w><w>seção</w><w>,</w><w>será</w><w>criado</w><w>um</w><w>aplicativo</w><w>que</w><w>carregará</w><w>as</w><w>bibliotecas</w><w>e</w><w>conjuntos</w><w>de</w><w>dados</w><w>relevantes</w><w>e</w><w>exibirá</w><w>uma</w><w>mensagem</w><w>de</w><w>teste</w><w>'Olá</w><w>mundo</w><w>'</w><pc>.</pc></s><s xml:id="s_bdEeB5" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_nTpi7Y']}"><w>Para</w><w>isso</w><w>,</w><w>execute</w><w>os</w><w>seguintes</w><w>passos</w><w>:</w></s></p><p><s xml:id="s_xwtHDd" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_gsvAWd']}"><w>1</w><pc>.</pc></s><s xml:id="s_FUk6Qj" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_yJt56i']}"><w>Configure</w><w>uma</w><w>pasta</w><w>da</w><w>aplicação</w></s></p><p><s xml:id="s_Xht6Zs" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Y2Nt1p']}"><w>É</w><w>uma</w><w>boa</w><w>prática</w><w>colocar</w><w>todos</w><w>os</w><w>ficheiros</w><w>necessários</w><w>para</w><w>a</w><w>aplicação</w><w>numa</w><w>pasta</w><w>própria</w><w>,</w><w>dentro</w><w>do</w><w>projeto</w><w>RStudio</w><pc>.</pc></s><s xml:id="s_2CPFax" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_6r1ZmV']}"><w>Faça</w><w>isso</w><w>criando</w><w>uma</w><w>nova</w><w>pasta</w><w>chamada</w><w>'jornal-app</w><w>'</w><w>dentro</w><w>da</w><w>pasta</w><w>do</w><w>projeto</w><w>RStudio</w><w>que</w><w>acabou</w><w>de</w><w>criar</w><pc>.</pc></s><s xml:id="s_s0AzaE" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_fSjGQ7']}"><w>Coloque</w><w>os</w><w>ficheiros</w><w>descarregados</w><w>acima</w><w>(</w><code rend="inline"><w>BritishAndIrishNewspapersTitleList_20191118.csv</w></code><w>e</w><code rend="inline"><w>newspaper_coordinates.csv</w></code><w>)</w><w>nesta</w><w>nova</w><w>pasta</w><pc>.</pc></s></p><p><s xml:id="s_ye69ar" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_xvvxqM']}"><w>2</w><pc>.</pc></s><s xml:id="s_hxm6Gs" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_7Ol13O']}"><w>Crie</w><w>o</w><w>ficheiro</w><w>app.R</w></s></p><p><s xml:id="s_7TVXpK" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_YlS9uQ']}"><w>Com</w><w>o</w><w>RStudio</w><w>aberto</w><w>,</w><w>clique</w><w>em</w><w>file-</w><w>&gt;</w><w>new</w><w>file</w><w>-</w><w>&gt;</w><w>R</w><w>Script</w><pc>.</pc></s><s xml:id="s_OAw6kX" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_PxI541']}"><w>Use</w><w>o</w><w>menu</w><w>ou</w><w>command/ctrl</w><w>+</w><w>s</w><w>para</w><w>salvar</w><w>o</w><w>ficheiro</w><pc>.</pc></s><s xml:id="s_EOu7h0" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_8sZhwG']}"><w>Navegue</w><w>até</w><w>à</w><w>nova</w><w>pasta</w><w>que</w><w>acabou</w><w>de</w><w>criar</w><w>e</w><w>salve</w><w>o</w><w>ficheiro</w><w>lá</w><w>,</w><w>digitando</w><code rend="inline"><w>app.R</w></code><w>como</w><w>o</w><w>nome</w><w>do</w><w>ficheiro</w><pc>.</pc></s><s xml:id="s_Jp0SCh" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_fEYGhm']}"><w>Agora</w><w>deve</w><w>ter</w><w>os</w><w>seguintes</w><w>ficheiros</w><w>na</w><w>pasta</w><w>'jornal-app</w><w>'</w><w>que</w><w>acabou</w><w>de</w><w>criar</w><w>:</w></s></p><figure><desc><s xml:id="s_nzVfdy" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_XGXkBP']}"><w>Figura</w><w>1</w><pc>.</pc></s><s xml:id="s_q0rTZM" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_XvKUe4']}"><w>Captura</w><w>de</w><w>tela</w><w>da</w><w>pasta</w><w>da</w><w>aplicação</w><w>mostrando</w><w>os</w><w>ficheiros</w><w>necessários</w><pc>.</pc></s></desc><figDesc><s xml:id="s_YoU3At" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_EzvkzB', 's_Wrs1xF']}"><w>Uma</w><w>captura</w><w>de</w><w>tela</w><w>do</w><w>painel</w><w>de</w><w>ficheiros</w><w>R</w><w>,</w><w>mostrando</w><w>os</w><w>ficheiros</w><w>necessários</w><pc>.</pc></s><s xml:id="s_VHIVRG" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_qLlE85']}"><w>Há</w><w>três</w><w>ficheiros</w><w>no</w><w>total</w><w>,</w><w>App.R</w><w>,</w><w>o</w><w>csv</w><w>dos</w><w>jornais</w><w>britânicos</w><w>e</w><w>irlandeses</w><w>,</w><w>e</w><w>o</w><w>csv</w><w>das</w><w>coordenadas</w><w>do</w><w>jornal</w><pc>.</pc></s></figDesc><graphic url="pt-tr-aplicacao-web-interativa-r-shiny-leaflet-01.png"/></figure><p><s xml:id="s_wutviO" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_x091vP']}"><w>3</w><pc>.</pc></s><s xml:id="s_LCaEcr" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_eJPEnp']}"><w>Carregue</w><w>as</w><w>bibliotecas</w><w>relevantes</w></s></p><p style="alert alert-warning"><s xml:id="s_oc7ri2" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_GeXtK0']}"><w>É</w><w>importante</w><w>notar</w><w>que</w><w>,</w><w>ao</w><w>contrário</w><w>de</w><w>muitos</w><w>tutoriais</w><w>,</w><w>o</w><w>código</w><w>que</w><w>está</w><w>prestes</w><w>a</w><w>inserir</w><w>não</w><w>funcionará</w><w>se</w><w>for</w><w>executado</w><w>linha</w><w>por</w><w>linha</w><w>,</w><w>mas</w><w>somente</w><w>quando</w><w>o</w><w>script</w><w>`</w><w>app.R</w><w>`</w><w>for</w><w>executado</w><w>de</w><w>dentro</w><w>do</w><w>RStudio</w><pc>.</pc></s></p><p><s xml:id="s_i2c2XX" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_DNmrO8']}"><w>A</w><w>primeira</w><w>coisa</w><w>que</w><w>a</w><w>aplicação</w><w>precisará</w><w>de</w><w>fazer</w><w>é</w><w>preparar</w><w>e</w><w>carregar</w><w>os</w><w>dados</w><pc>.</pc></s><s xml:id="s_Yz97Mi" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_nN0cAU']}"><w>Isto</w><w>é</w><w>feito</w><w>dentro</w><w>do</w><w>script</w><code rend="inline"><w>app.R</w></code><w>,</w><w>mas</w><w>fora</w><w>da</w><w>interface</w><w>do</w><w>usuário</w><w>e</w><w>dos</w><w>elementos</w><w>do</w><w>servidor</w><w>que</w><w>será</w><w>criado</w><w>num</w><w>momento</w><pc>.</pc></s><s xml:id="s_J30fd1" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_yDtFD8']}"><w>Primeiro</w><w>,</w><w>carregue</w><w>todas</w><w>as</w><w>bibliotecas</w><w>que</w><w>precisa</w><w>de</w><w>usar</w><w>digitando</w><w>o</w><w>seguinte</w><w>:</w></s></p><ab><code xml:id="code_aplicacao-web-interativa-r-shiny-leaflet_1" corresp="code_aplicacao-web-interativa-r-shiny-leaflet_1.txt" rend="block"/></ab><p><s xml:id="s_EQMgQM" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Tsqk4n']}"><w>4</w><pc>.</pc></s><s xml:id="s_FZOnLZ" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_eRSOil']}"><w>Carregue</w><w>os</w><w>conjuntos</w><w>de</w><w>dados</w></s></p><p><s xml:id="s_1CRncy" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_S0rTcq']}"><w>Em</w><w>seguida</w><w>,</w><w>a</w><w>aplicação</w><w>deve</w><w>carregar</w><w>a</w><w>lista</w><w>de</w><w>títulos</w><w>e</w><w>os</w><w>ficheiros</w><w>de</w><w>lista</w><w>de</w><w>coordenadas</w><w>como</w><emph><w>dataframes</w></emph><w>chamados</w><code rend="inline"><w>title_list</w></code><w>e</w><code rend="inline"><w>coordinates_list</w></code><w>,</w><w>respectivamente</w><pc>.</pc></s><s xml:id="s_DcKCzp" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_hIGJdu']}"><w>Adicione</w><w>a</w><w>seguinte</w><w>linha</w><w>ao</w><w>seu</w><w>script</w><w>app.R</w><w>,</w><w>que</w><w>deve</w><w>ser</w><w>exibido</w><w>no</w><w>painel</w><w>superior</w><w>esquerdo</w><w>do</w><w>RStudio</w><pc>.</pc></s><s xml:id="s_tD79E4" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Mr9hTw']}"><w>Observe</w><w>que</w><w>,</w><w>como</w><w>o</w><w>diretório</w><w>de</w><w>trabalho</w><w>é</w><w>diferente</w><w>do</w><w>diretório</w><w>da</w><w>sua</w><w>aplicação</w><w>,</w><w>estes</w><w>comandos</w><w>só</w><w>funcionarão</w><w>quando</w><w>executar</w><w>a</w><w>própria</w><w>aplicação</w><pc>.</pc></s></p><ab><code xml:id="code_aplicacao-web-interativa-r-shiny-leaflet_2" corresp="code_aplicacao-web-interativa-r-shiny-leaflet_2.txt" rend="block"/></ab></div><div type="3" n="4.4"><head><s xml:id="s_q1yoOV" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_1ezcqS']}"><w>Adicionar</w><w>os</w><w>elementos</w><w>Shiny</w><w>necessários</w></s></head><p><s xml:id="s_YVT45V" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_A8UaUL']}"><w>Para</w><w>transformar</w><w>isto</w><w>numa</w><w>aplicação</w><w>Shiny</w><w>,</w><w>este</w><w>script</w><code rend="inline"><w>app.R</w></code><w>precisa</w><w>de</w><w>três</w><w>elementos</w><w>:</w></s></p><p><s xml:id="s_Oyrlle" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_S8HcP7']}"><w>1</w><pc>.</pc></s><s xml:id="s_ScCRfF" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_BHdx3m']}"><w>A</w><w>,</w><w>onde</w><w>a</w><w>aparência</w><w>visual</w><w>da</w><w>aplicação</w><w>será</w><w>armazenada</w><pc>.</pc></s><hi rend="bold"><s xml:id="s_Rr1u7A" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_9Z6RGM']}"><w>UI</w></s></hi></p><p><s xml:id="s_VMktix" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_YkSfLT']}"><w>2</w><pc>.</pc></s><s xml:id="s_OwDzz2" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_dOJL74']}"><w>O</w><w>com</w><w>o</w><w>código</w><w>usado</w><pc>.</pc></s><hi rend="bold"><s xml:id="s_vCZ3A8" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_RWw76p']}"><w>servidor</w></s></hi></p><p><s xml:id="s_wGTv7o" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_ld010I']}"><w>3</w><pc>.</pc></s><s xml:id="s_vcFrLG" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_EsVokx']}"><w>O</w><w>comando</w><w>para</w><w>executar</w><w>a</w><w>própria</w><w>aplicação</w><pc>.</pc></s></p><p><s xml:id="s_ksfim3" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_fSU6iL']}"><w>Em</w><w>seguida</w><w>,</w><w>criará</w><w>cada</w><w>um</w><w>deles</w><w>de</w><w>cada</w><w>vez</w><pc>.</pc></s></p><p><s xml:id="s_t3ncJX" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_p1YZUa']}"><w>1</w><pc>.</pc></s><s xml:id="s_tLyT88" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_55MbAn']}"><w>Crie</w><w>um</w><w>elemento</w><w>de</w><w>UI</w><w>vazio</w></s></p><p><s xml:id="s_7D8HPR" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Jd8kHy']}"><w>A</w><w>interface</w><w>do</w><w>usuário</w><w>(</w><w>UI</w><w>)</w><w>é</w><w>um</w><w>elemento</w><w>que</w><w>conterá</w><w>vários</w><w>comandos</w><w>especiais</w><w>de</w><w>Shiny</w><w>para</w><w>definir</w><w>a</w><w>aparência</w><w>da</w><w>aplicação</w><pc>.</pc></s><s xml:id="s_R342lg" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_nuGZ9H']}"><w>Examinaremos</w><w>as</w><w>opções</w><w>específicas</w><w>abaixo</w><w>,</w><w>mas</w><w>geralmente</w><w>você</w><w>define</w><w>um</w><w>tipo</w><w>de</w><w>página</w><w>e</w><w>os</w><w>vários</w><w>componentes</w><w>da</w><w>interface</w><w>do</w><w>usuário</w><w>são</w><w>aninhados</w><w>nesse</w><w>primeiro</w><w>elemento</w><w>:</w><w>primeiro</w><w>,</w><w>um</w><w>tipo</w><w>de</w><emph><w>layout</w></emph><w>,</w><w>dentro</w><w>deste</w><w>,</w><w>elementos</w><w>de</w><emph><w>layout</w></emph><w>específicos</w><w>;</w><w>e</w><w>,</w><w>finalmente</w><w>,</w><w>dentro</w><w>deles</w><w>,</w><w>os</w><w>vários</w><w>componentes</w><w>da</w><w>própria</w><w>aplicação</w><pc>.</pc></s></p><p><s xml:id="s_asfULh" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_eJKCMp']}"><w>O</w><w>tipo</w><w>que</w><w>usará</w><w>é</w><w>chamado</w><code rend="inline"><w>fluidPage</w><w>(</w><w>)</w></code><w>,</w><w>uma</w><w>página</w><w>—que</w><w>redimensiona</w><w>dinamicamente</w><w>dependendo</w><w>do</w><w>tamanho</w><w>da</w><w>janela</w><w>do</w><w>navegador—</w><w>contendo</w><w>um</w><emph><w>layout</w></emph><w>fluido</w><w>de</w><w>linhas</w><w>que</w><w>,</w><w>por</w><w>sua</w><w>vez</w><w>,</w><w>contêm</w><w>colunas</w><pc>.</pc></s></p><p><s xml:id="s_pVWm16" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Zfv01p']}"><w>O</w><w>primeiro</w><w>passo</w><w>é</w><w>criar</w><w>todos</w><w>os</w><w>elementos</w><w>básicos</w><w>necessários</w><w>para</w><w>uma</w><w>aplicação</w><w>,</w><w>antes</w><w>de</w><w>preenchê-los</w><w>com</w><w>os</w><w>componentes</w><w>necessários</w><pc>.</pc></s><s xml:id="s_v8BEiI" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_sKP1gE']}"><w>Para</w><w>começar</w><w>,</w><w>crie</w><w>um</w><w>elemento</w><w>de</w><w>UI</w><w>em</w><w>branco</w><w>definindo</w><w>a</w><w>variável</w><code rend="inline"><w>ui</w></code><w>para</w><w>o</w><w>elemento</w><code rend="inline"><w>fluidPage</w><w>(</w><w>)</w></code><pc>.</pc></s><s xml:id="s_BPNSuK" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_6p4SFs']}"><w>Para</w><w>que</w><w>saiba</w><w>que</w><w>sua</w><w>aplicação</w><w>está</w><w>em</w><w>execução</w><w>,</w><w>quando</w><w>testá-la</w><w>pela</w><w>primeira</w><w>vez</w><w>,</w><w>adicione</w><w>uma</w><w>mensagem</w><w>simples</w><w>'Olá</w><w>mundo</w><w>'</w><w>ao</w><w>elemento</w><w>de</w><w>UI</w><pc>.</pc></s><s xml:id="s_X7DN2g" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_YdUcLU']}"><w>Adicione</w><w>o</w><w>seguinte</w><w>código</w><w>em</w><w>seu</w><w>script</w><code rend="inline"><w>app.R</w></code><w>:</w></s></p><ab><code xml:id="code_aplicacao-web-interativa-r-shiny-leaflet_3" corresp="code_aplicacao-web-interativa-r-shiny-leaflet_3.txt" rend="block"/></ab><p><s xml:id="s_zv5C7c" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_pqvEEB']}"><w>2</w><pc>.</pc></s><s xml:id="s_qctjlU" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_m6ZAyB']}"><w>Crie</w><w>um</w><w>elemento</w><w>do</w><w>servidor</w></s></p><p><s xml:id="s_YLQ56q" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Tdq1iR']}"><w>Em</w><w>seguida</w><w>é</w><w>a</w><w>parte</w><w>do</w><w>servidor</w><pc>.</pc></s><s xml:id="s_AjaFxj" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_vITeLr']}"><w>O</w><w>servidor</w><w>é</w><w>criado</w><w>como</w><w>uma</w><w>função</w><w>R</w><w>com</w><w>dois</w><w>argumentos</w><w>,</w><code rend="inline"><w>input</w></code><w>e</w><code rend="inline"><w>output</w></code><w>(</w><w>por</w><w>enquanto</w><w>,</w><w>não</w><w>precisa</w><w>se</w><w>preocupar</w><w>com</w><w>o</w><w>que</w><w>os</w><w>argumentos</w><w>de</w><emph><w>input</w></emph><w>e</w><emph><w>output</w></emph><w>fazem</w><w>,</w><w>desde</w><w>que</w><w>estejam</w><w>lá</w><w>)</w><pc>.</pc></s><s xml:id="s_Qu8PNM" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_OSz01T']}"><ref type="footnotemark" target="#pt_note_3"/><w>Em</w><w>R</w><w>,</w><w>uma</w><w>função</w><w>é</w><w>feita</w><w>usando</w><w>o</w><w>comando</w><code rend="inline"><w>function</w><w>(</w><w>)</w><w>{</w><w>}</w></code><w>,</w><w>especificando</w><w>os</w><w>argumentos</w><w>entre</w><w>parênteses</w><w>e</w><w>,</w><w>em</w><w>seguida</w><w>,</w><w>o</w><w>código</w><w>da</w><w>função</w><w>entre</w><w>chaves</w><pc>.</pc></s><s xml:id="s_MoceIy" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_sMa6Vu']}"><w>Todo</w><w>o</w><w>código</w><w>para</w><w>a</w><w>lógica</w><w>da</w><w>aplicação</w><w>ficará</w><w>entre</w><w>essas</w><w>duas</w><w>chaves</w><pc>.</pc></s></p><p><s xml:id="s_L0DWO8" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_4LCT00']}"><w>Especifique</w><w>a</w><w>parte</w><w>do</w><w>servidor</w><w>usando</w><w>o</w><w>seguinte</w><w>código</w><w>:</w></s></p><ab><code xml:id="code_aplicacao-web-interativa-r-shiny-leaflet_4" corresp="code_aplicacao-web-interativa-r-shiny-leaflet_4.txt" rend="block"/></ab><p><s xml:id="s_vBmwbH" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_ST9mvG']}"><w>3</w><pc>.</pc></s><s xml:id="s_P66Daw" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_zQ96Wk']}"><w>Adicione</w><w>o</w><w>comando</w><w>para</w><w>executar</w><w>a</w><w>aplicação</w></s></p><p><s xml:id="s_qbGaRP" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_I2R4pk']}"><w>Por</w><w>fim</w><w>,</w><w>adicione</w><w>o</w><w>comando</w><w>para</w><w>executar</w><w>a</w><w>própria</w><w>aplicação</w><pc>.</pc></s><s xml:id="s_aRktcj" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_D8TZr4']}"><w>Este</w><w>é</w><w>outro</w><w>comando</w><w>especial</w><w>de</w><w>Shiny</w><w>,</w><code rend="inline"><w>shinyApp</w><w>(</w><w>)</w></code><w>,</w><w>com</w><w>a</w><w>UI</w><w>e</w><w>os</w><w>itens</w><w>do</w><w>servidor</w><w>que</w><w>acabou</w><w>de</w><w>criar</w><w>como</w><w>argumentos</w><pc>.</pc></s></p><p><code rend="inline"><w>shinyApp</w><w>(</w><w>ui</w><w>,</w><w>server</w><w>)</w></code></p><p><s xml:id="s_JUBhxl" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_XaZBtg']}"><w>O</w><w>ficheiro</w><code rend="inline"><w>app.R</w></code><w>completo</w><w>deve</w><w>conter</w><w>agora</w><w>as</w><w>seguintes</w><w>linhas</w><w>:</w></s></p><ab><code xml:id="code_aplicacao-web-interativa-r-shiny-leaflet_5" corresp="code_aplicacao-web-interativa-r-shiny-leaflet_5.txt" rend="block"/></ab></div><div type="3" n="4.5"><head><s xml:id="s_z75wuo" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_uUt6eG']}"><w>Teste</w><w>a</w><w>sua</w><w>nova</w><w>aplicação</w></s></head><p><s xml:id="s_Q84BLU" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_zUX20H']}"><w>Depois</w><w>de</w><w>criar</w><w>estes</w><w>itens</w><w>,</w><w>salve</w><w>novamente</w><w>o</w><w>ficheiro</w><code rend="inline"><w>app.R</w></code><pc>.</pc></s><s xml:id="s_VfuK47" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_CPjEIx']}"><w>Agora</w><w>,</w><w>o</w><w>RStudio</w><w>reconhecerá</w><w>como</w><w>um</w><w>aplicativo</w><w>Shiny</w><w>e</w><w>os</w><w>ícones</w><w>na</w><w>parte</w><w>superior</w><w>do</w><w>painel</w><w>mudarão</w><w>,</w><w>aparecendo</w><w>a</w><w>opção</w><w>'Run</w><w>App</w><w>'</w><w>(</w><w>Figura</w><w>2</w><w>)</w><pc>.</pc></s><s xml:id="s_UIAyfA" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Vb2UCh']}"><w>Se</w><w>clicar</w><w>,</w><w>executará</w><w>a</w><w>aplicação</w><w>numa</w><w>nova</w><w>janela</w><w>usando</w><w>o</w><w>navegador</w><w>embutido</w><w>do</w><w>RStudio</w><pc>.</pc></s></p><figure><desc><s xml:id="s_Co3WxL" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_cZG0Py']}"><w>Figura</w><w>2</w><w>:</w><w>Captura</w><w>de</w><w>tela</w><w>do</w><w>painel</w><w>de</w><w>controlo</w><w>com</w><w>o</w><w>botão</w><w>Run</w><w>App</w><w>destacado</w><pc>.</pc></s></desc><figDesc><s xml:id="s_x0wz5D" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_eWmalE']}"><w>Captura</w><w>de</w><w>tela</w><w>do</w><w>painel</w><w>de</w><w>controlo</w><w>com</w><w>o</w><w>botão</w><w>Run</w><w>App</w><w>destacado</w><w>com</w><w>um</w><w>retângulo</w><w>vermelho</w><pc>.</pc></s></figDesc><graphic url="pt-tr-aplicacao-web-interativa-r-shiny-leaflet-02.png"/></figure><p><s xml:id="s_89OIhH" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_GSoort']}"><w>Deve</w><w>ver</w><w>uma</w><w>página</w><w>da</w><w>Web</w><w>em</w><w>branco</w><w>com</w><w>'Olá</w><w>mundo</w><w>'</w><w>exibido</w><w>no</w><w>canto</w><w>superior</w><w>esquerdo</w><pc>.</pc></s><s xml:id="s_rUQLmz" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_j5zFaY']}"><w>Também</w><w>notará</w><w>que</w><w>,</w><w>enquanto</w><w>a</w><w>aplicação</w><w>está</w><w>em</w><w>execução</w><w>,</w><w>não</w><w>pode</w><w>executar</w><w>nenhum</w><w>código</w><w>no</w><w>RStudio</w><w>:</w><w>a</w><w>consola</w><w>de</w><w>comandos</w><w>do</w><w>R</w><w>surge</w><w>como</w><w>'ocupado</w><w>'</w><pc>.</pc></s><s xml:id="s_hgu8QX" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Uwvglx']}"><w>Para</w><w>parar</w><w>a</w><w>aplicação</w><w>,</w><w>basta</w><w>fechar</w><w>a</w><w>página</w><w>do</w><w>navegador</w><w>apenas</w><w>aberta</w><pc>.</pc></s><s xml:id="s_DdZvBq" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_7MGaMx']}"><w>Também</w><w>pode</w><w>usar</w><w>a</w><w>opção</w><w>'Open</w><w>in</w><w>Browser</w><w>'</w><w>para</w><w>testar</w><w>a</w><w>aplicação</w><w>no</w><w>seu</w><w>navegador</w><w>padrão</w><pc>.</pc></s></p></div></div><div type="2" n="5"><head><s xml:id="s_2h6DHK" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_3zbigx']}"><w>Codificar</w><w>a</w><w>aplicação</w></s></head><div type="3" n="5.1"><head><s xml:id="s_LIOzJu" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_dZVuFQ']}"><w>Desenhar</w><w>a</w><w>Interface</w><w>do</w><w>Usuário</w></s></head><p><s xml:id="s_kfbHdE" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_hglVEw']}"><w>A</w><w>UI</w><w>Shiny</w><w>utiliza</w><w>o</w><w>formato</w><ref target="https://perma.cc/BK3T-V6HP"><w>Bootstrap</w></ref><w>(</w><w>em</w><w>inglês</w><w>)</w><pc>.</pc></s><s xml:id="s_FupQLL" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_M3qfku']}"><w>A</w><w>interface</w><w>do</w><w>usuário</w><w>é</w><w>construída</w><w>em</w><w>torno</w><w>de</w><w>um</w><w>sistema</w><w>de</w><w>grade</w><w>de</w><w>linhas</w><w>e</w><w>colunas</w><w>,</w><w>permitindo</w><emph><w>layouts</w></emph><w>personalizáveis</w><pc>.</pc></s><s xml:id="s_9ueQ1a" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_eUN9VA']}"><w>Consulte</w><w>a</w><ref target="https://perma.cc/9U3B-AHF6"><w>documentação</w><w>oficial</w></ref><w>(</w><w>em</w><w>inglês</w><w>)</w><w>para</w><w>obter</w><w>mais</w><w>informações</w><w>sobre</w><w>as</w><w>várias</w><w>opções</w><w>e</w><w>como</w><w>criar</w><w>esses</w><emph><w>layouts</w></emph><pc>.</pc></s><s xml:id="s_NAHNBm" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_ZefaWM']}"><w>Para</w><w>esta</w><w>aplicação</w><w>,</w><w>usaremos</w><w>um</w><emph><w>layout</w></emph><w>conhecido</w><w>como</w><code rend="inline"><w>sidebarLayout</w></code><w>,</w><w>que</w><w>consiste</w><w>num</w><w>título</w><w>,</w><w>uma</w><w>coluna</w><w>de</w><w>barra</w><w>lateral</w><w>à</w><w>esquerda</w><w>da</w><w>página</w><w>para</w><w>informação</w><w>de</w><emph><w>input</w></emph><w>do</w><w>usuário</w><w>e</w><w>um</w><w>painel</w><w>principal</w><w>para</w><w>exibir</w><w>os</w><w>resultados</w><pc>.</pc></s><s xml:id="s_vLfDA7" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_mu0Hh9']}"><w>O</w><w>diagrama</w><w>de</w><emph><w>wireframe</w></emph><w>a</w><w>seguir</w><w>deve</w><w>ajudá-lo</w><w>a</w><w>visualizar</w><w>o</w><emph><w>layout</w></emph><w>:</w></s></p><figure><desc><s xml:id="s_ROdVDB" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_9ifZcA']}"><w>Figura</w><w>3</w><pc>.</pc></s><s xml:id="s_AqxLjc" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_1UWDsQ']}"><w>Diagrama</w><w>de</w><w>*</w><w>wireframe</w><w>*</w><w>exibindo</w><w>a</w><w>estrutura</w><w>do</w><w>_layout_</w><w>de</w><w>barra</w><w>lateral</w><pc>.</pc></s></desc><figDesc><s xml:id="s_CyeSAQ" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_qmkI8W', 's_WRGkXc']}"><w>Imagem</w><w>que</w><w>descreve</w><w>o</w><w>layout</w><w>da</w><w>interface</w><w>a</w><w>ser</w><w>desenhada</w></s></figDesc><graphic url="pt-tr-aplicacao-web-interativa-r-shiny-leaflet-03.png"/></figure><p><s xml:id="s_2jFR8Y" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_wPhiq4']}"><w>O</w><w>próximo</w><w>passo</w><w>é</w><w>preencher</w><w>o</w><w>elemento</w><code rend="inline"><w>ui</w></code><w>com</w><w>os</w><w>componentes</w><w>necessários</w><w>para</w><w>apresentar</w><w>este</w><emph><w>layout</w></emph><w>de</w><w>barra</w><w>lateral</w><pc>.</pc></s><s xml:id="s_ujxojs" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_ADMVei']}"><w>Primeiro</w><w>,</w><w>use</w><w>o</w><w>elemento</w><code rend="inline"><w>titlePanel</w></code><w>para</w><w>dar</w><w>um</w><w>título</w><w>à</w><w>sua</w><w>aplicação</w><w>e</w><w>adicione</w><w>o</w><w>elemento</w><w>da</w><w>barra</w><w>lateral</w><pc>.</pc></s><s xml:id="s_V7PD0Y" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Vt1FCX']}"><w>Dentro</w><w>do</w><w>objeto</w><code rend="inline"><w>fluidPage</w><w>(</w><w>)</w></code><w>,</w><w>exclua</w><w>a</w><w>mensagem</w><w>'Olá</w><w>mundo</w><w>'</w><w>e</w><w>substitua</w><w>pelo</w><w>seguinte</w><w>:</w></s></p><ab><code xml:id="code_aplicacao-web-interativa-r-shiny-leaflet_6" corresp="code_aplicacao-web-interativa-r-shiny-leaflet_6.txt" rend="block"/></ab><p><s xml:id="s_JBpvzg" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_SvSuO1']}"><w>Depois</w><w>disso</w><w>,</w><w>preencha</w><w>o</w><emph><w>layout</w></emph><w>com</w><w>partes</w><w>específicas</w><w>da</w><w>página</w><w>Web</w><w>,</w><w>componentes</w><w>chamados</w><code rend="inline"><w>sidebarPanel</w><w>(</w><w>)</w></code><w>e</w><code rend="inline"><w>mainPanel</w><w>(</w><w>)</w></code><pc>.</pc></s><s xml:id="s_iboJoz" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_D1EHm9']}"><w>Faça-o</w><w>colocando-os</w><w>dentro</w><w>de</w><code rend="inline"><w>sidebarLayout</w><w>(</w><w>)</w></code><pc>.</pc></s></p><p style="alert alert-info"><s xml:id="s_D2DIRy" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Dw68FS']}"><w>Como</w><w>o</w><w>código</w><w>da</w><w>UI</w><w>Shiny</w><w>geralmente</w><w>acaba</w><w>com</w><w>muitos</w><w>parênteses</w><w>aninhados</w><w>,</w><w>dividi-los</w><w>em</w><w>duas</w><w>linhas</w><w>,</w><w>como</w><w>no</w><w>trecho</w><w>de</w><w>código</w><w>abaixo</w><w>,</w><w>pode</w><w>facilitar</w><w>a</w><w>leitura</w><w>,</w><w>mas</w><w>não</w><w>é</w><w>necessário</w><w>para</w><w>que</w><w>o</w><w>código</w><w>funcione</w><pc>.</pc></s></p><p><s xml:id="s_VBoo9R" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_AaUuzZ']}"><w>Agora</w><w>,</w><w>o</w><w>elemento</w><w>completo</w><w>da</w><w>UI</w><w>deve</w><w>ter</w><w>esta</w><w>aparência</w><w>:</w></s></p><ab><code xml:id="code_aplicacao-web-interativa-r-shiny-leaflet_7" corresp="code_aplicacao-web-interativa-r-shiny-leaflet_7.txt" rend="block"/></ab><p><s xml:id="s_q5QTyd" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_vq2QxL']}"><w>Notará</w><w>que</w><w>estes</w><w>comandos</w><w>aninhados</w><w>correspondem</w><w>ao</w><emph><w>layout</w></emph><w>do</w><w>diagrama</w><w>de</w><emph><w>wireframe</w></emph><w>na</w><w>Figura</w><w>3</w><w>acima</w><pc>.</pc></s></p></div><div type="3" n="5.2"><head><s xml:id="s_uHKI5U" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_uapeEE']}"><w>Adicionar</w><w>um</w><w>'Widget</w><w>'</w><w>:</w><w>o</w><w>controlo</w><w>sliderInput</w></s></head><p><s xml:id="s_vXmICC" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_EYArND']}"><w>Em</w><w>Shiny</w><w>,</w><w>os</w><w>usuários</w><w>atualizam</w><w>os</w><w>valores</w><w>usando</w><w>vários</w><w>controlos</w><w>interativos</w><w>e</w><w>personalizáveis</w><w>conhecidos</w><w>como</w><w>'widgets</w><w>'</w><pc>.</pc></s><s xml:id="s_aVSoXj" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_lskyRN']}"><w>A</w><w>lista</w><w>completa</w><w>pode</w><w>ser</w><w>encontrada</w><w>na</w><ref target="https://perma.cc/GW78-FQEJ"><w>Galeria</w><w>de</w><w>widgets</w><w>Shiny</w></ref><w>(</w><w>em</w><w>inglês</w><w>)</w><pc>.</pc></s><s xml:id="s_f8CwEc" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_DRWwBC']}"><w>O</w><w>widget</w><w>que</w><w>vai</w><w>usar</w><w>chama-se</w><code rend="inline"><w>sliderInput</w><w>(</w><w>)</w></code><pc>.</pc></s><s xml:id="s_uEd9RF" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_eHilTT']}"><w>Este</w><w>exibirá</w><w>uma</w><w>barra</w><w>deslizante</w><w>interativa</w><w>com</w><w>um</w><w>grande</w><w>número</w><w>de</w><w>opções</w><w>,</w><w>como</w><w>o</w><w>(</w><w>s</w><w>)</w><w>valor</w><w>(</w><w>es</w><w>)</w><w>mínimo</w><w>(</w><w>s</w><w>)</w><w>,</w><w>máximo</w><w>(</w><w>s</w><w>)</w><w>e</w><w>inicial</w><w>(</w><w>is</w><w>)</w><pc>.</pc></s><s xml:id="s_ddBF0V" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_zL95iD']}"><w>Também</w><w>pode</w><w>definir</w><w>os</w><w>incrementos</w><w>e</w><w>o</w><w>formato</w><w>dos</w><w>números</w><w>(</w><w>digite</w><code rend="inline"><pc>?</pc><w>sliderInput</w></code><w>na</w><w>linha</w><w>de</w><w>comandos</w><w>para</w><w>obter</w><w>uma</w><w>lista</w><w>completa</w><w>de</w><w>opções</w><w>e</w><w>explicações</w><w>)</w><pc>.</pc></s><s xml:id="s_xqvIQC" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_s3beQx']}"><w>Aqui</w><w>fará</w><w>um</w><w>com</w><w>um</w><w>ano</w><w>mínimo</w><w>de</w><w>1620</w><w>(</w><w>o</w><w>ponto</w><w>de</w><w>dados</w><w>mais</w><w>antigo</w><w>na</w><w>lista</w><w>de</w><w>títulos</w><w>)</w><w>e</w><w>um</w><w>máximo</w><w>de</w><w>2019</w><w>(</w><w>o</w><w>mais</w><w>recente</w><w>)</w><pc>.</pc></s></p><p><s xml:id="s_PXqbWZ" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_kRANzo']}"><w>O</w><w>valor</w><w>inicial</w><w>(</w><w>padrão</w><w>)</w><w>pode</w><w>ser</w><w>um</w><w>único</w><w>número</w><w>ou</w><w>um</w><w>vetor</w><w>de</w><w>dois</w><w>números</w><pc>.</pc></s><s xml:id="s_v8qsdR" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_nisCLC']}"><w>Se</w><w>o</w><w>último</w><w>for</w><w>usado</w><w>,</w><w>o</w><w>controlo</w><w>deslizante</w><w>terá</w><w>duas</w><w>extremidades</w><w>,</w><w>com</w><w>um</w><w>primeiro</w><w>e</w><w>um</w><w>segundo</w><w>valor</w><pc>.</pc></s><s xml:id="s_y3rjer" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_fwCS8d']}"><w>Este</w><w>é</w><w>o</w><w>que</w><w>queremos</w><w>usar</w><w>,</w><w>para</w><w>que</w><w>o</w><w>usuário</w><w>possa</w><w>especificar</w><w>um</w><w>intervalo</w><w>de</w><w>anos</w><pc>.</pc></s></p><p><s xml:id="s_DOArgj" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_X34hJ4']}"><w>O</w><w>código</w><w>a</w><w>seguir</w><w>criará</w><w>um</w><w>controlo</w><w>deslizante</w><w>com</w><w>duas</w><w>extremidades</w><w>arrastáveis</w><w>,</w><w>definidas</w><w>por</w><w>padrão</w><w>para</w><w>1700</w><w>e</w><w>1750</w><w>:</w></s></p><ab><code xml:id="code_aplicacao-web-interativa-r-shiny-leaflet_8" corresp="code_aplicacao-web-interativa-r-shiny-leaflet_8.txt" rend="block"/></ab><p><s xml:id="s_MGtH65" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_OWVjfB']}"><w>Insira</w><w>este</w><w>código</w><w>entre</w><w>os</w><w>parênteses</w><w>do</w><w>comando</w><code rend="inline"><w>sidebarPanel</w><w>=</w><w>sidebarPanel</w><w>(</w><w>)</w></code><w>no</w><w>seu</w><w>script</w><pc>.</pc></s><s xml:id="s_N47DqX" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_XQctiB']}"><w>Se</w><w>se</w><w>perder</w><w>ou</w><w>precisar</w><w>de</w><w>identificar</w><w>e</w><w>corrigir</w><w>erros</w><w>,</w><w>dê</w><w>uma</w><w>olhada</w><w>no</w><ref target="#c%C3%B3digo-final"><w>código</w><w>final</w></ref><w>fornecido</w><w>no</w><w>fim</w><w>desta</w><w>lição</w><pc>.</pc></s></p><p><s xml:id="s_fcbxoi" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_ufNGTu']}"><w>Agora</w><w>,</w><w>execute</w><w>o</w><w>aplicativo</w><w>para</w><w>ver</w><w>a</w><w>aparência</w><w>do</w><w>controlo</w><w>deslizante</w><pc>.</pc></s><s xml:id="s_x7MXtK" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_mZY6TZ']}"><w>Verá</w><w>um</w><w>painel</w><w>cinza</w><w>à</w><w>esquerda</w><w>(</w><w>o</w><w>painel</w><w>da</w><w>barra</w><w>lateral</w><w>)</w><w>,</w><w>contendo</w><w>o</w><w>'widget</w><w>'</w><w>deslizante</w><pc>.</pc></s><s xml:id="s_eoE24C" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_dnWeoo']}"><w>Se</w><w>passar</w><w>o</w><w>rato</w><w>sobre</w><w>o</w><w>controlo</w><w>deslizante</w><w>,</w><w>notará</w><w>que</w><w>pode</w><w>arrastar</w><w>cada</w><w>extremidade</w><w>(</w><w>para</w><w>selecionar</w><w>um</w><w>tamanho</w><w>de</w><w>intervalo</w><w>)</w><w>e</w><w>também</w><w>pode</w><w>arrastar</w><w>o</w><w>meio</w><w>(</w><w>o</w><w>que</w><w>moverá</w><w>o</w><w>controlo</w><w>deslizante</w><w>inteiro</w><w>sobre</w><w>uma</w><w>janela</w><w>do</w><w>tamanho</w><w>de</w><w>intervalo</w><w>selecionado</w><w>)</w><pc>.</pc></s></p><figure><desc><s xml:id="s_DY6FWP" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_x8dVmt']}"><w>Figura</w><w>4</w><pc>.</pc></s><s xml:id="s_gtD3Oe" corresp="{'shiny-leaflet-newspaper-map-tutorial': '[\'s_Fzot5V\']'}"><w>Gif</w><w>animado</w><w>demonstrando</w><w>a</w><w>funcionalidade</w><w>do</w><w>'widget</w><w>'</w><w>de</w><w>_input_</w><w>do</w><w>controlo</w><w>deslizante</w><pc>.</pc></s></desc><figDesc><s xml:id="s_qMzVz2" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_2R8uhd']}"><w>Gif</w><w>animado</w><w>demonstrando</w><w>a</w><w>funcionalidade</w><w>do</w><w>widget</w><w>de</w><w>input</w><w>do</w><w>controlo</w><w>deslizante</w><pc>.</pc></s><s xml:id="s_k2jLAj" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_zDfz3h']}"><w>Um</w><w>cursor</w><w>clica</w><w>em</w><w>cada</w><w>extremidade</w><w>do</w><w>controlo</w><w>deslizante</w><w>para</w><w>redimensioná-lo</w><w>e</w><w>depois</w><w>o</w><w>arrasta</w><pc>.</pc></s></figDesc><graphic url="pt-tr-aplicacao-web-interativa-r-shiny-leaflet-04.gif"/></figure></div><div type="3" n="5.3"><head><s xml:id="s_n4ImEY" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_ZdmDqu']}"><w>Colocar</w><w>o</w><w>leafletOutput</w><w>no</w><w>elemento</w><w>mainPanel</w></s></head><p><s xml:id="s_H2YX8Q" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Et38Dz']}"><w>Em</w><w>Shiny</w><w>,</w><w>precisa</w><w>de</w><w>dar</w><w>informação</w><w>à</w><w>interface</w><w>do</w><w>usuário</w><w>que</w><w>deve</w><w>exibir</w><w>um</w><w>resultado</w><w>(</w><w>algum</w><w>tipo</w><w>de</w><w>elemento</w><w>R</w><w>,</w><w>como</w><w>uma</w><w>tabela</w><w>de</w><w>dados</w><w>ou</w><w>um</w><w>gráfico</w><w>,</w><w>ou</w><w>algo</w><w>tão</w><w>simples</w><w>quanto</w><w>uma</w><w>linha</w><w>de</w><w>texto</w><w>)</w><w>criada</w><w>no</w><w>código</w><w>do</w><w>servidor</w><pc>.</pc></s><s xml:id="s_5gSto9" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_0Cfzk3']}"><w>Isso</w><w>é</w><w>feito</w><w>criando</w><w>um</w><w>elemento</w><w>na</w><w>interface</w><w>do</w><w>usuário</w><w>da</w><w>família</w><w>de</w><w>comandos</w><code rend="inline"><w>*</w><w>Output</w></code><pc>.</pc></s><s xml:id="s_P5yWKQ" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_sEZNOM']}"><w>Cada</w><w>elemento</w><w>R</w><w>que</w><w>pode</w><w>exibir</w><w>em</w><w>Shiny</w><w>tem</w><w>seu</w><w>próprio</w><w>comando</w><code rend="inline"><w>*</w><w>Output</w></code><w>:</w><w>aqui</w><w>,</w><w>usará</w><code rend="inline"><w>leafletOutput</w><w>(</w><w>)</w></code><w>,</w><w>que</w><w>diz</w><w>à</w><w>interface</w><w>do</w><w>usuário</w><w>para</w><w>criar</w><w>um</w><w>mapa</w><w>com</w><w>leaflet</w><pc>.</pc></s><s xml:id="s_ZprQuo" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_tjOUtY']}"><code rend="inline"><w>leafletOutput</w></code><w>tem</w><w>um</w><w>argumento</w><w>obrigatório</w><w>:</w><w>seu</w><w>ID</w><w>do</w><w>resultado</w><pc>.</pc></s><s xml:id="s_XCPNKG" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_npKkIY']}"><w>Esse</w><w>rótulo</w><w>será</w><w>usado</w><w>para</w><w>corresponder</w><w>o</w><w>elemento</w><w>da</w><w>interface</w><w>do</w><w>usuário</w><w>ao</w><w>objeto</w><w>do</w><w>mapa</w><w>real</w><w>que</w><w>,</w><w>posteriormente</w><w>,</w><w>criará</w><w>no</w><w>código</w><w>do</w><w>servidor</w><pc>.</pc></s><s xml:id="s_mxXMBU" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_FTZe2k']}"><w>Defina</w><w>este</w><w>rótulo</w><w>como</w><w>'map</w><w>'</w><pc>.</pc></s><s xml:id="s_coVaay" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_9ct22C']}"><w>Insira</w><w>o</w><w>seguinte</w><w>código</w><w>entre</w><w>os</w><w>parênteses</w><w>de</w><code rend="inline"><w>mainPanel</w><w>(</w><w>)</w></code><w>:</w></s></p><ab><code xml:id="code_aplicacao-web-interativa-r-shiny-leaflet_9" corresp="code_aplicacao-web-interativa-r-shiny-leaflet_9.txt" rend="block"/></ab></div></div><div type="2" n="6"><head><s xml:id="s_57Dpua" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_13hqhj']}"><w>Criar</w><w>a</w><w>lógica</w><w>do</w><w>servidor</w></s></head><p><s xml:id="s_HkFdyp" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_4m2mY3']}"><w>Em</w><w>seguida</w><w>,</w><w>precisa</w><w>de</w><w>escrever</w><w>a</w><w>lógica</w><w>para</w><w>criar</w><w>um</w><w>objeto</w><w>que</w><w>será</w><w>exibido</w><w>na</w><w>interface</w><w>do</w><w>usuário</w><pc>.</pc></s><s xml:id="s_TLtxSg" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_vHb2cH']}"><w>Isto</w><w>tem</w><w>duas</w><w>partes</w><pc>.</pc></s><s xml:id="s_69Xp48" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_l93UNs']}"><w>Primeiro</w><w>,</w><w>criará</w><w>um</w><emph><w>elemento</w><w>reativo</w></emph><w>que</w><w>,</w><w>como</w><w>explicado</w><w>acima</w><w>,</w><w>é</w><w>um</w><w>objeto</w><w>especial</w><w>que</w><w>captará</w><w>as</w><w>alterações</w><w>no</w><emph><w>input</w></emph><w>do</w><w>usuário</w><w>e</w><w>se</w><w>refaz</w><w>conforme</w><w>necessário</w><pc>.</pc></s><s xml:id="s_YvRxWz" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_6hobvc']}"><w>Segundo</w><w>,</w><w>criará</w><w>um</w><emph><w>resultado</w></emph><w>que</w><w>conterá</w><w>o</w><w>próprio</w><w>mapa</w><w>interativo</w><pc>.</pc></s></p><div type="3" n="6.1"><head><s xml:id="s_2nhCGK" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_fG3KOP']}"><w>Criar</w><w>o</w><w>reativo</w><w>para</w><w>o</w><w>mapa</w><w>leaflet</w></s></head><p><s xml:id="s_ZiRnsY" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_1jYqZK']}"><w>Primeiro</w><w>,</w><w>crie</w><w>o</w><w>elemento</w><w>reativo</w><pc>.</pc></s><s xml:id="s_RWrBAC" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_qrI4xl']}"><w>Nesse</w><w>caso</w><w>,</w><w>será</w><w>um</w><w>tipo</w><w>especial</w><w>de</w><w>conjunto</w><w>de</w><w>dados</w><w>geográficos</w><w>chamado</w><emph><w>objeto</w><w>de</w><w>recursos</w><w>simples</w></emph><pc>.</pc></s><s xml:id="s_u4sp9h" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_EsyWlI']}"><w>Este</w><w>formato</w><w>foi</w><w>abordado</w><w>numa</w><w>lição</w><w>anterior</w><w>do</w><emph><w>The</w><w>Programming</w><w>Historian</w></emph><w>,</w><ref target="/en/lessons/geospatial-data-analysis"><w>'Using</w><w>Geospatial</w><w>Data</w><w>to</w><w>Inform</w><w>Historical</w><w>Research</w><w>in</w><w>R</w><w>'</w></ref><w>(</w><w>em</w><w>inglês</w><w>)</w><pc>.</pc></s><s xml:id="s_JQ3hsC" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_AlcPyo']}"><w>Sempre</w><w>que</w><w>o</w><w>usuário</w><w>alterar</w><w>as</w><w>variáveis</w><w>no</w><w>controlo</w><w>deslizante</w><w>de</w><w>data</w><w>de</w><w>alguma</w><w>forma</w><w>,</w><w>seu</w><w>aplicativo</w><w>será</w><w>executado</w><w>por</w><w>meio</w><w>de</w><w>um</w><w>conjunto</w><w>de</w><w>comandos</w><w>:</w></s></p><list type="unordered"><item><p><s xml:id="s_z1m5BT" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_7BUpz8']}"><w>Filtrar</w><w>a</w><w>lista</w><w>de</w><w>títulos</w><w>para</w><w>o</w><w>conjunto</w><w>de</w><w>datas</w><w>selecionadas</w><w>pelo</w><w>usuário</w></s></p></item><item><p><s xml:id="s_ubj2jP" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_01zy1Z']}"><w>Contar</w><w>o</w><w>número</w><w>de</w><w>vezes</w><w>que</w><w>cada</w><w>lugar</w><w>ocorre</w><w>nesta</w><w>lista</w><w>filtrada</w></s></p></item><item><p><s xml:id="s_BeMSop" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_sYulE3']}"><w>Associar</w><w>os</w><w>lugares</w><w>a</w><w>um</w><w>conjunto</w><w>de</w><w>coordenadas</w><w>usando</w><w>uma</w><w>junção</w></s></p></item><item><p><s xml:id="s_aMFo0c" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_VYBsND']}"><w>Converter</w><w>o</w><w>resultado</w><w>num</w><w>objeto</w><w>de</w><w>recursos</w><w>simples</w><w>,</w><w>uma</w><w>estrutura</w><w>de</w><w>dados</w><w>que</w><w>armazena</w><w>informações</w><w>geográficas</w></s></p></item></list><p><s xml:id="s_B9FrRy" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_ZVDDyt']}"><w>Para</w><w>criar</w><w>um</w><w>objeto</w><w>reativo</w><w>chamado</w><code rend="inline"><w>map_df</w></code><w>,</w><w>adicione</w><w>o</w><w>seguinte</w><w>código</w><w>dentro</w><w>das</w><w>chaves</w><w>do</w><w>componente</w><w>do</w><w>servidor</w><w>:</w></s></p><ab><code xml:id="code_aplicacao-web-interativa-r-shiny-leaflet_10" corresp="code_aplicacao-web-interativa-r-shiny-leaflet_10.txt" rend="block"/></ab><p><s xml:id="s_Gz9Dxh" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_gB7N48', 's_uVtrxv']}"><w>Este</w><w>código</w><w>executa</w><w>as</w><w>seguintes</w><w>funções</w><w>:</w></s></p><list type="ordered"><item><p><s xml:id="s_tj7ewz" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_6YAqUW']}"><w>Filtra</w><w>o</w><w>conjunto</w><w>de</w><w>dados</w><w>de</w><w>jornais</w><w>usando</w><w>o</w><w>comando</w><code rend="inline"><w>filter</w><w>(</w><w>)</w></code><w>,</w><w>usando</w><w>os</w><w>valores</w><w>do</w><w>widget</w><code rend="inline"><w>sliderInput</w></code><pc>.</pc></s><s xml:id="s_Fyplo3" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_raUqAc']}"><w>Esses</w><w>valores</w><w>são</w><w>acedidos</w><w>usando</w><code rend="inline"><w>input</w><w>$</w><w>&lt;</w><w>LABELNAME</w><w>&gt;</w></code><w>,</w><w>que</w><w>neste</w><w>caso</w><w>é</w><code rend="inline"><w>input</w><w>$</w><w>years</w></code><w>,</w><w>embora</w><w>haja</w><w>uma</w><w>complicação</w><w>adicional</w><w>a</w><w>ser</w><w>observada</w><pc>.</pc></s><s xml:id="s_dc4fGy" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_rnw3Xp']}"><w>Anteriormente</w><w>definiu</w><w>o</w><w>valor</w><w>de</w><code rend="inline"><w>sliderInput</w></code><w>para</w><w>um</w><w>vetor</w><w>de</w><w>comprimento</w><w>dois</w><w>,</w><w>para</w><w>que</w><w>um</w><w>intervalo</w><w>pudesse</w><w>ser</w><w>selecionado</w><pc>?</pc></s><s xml:id="s_Wt2KSX" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_2gRQq8']}"><w>Os</w><w>dois</w><w>números</w><w>deste</w><w>intervalo</w><w>são</w><w>armazenados</w><w>em</w><code rend="inline"><w>input</w><w>$</w><w>years</w><w>[</w><w>1</w><w>]</w></code><w>e</w><code rend="inline"><w>input</w><w>$</w><w>years</w><w>[</w><w>2</w><w>]</w></code><pc>.</pc></s><s xml:id="s_XoW4SJ" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_fDBFzi']}"><w>Estes</w><w>são</w><w>os</w><w>valores</w><w>a</w><w>que</w><w>precisa</w><w>de</w><w>aceder</w><w>para</w><w>filtrar</w><w>os</w><w>dados</w><pc>.</pc></s><s xml:id="s_tsTdno" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_P3TTBG', 's_IK7ToW']}"><w>A</w><w>função</w><code rend="inline"><w>filter</w></code><w>retorna</w><w>linhas</w><w>de</w><w>um</w><emph><w>dataframe</w></emph><w>onde</w><w>um</w><w>conjunto</w><w>específico</w><w>de</w><w>condições</w><w>é</w><w>verdadeiro</w><w>:</w><w>neste</w><w>caso</w><w>,</w><w>onde</w><w>a</w><w>coluna</w><code rend="inline"><w>first_date_held</w></code><w>é</w><w>maior</w><w>que</w><w>o</w><w>primeiro</w><w>valor</w><w>e</w><w>menor</w><w>que</w><w>o</w><w>segundo</w><pc>.</pc></s></p></item><item><p><s xml:id="s_SmsipT" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_ElUA57']}"><code rend="inline"><w>count</w><w>(</w><w>)</w></code><w>neste</w><w>conjunto</w><w>de</w><w>dados</w><w>filtrado</w><w>para</w><w>produzir</w><w>um</w><emph><w>dataframe</w></emph><w>de</w><w>cada</w><w>cidade</w><w>e</w><w>uma</w><w>contagem</w><w>das</w><w>vezes</w><w>em</w><w>que</w><w>ocorrem</w><pc>.</pc></s><s xml:id="s_AS0yBq" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_zEdkeJ']}"><w>Especifica</w><w>o</w><w>nome</w><w>da</w><w>nova</w><w>coluna</w><w>que</w><w>contém</w><w>as</w><w>contagens</w><w>com</w><w>o</w><w>argumento</w><code rend="inline"><w>name</w><w>=</w></code><pc>.</pc></s></p></item><item><p><s xml:id="s_x6WnAX" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_chbFn3', 's_kZl5W6']}"><w>Faz</w><w>uma</w><w>junção</w><w>(</w><w>um</w><w>tipo</w><w>de</w><w>combinação</w><w>de</w><w>dois</w><emph><w>dataframes</w></emph><w>com</w><w>base</w><w>numa</w><w>chave</w><w>comum</w><w>)</w><w>para</w><w>combinar</w><w>o</w><emph><w>dataframe</w></emph><w>de</w><w>coordenadas</w><w>ao</w><emph><w>dataframe</w></emph><w>de</w><w>contagem</w><w>usando</w><code rend="inline"><w>left_join</w><w>(</w><w>)</w></code><pc>.</pc></s><s xml:id="s_xp8jz3" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_KRw6bW', 's_orwDVC']}"><w>Deve</w><w>especificar</w><w>a</w><w>chave</w><w>a</w><w>partir</w><w>da</w><w>qual</w><w>será</w><w>feita</w><w>a</w><w>junção</w><w>,</w><w>que</w><w>é</w><code rend="inline"><w>coverage_city</w></code><pc>.</pc></s></p></item><item><p><s xml:id="s_1Hvj9n" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_aS70um']}"><w>Há</w><w>um</w><w>pequeno</w><w>número</w><w>de</w><w>títulos</w><w>de</w><w>jornais</w><w>sem</w><w>coordenadas</w><w>de</w><w>latitude/longitude</w><w>,</w><w>o</w><w>que</w><w>causaria</w><w>um</w><w>erro</w><w>ao</w><w>criar</w><w>o</w><w>objeto</w><w>geográfico</w><pc>.</pc></s><s xml:id="s_1LanUw" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_ZPL1jP']}"><w>Filtre-os</w><w>com</w><code rend="inline"><w>filter</w><w>(</w><pc>!</pc><w>is.na</w><w>(</w><w>lat</w><w>)</w><w>&amp;</w><pc>!</pc><w>is.na</w><w>(</w><w>lng</w><w>)</w><w>)</w></code></s></p></item><item><p><s xml:id="s_NbspSA" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_wcYH1M', 's_B2jQGD']}"><w>Finalmente</w><w>,</w><w>transforme-os</w><w>num</w><w>objeto</w><w>de</w><w>recursos</w><w>simples</w><w>,</w><w>usando</w><code rend="inline"><w>st_as_sf</w><w>(</w><w>)</w></code><pc>.</pc></s><s xml:id="s_uBrxZm" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_bwlptl']}"><w>Para</w><w>fazê-lo</w><w>,</w><w>especifique</w><w>as</w><w>colunas</w><w>de</w><w>coordenadas</w><w>de</w><w>latitude/longitude</w><w>que</w><w>devem</w><w>ser</w><w>adotadas</w><w>usando</w><code rend="inline"><w>coords</w></code><w>e</w><w>,</w><w>em</w><w>seguida</w><w>,</w><w>usa</w><code rend="inline"><w>st_set_crs</w></code><w>para</w><w>definir</w><w>um</w><w>sistema</w><w>de</w><w>referência</w><w>de</w><w>coordenadas</w><pc>.</pc></s><ref type="footnotemark" target="#pt_note_4"/></p></item></list><p><s xml:id="s_HtUnuB" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_BvyQF2']}"><w>Este</w><emph><w>dataframe</w></emph><w>de</w><w>informações</w><w>geográficas</w><w>pode</w><w>ser</w><w>acedido</w><w>em</w><w>qualquer</w><w>contexto</w><w>reativo</w><w>por</w><w>Shiny</w><w>usando</w><code rend="inline"><w>map_df</w><w>(</w><w>)</w></code><w>e</w><w>pode</w><w>ser</w><w>usado</w><w>por</w><w>vários</w><w>resultados</w><w>ao</w><w>mesmo</w><w>tempo</w><w>:</w><w>por</w><w>exemplo</w><w>,</w><w>pode</w><w>criar</w><w>uma</w><w>aplicação</w><w>que</w><w>exibe</w><w>um</w><w>mapa</w><w>e</w><w>um</w><w>gráfico</w><w>de</w><w>barras</w><w>,</w><w>cada</w><w>um</w><w>usando</w><w>o</w><w>mesmo</w><w>objeto</w><w>reativo</w><pc>.</pc></s></p></div><div type="3" n="6.2"><head><s xml:id="s_CrIiDO" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_DEuSvl']}"><w>Criar</w><w>o</w><w>mapa</w><w>leaflet</w></s></head><p><s xml:id="s_m6HWUJ" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_uRdeso']}"><w>A</w><w>última</w><w>coisa</w><w>a</w><w>fazer</w><w>é</w><w>criar</w><w>o</w><w>próprio</w><w>mapa</w><pc>.</pc></s><s xml:id="s_55A8EV" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_IQ86CQ']}"><w>Isto</w><w>é</w><w>feito</w><w>usando</w><w>a</w><w>biblioteca</w><code rend="inline"><w>leaflet</w></code><w>,</w><w>que</w><w>permite</w><w>produzir</w><w>mapas</w><w>interativos</w><w>e</w><w>com</w><w>zoom</w><pc>.</pc></s><s xml:id="s_YfjWPD" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_vB6DRx']}"><w>Funciona</w><w>particularmente</w><w>bem</w><w>com</w><w>Shiny</w><pc>.</pc></s><s xml:id="s_Xwmk0h" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_fRMJT1']}"><w>Adicione</w><w>o</w><w>seguinte</w><w>código</w><w>dentro</w><w>do</w><w>elemento</w><code rend="inline"><w>server</w><w>(</w><w>)</w></code><w>,</w><w>logo</w><w>abaixo</w><w>do</w><w>elemento</w><w>reativo</w><code rend="inline"><w>map_df</w></code><w>:</w></s></p><ab><code xml:id="code_aplicacao-web-interativa-r-shiny-leaflet_11" corresp="code_aplicacao-web-interativa-r-shiny-leaflet_11.txt" rend="block"/></ab><p><s xml:id="s_xd7rk6" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_ganffz']}"><w>Há</w><w>algumas</w><w>coisas</w><w>bastante</w><w>complexas</w><w>acontecendo</w><w>aqui</w><w>,</w><w>por</w><w>isso</w><w>é</w><w>importante</w><w>analisar</w><w>o</w><w>código</w><w>em</w><w>detalhe</w><pc>.</pc></s><s xml:id="s_wsPE8N" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_cu8LtP']}"><w>Em</w><w>Shiny</w><w>,</w><w>cria</w><w>reatividade</w><w>conectando</w><w>a</w><pc>.</pc></s><hi rend="bold"><s xml:id="s_kwb2Rm" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_92fKg0']}"><w>inputs</w></s></hi><hi rend="bold"><s xml:id="s_fXwxdf" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_h7zqh1']}"><w>outputs</w></s></hi><hi rend="bold"><s xml:id="s_dVabYz" corresp="{&quot;shiny-leaflet-newspaper-map-tutorial&quot;: [&quot;s_h7zqh1&quot;]}"><w>Inputs</w></s></hi><s xml:id="s_jGU9GA" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Af7pIL']}"><w>,</w><w>neste</w><w>contexto</w><w>,</w><w>são</w><w>as</w><w>variáveis</w><w>ajustadas</w><w>pelo</w><w>usuário</w><pc>.</pc></s><s xml:id="s_PMYAIx" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_HwdkuB', 's_HuPcfx']}"><w>Recorda-se</w><w>do</w><code rend="inline"><w>sliderInput</w><w>(</w><w>)</w></code><w>que</w><w>criou</w><w>na</w><w>interface</w><w>do</w><w>usuário</w><w>acima</w><w>,</w><w>com</w><w>o</w><w>rótulo</w><w>'years</w><w>'</w><pc>?</pc></s><s xml:id="s_Yvf2R9" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_o1YubI']}"><w>Já</w><w>vimos</w><w>que</w><w>o</w><w>seu</w><w>valor</w><w>é</w><w>armazenado</w><w>pela</w><w>Shiny</w><w>na</w><w>variável</w><code rend="inline"><w>input</w><w>$</w><w>years</w></code><pc>.</pc></s><hi rend="bold"><s xml:id="s_wIBBjs" corresp="{&quot;shiny-leaflet-newspaper-map-tutorial&quot;: [&quot;s_o1YubI&quot;]}"><w>Outputs</w></s></hi><s xml:id="s_uNDRbK" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_0q9X0t']}"><w>são</w><w>as</w><w>expressões</w><w>R</w><w>que</w><w>dizem</w><w>a</w><w>Shiny</w><w>o</w><w>que</w><w>exibir</w><w>na</w><w>interface</w><w>do</w><w>usuário</w><w>e</w><w>são</w><w>criadas</w><w>,</w><w>no</w><w>servidor</w><w>,</w><w>com</w><w>o</w><w>nome</w><w>da</w><w>variável</w><code rend="inline"><w>output</w><w>$</w><w>*</w></code><pc>.</pc></s><s xml:id="s_sBfvep" corresp="{&quot;shiny-leaflet-newspaper-map-tutorial&quot;: [&quot;s_0q9X0t&quot;]}"><w>Os</w><w>precisam</w><w>de</w><w>corresponder</w><w>a</w><w>um</w><w>elemento</w><code rend="inline"><w>*</w><w>Output</w></code><w>da</w><w>interface</w><w>do</w><w>usuário</w><pc>.</pc></s><hi rend="bold"><s xml:id="s_vy3rRO" corresp="{'shiny-leaflet-newspaper-map-tutorial': '[\'s_LtjKyp\']'}"><w>outputs</w></s></hi><s xml:id="s_DWy1ZK" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_EfUEa5']}"><w>Nesta</w><w>última</w><w>criou</w><w>um</w><w>leaflet</w><w>com</w><w>o</w><w>rótulo</w><code rend="inline"><w>map</w></code><w>usando</w><w>o</w><w>código</w><code rend="inline"><w>leafletOutput</w><w>(</w><w>'map</w><w>'</w><w>)</w></code><pc>.</pc></s><hi rend="bold"><s xml:id="s_zwj5a2" corresp="{&quot;shiny-leaflet-newspaper-map-tutorial&quot;: [&quot;s_EfUEa5&quot;]}"><w>output</w></s></hi><s xml:id="s_Mnay0P" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_cffBef']}"><w>Isto</w><w>deve</w><w>corresponder</w><w>a</w><w>um</w><w>no</w><w>servidor</w><w>chamado</w><code rend="inline"><w>output</w><w>$</w><w>map</w></code><pc>.</pc></s><hi rend="bold"><s xml:id="s_K7xKD7" corresp="{&quot;shiny-leaflet-newspaper-map-tutorial&quot;: [&quot;s_cffBef&quot;]}"><w>output</w></s></hi></p><p><s xml:id="s_sS6jUE" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_hlNYGm']}"><w>Por</w><w>sua</w><w>vez</w><w>,</w><w>esta</w><w>variável</w><code rend="inline"><w>output</w><w>$</w><w>map</w></code><w>deve</w><w>ser</w><w>definida</w><w>para</w><w>uma</w><w>função</w><w>Shiny</w><code rend="inline"><w>render</w><w>*</w></code><w>,</w><w>que</w><w>informa</w><w>a</w><w>Shiny</w><w>que</w><w>tipo</w><w>de</w><w>objeto</w><w>deve</w><w>ser</w><w>apresentado</w><w>na</w><w>interface</w><w>do</w><w>usuário</w><pc>.</pc></s><s xml:id="s_CIU0Xz" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_FZevtG']}"><w>O</w><w>que</w><w>precisamos</w><w>é</w><w>chamado</w><code rend="inline"><w>renderLeaflet</w></code><w>,</w><w>que</w><w>diz</w><w>à</w><w>interface</w><w>do</w><w>usuário</w><w>para</w><w>gerar</w><w>um</w><w>mapa</w><w>criado</w><w>pela</w><w>biblioteca</w><w>leaflet</w><pc>.</pc></s><s xml:id="s_QNZLHc" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_eD1N7F']}"><w>O</w><w>objeto</w><code rend="inline"><w>renderLeaflet</w></code><w>tem</w><w>parênteses</w><w>e</w><w>chaves</w><w>,</w><w>assim</w><w>como</w><w>o</w><w>objeto</w><w>reativo</w><w>que</w><w>criamos</w><w>acima</w><pc>.</pc></s></p><p><s xml:id="s_9H5M9J" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_A2y8Oc']}"><w>O</w><w>próprio</w><w>mapa</w><w>leaflet</w><w>será</w><w>criado</w><w>dentro</w><w>disto</w><pc>.</pc></s><s xml:id="s_cf79DP" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_jQlSuk']}"><w>Primeiro</w><w>,</w><w>adicione</w><w>a</w><w>função</w><code rend="inline"><w>leaflet</w><w>(</w><w>)</w></code><pc>.</pc></s><s xml:id="s_j0qpGp" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_LcPaPM']}"><w>Em</w><w>seguida</w><w>,</w><w>adicione</w><w>os</w><w>blocos</w><w>padrão</w><w>(</w><w>as</w><w>imagens</w><w>de</w><w>mapa</w><w>com</w><w>zoom</w><w>)</w><w>usando</w><code rend="inline"><w>addTiles</w><w>(</w><w>)</w></code><pc>.</pc></s><s xml:id="s_6xErrF" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_FNsOLc']}"><w>Depois</w><w>,</w><w>defina</w><w>a</w><w>posição</w><w>padrão</w><w>do</w><w>mapa</w><w>e</w><w>amplie</w><w>para</w><w>Grã-Bretanha</w><w>e</w><w>Irlanda</w><w>usando</w><w>o</w><w>comando</w><code rend="inline"><w>setView</w><w>(</w><w>lng</w><w>=</w><w>-5</w><w>,</w><w>lat</w><w>=</w><w>54</w><w>,</w><w>zoom</w><w>=</w><w>5</w><w>)</w></code><pc>.</pc></s></p></div><div type="3" n="6.3"><head><s xml:id="s_E1qpfJ" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_RZeVIg']}"><w>Desenhar</w><w>pontos</w><w>usando</w><w>o</w><emph><w>dataframe</w></emph><w>reativo</w></s></head><p><s xml:id="s_X9CaBt" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_psTI4e']}"><w>Faça</w><w>uma</w><w>pausa</w><w>aqui</w><w>e</w><w>execute</w><w>a</w><w>aplicação</w><w>novamente</w><pc>.</pc></s><s xml:id="s_NHUcS0" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Dd3rgk']}"><w>Se</w><w>tudo</w><w>correr</w><w>bem</w><w>,</w><w>deverá</w><w>ver</w><w>um</w><w>mapa</w><w>interativo</w><w>da</w><w>Grã-Bretanha</w><w>e</w><w>da</w><w>Irlanda</w><w>à</w><w>direita</w><w>do</w><w>controlo</w><w>deslizante</w><pc>.</pc></s><s xml:id="s_W0Bxyu" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_ltPHnX']}"><w>Pode</w><w>ampliar</w><w>e</w><w>deslizar</w><w>,</w><w>mas</w><w>não</w><w>mais</w><w>do</w><w>que</w><w>isso</w><pc>.</pc></s><s xml:id="s_7YK5Ah" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_ZuQO2l']}"><w>O</w><w>mapa</w><w>precisa</w><w>de</w><w>ser</w><w>preenchido</w><w>com</w><w>pontos</w><w>representando</w><w>a</w><w>contagem</w><w>de</w><w>títulos</w><w>de</w><w>cada</w><w>lugar</w><pc>.</pc></s></p><figure><desc><s xml:id="s_6NYdDV" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Io9A7q']}"><w>Figura</w><w>5</w><pc>.</pc></s><s xml:id="s_0dUjKe" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_8uilEx']}"><w>Captura</w><w>de</w><w>tela</w><w>da</w><w>aplicação</w><w>com</w><w>mapa</w><w>leaflet</w><w>e</w><w>widget</w><w>de</w><w>controlo</w><w>deslizante</w><pc>.</pc></s></desc><figDesc><s xml:id="s_pfjxG2" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_lk33g8', 's_osQ2gi']}"><w>Captura</w><w>de</w><w>tela</w><w>da</w><w>aplicação</w><w>com</w><w>mapa</w><w>Leaflet</w><w>e</w><w>o</w><w>widget</w><w>de</w><w>controlo</w><w>deslizante</w><pc>.</pc></s></figDesc><graphic url="pt-tr-aplicacao-web-interativa-r-shiny-leaflet-05.png"/></figure><p><s xml:id="s_R7wNax" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_2wiDRU']}"><w>Para</w><w>fazer</w><w>isso</w><w>,</w><w>use</w><w>o</w><w>comando</w><code rend="inline"><w>addCircleMarkers</w><w>(</w><w>)</w></code><w>,</w><w>que</w><w>adiciona</w><w>uma</w><w>camada</w><w>gráfica</w><w>de</w><w>círculos</w><w>ao</w><w>mapa</w><w>leaflet</w><w>,</w><w>com</w><w>coordenadas</w><w>retiradas</w><w>de</w><w>um</w><w>objeto</w><w>de</w><w>dados</w><w>geográficos</w><pc>.</pc></s><s xml:id="s_KzQCF9" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_Sis4VP']}"><w>Usando</w><w>o</w><w>encadeamento</w><w>de</w><w>funções</w><code rend="inline"><w>%</w><w>&gt;</w><w>%</w></code><w>(</w><w>pipe</w><w>)</w><w>,</w><w>adicione</w><w>o</w><w>seguinte</w><w>após</w><w>a</w><w>função</w><code rend="inline"><w>addCircleMarkers</w><w>(</w><w>)</w></code><w>(</w><w>veja</w><w>o</w><ref target="#c%C3%B3digo-final"><w>código</w><w>final</w></ref><w>se</w><w>não</w><w>tiver</w><w>certeza</w><w>de</w><w>onde</w><w>isto</w><w>deve</w><w>ir</w><w>)</w><w>:</w></s></p><ab><code xml:id="code_aplicacao-web-interativa-r-shiny-leaflet_12" corresp="code_aplicacao-web-interativa-r-shiny-leaflet_12.txt" rend="block"/></ab><p><s xml:id="s_fISsEh" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_fz70J3']}"><w>Aqui</w><w>está</w><w>a</w><w>parte</w><w>crucial</w><w>:</w><w>em</w><w>vez</w><w>de</w><w>uma</w><w>fonte</w><w>de</w><w>dados</w><w>fixa</w><w>,</w><w>o</w><w>comando</w><w>acima</w><w>especifica</w><w>que</w><code rend="inline"><w>addCircleMarkers</w></code><w>deve</w><w>usar</w><w>o</w><emph><w>dataframe</w></emph><w>reativo</w><w>que</w><w>criámos</w><w>anteriormente</w><w>,</w><w>com</w><w>o</w><w>argumento</w><code rend="inline"><w>data</w><w>=</w><w>map_df</w><w>(</w><w>)</w></code><pc>.</pc></s><s xml:id="s_wsqv9S" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_4bicLB']}"><w>Observe</w><w>que</w><w>,</w><w>diferentemente</w><w>das</w><w>variáveis</w><w>regulares</w><w>em</w><w>R</w><w>,</w><w>esta</w><w>tem</w><w>um</w><w>par</w><w>de</w><w>parênteses</w><w>depois</w><w>,</w><w>denotando</w><w>que</w><w>é</w><w>uma</w><w>variável</w><w>reativa</w><w>especial</w><pc>.</pc></s><s xml:id="s_JhB7zd" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_TYzRjK']}"><w>Cada</w><w>vez</w><w>que</w><w>a</w><w>aplicação</w><w>percebe</w><w>uma</w><w>alteração</w><w>nesse</w><w>objeto</w><w>reativo</w><w>,</w><w>ele</w><w>redesenha</w><w>o</w><w>mapa</w><w>com</w><w>os</w><w>novos</w><w>dados</w><pc>.</pc></s></p><p><s xml:id="s_65YBNm" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_lZkVKV']}"><w>Neste</w><w>ponto</w><w>,</w><w>também</w><w>pode</w><w>definir</w><w>o</w><w>raio</w><w>dos</w><w>círculos</w><w>para</w><w>corresponder</w><w>à</w><w>coluna</w><w>que</w><w>contém</w><w>a</w><w>contagem</w><w>de</w><w>títulos</w><w>para</w><w>cada</w><w>lugar</w><w>,</w><w>usando</w><code rend="inline"><w>radius</w><w>=</w><w>~sqrt</w><w>(</w><w>titles</w><w>)</w></code><pc>.</pc></s><s xml:id="s_taQpbf" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_WdbR4s']}"><w>Usamos</w><w>a</w><w>raiz</w><w>quadrada</w><w>,</w><w>porque</w><w>torna</w><w>a</w><w>área</w><w>dos</w><w>círculos</w><w>corretamente</w><w>proporcional</w><w>à</w><w>contagem</w><pc>.</pc></s></p></div><div type="3" n="6.4"><head><s xml:id="s_p93oJ9" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_ZntEoi']}"><w>Teste</w><w>a</w><w>aplicação</w></s></head><p><s xml:id="s_851GTb" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_n7wXXY']}"><w>É</w><w>hora</w><w>de</w><w>executar</w><w>a</w><w>aplicação</w><w>novamente</w><pc>.</pc></s><s xml:id="s_luRrtg" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_k240cQ']}"><w>Agora</w><w>,</w><w>deve</w><w>haver</w><w>círculos</w><w>de</w><w>tamanhos</w><w>variados</w><w>espalhados</w><w>pelo</w><w>mapa</w><pc>.</pc></s><s xml:id="s_Qx6d5J" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_3mUSoX']}"><w>Tente</w><w>mover</w><w>ou</w><w>arrastar</w><w>os</w><w>controlos</w><w>deslizantes</w><w>-</w><w>o</w><w>mapa</w><w>deve</w><w>ser</w><w>atualizado</w><w>a</w><w>cada</w><w>alteração</w><pc>.</pc></s><s xml:id="s_SGoczo" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_GBGeWj']}"><w>Parabéns</w><w>,</w><w>fez</w><w>a</w><w>sua</w><w>primeira</w><w>aplicação</w><w>Shiny</w><pc>!</pc></s></p><figure><desc><s xml:id="s_ocgNyC" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_WUCwRs']}"><w>Figura</w><w>6</w><pc>.</pc></s><s xml:id="s_oXaGVW" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_d8TH31']}"><w>Gif</w><w>animado</w><w>monstrando</w><w>a</w><w>atualização</w><w>do</w><w>mapa</w><w>leaflet</w><w>quando</w><w>os</w><w>valores</w><w>no</w><w>widget</w><w>do</w><w>controlo</w><w>deslizante</w><w>são</w><w>alterados</w><pc>.</pc></s></desc><figDesc><s xml:id="s_19EppN" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_0yYr5L', 's_3cwKJP']}"><w>Gif</w><w>animado</w><w>demonstrando</w><w>a</w><w>atualização</w><w>do</w><w>mapa</w><w>Leaflet</w><w>à</w><w>medida</w><w>que</w><w>os</w><w>valores</w><w>no</w><w>widget</w><w>de</w><w>controlo</w><w>deslizante</w><w>são</w><w>alterados</w><pc>.</pc></s></figDesc><graphic url="pt-tr-aplicacao-web-interativa-r-shiny-leaflet-06.gif"/></figure></div></div><div type="2" n="7"><head><s xml:id="s_Ihpsvp" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_YLYLw0']}"><w>Melhorar</w><w>a</w><w>aplicação</w></s></head><p><s xml:id="s_VKoI11" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_cnnjGp']}"><w>Para</w><w>saber</w><w>mais</w><w>sobre</w><w>Shiny</w><w>e</w><w>Leaflet</w><w>,</w><w>pode</w><w>tentar</w><w>adicionar</w><w>alguns</w><w>dos</w><w>seguintes</w><w>recursos</w><w>à</w><w>sua</w><w>aplicação</w><w>:</w></s></p><p><s xml:id="s_9Gkp4E" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_EQB83L']}"><w>Primeiro</w><w>,</w><w>adicione</w><w>um</w><emph><w>input</w></emph><w>de</w><w>usuário</w><w>adicional</w><w>para</w><w>filtrar</w><w>os</w><w>dados</w><w>do</w><w>mapa</w><pc>.</pc></s><s xml:id="s_OeMbqR" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_wWxufT']}"><w>Usando</w><w>outro</w><w>widget</w><w>,</w><code rend="inline"><w>selectInput</w></code><w>,</w><w>pode</w><w>permitir</w><w>que</w><w>um</w><w>usuário</w><w>exiba</w><w>dados</w><w>de</w><w>apenas</w><w>um</w><w>dos</w><w>quatro</w><w>países</w><w>na</w><w>lista</w><w>de</w><w>títulos</w><pc>.</pc></s><s xml:id="s_uMDyj0" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_48UEZ6']}"><w>Digite</w><code rend="inline"><pc>?</pc><w>selectInput</w></code><w>na</w><w>linha</w><w>de</w><w>comandos</w><w>para</w><w>obter</w><w>ajuda</w><w>sobre</w><w>os</w><w>parâmetros</w><w>necessários</w><w>para</w><w>fazer</w><w>isto</w><w>corretamente</w><pc>.</pc></s><s xml:id="s_YigqGW" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_R1Ut9x']}"><emph><w>Inputs</w></emph><w>adicionais</w><w>podem</w><w>ser</w><w>colocados</w><w>sob</w><w>o</w><code rend="inline"><w>sliderInput</w></code><w>existente</w><w>,</w><w>separados</w><w>por</w><w>uma</w><w>vírgula</w><pc>.</pc></s></p><p><s xml:id="s_O1MREg" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_ftGamy']}"><w>Em</w><w>seguida</w><w>,</w><w>adicione</w><w>alguns</w><w>elementos</w><w>ao</w><w>mapa</w><w>leaflet</w><pc>.</pc></s><s xml:id="s_KKutII" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_BjC3if']}"><w>Uma</w><w>lista</w><w>completa</w><w>de</w><w>opções</w><w>pode</w><w>ser</w><w>encontrada</w><w>usando</w><code rend="inline"><pc>?</pc><w>circleMarkers</w></code><w>no</w><w>RStudio</w><pc>.</pc></s><s xml:id="s_Ca0f6Z" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_G7F9Cy']}"><w>Por</w><w>exemplo</w><w>,</w><w>pode</w><w>adicionar</w><w>um</w><w>rótulo</w><w>aos</w><w>pontos</w><w>com</w><code rend="inline"><w>label</w><w>=</w><w>coverage_city</w></code><pc>.</pc></s></p><p><s xml:id="s_Ur7x8g" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_MzifKW']}"><w>Notará</w><w>que</w><w>sempre</w><w>que</w><w>move</w><w>o</w><w>controlo</w><w>deslizante</w><w>,</w><w>o</w><w>mapa</w><w>inteiro</w><w>redesenha</w><w>e</w><w>redefine</w><w>a</w><w>sua</w><w>visualização</w><w>,</w><w>o</w><w>que</w><w>não</w><w>é</w><w>muito</w><w>elegante</w><pc>.</pc></s><s xml:id="s_GEIG67" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_IwT7oE']}"><w>Isto</w><w>pode</w><w>ser</w><w>corrigido</w><w>usando</w><w>outra</w><w>função</w><w>chamada</w><code rend="inline"><w>leafletProxy</w></code><pc>.</pc></s><s xml:id="s_Ap0BnE" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_WELmap']}"><w>Resumidamente</w><w>,</w><w>crie</w><w>um</w><w>mapa</w><w>leaflet</w><w>vazio</w><w>(</w><w>sem</w><w>os</w><code rend="inline"><w>circleMarkers</w></code><w>)</w><w>como</w><w>acima</w><pc>.</pc></s><s xml:id="s_sQnyQU" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_v3o1Nb']}"><w>De</w><w>seguida</w><w>,</w><w>em</w><w>outro</w><w>contexto</w><w>reativo</w><w>,</w><code rend="inline"><w>observe</w></code><w>,</w><w>adicionará</w><w>o</w><w>código</w><w>para</w><w>redesenhar</w><w>as</w><w>partes</w><w>em</w><w>mudança</w><w>do</w><w>mapa</w><w>,</w><w>usando</w><code rend="inline"><w>leafletProxy</w></code><pc>.</pc></s><s xml:id="s_NIWyBq" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_dZnLsl']}"><w>As</w><w>instruções</w><w>de</w><w>como</w><w>fazer</w><w>isto</w><w>podem</w><w>ser</w><w>encontradas</w><ref target="https://perma.cc/CZ84-CW9F"><w>aqui</w></ref><w>(</w><w>em</w><w>inglês</w><w>)</w><pc>.</pc></s></p></div><div type="2" n="8"><head><s xml:id="s_g6U01g" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_QJzlMq']}"><w>Conclusão</w></s></head><p><s xml:id="s_P3wK0p" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_DfZufr']}"><w>Visualizações</w><w>interativas</w><w>podem</w><w>ajudar</w><w>a</w><w>trazer</w><w>novas</w><w>perspectivas</w><w>para</w><w>dados</w><w>históricos</w><pc>.</pc></s><s xml:id="s_0UMiD4" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_06QfeJ']}"><w>Neste</w><w>tutorial</w><w>,</w><w>usamos</w><w>alguns</w><w>pacotes</w><w>R</w><w>versáteis</w><w>e</w><w>robustos</w><w>,</w><w>como</w><w>o</w><w>tydeverse</w><w>e</w><w>o</w><w>leaflet</w><w>,</w><w>e</w><w>pudemos</w><w>usá-los</w><w>num</w><w>ambiente</w><w>interativo</w><w>,</w><w>em</w><w>vez</w><w>de</w><w>ter</w><w>que</w><w>preparar</w><w>todos</w><w>os</w><w>dados</w><w>antecipadamente</w><pc>.</pc></s><s xml:id="s_JdKM3E" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_to9KVd']}"><w>Aprendemos</w><w>como</w><w>e</w><w>porquê</w><w>podemos</w><w>usar</w><w>programação</w><w>reativa</w><w>,</w><w>o</w><w>que</w><w>nos</w><w>permite</w><w>criar</w><w>código</w><w>R</w><w>dinâmico</w><w>onde</w><w>os</w><emph><w>inputs</w></emph><w>do</w><w>usuário</w><w>substituem</w><w>as</w><w>variáveis</w><w>fixas</w><pc>.</pc></s></p><p><s xml:id="s_BG6t2t" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_wZtr2R']}"><w>Essa</w><w>abordagem</w><w>pode</w><w>ser</w><w>facilmente</w><w>adaptada</w><w>para</w><w>atender</w><w>a</w><w>uma</w><w>variedade</w><w>de</w><w>diferentes</w><w>formatos</w><w>de</w><w>dados</w><w>e</w><w>modos</w><w>de</w><w>análise</w><pc>.</pc></s><s xml:id="s_qdY3L8" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_yG3w4N']}"><w>A</w><w>dificuldade</w><w>relativamente</w><w>baixa</w><w>de</w><w>utilização</w><w>destas</w><w>ferramentas</w><w>facilita</w><w>a</w><w>criação</w><w>de</w><w>aplicações</w><w>rápidas</w><w>que</w><w>podem</w><w>tornar</w><w>o</w><w>trabalho</w><w>com</w><w>um</w><w>grande</w><w>volume</w><w>de</w><w>dados</w><w>menos</w><w>penoso</w><pc>.</pc></s><s xml:id="s_D1wloA" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_w5jyGR']}"><w>As</w><w>aplicações</w><w>Shiny</w><w>também</w><w>são</w><w>uma</w><w>maneira</w><w>útil</w><w>de</w><w>compartilhar</w><w>alguns</w><w>dos</w><w>benefícios</w><w>dos</w><w>recursos</w><w>de</w><w>programação</w><w>do</w><w>R</w><w>com</w><w>um</w><w>público</w><w>não</w><w>técnico</w><w>ou</w><w>membros</w><w>da</w><w>equipe</w><w>do</w><w>projeto</w><pc>.</pc></s><s xml:id="s_nxInS6" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_ptSDEq']}"><w>É</w><w>relativamente</w><w>fácil</w><w>criar</w><w>uma</w><w>aplicação</w><w>que</w><w>permitirá</w><w>que</w><w>um</w><w>usuário</w><w>faça</w><w>sua</w><w>própria</w><w>análise</w><w>de</w><w>dados</w><w>com</w><w>R</w><w>,</w><w>sem</w><w>precisar</w><w>codificar</w><w>ou</w><w>usar</w><w>a</w><w>linha</w><w>de</w><w>comandos</w><pc>.</pc></s></p></div><div type="2" n="9"><head><s xml:id="s_WPAZFL" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_owSIxI']}"><w>Código</w><w>final</w></s></head><ab><code xml:id="code_aplicacao-web-interativa-r-shiny-leaflet_13" corresp="code_aplicacao-web-interativa-r-shiny-leaflet_13.txt" rend="block"/></ab></div><div type="2" n="10"><head><s xml:id="s_gMu2tW" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_0LKwO5']}"><w>Notas</w><w>de</w><w>fim</w></s></head><p><s xml:id="s_ixwKbK" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_D9if42']}"><ref type="footnotemark" target="#pt_note_1"/><w>:</w><w>Yann</w><w>Ryan</w><w>and</w><w>Luke</w><w>McKernan</w><w>,</w><w>``</w><w>Converting</w><w>the</w><w>British</w><w>Library</w><w>'s</w><w>Catalogue</w><w>of</w><w>British</w><w>and</w><w>Irish</w><w>Newspapers</w><w>into</w><w>a</w><w>Public</w><w>Domain</w><w>Dataset</w><w>:</w><w>Processes</w><w>and</w><w>Applications</w><w>,</w><w>''</w><w>Journal</w><w>of</w><w>Open</w><w>Humanities</w><w>Data</w><w>7</w><w>,</w><w>no</w><pc>.</pc></s><s xml:id="s_vmgtnx" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_MC6XsP']}"><w>0</w><w>(</w><w>January</w><w>22</w><w>,</w><w>2021</w><w>)</w><w>:</w><w>1</w><w>,</w><ref target="https://doi.org/10.5334/johd.23"><w>https</w><w>:</w><w>//doi.org/10.5334/johd.23</w></ref><pc>.</pc></s></p><p><s xml:id="s_pkVXNi" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_WmOpHI']}"><ref type="footnotemark" target="#pt_note_2"/><w>:</w><w>Depósito</w><w>Legal</w><w>era</w><w>um</w><w>mecanismo</w><w>pelo</w><w>qual</w><w>os</w><w>editores</w><w>eram</w><w>obrigados</w><w>a</w><w>dar</w><w>ao</w><w>British</w><w>Museum</w><w>(</w><w>e</w><w>,</w><w>posteriormente</w><w>,</w><w>à</w><w>British</w><w>Library</w><w>)</w><w>uma</w><w>cópia</w><w>de</w><w>qualquer</w><w>livro</w><w>produzido</w><w>,</w><w>incluindo</w><w>jornais</w><pc>.</pc></s></p><p><s xml:id="s_srycZE" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_dGsqLu']}"><ref type="footnotemark" target="#pt_note_3"/><w>:</w><w>O</w><w>objeto</w><w>servidor</w><w>é</w><w>,</w><w>na</w><w>verdade</w><w>,</w><w>uma</w><w>lista</w><w>R</w><w>com</w><w>todos</w><w>os</w><emph><w>inputs</w></emph><w>armazenados</w><w>no</w><w>primeiro</w><w>elemento</w><w>,</w><w>chamado</w><emph><w>input</w></emph><w>,</w><w>e</w><w>todos</w><w>os</w><w>resultados</w><w>armazenados</w><w>no</w><w>segundo</w><w>elemento</w><w>,</w><w>chamado</w><emph><w>output</w></emph><pc>.</pc></s></p><p><s xml:id="s_WJ3Kmz" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_6l5EMR']}"><ref type="footnotemark" target="#pt_note_4"/><w>:</w><w>Como</w><w>existem</w><w>várias</w><w>maneiras</w><w>de</w><w>transformar</w><w>um</w><w>globo</w><w>numa</w><w>representação</w><w>2D</w><w>,</w><w>a</w><w>exibição</w><w>correta</w><w>de</w><w>dados</w><w>geográficos</w><w>requer</w><w>a</w><w>configuração</w><w>de</w><w>um</w><w>sistema</w><w>de</w><w>referência</w><w>de</w><w>coordenadas</w><pc>.</pc></s><s xml:id="s_xeUfmg" corresp="{'shiny-leaflet-newspaper-map-tutorial': ['s_LrYZJt']}"><w>4326</w><w>é</w><w>comumente</w><w>usado</w><w>para</w><w>dados</w><w>geográficos</w><w>mundiais</w><pc>.</pc></s></p></div></body>
    </text>
</TEI>
