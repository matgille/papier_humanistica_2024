<TEI xmlns:tei="http://www.tei-c.org/ns/1.0" xmlns="http://www.tei-c.org/ns/1.0" xml:id="creating-apis-with-python-and-flask">
  <teiHeader xmlns:xi="http://www.w3.org/2001/XInclude">
    <fileDesc>
      <titleStmt>
        <title>Creating Web APIs with Python and Flask
</title>
        <author role="original_author">Patrick Smyth</author>
        <editor role="reviewers">
          <persName>Ryan Deschamps</persName>
          <persName>Megan Kudzia</persName>
        </editor>
        <editor role="editors">Brandon Walsh</editor>
      </titleStmt>
      <publicationStmt>
        <distributor>Programming Historian</distributor>
        <idno type="doi">10.46430/phen0072</idno>
        <date type="published">04/02/2018</date>
      </publicationStmt>
      <sourceDesc>
        <p>Born digital, in a markdown format. This lesson is original.</p>
      </sourceDesc>
    </fileDesc>
    <profileDesc>
      <abstract>
        <p>Learn how to set up a basic Application Programming Interface (API) to make your data more accessible to users. This lesson also discusses principles of API design and the benefits of APIs for digital projects.
</p>
      </abstract>
      <textClass>
        <keywords>
          <term xml:lang="en">api</term>
          <term xml:lang="en">data-management</term>
        </keywords>
      </textClass>
    </profileDesc>
  </teiHeader>
  <text xmlns:xi="http://www.w3.org/2001/XInclude" xml:lang="en">
    <body>
      <p style="alert alert-warning">
        <s>
          <w>Access</w>
          <w>to</w>
          <w>Twitter’s</w>
          <w>API</w>
          <w>has</w>
          <w>recently</w>
          <w>changed</w>
          <pc>.</pc>
        </s>
        <s>
          <w>The</w>
          <w>Free</w>
          <w>Tier</w>
          <w>no</w>
          <w>longer</w>
          <w>allows</w>
          <w>users</w>
          <w>to</w>
          <w>search</w>
          <w>and</w>
          <w>download</w>
          <w>Twitter</w>
          <w>data</w>
          <pc>.</pc>
        </s>
        <s>
          <w>Unfortunately,</w>
          <w>this</w>
          <w>means</w>
          <w>that</w>
          <w>elements</w>
          <w>of</w>
          <w>this</w>
          <w>lesson</w>
          <w>will</w>
          <w>only</w>
          <w>work</w>
          <w>for</w>
          <w>those</w>
          <w>who</w>
          <w>are</w>
          <w>paying</w>
          <w>for</w>
          <w>an</w>
          <w>upgraded</w>
          <w>plan</w>
          <pc>.</pc>
        </s>
        <s>
          <w>At</w>
          <w>the</w>
          <w>moment,</w>
          <w>there</w>
          <w>are</w>
          <w>no</w>
          <w>special</w>
          <w>access</w>
          <w>plans</w>
          <w>for</w>
          <w>researchers</w>
          <w>or</w>
          <w>academics</w>
          <pc>.</pc>
        </s>
        <s>
          <w>[2023]</w>
        </s>
      </p>
      <div type="2" n="1">
        <head>
          <s>
            <w>Lesson</w>
            <w>Goals</w>
          </s>
        </head>
        <p>
          <s>
            <w>Web</w>
            <w>APIs</w>
            <w>are</w>
            <w>tools</w>
            <w>for</w>
            <w>making</w>
            <w>information</w>
            <w>and</w>
            <w>application</w>
            <w>functionality</w>
            <w>accessible</w>
            <w>over</w>
            <w>the</w>
            <w>internet</w>
            <pc>.</pc>
          </s>
          <s>
            <w>In</w>
            <w>this</w>
            <w>lesson,</w>
            <w>you</w>
            <w>will:</w>
          </s>
        </p>
        <list type="unordered">
          <item>
            <s>
              <w>Learn</w>
              <w>what</w>
              <w>an</w>
              <w>API</w>
              <w>is</w>
              <w>and</w>
              <w>when</w>
              <w>you</w>
              <w>should</w>
              <w>use</w>
              <w>one</w>
              <pc>.</pc>
            </s>
          </item>
          <item>
            <s>
              <w>Learn</w>
              <w>how</w>
              <w>to</w>
              <w>build</w>
              <w>a</w>
              <w>web</w>
              <w>API</w>
              <w>that</w>
              <w>returns</w>
              <w>data</w>
              <w>to</w>
              <w>its</w>
              <w>users</w>
              <pc>.</pc>
            </s>
          </item>
          <item>
            <s>
              <w>Learn</w>
              <w>some</w>
              <w>principles</w>
              <w>of</w>
              <w>good</w>
              <w>API</w>
              <w>design,</w>
              <w>applying</w>
              <w>them</w>
              <w>to</w>
              <w>an</w>
              <w>API</w>
              <w>that</w>
              <w>draws</w>
              <w>book</w>
              <w>metadata</w>
              <w>from</w>
              <w>a</w>
              <w>database</w>
              <pc>.</pc>
            </s>
          </item>
        </list>
      </div>
      <div type="2" n="2">
        <head>
          <s>
            <w>Setting</w>
            <w>Up</w>
          </s>
        </head>
        <div type="3" n="2.1">
          <head>
            <s>
              <w>Prerequisites</w>
            </s>
          </head>
          <p>
            <s>
              <w>You</w>
              <w>can</w>
              <w>use</w>
              <w>the</w>
              <w>Windows,</w>
              <w>macOS,</w>
              <w>or</w>
              <w>Linux</w>
              <w>operating</w>
              <w>systems</w>
              <w>to</w>
              <w>complete</w>
              <w>this</w>
              <w>tutorial,</w>
              <w>and</w>
              <w>those</w>
              <w>few</w>
              <w>instructions</w>
              <w>that</w>
              <w>are</w>
              <w>not</w>
              <w>the</w>
              <w>same</w>
              <w>across</w>
              <w>platforms</w>
              <w>will</w>
              <w>be</w>
              <w>explicitly</w>
              <w>noted</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Python</w>
              <w>3,</w>
              <w>the</w>
              <w>Flask</w>
              <w>web</w>
              <w>framework,</w>
              <w>and</w>
              <w>a</w>
              <w>web</w>
              <w>browser</w>
              <w>are</w>
              <w>required</w>
              <w>for</w>
              <w>this</w>
              <w>tutorial,</w>
              <w>and</w>
              <w>installation</w>
              <w>instructions</w>
              <w>for</w>
              <w>all</w>
              <w>platforms</w>
              <w>are</w>
              <w>outlined</w>
              <w>below</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>The</w>
              <w>only</w>
              <w>knowledge</w>
              <w>explicitly</w>
              <w>assumed</w>
              <w>for</w>
              <w>this</w>
              <w>lesson</w>
              <w>is</w>
              <w>the</w>
              <w>ability</w>
              <w>to</w>
              <w>use</w>
              <w>a</w>
              <w>text</w>
              <w>editor,</w>
              <w>such</w>
              <w>as</w>
              <w>BBEdit</w>
              <w>on</w>
              <w>macOS</w>
              <w>or</w>
              <w>Notepad++</w>
              <w>on</w>
              <w>Windows</w>
              <pc>.</pc>
            </s>
            <s>
              <w>However,</w>
              <w>knowledge</w>
              <w>of</w>
              <w>the</w>
              <w>command</w>
              <w>line,</w>
              <w>Python,</w>
              <w>and</w>
              <w>web</w>
              <w>concepts</w>
              <w>such</w>
              <w>as</w>
              <w>HTTP</w>
              <w>may</w>
              <w>make</w>
              <w>this</w>
              <w>tutorial</w>
              <w>easier</w>
              <w>to</w>
              <w>follow</w>
              <pc>.</pc>
            </s>
            <s>
              <w>If</w>
              <w>you're</w>
              <w>new</w>
              <w>to</w>
              <w>Python,</w>
              <w>consider</w>
              <w>working</w>
              <w>through</w>
              <w>the</w>
              <w>Programming</w>
              <w>Historian</w>
              <w>series</w>
              <w>on</w>
              <ref target="/lessons/introduction-and-installation">
                <w>dealing</w>
                <w>with</w>
                <w>online</w>
                <w>sources</w>
              </ref>
              <w>to</w>
              <w>familiarize</w>
              <w>yourself</w>
              <w>with</w>
              <w>fundamental</w>
              <w>concepts</w>
              <w>in</w>
              <w>Python</w>
              <w>programming</w>
              <pc>.</pc>
            </s>
          </p>
        </div>
        <div type="3" n="2.2">
          <head>
            <s>
              <w>Installing</w>
              <w>Python</w>
              <w>and</w>
              <w>Flask</w>
            </s>
          </head>
          <p>
            <s>
              <w>For</w>
              <w>this</w>
              <w>tutorial,</w>
              <w>you</w>
              <w>will</w>
              <w>need</w>
              <w>Python</w>
              <w>3</w>
              <w>and</w>
              <w>the</w>
              <w>Flask</w>
              <w>web</w>
              <w>framework</w>
              <pc>.</pc>
            </s>
            <s>
              <w>You'll</w>
              <w>also</w>
              <w>require</w>
              <w>a</w>
              <w>web</w>
              <w>browser</w>
              <w>(such</w>
              <w>as</w>
              <w>Firefox)</w>
              <w>and</w>
              <w>a</w>
              <w>text</w>
              <w>editor</w>
              <w>(such</w>
              <w>as</w>
              <w>Notepad++</w>
              <w>or</w>
              <w>BBEdit)</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>To</w>
              <w>download</w>
              <w>Python,</w>
              <w>follow</w>
              <ref target="https://www.python.org/downloads/">
                <w>this</w>
                <w>link</w>
              </ref>
              <w>,</w>
              <w>select</w>
              <w>the</w>
              <w>button</w>
              <w>that</w>
              <w>says</w>
              <w>,</w>
              <w>and</w>
              <w>then</w>
              <w>run</w>
              <w>the</w>
              <w>installer</w>
              <w>as</w>
              <w>you</w>
              <w>normally</w>
              <w>would</w>
              <w>to</w>
              <w>install</w>
              <w>applications</w>
              <w>on</w>
              <w>your</w>
              <w>operating</w>
              <w>system</w>
              <pc>.</pc>
            </s>
            <code rend="inline">Download Python 3.x.x</code>
            <s>
              <w>The</w>
              <w>default</w>
              <w>settings</w>
              <w>should</w>
              <w>be</w>
              <w>fine</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>To</w>
              <w>confirm</w>
              <w>that</w>
              <w>Python</w>
              <w>installed</w>
              <w>successfully,</w>
              <w>first</w>
              <w>open</w>
              <w>the</w>
              <w>command</w>
              <w>line</w>
              <pc>.</pc>
            </s>
            <s>
              <w>In</w>
              <w>macOS,</w>
              <w>click</w>
              <w>the</w>
              <w>spotlight</w>
              <w>icon</w>
              <w>on</w>
              <w>the</w>
              <w>top</w>
              <w>right</w>
              <w>corner</w>
              <w>of</w>
              <w>your</w>
              <w>desktop</w>
              <w>(the</w>
              <w>magnifying</w>
              <w>glass)</w>
              <w>and</w>
              <w>type</w>
              <w>terminal</w>
              <pc>.</pc>
            </s>
            <s>
              <w>The</w>
              <w>terminal</w>
              <w>should</w>
              <w>be</w>
              <w>the</w>
              <w>first</w>
              <w>application</w>
              <w>that</w>
              <w>appears</w>
              <pc>.</pc>
            </s>
            <s>
              <w>On</w>
              <w>Windows,</w>
              <w>click</w>
              <w>the</w>
              <w>Start</w>
              <w>menu</w>
              <w>icon</w>
              <w>and</w>
              <w>type</w>
              <code rend="inline">cmd</code>
              <w>in</w>
              <w>the</w>
              <w>search</w>
              <w>box,</w>
              <w>then</w>
              <w>press</w>
              <code rend="inline">Enter</code>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Once</w>
              <w>your</w>
              <w>command</w>
              <w>line</w>
              <w>is</w>
              <w>open,</w>
              <w>enter</w>
              <w>these</w>
              <w>commands:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_creating-apis-with-python-and-flask_0" corresp="code_creating-apis-with-python-and-flask_0.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>If</w>
              <w>the</w>
              <w>output</w>
              <w>for</w>
              <w>these</w>
              <w>commands</w>
              <w>includes</w>
              <w>a</w>
              <w>version</w>
              <w>number,</w>
              <w>Python</w>
              <w>is</w>
              <w>installed</w>
              <w>and</w>
              <w>available</w>
              <w>from</w>
              <w>the</w>
              <w>command</w>
              <w>line</w>
              <w>and</w>
              <w>you</w>
              <w>can</w>
              <w>proceed</w>
              <w>to</w>
              <w>the</w>
              <w>next</w>
              <w>step</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Next,</w>
              <w>you'll</w>
              <w>need</w>
              <w>to</w>
              <w>install</w>
              <w>Flask</w>
              <pc>.</pc>
            </s>
            <s>
              <w>At</w>
              <w>the</w>
              <w>command</w>
              <w>line,</w>
              <w>type</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_creating-apis-with-python-and-flask_1" corresp="code_creating-apis-with-python-and-flask_1.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>This</w>
              <w>will</w>
              <w>install</w>
              <w>Flask</w>
              <w>using</w>
              <w>the</w>
              <w>pip</w>
              <w>package</w>
              <w>manager</w>
              <w>for</w>
              <w>Python</w>
              <pc>.</pc>
            </s>
            <s>
              <w>You</w>
              <w>should</w>
              <w>see</w>
              <w>some</w>
              <w>output</w>
              <w>ending</w>
              <w>in</w>
              <w>a</w>
              <w>notification</w>
              <w>that</w>
              <w>Flask</w>
              <w>has</w>
              <w>been</w>
              <w>installed</w>
              <w>successfully</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>As</w>
              <w>an</w>
              <w>alternative</w>
              <w>to</w>
              <w>the</w>
              <w>above</w>
              <w>installation</w>
              <w>instructions,</w>
              <w>you</w>
              <w>can</w>
              <w>install</w>
              <w>the</w>
              <w>Python</w>
              <w>3</w>
              <w>version</w>
              <w>of</w>
              <w>Anaconda,</w>
              <w>which</w>
              <w>can</w>
              <w>be</w>
              <w>downloaded</w>
              <ref target="https://www.continuum.io">
                <w>here</w>
              </ref>
              <pc>.</pc>
            </s>
            <s>
              <w>Anaconda</w>
              <w>comes</w>
              <w>with</w>
              <w>Flask,</w>
              <w>so</w>
              <w>if</w>
              <w>you</w>
              <w>go</w>
              <w>this</w>
              <w>route</w>
              <w>you</w>
              <w>will</w>
              <w>not</w>
              <w>need</w>
              <w>to</w>
              <w>install</w>
              <w>Flask</w>
              <w>using</w>
              <w>the</w>
              <w>pip</w>
              <w>package</w>
              <w>manager</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>If</w>
              <w>you're</w>
              <w>running</w>
              <w>into</w>
              <w>trouble</w>
              <w>installing</w>
              <w>Python,</w>
              <w>you</w>
              <w>may</w>
              <w>find</w>
              <ref target="/lessons/introduction-and-installation">
                <w>this</w>
                <w>Programming</w>
                <w>Historian</w>
                <w>article</w>
                <w>on</w>
                <w>installing</w>
                <w>Python</w>
              </ref>
              <w>helpful</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Note</w>
              <w>that</w>
              <w>the</w>
              <w>instructions</w>
              <w>in</w>
              <w>that</w>
              <w>tutorial</w>
              <w>are</w>
              <w>for</w>
              <w>installing</w>
              <w>Python</w>
              <w>2—make</w>
              <w>sure</w>
              <w>you</w>
              <w>choose</w>
              <w>Python</w>
              <w>3</w>
              <w>when</w>
              <w>downloading</w>
              <w>installers</w>
              <w>from</w>
              <w>the</w>
              <w>Python</w>
              <w>website,</w>
              <w>since</w>
              <w>this</w>
              <w>tutorial</w>
              <w>uses</w>
              <w>Python</w>
              <w>3</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>If</w>
              <w>you</w>
              <w>don't</w>
              <w>have</w>
              <w>a</w>
              <w>preferred</w>
              <w>text</w>
              <w>editor,</w>
              <w>I</w>
              <w>recommend</w>
              <ref target="https://www.barebones.com/products/bbedit/download.html">
                <w>BBEdit</w>
              </ref>
              <w>for</w>
              <w>macOS</w>
              <w>or</w>
              <ref target="https://notepad-plus-plus.org/">
                <w>Notepad++</w>
              </ref>
              <w>for</w>
              <w>Windows</w>
              <pc>.</pc>
            </s>
          </p>
        </div>
      </div>
      <div type="2" n="3">
        <head>
          <s>
            <w>Introducing</w>
            <w>APIs</w>
          </s>
        </head>
        <div type="3" n="3.1">
          <head>
            <s>
              <w>What</w>
              <w>is</w>
              <w>an</w>
              <w>API</w>
              <pc>?</pc>
            </s>
          </head>
          <p>
            <s>
              <w>If</w>
              <w>you've</w>
              <w>heard</w>
              <w>the</w>
              <w>term</w>
              <w>API</w>
              <w>before,</w>
              <w>chances</w>
              <w>are</w>
              <w>it's</w>
              <w>been</w>
              <w>used</w>
              <w>not</w>
              <w>to</w>
              <w>refer</w>
              <w>to</w>
              <w>APIs</w>
              <w>in</w>
              <w>general,</w>
              <w>but</w>
              <w>instead</w>
              <w>to</w>
              <w>a</w>
              <w>specific</w>
              <w>kind</w>
              <w>of</w>
              <w>API,</w>
              <w>the</w>
              <w>web</w>
              <w>API</w>
              <pc>.</pc>
            </s>
            <s>
              <w>A</w>
              <w>web</w>
              <w>API</w>
              <w>allows</w>
              <w>for</w>
              <w>information</w>
              <w>or</w>
              <w>functionality</w>
              <w>to</w>
              <w>be</w>
              <w>manipulated</w>
              <w>by</w>
              <w>other</w>
              <w>programs</w>
              <w>via</w>
              <w>the</w>
              <w>internet</w>
              <pc>.</pc>
            </s>
            <s>
              <w>For</w>
              <w>example,</w>
              <w>with</w>
              <w>Twitter's</w>
              <w>web</w>
              <w>API,</w>
              <w>you</w>
              <w>can</w>
              <w>write</w>
              <w>a</w>
              <w>program</w>
              <w>in</w>
              <w>a</w>
              <w>language</w>
              <w>like</w>
              <w>Python</w>
              <w>or</w>
              <w>Javascript</w>
              <w>that</w>
              <w>can</w>
              <w>perform</w>
              <w>tasks</w>
              <w>such</w>
              <w>as</w>
              <w>favoriting</w>
              <w>tweets</w>
              <w>or</w>
              <w>collecting</w>
              <w>tweet</w>
              <w>metadata</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>In</w>
              <w>programming</w>
              <w>more</w>
              <w>generally,</w>
              <w>the</w>
              <w>term</w>
              <w>API,</w>
              <w>short</w>
              <w>for</w>
              <w>Application</w>
              <w>Programming</w>
              <w>Interface,</w>
              <w>refers</w>
              <w>to</w>
              <w>a</w>
              <w>part</w>
              <w>of</w>
              <w>a</w>
              <w>computer</w>
              <w>program</w>
              <w>designed</w>
              <w>to</w>
              <w>be</w>
              <w>used</w>
              <w>or</w>
              <w>manipulated</w>
              <w>by</w>
              <w>another</w>
              <w>program,</w>
              <w>as</w>
              <w>opposed</w>
              <w>to</w>
              <w>an</w>
              <w>interface</w>
              <w>designed</w>
              <w>to</w>
              <w>be</w>
              <w>used</w>
              <w>or</w>
              <w>manipulated</w>
              <w>by</w>
              <w>a</w>
              <w>human</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Computer</w>
              <w>programs</w>
              <w>frequently</w>
              <w>need</w>
              <w>to</w>
              <w>communicate</w>
              <w>amongst</w>
              <w>themselves</w>
              <w>or</w>
              <w>with</w>
              <w>the</w>
              <w>underlying</w>
              <w>operating</w>
              <w>system,</w>
              <w>and</w>
              <w>APIs</w>
              <w>are</w>
              <w>one</w>
              <w>way</w>
              <w>they</w>
              <w>do</w>
              <w>it</w>
              <pc>.</pc>
            </s>
            <s>
              <w>In</w>
              <w>this</w>
              <w>tutorial,</w>
              <w>however,</w>
              <w>we'll</w>
              <w>be</w>
              <w>using</w>
              <w>the</w>
              <w>term</w>
              <w>API</w>
              <w>to</w>
              <w>refer</w>
              <w>specifically</w>
              <w>to</w>
              <w>web</w>
              <w>APIs</w>
              <pc>.</pc>
            </s>
          </p>
        </div>
        <div type="3" n="3.2">
          <head>
            <s>
              <w>When</w>
              <w>to</w>
              <w>Create</w>
              <w>an</w>
              <w>API</w>
            </s>
          </head>
          <p>
            <s>
              <w>In</w>
              <w>general,</w>
              <w>consider</w>
              <w>an</w>
              <w>API</w>
              <w>if:</w>
            </s>
          </p>
          <list type="ordered">
            <item>
              <s>
                <w>Your</w>
                <w>data</w>
                <w>set</w>
                <w>is</w>
                <w>large,</w>
                <w>making</w>
                <w>download</w>
                <w>via</w>
                <w>FTP</w>
                <w>unwieldy</w>
                <w>or</w>
                <w>resource-intensive</w>
                <pc>.</pc>
              </s>
            </item>
            <item>
              <s>
                <w>Your</w>
                <w>users</w>
                <w>will</w>
                <w>need</w>
                <w>to</w>
                <w>access</w>
                <w>your</w>
                <w>data</w>
                <w>in</w>
                <w>real</w>
                <w>time,</w>
                <w>such</w>
                <w>as</w>
                <w>for</w>
                <w>display</w>
                <w>on</w>
                <w>another</w>
                <w>website</w>
                <w>or</w>
                <w>as</w>
                <w>part</w>
                <w>of</w>
                <w>an</w>
                <w>application</w>
                <pc>.</pc>
              </s>
            </item>
            <item>
              <s>
                <w>Your</w>
                <w>data</w>
                <w>changes</w>
                <w>or</w>
                <w>is</w>
                <w>updated</w>
                <w>frequently</w>
                <pc>.</pc>
              </s>
            </item>
            <item>
              <s>
                <w>Your</w>
                <w>users</w>
                <w>only</w>
                <w>need</w>
                <w>access</w>
                <w>to</w>
                <w>a</w>
                <w>part</w>
                <w>of</w>
                <w>the</w>
                <w>data</w>
                <w>at</w>
                <w>any</w>
                <w>one</w>
                <w>time</w>
                <pc>.</pc>
              </s>
            </item>
            <item>
              <s>
                <w>Your</w>
                <w>users</w>
                <w>will</w>
                <w>need</w>
                <w>to</w>
                <w>perform</w>
                <w>actions</w>
                <w>other</w>
                <w>than</w>
                <w>retrieve</w>
                <w>data,</w>
                <w>such</w>
                <w>as</w>
                <w>contributing,</w>
                <w>updating,</w>
                <w>or</w>
                <w>deleting</w>
                <w>data</w>
                <pc>.</pc>
              </s>
            </item>
          </list>
          <p>
            <s>
              <w>If</w>
              <w>you</w>
              <w>have</w>
              <w>data</w>
              <w>you</w>
              <w>wish</w>
              <w>to</w>
              <w>share</w>
              <w>with</w>
              <w>the</w>
              <w>world,</w>
              <w>an</w>
              <w>API</w>
              <w>is</w>
              <w>one</w>
              <w>way</w>
              <w>you</w>
              <w>can</w>
              <w>get</w>
              <w>it</w>
              <w>into</w>
              <w>the</w>
              <w>hands</w>
              <w>of</w>
              <w>others</w>
              <pc>.</pc>
            </s>
            <s>
              <w>However,</w>
              <w>APIs</w>
              <w>are</w>
              <w>not</w>
              <w>always</w>
              <w>the</w>
              <w>best</w>
              <w>way</w>
              <w>of</w>
              <w>sharing</w>
              <w>data</w>
              <w>with</w>
              <w>users</w>
              <pc>.</pc>
            </s>
            <s>
              <w>If</w>
              <w>the</w>
              <w>size</w>
              <w>of</w>
              <w>the</w>
              <w>data</w>
              <w>you</w>
              <w>are</w>
              <w>providing</w>
              <w>is</w>
              <w>relatively</w>
              <w>small,</w>
              <w>you</w>
              <w>can</w>
              <w>instead</w>
              <w>provide</w>
              <w>a</w>
              <w>"data</w>
              <w>dump"</w>
              <w>in</w>
              <w>the</w>
              <w>form</w>
              <w>of</w>
              <w>a</w>
              <w>downloadable</w>
              <w>JSON,</w>
              <w>XML,</w>
              <w>CSV,</w>
              <w>or</w>
              <w>SQLite</w>
              <w>file</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Depending</w>
              <w>on</w>
              <w>your</w>
              <w>resources,</w>
              <w>this</w>
              <w>approach</w>
              <w>can</w>
              <w>be</w>
              <w>viable</w>
              <w>up</w>
              <w>to</w>
              <w>a</w>
              <w>download</w>
              <w>size</w>
              <w>of</w>
              <w>a</w>
              <w>few</w>
              <w>gigabytes</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Remember</w>
              <w>that</w>
              <w>you</w>
              <w>can</w>
              <w>provide</w>
              <w>both</w>
              <w>a</w>
              <w>data</w>
              <w>dump</w>
              <w>and</w>
              <w>an</w>
              <w>API,</w>
              <w>and</w>
              <w>individual</w>
              <w>users</w>
              <w>may</w>
              <w>find</w>
              <w>one</w>
              <w>or</w>
              <w>the</w>
              <w>other</w>
              <w>to</w>
              <w>better</w>
              <w>match</w>
              <w>their</w>
              <w>use</w>
              <w>case</w>
              <pc>.</pc>
            </s>
            <s>
              <ref target="https://openlibrary.org/">
                <w>Open</w>
                <w>Library</w>
              </ref>
              <w>,</w>
              <w>for</w>
              <w>example,</w>
              <w>provides</w>
              <w>both</w>
              <ref target="https://openlibrary.org/developers/dumps">
                <w>a</w>
                <w>data</w>
                <w>dump</w>
              </ref>
              <w>and</w>
              <ref target="https://openlibrary.org/developers/api">
                <w>an</w>
                <w>API</w>
              </ref>
              <w>,</w>
              <w>each</w>
              <w>of</w>
              <w>which</w>
              <w>serves</w>
              <w>different</w>
              <w>use</w>
              <w>cases</w>
              <w>for</w>
              <w>different</w>
              <w>users</w>
              <pc>.</pc>
            </s>
          </p>
        </div>
        <div type="3" n="3.3">
          <head>
            <s>
              <w>API</w>
              <w>Terminology</w>
            </s>
          </head>
          <p>
            <s>
              <w>When</w>
              <w>using</w>
              <w>or</w>
              <w>building</w>
              <w>APIs,</w>
              <w>you</w>
              <w>will</w>
              <w>encounter</w>
              <w>these</w>
              <w>terms</w>
              <w>frequently:</w>
            </s>
          </p>
          <list type="unordered">
            <item>
              <s>
                <w>is</w>
                <w>the</w>
                <w>primary</w>
                <w>means</w>
                <w>of</w>
                <w>communicating</w>
                <w>data</w>
                <w>on</w>
                <w>the</w>
                <w>web</w>
                <pc>.</pc>
              </s>
              <hi rend="bold">
                <s>
                  <w>HTTP</w>
                  <w>(Hypertext</w>
                  <w>Transfer</w>
                  <w>Protocol)</w>
                </s>
              </hi>
              <s>
                <w>HTTP</w>
                <w>implements</w>
                <w>a</w>
                <w>number</w>
                <w>of</w>
                <w>"methods,"</w>
                <w>which</w>
                <w>tell</w>
                <w>which</w>
                <w>direction</w>
                <w>data</w>
                <w>is</w>
                <w>moving</w>
                <w>and</w>
                <w>what</w>
                <w>should</w>
                <w>happen</w>
                <w>to</w>
                <w>it</w>
                <pc>.</pc>
              </s>
              <s>
                <w>The</w>
                <w>two</w>
                <w>most</w>
                <w>common</w>
                <w>are</w>
                <w>GET,</w>
                <w>which</w>
                <w>pulls</w>
                <w>data</w>
                <w>from</w>
                <w>a</w>
                <w>server,</w>
                <w>and</w>
                <w>POST,</w>
                <w>which</w>
                <w>pushes</w>
                <w>new</w>
                <w>data</w>
                <w>to</w>
                <w>a</w>
                <w>server</w>
                <pc>.</pc>
              </s>
            </item>
            <item>
              <s>
                <w>-</w>
                <w>An</w>
                <w>address</w>
                <w>for</w>
                <w>a</w>
                <w>resource</w>
                <w>on</w>
                <w>the</w>
                <w>web,</w>
                <w>such</w>
                <w>as</w>
                <pc>.</pc>
              </s>
              <hi rend="bold">
                <s>
                  <w>URL</w>
                  <w>(Uniform</w>
                  <w>Resource</w>
                  <w>Locator)</w>
                </s>
              </hi>
              <code rend="inline">https://programminghistorian.org/about</code>
              <s>
                <w>A</w>
                <w>URL</w>
                <w>consists</w>
                <w>of</w>
                <w>a</w>
                <w>(</w>
                <code rend="inline">http://</code>
                <w>),</w>
                <w>domain</w>
                <w>(</w>
                <code rend="inline">programminghistorian.org</code>
                <w>),</w>
                <w>and</w>
                <w>optional</w>
                <w>(</w>
                <code rend="inline">/about</code>
                <w>)</w>
                <pc>.</pc>
              </s>
              <hi rend="bold">
                <s>
                  <w>protocol</w>
                </s>
              </hi>
              <hi rend="bold">
                <s>
                  <w>path</w>
                </s>
              </hi>
              <s>
                <w>A</w>
                <w>URL</w>
                <w>describes</w>
                <w>the</w>
                <w>location</w>
                <w>of</w>
                <w>a</w>
                <w>specific</w>
                <w>resource,</w>
                <w>such</w>
                <w>as</w>
                <w>a</w>
                <w>web</w>
                <w>page</w>
                <pc>.</pc>
              </s>
              <s>
                <w>When</w>
                <w>reading</w>
                <w>about</w>
                <w>APIs,</w>
                <w>you</w>
                <w>may</w>
                <w>see</w>
                <w>the</w>
                <w>terms</w>
                <code rend="inline">URL</code>
                <w>,</w>
                <code rend="inline">request</code>
                <w>,</w>
                <code rend="inline">URI</code>
                <w>,</w>
                <w>or</w>
                <code rend="inline">endpoint</code>
                <w>used</w>
                <w>to</w>
                <w>describe</w>
                <w>adjacent</w>
                <w>ideas</w>
                <pc>.</pc>
              </s>
              <s>
                <w>This</w>
                <w>tutorial</w>
                <w>will</w>
                <w>prefer</w>
                <w>the</w>
                <w>terms</w>
                <w>URL</w>
                <w>and</w>
                <w>request</w>
                <w>to</w>
                <w>avoid</w>
                <w>complication</w>
                <pc>.</pc>
              </s>
              <s>
                <w>You</w>
                <w>can</w>
                <w>follow</w>
                <w>a</w>
                <w>URL</w>
                <w>or</w>
                <w>make</w>
                <w>a</w>
                <w>GET</w>
                <w>request</w>
                <w>in</w>
                <w>your</w>
                <w>browser,</w>
                <w>so</w>
                <w>you</w>
                <w>won't</w>
                <w>need</w>
                <w>any</w>
                <w>special</w>
                <w>software</w>
                <w>to</w>
                <w>make</w>
                <w>requests</w>
                <w>in</w>
                <w>this</w>
                <w>tutorial</w>
                <pc>.</pc>
              </s>
            </item>
            <item>
              <s>
                <w>is</w>
                <w>a</w>
                <w>text-based</w>
                <w>data</w>
                <w>storage</w>
                <w>format</w>
                <w>that</w>
                <w>is</w>
                <w>designed</w>
                <w>to</w>
                <w>be</w>
                <w>easy</w>
                <w>to</w>
                <w>read</w>
                <w>for</w>
                <w>both</w>
                <w>humans</w>
                <w>and</w>
                <w>machines</w>
                <pc>.</pc>
              </s>
              <hi rend="bold">
                <s>
                  <w>JSON</w>
                  <w>(JavaScript</w>
                  <w>Object</w>
                  <w>Notation)</w>
                </s>
              </hi>
              <s>
                <w>JSON</w>
                <w>is</w>
                <w>generally</w>
                <w>the</w>
                <w>most</w>
                <w>common</w>
                <w>format</w>
                <w>for</w>
                <w>returning</w>
                <w>data</w>
                <w>through</w>
                <w>an</w>
                <w>API,</w>
                <w>XML</w>
                <w>being</w>
                <w>the</w>
                <w>second</w>
                <w>most</w>
                <w>common</w>
                <pc>.</pc>
              </s>
            </item>
            <item>
              <s>
                <w>is</w>
                <w>a</w>
                <w>philosophy</w>
                <w>that</w>
                <w>describes</w>
                <w>some</w>
                <w>best</w>
                <w>practices</w>
                <w>for</w>
                <w>implementing</w>
                <w>APIs</w>
                <pc>.</pc>
              </s>
              <hi rend="bold">
                <s>
                  <w>REST</w>
                  <w>(REpresentational</w>
                  <w>State</w>
                  <w>Transfer)</w>
                </s>
              </hi>
              <s>
                <w>APIs</w>
                <w>designed</w>
                <w>with</w>
                <w>some</w>
                <w>or</w>
                <w>all</w>
                <w>of</w>
                <w>these</w>
                <w>principles</w>
                <w>in</w>
                <w>mind</w>
                <w>are</w>
                <w>called</w>
                <w>REST</w>
                <w>APIs</w>
                <pc>.</pc>
              </s>
              <s>
                <w>While</w>
                <w>the</w>
                <w>API</w>
                <w>outlined</w>
                <w>in</w>
                <w>this</w>
                <w>lesson</w>
                <w>uses</w>
                <w>some</w>
                <w>REST</w>
                <w>principles,</w>
                <w>there</w>
                <w>is</w>
                <w>a</w>
                <w>great</w>
                <w>deal</w>
                <w>of</w>
                <w>disagreement</w>
                <w>around</w>
                <w>this</w>
                <w>term</w>
                <pc>.</pc>
              </s>
              <s>
                <w>For</w>
                <w>this</w>
                <w>reason,</w>
                <w>I</w>
                <w>do</w>
                <w>not</w>
                <w>describe</w>
                <w>the</w>
                <w>example</w>
                <w>APIs</w>
                <w>here</w>
                <w>as</w>
                <w>REST</w>
                <w>APIs,</w>
                <w>but</w>
                <w>instead</w>
                <w>as</w>
                <w>web</w>
                <w>or</w>
                <w>HTTP</w>
                <w>APIs</w>
                <pc>.</pc>
              </s>
            </item>
          </list>
        </div>
      </div>
      <div type="2" n="4">
        <head>
          <s>
            <w>Using</w>
            <w>APIs</w>
          </s>
        </head>
        <div type="3" n="4.1">
          <head>
            <s>
              <w>Why</w>
              <w>Use</w>
              <w>APIs</w>
              <w>as</w>
              <w>a</w>
              <w>Researcher</w>
              <pc>?</pc>
            </s>
          </head>
          <p>
            <s>
              <w>The</w>
              <w>primary</w>
              <w>focus</w>
              <w>of</w>
              <w>this</w>
              <w>lesson</w>
              <w>is</w>
              <w>on</w>
              <w>creating</w>
              <w>an</w>
              <w>API,</w>
              <w>not</w>
              <w>exploring</w>
              <w>or</w>
              <w>using</w>
              <w>an</w>
              <w>API</w>
              <w>that</w>
              <w>has</w>
              <w>already</w>
              <w>been</w>
              <w>implemented</w>
              <pc>.</pc>
            </s>
            <s>
              <w>However,</w>
              <w>before</w>
              <w>we</w>
              <w>start</w>
              <w>building</w>
              <w>our</w>
              <w>own</w>
              <w>API,</w>
              <w>it</w>
              <w>may</w>
              <w>be</w>
              <w>useful</w>
              <w>to</w>
              <w>discuss</w>
              <w>how</w>
              <w>APIs</w>
              <w>are</w>
              <w>useful</w>
              <w>for</w>
              <w>researchers</w>
              <pc>.</pc>
            </s>
            <s>
              <w>In</w>
              <w>this</w>
              <w>section,</w>
              <w>we'll</w>
              <w>see</w>
              <w>how</w>
              <w>APIs</w>
              <w>can</w>
              <w>be</w>
              <w>useful</w>
              <w>for</w>
              <w>approaching</w>
              <w>historical,</w>
              <w>textual,</w>
              <w>or</w>
              <w>sociological</w>
              <w>questions</w>
              <w>using</w>
              <w>a</w>
              <w>"macroscopic"</w>
              <w>or</w>
              <w>"distant</w>
              <w>reading"</w>
              <w>approach</w>
              <w>that</w>
              <w>makes</w>
              <w>use</w>
              <w>of</w>
              <w>relatively</w>
              <w>large</w>
              <w>amounts</w>
              <w>of</w>
              <w>information</w>
              <pc>.</pc>
            </s>
            <s>
              <w>In</w>
              <w>doing</w>
              <w>so,</w>
              <w>we'll</w>
              <w>familiarize</w>
              <w>ourselves</w>
              <w>with</w>
              <w>the</w>
              <w>basic</w>
              <w>elements</w>
              <w>of</w>
              <w>a</w>
              <w>good</w>
              <w>API</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Considering</w>
              <w>APIs</w>
              <w>from</w>
              <w>the</w>
              <w>perspective</w>
              <w>of</w>
              <w>a</w>
              <w>user</w>
              <w>will</w>
              <w>come</w>
              <w>in</w>
              <w>useful</w>
              <w>when</w>
              <w>we</w>
              <w>begin</w>
              <w>to</w>
              <w>design</w>
              <w>our</w>
              <w>own</w>
              <w>API</w>
              <w>later</w>
              <w>in</w>
              <w>the</w>
              <w>lesson</w>
              <pc>.</pc>
            </s>
          </p>
        </div>
        <div type="3" n="4.2">
          <head>
            <s>
              <w>An</w>
              <w>API</w>
              <w>Case</w>
              <w>Study:</w>
              <w>Sensationalism</w>
              <w>and</w>
              <w>Historical</w>
              <w>Fires</w>
            </s>
          </head>
          <p>
            <s>
              <w>Imagine</w>
              <w>that</w>
              <w>our</w>
              <w>research</w>
              <w>area</w>
              <w>is</w>
              <w>sensationalism</w>
              <w>and</w>
              <w>the</w>
              <w>press:</w>
              <w>has</w>
              <w>newspaper</w>
              <w>coverage</w>
              <w>of</w>
              <w>major</w>
              <w>events</w>
              <w>in</w>
              <w>the</w>
              <w>United</w>
              <w>States</w>
              <w>become</w>
              <w>more</w>
              <w>or</w>
              <w>less</w>
              <w>sensational</w>
              <w>over</w>
              <w>time</w>
              <pc>?</pc>
            </s>
            <s>
              <w>Narrowing</w>
              <w>the</w>
              <w>topic,</w>
              <w>we</w>
              <w>might</w>
              <w>ask</w>
              <w>whether</w>
              <w>press</w>
              <w>coverage</w>
              <w>of,</w>
              <w>for</w>
              <w>example,</w>
              <w>urban</w>
              <w>fires</w>
              <w>has</w>
              <w>increased</w>
              <w>or</w>
              <w>decreased</w>
              <w>with</w>
              <w>government</w>
              <w>reporting</w>
              <w>on</w>
              <w>fire-related</w>
              <w>relief</w>
              <w>spending</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>While</w>
              <w>we</w>
              <w>won't</w>
              <w>be</w>
              <w>able</w>
              <w>to</w>
              <w>explore</w>
              <w>this</w>
              <w>question</w>
              <w>thoroughly,</w>
              <w>we</w>
              <w>can</w>
              <w>begin</w>
              <w>to</w>
              <w>approach</w>
              <w>this</w>
              <w>research</w>
              <w>space</w>
              <w>by</w>
              <w>collecting</w>
              <w>historical</w>
              <w>data</w>
              <w>on</w>
              <w>newspaper</w>
              <w>coverage</w>
              <w>of</w>
              <w>fires</w>
              <w>using</w>
              <w>an</w>
              <w>API—in</w>
              <w>this</w>
              <w>case,</w>
              <w>the</w>
              <ref target="http://chroniclingamerica.loc.gov/about/api/">
                <w>Chronicling</w>
                <w>America</w>
                <w>Historical</w>
                <w>Newspaper</w>
                <w>API</w>
              </ref>
              <pc>.</pc>
            </s>
            <s>
              <w>The</w>
              <w>Chronicling</w>
              <w>America</w>
              <w>API</w>
              <w>allows</w>
              <w>access</w>
              <w>to</w>
              <w>metadata</w>
              <w>and</w>
              <w>text</w>
              <w>for</w>
              <w>millions</w>
              <w>of</w>
              <w>scanned</w>
              <w>newspaper</w>
              <w>pages</w>
              <pc>.</pc>
            </s>
            <s>
              <w>In</w>
              <w>addition,</w>
              <w>unlike</w>
              <w>many</w>
              <w>other</w>
              <w>APIs,</w>
              <w>it</w>
              <w>also</w>
              <w>does</w>
              <w>not</w>
              <w>require</w>
              <w>an</w>
              <w>authentication</w>
              <w>process,</w>
              <w>allowing</w>
              <w>us</w>
              <w>to</w>
              <w>immediately</w>
              <w>explore</w>
              <w>the</w>
              <w>available</w>
              <w>data</w>
              <w>without</w>
              <w>signing</w>
              <w>up</w>
              <w>for</w>
              <w>an</w>
              <w>account</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Our</w>
              <w>initial</w>
              <w>goal</w>
              <w>in</w>
              <w>approaching</w>
              <w>this</w>
              <w>research</w>
              <w>question</w>
              <w>is</w>
              <w>to</w>
              <w>find</w>
              <w>all</w>
              <w>newspaper</w>
              <w>stories</w>
              <w>in</w>
              <w>the</w>
              <w>Chronicling</w>
              <w>America</w>
              <w>database</w>
              <w>that</w>
              <w>use</w>
              <w>the</w>
              <w>term</w>
              <w>"fire</w>
              <pc>.</pc>
            </s>
            <s>
              <w>"</w>
              <w>Typically,</w>
              <w>use</w>
              <w>of</w>
              <w>an</w>
              <w>API</w>
              <w>starts</w>
              <w>with</w>
              <w>its</w>
              <w>documentation</w>
              <pc>.</pc>
            </s>
            <s>
              <w>On</w>
              <w>the</w>
              <ref target="http://chroniclingamerica.loc.gov/about/api/">
                <w>Chronicling</w>
                <w>America</w>
                <w>API</w>
                <w>page</w>
              </ref>
              <w>,</w>
              <w>we</w>
              <w>find</w>
              <w>two</w>
              <w>pieces</w>
              <w>of</w>
              <w>information</w>
              <w>critical</w>
              <w>for</w>
              <w>getting</w>
              <w>the</w>
              <w>data</w>
              <w>we</w>
              <w>want</w>
              <w>from</w>
              <w>the</w>
              <w>API:</w>
              <w>the</w>
              <w>API's</w>
              <w>and</w>
              <w>the</w>
              <w>corresponding</w>
              <w>to</w>
              <w>the</w>
              <w>function</w>
              <w>we</w>
              <w>want</w>
              <w>to</w>
              <w>perform</w>
              <w>on</w>
              <w>the</w>
              <w>API—in</w>
              <w>this</w>
              <w>case,</w>
              <w>searching</w>
              <w>the</w>
              <w>database</w>
              <pc>.</pc>
            </s>
            <hi rend="bold">
              <s>
                <w>base</w>
                <w>URL</w>
              </s>
            </hi>
            <hi rend="bold">
              <s>
                <w>path</w>
              </s>
            </hi>
          </p>
          <p>
            <s>
              <w>Our</w>
              <w>base</w>
              <w>URL</w>
              <w>is:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_creating-apis-with-python-and-flask_2" corresp="code_creating-apis-with-python-and-flask_2.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>All</w>
              <w>requests</w>
              <w>we</w>
              <w>make</w>
              <w>to</w>
              <w>the</w>
              <w>API</w>
              <w>must</w>
              <w>begin</w>
              <w>with</w>
              <w>this</w>
              <w>portion</w>
              <w>of</w>
              <w>the</w>
              <w>URL</w>
              <pc>.</pc>
            </s>
            <s>
              <w>All</w>
              <w>APIs</w>
              <w>have</w>
              <w>a</w>
              <w>base</w>
              <w>URL</w>
              <w>like</w>
              <w>this</w>
              <w>one</w>
              <w>that</w>
              <w>is</w>
              <w>the</w>
              <w>same</w>
              <w>across</w>
              <w>all</w>
              <w>requests</w>
              <w>to</w>
              <w>the</w>
              <w>API</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Our</w>
              <w>path</w>
              <w>is:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_creating-apis-with-python-and-flask_3" corresp="code_creating-apis-with-python-and-flask_3.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>If</w>
              <w>we</w>
              <w>combine</w>
              <w>the</w>
              <w>base</w>
              <w>URL</w>
              <w>and</w>
              <w>the</w>
              <w>path</w>
              <w>together</w>
              <w>into</w>
              <w>one</w>
              <w>URL,</w>
              <w>we'll</w>
              <w>have</w>
              <w>created</w>
              <w>a</w>
              <w>request</w>
              <w>to</w>
              <w>the</w>
              <w>Chronicling</w>
              <w>America</w>
              <w>API</w>
              <w>that</w>
              <w>returns</w>
              <w>all</w>
              <w>available</w>
              <w>data</w>
              <w>in</w>
              <w>the</w>
              <w>database:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_creating-apis-with-python-and-flask_4" corresp="code_creating-apis-with-python-and-flask_4.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>If</w>
              <w>you</w>
              <ref target="http://chroniclingamerica.loc.gov/search/pages/results/">
                <w>visit</w>
                <w>the</w>
                <w>link</w>
                <w>above</w>
              </ref>
              <w>,</w>
              <w>you'll</w>
              <w>see</w>
              <w>all</w>
              <w>items</w>
              <w>available</w>
              <w>in</w>
              <w>Chronicling</w>
              <w>America</w>
              <w>(12,243,633</w>
              <w>at</w>
              <w>the</w>
              <w>time</w>
              <w>of</w>
              <w>writing),</w>
              <w>,</w>
              <w>not</w>
              <w>just</w>
              <w>the</w>
              <w>entries</w>
              <w>related</w>
              <w>to</w>
              <w>our</w>
              <w>search</w>
              <w>term,</w>
              <w>"fire</w>
              <pc>.</pc>
            </s>
            <s>
              <w>"</w>
              <w>This</w>
              <w>request</w>
              <w>also</w>
              <w>returns</w>
              <w>a</w>
              <w>formatted</w>
              <w>HTML</w>
              <w>view,</w>
              <w>rather</w>
              <w>than</w>
              <w>the</w>
              <w>structured</w>
              <w>view</w>
              <w>we</w>
              <w>want</w>
              <w>to</w>
              <w>use</w>
              <w>to</w>
              <w>collect</w>
              <w>data</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>According</w>
              <w>to</w>
              <w>the</w>
              <w>Chronicling</w>
              <w>America</w>
              <w>documentation,</w>
              <w>in</w>
              <w>order</w>
              <w>to</w>
              <w>get</w>
              <w>structured</w>
              <w>data</w>
              <w>specifically</w>
              <w>relating</w>
              <w>to</w>
              <w>fire,</w>
              <w>we</w>
              <w>need</w>
              <w>to</w>
              <w>pass</w>
              <w>one</w>
              <w>more</w>
              <w>kind</w>
              <w>of</w>
              <w>data</w>
              <w>in</w>
              <w>our</w>
              <w>request:</w>
              <hi rend="bold">
                <s>
                  <w>query</w>
                  <w>parameters</w>
                </s>
              </hi>
              <pc>.</pc>
            </s>
          </p>
          <ab>
            <code xml:id="code_creating-apis-with-python-and-flask_5" corresp="code_creating-apis-with-python-and-flask_5.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>The</w>
              <w>query</w>
              <w>parameters</w>
              <w>follow</w>
              <w>the</w>
              <w>in</w>
              <w>the</w>
              <w>request,</w>
              <w>and</w>
              <w>are</w>
              <w>seperated</w>
              <w>from</w>
              <w>one</w>
              <w>another</w>
              <w>by</w>
              <w>the</w>
              <w>symbol</w>
              <pc>.</pc>
            </s>
            <code rend="inline">?</code>
            <code rend="inline">&amp;</code>
            <s>
              <w>The</w>
              <w>first</w>
              <w>query</w>
              <w>parameter,</w>
              <code rend="inline">format=json</code>
              <w>,</w>
              <w>changes</w>
              <w>the</w>
              <w>returned</w>
              <w>data</w>
              <w>from</w>
              <w>HTML</w>
              <w>to</w>
              <w>JSON</w>
              <pc>.</pc>
            </s>
            <s>
              <w>The</w>
              <w>second,</w>
              <code rend="inline">proxtext=fire</code>
              <w>,</w>
              <w>narrows</w>
              <w>the</w>
              <w>returned</w>
              <w>entries</w>
              <w>to</w>
              <w>those</w>
              <w>that</w>
              <w>include</w>
              <w>our</w>
              <w>search</w>
              <w>term</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>If</w>
              <w>you</w>
              <ref target="http://chroniclingamerica.loc.gov/search/pages/results/?format=json&amp;proxtext=fire">
                <w>follow</w>
                <w>the</w>
                <w>above</w>
                <w>link</w>
              </ref>
              <w>in</w>
              <w>your</w>
              <w>browser,</w>
              <w>you'll</w>
              <w>see</w>
              <w>a</w>
              <w>structured</w>
              <w>list</w>
              <w>of</w>
              <w>the</w>
              <w>items</w>
              <w>in</w>
              <w>the</w>
              <w>database</w>
              <w>related</w>
              <w>to</w>
              <w>the</w>
              <w>search</w>
              <w>term</w>
              <w>"fire</w>
              <pc>.</pc>
            </s>
            <s>
              <w>"</w>
              <w>The</w>
              <w>format</w>
              <w>of</w>
              <w>the</w>
              <w>returned</w>
              <w>data</w>
              <w>is</w>
              <w>called</w>
              <w>JSON,</w>
              <w>and</w>
              <w>is</w>
              <w>a</w>
              <w>structured</w>
              <w>format</w>
              <w>that</w>
              <w>looks</w>
              <w>like</w>
              <w>this</w>
              <w>excerpt</w>
              <w>from</w>
              <w>the</w>
              <w>Chronicling</w>
              <w>America</w>
              <w>results:</w>
            </s>
          </p>
          <ab>
            <code lang="language-json" xml:id="code_creating-apis-with-python-and-flask_6" corresp="code_creating-apis-with-python-and-flask_6.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>By</w>
              <w>making</w>
              <w>requests</w>
              <w>to</w>
              <w>the</w>
              <w>Chronicling</w>
              <w>America</w>
              <w>API,</w>
              <w>we've</w>
              <w>accessed</w>
              <w>information</w>
              <w>on</w>
              <w>news</w>
              <w>stories</w>
              <w>that</w>
              <w>contain</w>
              <w>the</w>
              <w>search</w>
              <w>term</w>
              <w>"fire,"</w>
              <w>and</w>
              <w>returned</w>
              <w>data</w>
              <w>that</w>
              <w>includes</w>
              <w>the</w>
              <w>date</w>
              <w>of</w>
              <w>publication</w>
              <w>and</w>
              <w>the</w>
              <w>page</w>
              <w>the</w>
              <w>article</w>
              <w>appears</w>
              <w>on</w>
              <pc>.</pc>
            </s>
            <s>
              <w>If</w>
              <w>we</w>
              <w>were</w>
              <w>to</w>
              <w>pursue</w>
              <w>this</w>
              <w>research</w>
              <w>question</w>
              <w>further,</w>
              <w>a</w>
              <w>next</w>
              <w>step</w>
              <w>might</w>
              <w>be</w>
              <w>finding</w>
              <w>how</w>
              <w>many</w>
              <w>stories</w>
              <w>relating</w>
              <w>to</w>
              <w>fire</w>
              <w>appear</w>
              <w>on</w>
              <w>a</w>
              <w>newspaper's</w>
              <w>front</w>
              <w>page</w>
              <w>over</w>
              <w>time,</w>
              <w>or</w>
              <w>perhaps</w>
              <w>cleaning</w>
              <w>the</w>
              <w>data</w>
              <w>to</w>
              <w>reduce</w>
              <w>the</w>
              <w>number</w>
              <w>of</w>
              <w>false</w>
              <w>positives</w>
              <pc>.</pc>
            </s>
            <s>
              <w>As</w>
              <w>we</w>
              <w>have</w>
              <w>seen,</w>
              <w>however,</w>
              <w>exploring</w>
              <w>an</w>
              <w>API</w>
              <w>can</w>
              <w>be</w>
              <w>a</w>
              <w>useful</w>
              <w>first</w>
              <w>step</w>
              <w>in</w>
              <w>gathering</w>
              <w>data</w>
              <w>to</w>
              <w>tackle</w>
              <w>a</w>
              <w>research</w>
              <w>question</w>
              <pc>.</pc>
            </s>
          </p>
          <p style="alert alert-warning">
            <s>
              <w>Note</w>
              <w>that</w>
              <w>in</w>
              <w>this</w>
              <w>section,</w>
              <w>we</w>
              <w>skipped</w>
              <w>an</w>
              <w>important</w>
              <w>step:</w>
              <w>finding</w>
              <w>an</w>
              <w>appropriate</w>
              <w>API</w>
              <w>in</w>
              <w>the</w>
              <w>first</w>
              <w>place</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Some</w>
              <w>resources</w>
              <w>for</w>
              <w>researching</w>
              <w>APIs</w>
              <w>are</w>
              <w>available</w>
              <w>at</w>
              <w>the</w>
              <w>end</w>
              <w>of</w>
              <w>this</w>
              <w>lesson</w>
              <pc>.</pc>
            </s>
          </p>
        </div>
        <div type="3" n="4.3">
          <head>
            <s>
              <w>What</w>
              <w>Users</w>
              <w>Want</w>
              <w>in</w>
              <w>an</w>
              <w>API</w>
            </s>
          </head>
          <p>
            <s>
              <w>As</w>
              <w>we've</w>
              <w>learned,</w>
              <w>documentation</w>
              <w>is</w>
              <w>a</w>
              <w>user's</w>
              <w>starting</w>
              <w>place</w>
              <w>when</w>
              <w>working</w>
              <w>with</w>
              <w>a</w>
              <w>new</w>
              <w>API,</w>
              <w>and</w>
              <w>well-designed</w>
              <w>URLs</w>
              <w>make</w>
              <w>it</w>
              <w>easier</w>
              <w>for</w>
              <w>users</w>
              <w>to</w>
              <w>intuitively</w>
              <w>find</w>
              <w>resources</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Because</w>
              <w>they</w>
              <w>help</w>
              <w>users</w>
              <w>to</w>
              <w>quickly</w>
              <w>access</w>
              <w>information</w>
              <w>through</w>
              <w>your</w>
              <w>API,</w>
              <w>these</w>
              <w>elements—documentation</w>
              <w>and</w>
              <w>well-conceived</w>
              <w>URLs—are</w>
              <w>the</w>
              <emph>
                <w>sine</w>
                <w>qua</w>
                <w>non</w>
              </emph>
              <w>of</w>
              <w>a</w>
              <w>good</w>
              <w>API</w>
              <pc>.</pc>
            </s>
            <s>
              <w>We'll</w>
              <w>discuss</w>
              <w>these</w>
              <w>elements</w>
              <w>in</w>
              <w>greater</w>
              <w>depth</w>
              <w>later</w>
              <w>in</w>
              <w>this</w>
              <w>tutorial</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>As</w>
              <w>you</w>
              <w>use</w>
              <w>other</w>
              <w>APIs</w>
              <w>in</w>
              <w>your</w>
              <w>research,</w>
              <w>you'll</w>
              <w>develop</w>
              <w>a</w>
              <w>sense</w>
              <w>of</w>
              <w>what</w>
              <w>makes</w>
              <w>a</w>
              <w>good</w>
              <w>API</w>
              <w>from</w>
              <w>the</w>
              <w>perspective</w>
              <w>of</w>
              <w>a</w>
              <w>potential</w>
              <w>user</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Just</w>
              <w>as</w>
              <w>strong</w>
              <w>readers</w>
              <w>often</w>
              <w>make</w>
              <w>strong</w>
              <w>writers,</w>
              <w>using</w>
              <w>APIs</w>
              <w>created</w>
              <w>by</w>
              <w>others</w>
              <w>and</w>
              <w>critically</w>
              <w>evaluating</w>
              <w>their</w>
              <w>implementation</w>
              <w>and</w>
              <w>documentation</w>
              <w>will</w>
              <w>help</w>
              <w>you</w>
              <w>better</w>
              <w>design</w>
              <w>your</w>
              <w>own</w>
              <w>APIs</w>
              <pc>.</pc>
            </s>
          </p>
        </div>
      </div>
      <div type="2" n="5">
        <head>
          <s>
            <w>Implementing</w>
            <w>Our</w>
            <w>API</w>
          </s>
        </head>
        <div type="3" n="5.1">
          <head>
            <s>
              <w>Overview</w>
            </s>
          </head>
          <p>
            <s>
              <w>This</w>
              <w>section</w>
              <w>will</w>
              <w>show</w>
              <w>you</w>
              <w>how</w>
              <w>to</w>
              <w>build</w>
              <w>a</w>
              <w>prototype</w>
              <w>API</w>
              <w>using</w>
              <w>Python</w>
              <w>and</w>
              <w>the</w>
              <w>Flask</w>
              <w>web</w>
              <w>framework</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Our</w>
              <w>example</w>
              <w>API</w>
              <w>will</w>
              <w>take</w>
              <w>the</w>
              <w>form</w>
              <w>of</w>
              <w>a</w>
              <w>distant</w>
              <w>reading</w>
              <w>archive—a</w>
              <w>book</w>
              <w>catalog</w>
              <w>that</w>
              <w>goes</w>
              <w>beyond</w>
              <w>standard</w>
              <w>bibliographic</w>
              <w>information</w>
              <w>to</w>
              <w>include</w>
              <w>data</w>
              <w>of</w>
              <w>interest</w>
              <w>to</w>
              <w>those</w>
              <w>working</w>
              <w>on</w>
              <w>digital</w>
              <w>projects</w>
              <pc>.</pc>
            </s>
            <s>
              <w>In</w>
              <w>this</w>
              <w>case,</w>
              <w>besides</w>
              <w>title</w>
              <w>and</w>
              <w>date</w>
              <w>of</w>
              <w>publication,</w>
              <w>our</w>
              <w>API</w>
              <w>will</w>
              <w>also</w>
              <w>serve</w>
              <w>the</w>
              <w>first</w>
              <w>sentence</w>
              <w>of</w>
              <w>each</w>
              <w>book</w>
              <pc>.</pc>
            </s>
            <s>
              <w>This</w>
              <w>should</w>
              <w>be</w>
              <w>enough</w>
              <w>data</w>
              <w>to</w>
              <w>allow</w>
              <w>us</w>
              <w>to</w>
              <w>envision</w>
              <w>some</w>
              <w>potential</w>
              <w>research</w>
              <w>questions</w>
              <w>without</w>
              <w>overwhelming</w>
              <w>us</w>
              <w>as</w>
              <w>we</w>
              <w>focus</w>
              <w>on</w>
              <w>the</w>
              <w>design</w>
              <w>of</w>
              <w>our</w>
              <w>API</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>We'll</w>
              <w>begin</w>
              <w>by</w>
              <w>using</w>
              <w>Flask</w>
              <w>to</w>
              <w>create</w>
              <w>a</w>
              <w>home</w>
              <w>page</w>
              <w>for</w>
              <w>our</w>
              <w>site</w>
              <pc>.</pc>
            </s>
            <s>
              <w>In</w>
              <w>this</w>
              <w>step,</w>
              <w>we'll</w>
              <w>learn</w>
              <w>the</w>
              <w>basics</w>
              <w>of</w>
              <w>how</w>
              <w>Flask</w>
              <w>works</w>
              <w>and</w>
              <w>make</w>
              <w>sure</w>
              <w>our</w>
              <w>software</w>
              <w>is</w>
              <w>configured</w>
              <w>correctly</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Once</w>
              <w>we</w>
              <w>have</w>
              <w>a</w>
              <w>small</w>
              <w>Flask</w>
              <w>application</w>
              <w>working</w>
              <w>in</w>
              <w>the</w>
              <w>form</w>
              <w>of</w>
              <w>a</w>
              <w>home</w>
              <w>page,</w>
              <w>we'll</w>
              <w>iterate</w>
              <w>on</w>
              <w>this</w>
              <w>site,</w>
              <w>turning</w>
              <w>it</w>
              <w>into</w>
              <w>a</w>
              <w>functioning</w>
              <w>API</w>
              <pc>.</pc>
            </s>
          </p>
        </div>
        <div type="3" n="5.2">
          <head>
            <s>
              <w>Creating</w>
              <w>a</w>
              <w>Basic</w>
              <w>Flask</w>
              <w>Application</w>
            </s>
          </head>
          <p>
            <s>
              <ref target="http://flask.pocoo.org/">
                <w>Flask</w>
              </ref>
              <w>is</w>
              <w>a</w>
              <w>web</w>
              <w>framework</w>
              <w>for</w>
              <w>Python,</w>
              <w>meaning</w>
              <w>that</w>
              <w>it</w>
              <w>provides</w>
              <w>functionality</w>
              <w>for</w>
              <w>building</w>
              <w>web</w>
              <w>applications,</w>
              <w>including</w>
              <w>managing</w>
              <w>HTTP</w>
              <w>requests</w>
              <w>and</w>
              <w>rendering</w>
              <w>templates</w>
              <pc>.</pc>
            </s>
            <s>
              <w>In</w>
              <w>this</w>
              <w>section,</w>
              <w>we</w>
              <w>will</w>
              <w>create</w>
              <w>a</w>
              <w>basic</w>
              <w>Flask</w>
              <w>application</w>
              <pc>.</pc>
            </s>
            <s>
              <w>In</w>
              <w>later</w>
              <w>sections,</w>
              <w>we'll</w>
              <w>add</w>
              <w>to</w>
              <w>this</w>
              <w>application</w>
              <w>to</w>
              <w>create</w>
              <w>our</w>
              <w>API</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Don't</w>
              <w>worry</w>
              <w>if</w>
              <w>you</w>
              <w>don't</w>
              <w>understand</w>
              <w>each</w>
              <w>individual</w>
              <w>line</w>
              <w>of</w>
              <w>code</w>
              <w>yet—explanations</w>
              <w>will</w>
              <w>be</w>
              <w>forthcoming</w>
              <w>once</w>
              <w>you</w>
              <w>have</w>
              <w>this</w>
              <w>initial</w>
              <w>version</w>
              <w>of</w>
              <w>the</w>
              <w>application</w>
              <w>working</w>
              <pc>.</pc>
            </s>
          </p>
          <p style="alert alert-warning">
            <hi rend="bold">
              <s>
                <w>Why</w>
                <w>Flask</w>
                <pc>?</pc>
              </s>
            </hi>
          </p>
          <p style="alert alert-warning">
            <s>
              <w>Python</w>
              <w>has</w>
              <w>a</w>
              <w>number</w>
              <w>of</w>
              <w>web</w>
              <w>frameworks</w>
              <w>that</w>
              <w>can</w>
              <w>be</w>
              <w>used</w>
              <w>to</w>
              <w>create</w>
              <w>web</w>
              <w>apps</w>
              <w>and</w>
              <w>APIs</w>
              <pc>.</pc>
            </s>
            <s>
              <w>The</w>
              <w>most</w>
              <w>well-known</w>
              <w>is</w>
              <w>Django,</w>
              <w>a</w>
              <w>framework</w>
              <w>that</w>
              <w>has</w>
              <w>a</w>
              <w>set</w>
              <w>project</w>
              <w>structure</w>
              <w>and</w>
              <w>which</w>
              <w>includes</w>
              <w>many</w>
              <w>built-in</w>
              <w>tools</w>
              <pc>.</pc>
            </s>
            <s>
              <w>This</w>
              <w>can</w>
              <w>save</w>
              <w>time</w>
              <w>and</w>
              <w>effort</w>
              <w>for</w>
              <w>experienced</w>
              <w>programmers,</w>
              <w>but</w>
              <w>can</w>
              <w>be</w>
              <w>overwhelming</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Flask</w>
              <w>applications</w>
              <w>tend</w>
              <w>to</w>
              <w>be</w>
              <w>written</w>
              <w>on</w>
              <w>a</w>
              <w>blank</w>
              <w>canvas,</w>
              <w>so</w>
              <w>to</w>
              <w>speak,</w>
              <w>and</w>
              <w>so</w>
              <w>are</w>
              <w>more</w>
              <w>suited</w>
              <w>to</w>
              <w>a</w>
              <w>contained</w>
              <w>application</w>
              <w>such</w>
              <w>as</w>
              <w>our</w>
              <w>prototype</w>
              <w>API</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>First,</w>
              <w>create</w>
              <w>a</w>
              <w>new</w>
              <w>folder</w>
              <w>on</w>
              <w>your</w>
              <w>computer</w>
              <w>that</w>
              <w>will</w>
              <w>serve</w>
              <w>as</w>
              <w>a</w>
              <w>project</w>
              <w>folder</w>
              <pc>.</pc>
            </s>
            <s>
              <w>This</w>
              <w>can</w>
              <w>be</w>
              <w>in</w>
              <w>your</w>
              <code rend="inline">Desktop</code>
              <w>folder,</w>
              <w>but</w>
              <w>I</w>
              <w>recommend</w>
              <w>creating</w>
              <w>a</w>
              <w>dedicated</w>
              <code rend="inline">projects</code>
              <w>folder</w>
              <w>for</w>
              <w>this</w>
              <w>and</w>
              <w>similar</w>
              <w>projects</w>
              <pc>.</pc>
            </s>
            <s>
              <w>This</w>
              <w>tutorial</w>
              <w>will</w>
              <w>assume</w>
              <w>that</w>
              <w>the</w>
              <w>files</w>
              <w>related</w>
              <w>to</w>
              <w>this</w>
              <w>lesson</w>
              <w>will</w>
              <w>be</w>
              <w>stored</w>
              <w>in</w>
              <w>a</w>
              <w>folder</w>
              <w>called</w>
              <code rend="inline">api</code>
              <w>inside</w>
              <w>a</w>
              <w>folder</w>
              <w>named</w>
              <code rend="inline">projects</code>
              <w>in</w>
              <w>your</w>
              <w>home</w>
              <w>directory</w>
              <pc>.</pc>
            </s>
            <s>
              <w>If</w>
              <w>you</w>
              <w>need</w>
              <w>help</w>
              <w>with</w>
              <w>navigation</w>
              <w>on</w>
              <w>the</w>
              <w>command</w>
              <w>line,</w>
              <w>see</w>
              <w>the</w>
              <ref target="/lessons/intro-to-bash">
                <w>Programming</w>
                <w>Historian</w>
                <w>Introduction</w>
                <w>to</w>
                <w>the</w>
                <w>Bash</w>
                <w>Command</w>
                <w>Line</w>
              </ref>
              <w>for</w>
              <w>the</w>
              <w>macOS</w>
              <w>and</w>
              <w>Linux</w>
              <w>command</w>
              <w>line</w>
              <w>or</w>
              <w>the</w>
              <ref target="/lessons/intro-to-powershell">
                <w>Introduction</w>
                <w>to</w>
                <w>the</w>
                <w>Windows</w>
                <w>Command</w>
                <w>Line</w>
                <w>with</w>
                <w>PowerShell</w>
              </ref>
              <w>for</w>
              <w>Windows</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>In</w>
              <w>macOS,</w>
              <w>you</w>
              <w>can</w>
              <w>directly</w>
              <w>create</w>
              <w>a</w>
              <w>an</w>
              <code rend="inline">api</code>
              <w>folder</w>
              <w>inside</w>
              <w>a</w>
              <code rend="inline">projects</code>
              <w>folder</w>
              <w>in</w>
              <w>your</w>
              <w>home</w>
              <w>directory</w>
              <w>with</w>
              <w>this</w>
              <w>terminal</w>
              <w>command:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_creating-apis-with-python-and-flask_7" corresp="code_creating-apis-with-python-and-flask_7.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>On</w>
              <w>Windows,</w>
              <w>you</w>
              <w>can</w>
              <w>create</w>
              <w>the</w>
              <code rend="inline">api</code>
              <w>folder</w>
              <w>with</w>
              <w>these</w>
              <w>commands</w>
              <w>in</w>
              <w>your</w>
              <code rend="inline">cmd</code>
              <w>command</w>
              <w>line</w>
              <w>environment:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_creating-apis-with-python-and-flask_8" corresp="code_creating-apis-with-python-and-flask_8.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>You</w>
              <w>can</w>
              <w>also</w>
              <w>create</w>
              <w>the</w>
              <code rend="inline">projects</code>
              <w>and</w>
              <code rend="inline">api</code>
              <w>folders</w>
              <w>using</w>
              <w>your</w>
              <w>operating</w>
              <w>system's</w>
              <w>graphical</w>
              <w>user</w>
              <w>interface</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Next,</w>
              <w>open</w>
              <w>a</w>
              <w>text</w>
              <w>editor</w>
              <w>(such</w>
              <w>as</w>
              <w>Notepad++</w>
              <w>or</w>
              <w>BBEdit)</w>
              <w>and</w>
              <w>enter</w>
              <w>the</w>
              <w>following</w>
              <w>code:</w>
            </s>
          </p>
          <ab>
            <code lang="language-python" xml:id="code_creating-apis-with-python-and-flask_9" corresp="code_creating-apis-with-python-and-flask_9.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>Save</w>
              <w>this</w>
              <w>code</w>
              <w>as</w>
              <code rend="inline">api.py</code>
              <w>in</w>
              <w>the</w>
              <code rend="inline">api</code>
              <w>folder</w>
              <w>you</w>
              <w>created</w>
              <w>for</w>
              <w>this</w>
              <w>tutorial</w>
              <pc>.</pc>
            </s>
          </p>
        </div>
        <div type="3" n="5.3">
          <head>
            <s>
              <w>Running</w>
              <w>the</w>
              <w>Application</w>
            </s>
          </head>
          <p>
            <s>
              <w>In</w>
              <w>the</w>
              <w>command</w>
              <w>line,</w>
              <w>navigate</w>
              <w>to</w>
              <w>your</w>
              <code rend="inline">api</code>
              <w>folder:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_creating-apis-with-python-and-flask_10" corresp="code_creating-apis-with-python-and-flask_10.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>You</w>
              <w>can</w>
              <w>check</w>
              <w>if</w>
              <w>you're</w>
              <w>in</w>
              <w>the</w>
              <w>correct</w>
              <w>folder</w>
              <w>by</w>
              <w>running</w>
              <w>the</w>
              <w>command</w>
              <pc>.</pc>
            </s>
            <code rend="inline">pwd</code>
            <s>
              <w>Once</w>
              <w>you're</w>
              <w>in</w>
              <w>your</w>
              <w>project</w>
              <w>directory,</w>
              <w>run</w>
              <w>the</w>
              <w>Flask</w>
              <w>application</w>
              <w>with</w>
              <w>the</w>
              <w>command:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_creating-apis-with-python-and-flask_11" corresp="code_creating-apis-with-python-and-flask_11.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>You</w>
              <w>should</w>
              <w>see</w>
              <w>output</w>
              <w>similar</w>
              <w>to</w>
              <w>this:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_creating-apis-with-python-and-flask_12" corresp="code_creating-apis-with-python-and-flask_12.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>You</w>
              <w>may</w>
              <w>also</w>
              <w>see</w>
              <w>some</w>
              <w>lines</w>
              <w>related</w>
              <w>to</w>
              <w>debugging</w>
              <pc>.</pc>
            </s>
            <s>
              <w>This</w>
              <w>message</w>
              <w>means</w>
              <w>that</w>
              <w>Flask</w>
              <w>is</w>
              <w>running</w>
              <w>your</w>
              <w>application</w>
              <w>locally</w>
              <w>(on</w>
              <w>your</w>
              <w>computer)</w>
              <w>at</w>
              <w>that</w>
              <w>address</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Follow</w>
              <w>the</w>
              <w>link</w>
              <w>above,</w>
              <ref target="http://127.0.0.1:5000/">http://127.0.0.1:5000/</ref>
              <w>,</w>
              <w>using</w>
              <w>your</w>
              <w>web</w>
              <w>browser</w>
              <w>to</w>
              <w>see</w>
              <w>the</w>
              <w>running</w>
              <w>application:</w>
            </s>
          </p>
          <figure>
            <desc>
              <s>
                <w>The</w>
                <w>home</w>
                <w>page</w>
                <w>when</w>
                <w>rendered</w>
                <w>in</w>
                <w>a</w>
                <w>browser</w>
                <pc>.</pc>
              </s>
            </desc>
            <graphic url="welcome.png"/>
          </figure>
          <p>
            <s>
              <w>Congratulations,</w>
              <w>you've</w>
              <w>created</w>
              <w>a</w>
              <w>working</w>
              <w>web</w>
              <w>application</w>
              <pc>!</pc>
            </s>
          </p>
        </div>
        <div type="3" n="5.4">
          <head>
            <s>
              <w>What</w>
              <w>Flask</w>
              <w>Does</w>
            </s>
          </head>
          <p>
            <s>
              <w>Now</w>
              <w>that</w>
              <w>we</w>
              <w>have</w>
              <w>a</w>
              <w>homepage</w>
              <w>for</w>
              <w>our</w>
              <w>archive,</w>
              <w>let's</w>
              <w>talk</w>
              <w>about</w>
              <w>how</w>
              <w>Flask</w>
              <w>works</w>
              <w>and</w>
              <w>what</w>
              <w>the</w>
              <w>above</w>
              <w>code</w>
              <w>is</w>
              <w>doing</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Flask</w>
              <w>maps</w>
              <w>HTTP</w>
              <w>requests</w>
              <w>to</w>
              <w>Python</w>
              <w>functions</w>
              <pc>.</pc>
            </s>
            <s>
              <w>In</w>
              <w>this</w>
              <w>case,</w>
              <w>we've</w>
              <w>mapped</w>
              <w>one</w>
              <w>URL</w>
              <w>path</w>
              <w>('</w>
              <code rend="inline">/</code>
              <w>')</w>
              <w>to</w>
              <w>one</w>
              <w>function,</w>
              <code rend="inline">home</code>
              <pc>.</pc>
            </s>
            <s>
              <w>When</w>
              <w>we</w>
              <w>connect</w>
              <w>to</w>
              <w>the</w>
              <w>Flask</w>
              <w>server</w>
              <w>at</w>
              <ref target="http://127.0.0.1:5000/">http://127.0.0.1:5000/</ref>
              <w>,</w>
              <w>Flask</w>
              <w>checks</w>
              <w>if</w>
              <w>there</w>
              <w>is</w>
              <w>a</w>
              <w>match</w>
              <w>between</w>
              <w>the</w>
              <w>path</w>
              <w>provided</w>
              <w>and</w>
              <w>a</w>
              <w>defined</w>
              <w>function</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Since</w>
              <code rend="inline">/</code>
              <w>,</w>
              <w>or</w>
              <w>no</w>
              <w>additional</w>
              <w>provided</w>
              <w>path,</w>
              <w>has</w>
              <w>been</w>
              <w>mapped</w>
              <w>to</w>
              <w>the</w>
              <code rend="inline">home</code>
              <w>function,</w>
              <w>Flask</w>
              <w>runs</w>
              <w>the</w>
              <w>code</w>
              <w>in</w>
              <w>the</w>
              <w>function</w>
              <w>and</w>
              <w>displays</w>
              <w>the</w>
              <w>returned</w>
              <w>result</w>
              <w>in</w>
              <w>the</w>
              <w>browser</w>
              <pc>.</pc>
            </s>
            <s>
              <w>In</w>
              <w>this</w>
              <w>case,</w>
              <w>the</w>
              <w>returned</w>
              <w>result</w>
              <w>is</w>
              <w>HTML</w>
              <w>markup</w>
              <w>for</w>
              <w>a</w>
              <w>home</w>
              <w>page</w>
              <w>welcoming</w>
              <w>visitors</w>
              <w>to</w>
              <w>the</w>
              <w>site</w>
              <w>hosting</w>
              <w>our</w>
              <w>API</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>The</w>
              <w>process</w>
              <w>of</w>
              <w>mapping</w>
              <w>URLs</w>
              <w>to</w>
              <w>functions</w>
              <w>is</w>
              <w>called</w>
              <pc>.</pc>
            </s>
            <hi rend="bold">
              <s>
                <w>routing</w>
              </s>
            </hi>
            <s>
              <w>The</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_creating-apis-with-python-and-flask_13" corresp="code_creating-apis-with-python-and-flask_13.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>syntax</w>
              <w>is</w>
              <w>the</w>
              <w>part</w>
              <w>of</w>
              <w>the</w>
              <w>program</w>
              <w>that</w>
              <w>lets</w>
              <w>Flask</w>
              <w>know</w>
              <w>that</w>
              <w>this</w>
              <w>function,</w>
              <w>,</w>
              <w>should</w>
              <w>be</w>
              <w>mapped</w>
              <w>to</w>
              <w>the</w>
              <w>path</w>
              <pc>.</pc>
            </s>
            <code rend="inline">home</code>
            <code rend="inline">/</code>
            <s>
              <w>The</w>
              <code rend="inline">methods</code>
              <w>list</w>
              <w>(</w>
              <code rend="inline">methods=['GET']</code>
              <w>)</w>
              <w>is</w>
              <w>a</w>
              <w>keyword</w>
              <w>argument</w>
              <w>that</w>
              <w>lets</w>
              <w>Flask</w>
              <w>know</w>
              <w>what</w>
              <w>kind</w>
              <w>of</w>
              <w>HTTP</w>
              <w>requests</w>
              <w>are</w>
              <w>allowed</w>
              <pc>.</pc>
            </s>
            <s>
              <w>We'll</w>
              <w>only</w>
              <w>be</w>
              <w>using</w>
              <code rend="inline">GET</code>
              <w>requests</w>
              <w>in</w>
              <w>this</w>
              <w>tutorial,</w>
              <w>but</w>
              <w>many</w>
              <w>web</w>
              <w>applications</w>
              <w>need</w>
              <w>to</w>
              <w>use</w>
              <w>both</w>
              <code rend="inline">GET</code>
              <w>requests</w>
              <w>(to</w>
              <w>send</w>
              <w>data</w>
              <w>from</w>
              <w>the</w>
              <w>application</w>
              <w>to</w>
              <w>the</w>
              <w>user)</w>
              <w>and</w>
              <code rend="inline">POST</code>
              <w>requests</w>
              <w>(to</w>
              <w>receive</w>
              <w>data</w>
              <w>from</w>
              <w>a</w>
              <w>user)</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Below</w>
              <w>are</w>
              <w>brief</w>
              <w>explanations</w>
              <w>of</w>
              <w>the</w>
              <w>other</w>
              <w>components</w>
              <w>of</w>
              <w>the</w>
              <w>application:</w>
            </s>
          </p>
          <p>
            <s>
              <code rend="inline">import flask</code>
              <w>—</w>
              <w>Imports</w>
              <w>the</w>
              <w>Flask</w>
              <w>library,</w>
              <w>making</w>
              <w>the</w>
              <w>code</w>
              <w>available</w>
              <w>to</w>
              <w>the</w>
              <w>rest</w>
              <w>of</w>
              <w>the</w>
              <w>application</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>—</w>
              <w>Creates</w>
              <w>the</w>
              <w>Flask</w>
              <w>application</w>
              <w>object,</w>
              <w>which</w>
              <w>contains</w>
              <w>data</w>
              <w>about</w>
              <w>the</w>
              <w>application</w>
              <w>and</w>
              <w>also</w>
              <w>methods</w>
              <w>(object</w>
              <w>functions)</w>
              <w>that</w>
              <w>tell</w>
              <w>the</w>
              <w>application</w>
              <w>to</w>
              <w>do</w>
              <w>certain</w>
              <w>actions</w>
              <pc>.</pc>
            </s>
            <code rend="inline">app = flask.Flask(__name__)</code>
            <s>
              <w>The</w>
              <w>last</w>
              <w>line,</w>
              <code rend="inline">app.run()</code>
              <w>,</w>
              <w>is</w>
              <w>one</w>
              <w>such</w>
              <w>method</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>—</w>
              <w>Starts</w>
              <w>the</w>
              <w>debugger</w>
              <pc>.</pc>
            </s>
            <code rend="inline">app.config["DEBUG"] = True</code>
            <s>
              <w>With</w>
              <w>this</w>
              <w>line,</w>
              <w>if</w>
              <w>your</w>
              <w>code</w>
              <w>is</w>
              <w>malformed,</w>
              <w>you'll</w>
              <w>see</w>
              <w>an</w>
              <w>error</w>
              <w>when</w>
              <w>you</w>
              <w>visit</w>
              <w>your</w>
              <w>app</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Otherwise</w>
              <w>you'll</w>
              <w>only</w>
              <w>see</w>
              <w>a</w>
              <w>generic</w>
              <w>message</w>
              <w>such</w>
              <w>as</w>
              <code rend="inline">Bad Gateway</code>
              <w>in</w>
              <w>the</w>
              <w>browser</w>
              <w>when</w>
              <w>there's</w>
              <w>a</w>
              <w>problem</w>
              <w>with</w>
              <w>your</w>
              <w>code</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <code rend="inline">app.run()</code>
              <w>—</w>
              <w>A</w>
              <w>method</w>
              <w>that</w>
              <w>runs</w>
              <w>the</w>
              <w>application</w>
              <w>server</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>While</w>
              <w>it's</w>
              <w>useful</w>
              <w>to</w>
              <w>have</w>
              <w>a</w>
              <w>familiarity</w>
              <w>with</w>
              <w>what's</w>
              <w>going</w>
              <w>on</w>
              <w>in</w>
              <w>the</w>
              <w>script,</w>
              <w>don't</w>
              <w>worry</w>
              <w>if</w>
              <w>you</w>
              <w>don't</w>
              <w>understand</w>
              <w>precisely</w>
              <w>what</w>
              <w>every</w>
              <w>element</w>
              <w>is</w>
              <w>doing</w>
              <w>at</w>
              <w>this</w>
              <w>stage</w>
              <pc>.</pc>
            </s>
            <s>
              <w>If</w>
              <w>you</w>
              <w>understand</w>
              <w>the</w>
              <w>general</w>
              <w>outline</w>
              <w>of</w>
              <w>how</w>
              <w>this</w>
              <w>portion</w>
              <w>works,</w>
              <w>the</w>
              <w>details</w>
              <w>of</w>
              <w>how</w>
              <w>Flask</w>
              <w>renders</w>
              <w>pages</w>
              <w>are</w>
              <w>likely</w>
              <w>to</w>
              <w>become</w>
              <w>more</w>
              <w>understandable</w>
              <w>as</w>
              <w>we</w>
              <w>continue</w>
              <w>to</w>
              <w>develop</w>
              <w>our</w>
              <w>API</w>
              <pc>.</pc>
            </s>
          </p>
        </div>
        <div type="3" n="5.5">
          <head>
            <s>
              <w>Creating</w>
              <w>the</w>
              <w>API</w>
            </s>
          </head>
          <p>
            <s>
              <w>Now</w>
              <w>that</w>
              <w>we</w>
              <w>have</w>
              <w>a</w>
              <w>running</w>
              <w>Flask</w>
              <w>application</w>
              <w>and</w>
              <w>know</w>
              <w>a</w>
              <w>little</w>
              <w>about</w>
              <w>what</w>
              <w>Flask</w>
              <w>does,</w>
              <w>we're</w>
              <w>finally</w>
              <w>ready</w>
              <w>to</w>
              <w>implement</w>
              <w>a</w>
              <w>small</w>
              <w>API</w>
              <w>with</w>
              <w>data</w>
              <w>that</w>
              <w>we'll</w>
              <w>define</w>
              <w>right</w>
              <w>in</w>
              <w>our</w>
              <w>application</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>We'll</w>
              <w>be</w>
              <w>adding</w>
              <w>our</w>
              <w>data</w>
              <w>as</w>
              <w>a</w>
              <w>list</w>
              <w>of</w>
              <w>Python</w>
              <w>dictionaries</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Dictionaries</w>
              <w>in</w>
              <w>Python</w>
              <w>group</w>
              <w>pairs</w>
              <w>of</w>
              <w>keys</w>
              <w>and</w>
              <w>values,</w>
              <w>like</w>
              <w>this:</w>
            </s>
          </p>
          <ab>
            <code lang="language-python" xml:id="code_creating-apis-with-python-and-flask_14" corresp="code_creating-apis-with-python-and-flask_14.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>The</w>
              <w>key</w>
              <w>identifies</w>
              <w>the</w>
              <w>type</w>
              <w>of</w>
              <w>information</w>
              <w>represented,</w>
              <w>such</w>
              <w>as</w>
              <w>or</w>
              <pc>.</pc>
            </s>
            <code rend="inline">title</code>
            <code rend="inline">id</code>
            <s>
              <w>The</w>
              <w>value</w>
              <w>is</w>
              <w>the</w>
              <w>actual</w>
              <w>data</w>
              <pc>.</pc>
            </s>
            <s>
              <w>For</w>
              <w>example,</w>
              <w>a</w>
              <w>short</w>
              <w>telephone</w>
              <w>book</w>
              <w>might</w>
              <w>take</w>
              <w>this</w>
              <w>format:</w>
            </s>
          </p>
          <ab>
            <code lang="language-python" xml:id="code_creating-apis-with-python-and-flask_15" corresp="code_creating-apis-with-python-and-flask_15.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>The</w>
              <w>above</w>
              <w>phone</w>
              <w>book</w>
              <w>is</w>
              <w>a</w>
              <w>list</w>
              <w>of</w>
              <w>two</w>
              <w>dictionaries</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Each</w>
              <w>dictionary</w>
              <w>is</w>
              <w>a</w>
              <w>phone</w>
              <w>book</w>
              <w>entry</w>
              <w>consisting</w>
              <w>of</w>
              <w>two</w>
              <w>keys,</w>
              <code rend="inline">name</code>
              <w>and</w>
              <code rend="inline">number</code>
              <w>,</w>
              <w>each</w>
              <w>paired</w>
              <w>with</w>
              <w>a</w>
              <w>value</w>
              <w>that</w>
              <w>provides</w>
              <w>the</w>
              <w>actual</w>
              <w>information</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Let's</w>
              <w>add</w>
              <w>some</w>
              <w>data</w>
              <w>(entries</w>
              <w>on</w>
              <w>three</w>
              <w>science</w>
              <w>fiction</w>
              <w>novels)</w>
              <w>as</w>
              <w>a</w>
              <w>list</w>
              <w>of</w>
              <w>dictionaries</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Each</w>
              <w>dictionary</w>
              <w>will</w>
              <w>contain</w>
              <w>ID</w>
              <w>number,</w>
              <w>title,</w>
              <w>author,</w>
              <w>first</w>
              <w>sentence,</w>
              <w>and</w>
              <w>year</w>
              <w>of</w>
              <w>publication</w>
              <w>for</w>
              <w>each</w>
              <w>book</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Finally,</w>
              <w>we'll</w>
              <w>add</w>
              <w>a</w>
              <w>new</w>
              <w>function:</w>
              <w>a</w>
              <w>route</w>
              <w>that</w>
              <w>will</w>
              <w>allow</w>
              <w>a</w>
              <w>visitor</w>
              <w>to</w>
              <w>access</w>
              <w>our</w>
              <w>data</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Replace</w>
              <w>our</w>
              <w>previous</w>
              <w>code</w>
              <w>in</w>
              <code rend="inline">api.py</code>
              <w>with</w>
              <w>the</w>
              <w>code</w>
              <w>below:</w>
            </s>
          </p>
          <ab>
            <code lang="language-python" xml:id="code_creating-apis-with-python-and-flask_16" corresp="code_creating-apis-with-python-and-flask_16.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>Run</w>
              <w>the</w>
              <w>code</w>
              <w>(navigate</w>
              <w>to</w>
              <w>your</w>
              <w>folder</w>
              <w>in</w>
              <w>the</w>
              <w>command</w>
              <w>line</w>
              <w>and</w>
              <w>enter</w>
              <w>)</w>
              <pc>.</pc>
            </s>
            <code rend="inline">api</code>
            <code rend="inline">python api.py</code>
            <s>
              <w>Once</w>
              <w>the</w>
              <w>server</w>
              <w>is</w>
              <w>running,</w>
              <w>visit</w>
              <w>our</w>
              <w>route</w>
              <w>URL</w>
              <w>to</w>
              <w>view</w>
              <w>the</w>
              <w>data</w>
              <w>in</w>
              <w>the</w>
              <w>catalog:</w>
            </s>
          </p>
          <p>
            <ref target="http://127.0.0.1:5000/api/v1/resources/books/all">http://127.0.0.1:5000/api/v1/resources/books/all</ref>
          </p>
          <p>
            <s>
              <w>You</w>
              <w>should</w>
              <w>see</w>
              <w>JSON</w>
              <w>output</w>
              <w>for</w>
              <w>the</w>
              <w>three</w>
              <w>entries</w>
              <w>in</w>
              <w>our</w>
              <w>test</w>
              <w>catalog</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Flask</w>
              <w>provides</w>
              <w>us</w>
              <w>with</w>
              <w>a</w>
              <code rend="inline">jsonify</code>
              <w>function</w>
              <w>that</w>
              <w>allows</w>
              <w>us</w>
              <w>to</w>
              <w>convert</w>
              <w>lists</w>
              <w>and</w>
              <w>dictionaries</w>
              <w>to</w>
              <w>JSON</w>
              <w>format</w>
              <pc>.</pc>
            </s>
            <s>
              <w>In</w>
              <w>the</w>
              <w>route</w>
              <w>we</w>
              <w>created,</w>
              <w>our</w>
              <w>book</w>
              <w>entries</w>
              <w>are</w>
              <w>converted</w>
              <w>from</w>
              <w>a</w>
              <w>list</w>
              <w>of</w>
              <w>Python</w>
              <w>dictionaries</w>
              <w>to</w>
              <w>JSON</w>
              <w>before</w>
              <w>being</w>
              <w>returned</w>
              <w>to</w>
              <w>a</w>
              <w>user</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>At</w>
              <w>this</w>
              <w>point,</w>
              <w>you've</w>
              <w>created</w>
              <w>a</w>
              <w>working,</w>
              <w>if</w>
              <w>limited,</w>
              <w>API</w>
              <pc>.</pc>
            </s>
            <s>
              <w>In</w>
              <w>the</w>
              <w>next</w>
              <w>section,</w>
              <w>we'll</w>
              <w>allow</w>
              <w>users</w>
              <w>to</w>
              <w>find</w>
              <w>books</w>
              <w>via</w>
              <w>more</w>
              <w>specific</w>
              <w>data,</w>
              <w>such</w>
              <w>as</w>
              <w>an</w>
              <w>entry's</w>
              <w>ID</w>
              <pc>.</pc>
            </s>
          </p>
        </div>
        <div type="3" n="5.6">
          <head>
            <s>
              <w>Finding</w>
              <w>Specific</w>
              <w>Resources</w>
            </s>
          </head>
          <p>
            <s>
              <w>Right</w>
              <w>now,</w>
              <w>users</w>
              <w>can</w>
              <w>only</w>
              <w>view</w>
              <w>our</w>
              <w>entire</w>
              <w>database—they</w>
              <w>can't</w>
              <w>filter</w>
              <w>or</w>
              <w>find</w>
              <w>specific</w>
              <w>resources</w>
              <pc>.</pc>
            </s>
            <s>
              <w>While</w>
              <w>this</w>
              <w>isn't</w>
              <w>a</w>
              <w>problem</w>
              <w>with</w>
              <w>our</w>
              <w>test</w>
              <w>catalog,</w>
              <w>this</w>
              <w>will</w>
              <w>quickly</w>
              <w>become</w>
              <w>less</w>
              <w>useful</w>
              <w>as</w>
              <w>we</w>
              <w>add</w>
              <w>data</w>
              <pc>.</pc>
            </s>
            <s>
              <w>In</w>
              <w>this</w>
              <w>section,</w>
              <w>we'll</w>
              <w>add</w>
              <w>a</w>
              <w>function</w>
              <w>that</w>
              <w>allows</w>
              <w>users</w>
              <w>to</w>
              <w>filter</w>
              <w>their</w>
              <w>returned</w>
              <w>results</w>
              <w>using</w>
              <w>a</w>
              <w>more</w>
              <w>specific</w>
              <w>request</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Below</w>
              <w>is</w>
              <w>the</w>
              <w>code</w>
              <w>for</w>
              <w>our</w>
              <w>new</w>
              <w>application</w>
              <w>with</w>
              <w>filtering</w>
              <w>capability</w>
              <pc>.</pc>
            </s>
            <s>
              <w>As</w>
              <w>before,</w>
              <w>we'll</w>
              <w>examine</w>
              <w>the</w>
              <w>code</w>
              <w>more</w>
              <w>carefully</w>
              <w>once</w>
              <w>you</w>
              <w>have</w>
              <w>it</w>
              <w>running</w>
              <pc>.</pc>
            </s>
          </p>
          <ab>
            <code lang="language-python" xml:id="code_creating-apis-with-python-and-flask_17" corresp="code_creating-apis-with-python-and-flask_17.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>Once</w>
              <w>you've</w>
              <w>updated</w>
              <w>your</w>
              <w>API</w>
              <w>with</w>
              <w>the</w>
              <code rend="inline">api_id</code>
              <w>function,</w>
              <w>run</w>
              <w>your</w>
              <w>code</w>
              <w>as</w>
              <w>before</w>
              <w>(</w>
              <code rend="inline">python api.py</code>
              <w>from</w>
              <w>your</w>
              <code rend="inline">api</code>
              <w>directory)</w>
              <w>and</w>
              <w>visit</w>
              <w>the</w>
              <w>below</w>
              <w>URLs</w>
              <w>to</w>
              <w>test</w>
              <w>the</w>
              <w>new</w>
              <w>filtering</w>
              <w>capability:</w>
            </s>
          </p>
          <p>
            <ref target="http://127.0.0.1:5000/api/v1/resources/books?id=0">
              <w>127</w>
              <pc>.</pc>
              <w>0</w>
              <pc>.</pc>
              <w>0</w>
              <pc>.</pc>
              <w>1:5000/api/v1/resources/books</w>
              <pc>?</pc>
              <w>id=0</w>
            </ref>
            <ref target="http://127.0.0.1:5000/api/v1/resources/books?id=1">
              <w>127</w>
              <pc>.</pc>
              <w>0</w>
              <pc>.</pc>
              <w>0</w>
              <pc>.</pc>
              <w>1:5000/api/v1/resources/books</w>
              <pc>?</pc>
              <w>id=1</w>
            </ref>
            <ref target="http://127.0.0.1:5000/api/v1/resources/books?id=2">
              <w>127</w>
              <pc>.</pc>
              <w>0</w>
              <pc>.</pc>
              <w>0</w>
              <pc>.</pc>
              <w>1:5000/api/v1/resources/books</w>
              <pc>?</pc>
              <w>id=2</w>
            </ref>
            <ref target="http://127.0.0.1:5000/api/v1/resources/books?id=3">
              <w>127</w>
              <pc>.</pc>
              <w>0</w>
              <pc>.</pc>
              <w>0</w>
              <pc>.</pc>
              <w>1:5000/api/v1/resources/books</w>
              <pc>?</pc>
              <w>id=3</w>
            </ref>
          </p>
          <p>
            <s>
              <w>Each</w>
              <w>of</w>
              <w>these</w>
              <w>should</w>
              <w>return</w>
              <w>a</w>
              <w>different</w>
              <w>entry,</w>
              <w>except</w>
              <w>for</w>
              <w>the</w>
              <w>last,</w>
              <w>which</w>
              <w>should</w>
              <w>return</w>
              <w>an</w>
              <w>empty</w>
              <w>list:</w>
              <w>,</w>
              <w>since</w>
              <w>there</w>
              <w>is</w>
              <w>no</w>
              <w>book</w>
              <w>for</w>
              <w>which</w>
              <w>the</w>
              <w>id</w>
              <w>value</w>
              <w>is</w>
              <w>3</w>
              <pc>.</pc>
            </s>
            <code rend="inline">[]</code>
            <s>
              <w>(Counting</w>
              <w>in</w>
              <w>programming</w>
              <w>typically</w>
              <w>starts</w>
              <w>from</w>
              <w>0,</w>
              <w>so</w>
              <w>id=3</w>
              <w>would</w>
              <w>be</w>
              <w>a</w>
              <w>request</w>
              <w>for</w>
              <w>a</w>
              <w>nonexistent</w>
              <w>fourth</w>
              <w>item</w>
              <pc>.</pc>
            </s>
            <s>
              <w>)</w>
              <w>In</w>
              <w>the</w>
              <w>next</w>
              <w>section,</w>
              <w>we'll</w>
              <w>explore</w>
              <w>our</w>
              <w>updated</w>
              <w>API</w>
              <w>in</w>
              <w>more</w>
              <w>detail</w>
              <pc>.</pc>
            </s>
          </p>
        </div>
        <div type="3" n="5.7">
          <head>
            <s>
              <w>Understanding</w>
              <w>Our</w>
              <w>Updated</w>
              <w>API</w>
            </s>
          </head>
          <p>
            <s>
              <w>In</w>
              <w>this</w>
              <w>code,</w>
              <w>we</w>
              <w>first</w>
              <w>create</w>
              <w>a</w>
              <w>new</w>
              <w>function,</w>
              <w>called</w>
              <w>,</w>
              <w>with</w>
              <w>the</w>
              <w>syntax</w>
              <w>that</w>
              <w>maps</w>
              <w>the</w>
              <w>function</w>
              <w>to</w>
              <w>the</w>
              <w>path</w>
              <pc>.</pc>
            </s>
            <code rend="inline">api_id</code>
            <code rend="inline">@app.route</code>
            <code rend="inline">/api/v1/resources/books</code>
            <s>
              <w>That</w>
              <w>means</w>
              <w>that</w>
              <w>this</w>
              <w>function</w>
              <w>will</w>
              <w>run</w>
              <w>when</w>
              <w>we</w>
              <w>access</w>
              <ref target="http://127.0.0.1:5000/api/v1/resources/books">http://127.0.0.1:5000/api/v1/resources/books</ref>
              <pc>.</pc>
            </s>
            <s>
              <w>(Note</w>
              <w>that</w>
              <w>accessing</w>
              <w>this</w>
              <w>link</w>
              <w>without</w>
              <w>providing</w>
              <w>an</w>
              <w>ID</w>
              <w>will</w>
              <w>give</w>
              <w>the</w>
              <w>error</w>
              <w>message</w>
              <w>we</w>
              <w>provided</w>
              <w>in</w>
              <w>the</w>
              <w>code:</w>
              <code rend="inline">Error: No id field provided. Please specify an id.</code>
              <w>)</w>
            </s>
          </p>
          <p>
            <s>
              <w>Inside</w>
              <w>our</w>
              <w>function,</w>
              <w>we</w>
              <w>do</w>
              <w>two</w>
              <w>things:</w>
            </s>
          </p>
          <p>
            <s>
              <w>First,</w>
              <w>examine</w>
              <w>the</w>
              <w>provided</w>
              <w>URL</w>
              <w>for</w>
              <w>an</w>
              <w>id</w>
              <w>and</w>
              <w>select</w>
              <w>the</w>
              <w>books</w>
              <w>that</w>
              <w>match</w>
              <w>that</w>
              <w>id</w>
              <pc>.</pc>
            </s>
            <s>
              <w>The</w>
              <w>id</w>
              <w>must</w>
              <w>be</w>
              <w>provided</w>
              <w>like</w>
              <w>this:</w>
              <code rend="inline">?id=0</code>
              <pc>.</pc>
            </s>
            <s>
              <w>Data</w>
              <w>passed</w>
              <w>through</w>
              <w>URLs</w>
              <w>like</w>
              <w>this</w>
              <w>(after</w>
              <w>the</w>
              <code rend="inline">?</code>
              <w>)</w>
              <w>are</w>
              <w>called</w>
              <w>—we've</w>
              <w>seen</w>
              <w>them</w>
              <w>before</w>
              <w>when</w>
              <w>we</w>
              <w>worked</w>
              <w>with</w>
              <w>the</w>
              <w>Chronicling</w>
              <w>America</w>
              <w>API</w>
              <pc>.</pc>
            </s>
            <hi rend="bold">
              <s>
                <w>query</w>
                <w>parameters</w>
              </s>
            </hi>
            <s>
              <w>They're</w>
              <w>a</w>
              <w>feature</w>
              <w>of</w>
              <w>HTTP</w>
              <w>used</w>
              <w>for</w>
              <w>filtering</w>
              <w>for</w>
              <w>specific</w>
              <w>kinds</w>
              <w>of</w>
              <w>data</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>This</w>
              <w>part</w>
              <w>of</w>
              <w>the</w>
              <w>code</w>
              <w>determines</w>
              <w>if</w>
              <w>there</w>
              <w>is</w>
              <w>a</w>
              <w>query</w>
              <w>parameter,</w>
              <w>like</w>
              <code rend="inline">?id=0</code>
              <w>,</w>
              <w>and</w>
              <w>then</w>
              <w>assigns</w>
              <w>the</w>
              <w>provided</w>
              <w>ID</w>
              <w>to</w>
              <w>a</w>
              <w>variable</w>
              <pc>.</pc>
            </s>
          </p>
          <ab>
            <code xml:id="code_creating-apis-with-python-and-flask_18" corresp="code_creating-apis-with-python-and-flask_18.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>Then</w>
              <w>this</w>
              <w>section</w>
              <w>moves</w>
              <w>through</w>
              <w>our</w>
              <w>test</w>
              <w>catalog</w>
              <w>of</w>
              <w>books,</w>
              <w>matches</w>
              <w>those</w>
              <w>books</w>
              <w>that</w>
              <w>have</w>
              <w>the</w>
              <w>provided</w>
              <w>ID,</w>
              <w>and</w>
              <w>appends</w>
              <w>them</w>
              <w>to</w>
              <w>the</w>
              <w>list</w>
              <w>that</w>
              <w>will</w>
              <w>be</w>
              <w>returned</w>
              <w>to</w>
              <w>the</w>
              <w>user:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_creating-apis-with-python-and-flask_19" corresp="code_creating-apis-with-python-and-flask_19.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>Finally,</w>
              <w>the</w>
              <code rend="inline">return jsonify(results)</code>
              <w>line</w>
              <w>takes</w>
              <w>the</w>
              <w>list</w>
              <w>of</w>
              <w>results</w>
              <w>and</w>
              <w>renders</w>
              <w>them</w>
              <w>in</w>
              <w>the</w>
              <w>browser</w>
              <w>as</w>
              <w>JSON</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>If</w>
              <w>you've</w>
              <w>gotten</w>
              <w>this</w>
              <w>far,</w>
              <w>you've</w>
              <w>created</w>
              <w>an</w>
              <w>actual</w>
              <w>API</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Celebrate</w>
              <pc>!</pc>
            </s>
            <s>
              <w>At</w>
              <w>the</w>
              <w>end</w>
              <w>of</w>
              <w>this</w>
              <w>lesson,</w>
              <w>you'll</w>
              <w>be</w>
              <w>exposed</w>
              <w>to</w>
              <w>a</w>
              <w>somewhat</w>
              <w>more</w>
              <w>complex</w>
              <w>API</w>
              <w>that</w>
              <w>uses</w>
              <w>a</w>
              <w>database,</w>
              <w>but</w>
              <w>most</w>
              <w>of</w>
              <w>the</w>
              <w>principles</w>
              <w>and</w>
              <w>patterns</w>
              <w>we've</w>
              <w>used</w>
              <w>so</w>
              <w>far</w>
              <w>will</w>
              <w>still</w>
              <w>apply</w>
              <pc>.</pc>
            </s>
            <s>
              <w>In</w>
              <w>the</w>
              <w>next</w>
              <w>section,</w>
              <w>we'll</w>
              <w>discuss</w>
              <w>some</w>
              <w>guidelines</w>
              <w>for</w>
              <w>creating</w>
              <w>a</w>
              <w>well-designed</w>
              <w>API</w>
              <w>that</w>
              <w>others</w>
              <w>will</w>
              <w>actually</w>
              <w>want</w>
              <w>to</w>
              <w>use</w>
              <pc>.</pc>
            </s>
            <s>
              <w>In</w>
              <w>the</w>
              <w>last</w>
              <w>section</w>
              <w>of</w>
              <w>the</w>
              <w>tutorial,</w>
              <w>we'll</w>
              <w>apply</w>
              <w>these</w>
              <w>principles</w>
              <w>to</w>
              <w>a</w>
              <w>version</w>
              <w>of</w>
              <w>our</w>
              <w>API</w>
              <w>that</w>
              <w>pulls</w>
              <w>in</w>
              <w>results</w>
              <w>from</w>
              <w>a</w>
              <w>database</w>
              <pc>.</pc>
            </s>
          </p>
        </div>
      </div>
      <div type="2" n="6">
        <head>
          <s>
            <w>API</w>
            <w>Design</w>
            <w>Principles</w>
          </s>
        </head>
        <p>
          <s>
            <w>Thus</w>
            <w>far,</w>
            <w>we've</w>
            <w>created</w>
            <w>a</w>
            <w>working</w>
            <w>API</w>
            <w>with</w>
            <w>test</w>
            <w>data</w>
            <w>that</w>
            <w>we've</w>
            <w>provided</w>
            <w>right</w>
            <w>in</w>
            <w>our</w>
            <w>application</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Our</w>
            <w>next</w>
            <w>version</w>
            <w>of</w>
            <w>our</w>
            <w>API</w>
            <w>will</w>
            <w>pull</w>
            <w>in</w>
            <w>data</w>
            <w>from</w>
            <w>a</w>
            <w>database</w>
            <w>before</w>
            <w>providing</w>
            <w>it</w>
            <w>to</w>
            <w>a</w>
            <w>user</w>
            <pc>.</pc>
          </s>
          <s>
            <w>It</w>
            <w>will</w>
            <w>also</w>
            <w>take</w>
            <w>additional</w>
            <w>query</w>
            <w>parameters,</w>
            <w>allowing</w>
            <w>users</w>
            <w>to</w>
            <w>filter</w>
            <w>by</w>
            <w>fields</w>
            <w>other</w>
            <w>than</w>
            <w>ID</w>
            <pc>.</pc>
          </s>
        </p>
        <p>
          <s>
            <w>Before</w>
            <w>building</w>
            <w>more</w>
            <w>functionality</w>
            <w>into</w>
            <w>our</w>
            <w>application,</w>
            <w>let's</w>
            <w>reflect</w>
            <w>on</w>
            <w>some</w>
            <w>of</w>
            <w>the</w>
            <w>API</w>
            <w>design</w>
            <w>decisions</w>
            <w>that</w>
            <w>we've</w>
            <w>made</w>
            <w>so</w>
            <w>far</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Two</w>
            <w>aspects</w>
            <w>of</w>
            <w>a</w>
            <w>good</w>
            <w>API</w>
            <w>are</w>
            <w>usability</w>
            <w>and</w>
            <w>maintainability,</w>
            <w>and</w>
            <w>as</w>
            <w>we</w>
            <w>build</w>
            <w>more</w>
            <w>functionality</w>
            <w>into</w>
            <w>our</w>
            <w>API,</w>
            <w>we'll</w>
            <w>be</w>
            <w>keeping</w>
            <w>many</w>
            <w>of</w>
            <w>the</w>
            <w>following</w>
            <w>considerations</w>
            <w>in</w>
            <w>mind</w>
            <pc>.</pc>
          </s>
        </p>
        <div type="3" n="6.1">
          <head>
            <s>
              <w>Designing</w>
              <w>Requests</w>
            </s>
          </head>
          <p>
            <s>
              <w>The</w>
              <w>prevailing</w>
              <w>design</w>
              <w>philosophy</w>
              <w>of</w>
              <w>modern</w>
              <w>APIs</w>
              <w>is</w>
              <w>called</w>
              <w>REST</w>
              <pc>.</pc>
            </s>
            <s>
              <w>For</w>
              <w>our</w>
              <w>purposes,</w>
              <w>the</w>
              <w>most</w>
              <w>important</w>
              <w>thing</w>
              <w>about</w>
              <w>REST</w>
              <w>is</w>
              <w>that</w>
              <w>it's</w>
              <w>based</w>
              <w>on</w>
              <w>the</w>
              <w>four</w>
              <w>methods</w>
              <w>defined</w>
              <w>by</w>
              <w>the</w>
              <w>HTTP</w>
              <w>protocol:</w>
              <w>POST,</w>
              <w>GET,</w>
              <w>PUT,</w>
              <w>and</w>
              <w>DELETE</w>
              <pc>.</pc>
            </s>
            <s>
              <w>These</w>
              <w>correspond</w>
              <w>to</w>
              <w>the</w>
              <w>four</w>
              <w>traditional</w>
              <w>actions</w>
              <w>performed</w>
              <w>on</w>
              <w>data</w>
              <w>in</w>
              <w>a</w>
              <w>database:</w>
              <w>CREATE,</w>
              <w>READ,</w>
              <w>UPDATE,</w>
              <w>and</w>
              <w>DELETE</w>
              <pc>.</pc>
            </s>
            <s>
              <w>In</w>
              <w>this</w>
              <w>tutorial,</w>
              <w>we'll</w>
              <w>only</w>
              <w>be</w>
              <w>concerned</w>
              <w>with</w>
              <w>GET</w>
              <w>requests,</w>
              <w>which</w>
              <w>correspond</w>
              <w>to</w>
              <w>reading</w>
              <w>from</w>
              <w>a</w>
              <w>database</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Because</w>
              <w>HTTP</w>
              <w>requests</w>
              <w>are</w>
              <w>so</w>
              <w>integral</w>
              <w>to</w>
              <w>using</w>
              <w>a</w>
              <w>REST</w>
              <w>API,</w>
              <w>many</w>
              <w>design</w>
              <w>principles</w>
              <w>revolve</w>
              <w>around</w>
              <w>how</w>
              <w>requests</w>
              <w>should</w>
              <w>be</w>
              <w>formatted</w>
              <pc>.</pc>
            </s>
            <s>
              <w>We've</w>
              <w>already</w>
              <w>created</w>
              <w>one</w>
              <w>HTTP</w>
              <w>request,</w>
              <w>which</w>
              <w>returns</w>
              <w>all</w>
              <w>books</w>
              <w>provided</w>
              <w>in</w>
              <w>our</w>
              <w>sample</w>
              <w>data</w>
              <pc>.</pc>
            </s>
            <s>
              <w>To</w>
              <w>understand</w>
              <w>the</w>
              <w>considerations</w>
              <w>that</w>
              <w>go</w>
              <w>into</w>
              <w>formatting</w>
              <w>this</w>
              <w>request,</w>
              <w>let's</w>
              <w>first</w>
              <w>consider</w>
              <w>a</w>
              <w>weak</w>
              <w>or</w>
              <w>poorly-designed</w>
              <w>example</w>
              <w>of</w>
              <w>an</w>
              <w>API</w>
              <w>endpoint:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_creating-apis-with-python-and-flask_20" corresp="code_creating-apis-with-python-and-flask_20.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>The</w>
              <w>formatting</w>
              <w>of</w>
              <w>this</w>
              <w>request</w>
              <w>has</w>
              <w>a</w>
              <w>number</w>
              <w>of</w>
              <w>issues</w>
              <pc>.</pc>
            </s>
            <s>
              <w>The</w>
              <w>first</w>
              <w>is</w>
              <w>semantic—in</w>
              <w>a</w>
              <w>REST</w>
              <w>API,</w>
              <w>our</w>
              <w>verbs</w>
              <w>are</w>
              <w>typically</w>
              <code rend="inline">GET</code>
              <w>,</w>
              <code rend="inline">POST</code>
              <w>,</w>
              <code rend="inline">PUT</code>
              <w>,</w>
              <w>or</w>
              <code rend="inline">DELETE</code>
              <w>,</w>
              <w>and</w>
              <w>are</w>
              <w>determined</w>
              <w>by</w>
              <w>the</w>
              <w>request</w>
              <w>method</w>
              <w>rather</w>
              <w>than</w>
              <w>in</w>
              <w>the</w>
              <w>request</w>
              <w>URL</w>
              <pc>.</pc>
            </s>
            <s>
              <w>That</w>
              <w>means</w>
              <w>that</w>
              <w>the</w>
              <w>word</w>
              <w>"get"</w>
              <w>should</w>
              <w>not</w>
              <w>appear</w>
              <w>in</w>
              <w>our</w>
              <w>request,</w>
              <w>since</w>
              <w>"get"</w>
              <w>is</w>
              <w>implied</w>
              <w>by</w>
              <w>the</w>
              <w>fact</w>
              <w>that</w>
              <w>we're</w>
              <w>using</w>
              <w>a</w>
              <w>HTTP</w>
              <w>GET</w>
              <w>method</w>
              <pc>.</pc>
            </s>
            <s>
              <w>In</w>
              <w>addition,</w>
              <w>resource</w>
              <w>collections</w>
              <w>such</w>
              <w>as</w>
              <code rend="inline">books</code>
              <w>or</w>
              <code rend="inline">users</code>
              <w>should</w>
              <w>be</w>
              <w>denoted</w>
              <w>with</w>
              <w>plural</w>
              <w>nouns</w>
              <pc>.</pc>
            </s>
            <s>
              <w>This</w>
              <w>makes</w>
              <w>it</w>
              <w>clear</w>
              <w>when</w>
              <w>an</w>
              <w>API</w>
              <w>is</w>
              <w>referring</w>
              <w>to</w>
              <w>a</w>
              <w>collection</w>
              <w>(</w>
              <code rend="inline">books</code>
              <w>)</w>
              <w>or</w>
              <w>an</w>
              <w>entry</w>
              <w>(</w>
              <code rend="inline">book</code>
              <w>)</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Incorporating</w>
              <w>these</w>
              <w>principles,</w>
              <w>our</w>
              <w>API</w>
              <w>would</w>
              <w>look</w>
              <w>like</w>
              <w>this:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_creating-apis-with-python-and-flask_21" corresp="code_creating-apis-with-python-and-flask_21.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>The</w>
              <w>above</w>
              <w>request</w>
              <w>uses</w>
              <w>part</w>
              <w>of</w>
              <w>the</w>
              <w>path</w>
              <w>(</w>
              <w>)</w>
              <w>to</w>
              <w>provide</w>
              <w>the</w>
              <w>ID</w>
              <pc>.</pc>
            </s>
            <code rend="inline">/10</code>
            <s>
              <w>While</w>
              <w>this</w>
              <w>is</w>
              <w>not</w>
              <w>an</w>
              <w>uncommon</w>
              <w>approach,</w>
              <w>it's</w>
              <w>somewhat</w>
              <w>inflexible—with</w>
              <w>URLs</w>
              <w>constructed</w>
              <w>in</w>
              <w>this</w>
              <w>manner,</w>
              <w>you</w>
              <w>can</w>
              <w>generally</w>
              <w>only</w>
              <w>filter</w>
              <w>by</w>
              <w>one</w>
              <w>field</w>
              <w>at</w>
              <w>a</w>
              <w>time</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Query</w>
              <w>parameters</w>
              <w>allow</w>
              <w>for</w>
              <w>filtering</w>
              <w>by</w>
              <w>multiple</w>
              <w>database</w>
              <w>fields</w>
              <w>and</w>
              <w>make</w>
              <w>more</w>
              <w>sense</w>
              <w>when</w>
              <w>providing</w>
              <w>"optional"</w>
              <w>data,</w>
              <w>such</w>
              <w>as</w>
              <w>an</w>
              <w>output</w>
              <w>format:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_creating-apis-with-python-and-flask_22" corresp="code_creating-apis-with-python-and-flask_22.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>When</w>
              <w>designing</w>
              <w>how</w>
              <w>requests</w>
              <w>to</w>
              <w>your</w>
              <w>API</w>
              <w>should</w>
              <w>be</w>
              <w>structured,</w>
              <w>it</w>
              <w>also</w>
              <w>makes</w>
              <w>sense</w>
              <w>to</w>
              <w>plan</w>
              <w>for</w>
              <w>future</w>
              <w>additions</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Even</w>
              <w>if</w>
              <w>the</w>
              <w>current</w>
              <w>version</w>
              <w>of</w>
              <w>your</w>
              <w>API</w>
              <w>serves</w>
              <w>information</w>
              <w>on</w>
              <w>only</w>
              <w>one</w>
              <w>type</w>
              <w>of</w>
              <w>resource—</w>
              <code rend="inline">books</code>
              <w>,</w>
              <w>for</w>
              <w>example—it</w>
              <w>makes</w>
              <w>sense</w>
              <w>to</w>
              <w>plan</w>
              <w>as</w>
              <w>if</w>
              <w>you</w>
              <w>might</w>
              <w>add</w>
              <w>other</w>
              <w>resources</w>
              <w>or</w>
              <w>non-resource</w>
              <w>functionality</w>
              <w>to</w>
              <w>your</w>
              <w>API</w>
              <w>in</w>
              <w>the</w>
              <w>future:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_creating-apis-with-python-and-flask_23" corresp="code_creating-apis-with-python-and-flask_23.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>Adding</w>
              <w>an</w>
              <w>extra</w>
              <w>segment</w>
              <w>on</w>
              <w>your</w>
              <w>path</w>
              <w>such</w>
              <w>as</w>
              <w>"resources"</w>
              <w>or</w>
              <w>"entries"</w>
              <w>gives</w>
              <w>you</w>
              <w>the</w>
              <w>option</w>
              <w>to</w>
              <w>allow</w>
              <w>users</w>
              <w>to</w>
              <w>search</w>
              <w>across</w>
              <w>all</w>
              <w>resources</w>
              <w>available,</w>
              <w>making</w>
              <w>it</w>
              <w>easier</w>
              <w>for</w>
              <w>you</w>
              <w>to</w>
              <w>later</w>
              <w>support</w>
              <w>requests</w>
              <w>such</w>
              <w>as</w>
              <w>these:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_creating-apis-with-python-and-flask_24" corresp="code_creating-apis-with-python-and-flask_24.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>Another</w>
              <w>way</w>
              <w>to</w>
              <w>plan</w>
              <w>for</w>
              <w>your</w>
              <w>API's</w>
              <w>future</w>
              <w>is</w>
              <w>to</w>
              <w>add</w>
              <w>a</w>
              <w>version</w>
              <w>number</w>
              <w>to</w>
              <w>the</w>
              <w>path</w>
              <pc>.</pc>
            </s>
            <s>
              <w>This</w>
              <w>means</w>
              <w>that,</w>
              <w>should</w>
              <w>you</w>
              <w>have</w>
              <w>to</w>
              <w>redesign</w>
              <w>your</w>
              <w>API,</w>
              <w>you</w>
              <w>can</w>
              <w>continue</w>
              <w>to</w>
              <w>support</w>
              <w>the</w>
              <w>old</w>
              <w>version</w>
              <w>of</w>
              <w>the</w>
              <w>API</w>
              <w>under</w>
              <w>the</w>
              <w>old</w>
              <w>version</w>
              <w>number</w>
              <w>while</w>
              <w>releasing,</w>
              <w>for</w>
              <w>example,</w>
              <w>a</w>
              <w>second</w>
              <w>version</w>
              <w>(</w>
              <code rend="inline">v2</code>
              <w>)</w>
              <w>with</w>
              <w>improved</w>
              <w>or</w>
              <w>different</w>
              <w>functionality</w>
              <pc>.</pc>
            </s>
            <s>
              <w>This</w>
              <w>way,</w>
              <w>applications</w>
              <w>and</w>
              <w>scripts</w>
              <w>built</w>
              <w>using</w>
              <w>the</w>
              <w>old</w>
              <w>version</w>
              <w>of</w>
              <w>your</w>
              <w>API</w>
              <w>won't</w>
              <w>cease</w>
              <w>to</w>
              <w>function</w>
              <w>after</w>
              <w>your</w>
              <w>upgrade</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>After</w>
              <w>incorporating</w>
              <w>these</w>
              <w>design</w>
              <w>improvements,</w>
              <w>a</w>
              <w>request</w>
              <w>to</w>
              <w>our</w>
              <w>API</w>
              <w>might</w>
              <w>look</w>
              <w>like</w>
              <w>this:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_creating-apis-with-python-and-flask_25" corresp="code_creating-apis-with-python-and-flask_25.txt" rend="block"/>
          </ab>
        </div>
        <div type="3" n="6.2">
          <head>
            <s>
              <w>Documentation</w>
              <w>and</w>
              <w>Examples</w>
            </s>
          </head>
          <p>
            <s>
              <w>Without</w>
              <w>documentation,</w>
              <w>even</w>
              <w>the</w>
              <w>best-designed</w>
              <w>API</w>
              <w>will</w>
              <w>be</w>
              <w>unusable</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Your</w>
              <w>API</w>
              <w>should</w>
              <w>have</w>
              <w>documentation</w>
              <w>describing</w>
              <w>the</w>
              <w>resources</w>
              <w>or</w>
              <w>functionality</w>
              <w>available</w>
              <w>through</w>
              <w>your</w>
              <w>API</w>
              <w>that</w>
              <w>also</w>
              <w>provides</w>
              <w>concrete</w>
              <w>working</w>
              <w>examples</w>
              <w>of</w>
              <w>request</w>
              <w>URLs</w>
              <w>or</w>
              <w>code</w>
              <w>for</w>
              <w>your</w>
              <w>API</w>
              <pc>.</pc>
            </s>
            <s>
              <w>You</w>
              <w>should</w>
              <w>have</w>
              <w>a</w>
              <w>section</w>
              <w>for</w>
              <w>each</w>
              <w>resource</w>
              <w>that</w>
              <w>describes</w>
              <w>which</w>
              <w>fields,</w>
              <w>such</w>
              <w>as</w>
              <code rend="inline">id</code>
              <w>or</w>
              <code rend="inline">title</code>
              <w>,</w>
              <w>it</w>
              <w>accepts</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Each</w>
              <w>section</w>
              <w>should</w>
              <w>have</w>
              <w>an</w>
              <w>example</w>
              <w>in</w>
              <w>the</w>
              <w>form</w>
              <w>of</w>
              <w>a</w>
              <w>sample</w>
              <w>HTTP</w>
              <w>request</w>
              <w>or</w>
              <w>block</w>
              <w>of</w>
              <w>code</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>A</w>
              <w>fairly</w>
              <w>common</w>
              <w>practice</w>
              <w>in</w>
              <w>documenting</w>
              <w>APIs</w>
              <w>is</w>
              <w>to</w>
              <w>provide</w>
              <w>annotations</w>
              <w>in</w>
              <w>your</w>
              <w>code</w>
              <w>that</w>
              <w>are</w>
              <w>then</w>
              <w>automatically</w>
              <w>collated</w>
              <w>into</w>
              <w>documentation</w>
              <w>using</w>
              <w>a</w>
              <w>tool</w>
              <w>such</w>
              <w>as</w>
              <ref target="http://www.doxygen.org/">
                <w>Doxygen</w>
              </ref>
              <w>or</w>
              <ref target="http://www.sphinx-doc.org/en/stable/">
                <w>Sphinx</w>
              </ref>
              <pc>.</pc>
            </s>
            <s>
              <w>These</w>
              <w>tools</w>
              <w>create</w>
              <w>documentation</w>
              <w>from</w>
              <w>—comments</w>
              <w>you</w>
              <w>make</w>
              <w>on</w>
              <w>your</w>
              <w>function</w>
              <w>definitions</w>
              <pc>.</pc>
            </s>
            <hi rend="bold">
              <s>
                <w>docstrings</w>
              </s>
            </hi>
            <s>
              <w>While</w>
              <w>this</w>
              <w>kind</w>
              <w>of</w>
              <w>documentation</w>
              <w>is</w>
              <w>a</w>
              <w>good</w>
              <w>idea,</w>
              <w>you</w>
              <w>shouldn't</w>
              <w>consider</w>
              <w>your</w>
              <w>job</w>
              <w>done</w>
              <w>if</w>
              <w>you've</w>
              <w>only</w>
              <w>documented</w>
              <w>your</w>
              <w>API</w>
              <w>to</w>
              <w>this</w>
              <w>level</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Instead,</w>
              <w>try</w>
              <w>to</w>
              <w>imagine</w>
              <w>yourself</w>
              <w>as</w>
              <w>a</w>
              <w>potential</w>
              <w>user</w>
              <w>of</w>
              <w>your</w>
              <w>API</w>
              <w>and</w>
              <w>provide</w>
              <w>working</w>
              <w>examples</w>
              <pc>.</pc>
            </s>
            <s>
              <w>In</w>
              <w>an</w>
              <w>ideal</w>
              <w>world,</w>
              <w>you</w>
              <w>would</w>
              <w>have</w>
              <w>three</w>
              <w>kinds</w>
              <w>of</w>
              <w>documentation</w>
              <w>for</w>
              <w>your</w>
              <w>API:</w>
              <w>a</w>
              <w>reference</w>
              <w>that</w>
              <w>details</w>
              <w>each</w>
              <w>route</w>
              <w>and</w>
              <w>its</w>
              <w>behavior,</w>
              <w>a</w>
              <w>guide</w>
              <w>that</w>
              <w>explains</w>
              <w>the</w>
              <w>reference</w>
              <w>in</w>
              <w>prose,</w>
              <w>and</w>
              <w>at</w>
              <w>least</w>
              <w>one</w>
              <w>or</w>
              <w>two</w>
              <w>tutorials</w>
              <w>that</w>
              <w>explain</w>
              <w>every</w>
              <w>step</w>
              <w>in</w>
              <w>detail</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>For</w>
              <w>inspiration</w>
              <w>on</w>
              <w>how</w>
              <w>to</w>
              <w>approach</w>
              <w>API</w>
              <w>documentation,</w>
              <w>see</w>
              <w>the</w>
              <ref target="http://api.repo.nypl.org/">
                <w>New</w>
                <w>York</w>
                <w>Public</w>
                <w>Library</w>
                <w>Digital</w>
                <w>Collections</w>
                <w>API</w>
              </ref>
              <w>,</w>
              <w>which</w>
              <w>sets</w>
              <w>a</w>
              <w>standard</w>
              <w>of</w>
              <w>documentation</w>
              <w>achievable</w>
              <w>for</w>
              <w>many</w>
              <w>academic</w>
              <w>projects</w>
              <pc>.</pc>
            </s>
            <s>
              <w>For</w>
              <w>an</w>
              <w>extensively</w>
              <w>documented</w>
              <w>(though</w>
              <w>sometimes</w>
              <w>overwhelming)</w>
              <w>API,</w>
              <w>see</w>
              <w>the</w>
              <ref target="https://www.mediawiki.org/wiki/API:Main_page">
                <w>MediaWiki</w>
                <w>Action</w>
                <w>API</w>
              </ref>
              <w>,</w>
              <w>which</w>
              <w>provides</w>
              <w>documentation</w>
              <w>to</w>
              <w>users</w>
              <w>who</w>
              <w>pass</w>
              <w>partial</w>
              <w>queries</w>
              <w>to</w>
              <w>the</w>
              <w>API</w>
              <pc>.</pc>
            </s>
            <s>
              <w>(In</w>
              <w>our</w>
              <w>example</w>
              <w>above,</w>
              <w>we</w>
              <w>returned</w>
              <w>an</w>
              <w>error</w>
              <w>on</w>
              <w>a</w>
              <w>partial</w>
              <w>query</w>
              <pc>.</pc>
            </s>
            <s>
              <w>)</w>
              <w>For</w>
              <w>other</w>
              <w>professionally</w>
              <w>maintained</w>
              <w>API</w>
              <w>documentation</w>
              <w>examples,</w>
              <w>consider</w>
              <w>the</w>
              <ref target="https://datahelpdesk.worldbank.org/knowledgebase/articles/889392-api-documentation">
                <w>World</w>
                <w>Bank</w>
                <w>API</w>
              </ref>
              <w>,</w>
              <w>the</w>
              <w>various</w>
              <ref target="https://developer.nytimes.com/">
                <w>New</w>
                <w>York</w>
                <w>Times</w>
                <w>APIs</w>
              </ref>
              <w>,</w>
              <w>or</w>
              <w>the</w>
              <ref target="https://pro.europeana.eu/resources/apis">
                <w>Europeana</w>
                <w>Pro</w>
                <w>API</w>
              </ref>
              <pc>.</pc>
            </s>
          </p>
        </div>
      </div>
      <div type="2" n="7">
        <head>
          <s>
            <w>Connecting</w>
            <w>Our</w>
            <w>API</w>
            <w>to</w>
            <w>a</w>
            <w>Database</w>
          </s>
        </head>
        <p>
          <s>
            <w>This</w>
            <w>last</w>
            <w>example</w>
            <w>of</w>
            <w>our</w>
            <w>Distant</w>
            <w>Reading</w>
            <w>Archive</w>
            <w>API</w>
            <w>pulls</w>
            <w>in</w>
            <w>data</w>
            <w>from</w>
            <w>a</w>
            <w>database,</w>
            <w>implements</w>
            <w>error</w>
            <w>handling,</w>
            <w>and</w>
            <w>can</w>
            <w>filter</w>
            <w>books</w>
            <w>by</w>
            <w>publication</w>
            <w>date</w>
            <pc>.</pc>
          </s>
          <s>
            <w>The</w>
            <w>database</w>
            <w>used</w>
            <w>is</w>
            <w>SQLite,</w>
            <w>a</w>
            <w>lightweight</w>
            <w>database</w>
            <w>engine</w>
            <w>that</w>
            <w>is</w>
            <w>supported</w>
            <w>in</w>
            <w>Python</w>
            <w>by</w>
            <w>default</w>
            <pc>.</pc>
          </s>
          <s>
            <w>SQLite</w>
            <w>files</w>
            <w>typically</w>
            <w>end</w>
            <w>with</w>
            <w>the</w>
            <code rend="inline">.db</code>
            <w>file</w>
            <w>extension</w>
            <pc>.</pc>
          </s>
        </p>
        <p>
          <s>
            <w>Before</w>
            <w>we</w>
            <w>modify</w>
            <w>our</w>
            <w>code,</w>
            <w>first</w>
            <ref target="/assets/creating-apis-with-python-and-flask/books.db">
              <w>download</w>
              <w>the</w>
              <w>example</w>
              <w>database</w>
              <w>from</w>
              <w>this</w>
              <w>location</w>
            </ref>
            <w>and</w>
            <w>copy</w>
            <w>the</w>
            <w>file</w>
            <w>to</w>
            <w>your</w>
            <w>folder</w>
            <w>using</w>
            <w>your</w>
            <w>graphical</w>
            <w>user</w>
            <w>interface</w>
            <pc>.</pc>
          </s>
          <code rend="inline">api</code>
          <s>
            <w>The</w>
            <w>final</w>
            <w>version</w>
            <w>of</w>
            <w>our</w>
            <w>API</w>
            <w>will</w>
            <w>query</w>
            <w>this</w>
            <w>database</w>
            <w>when</w>
            <w>returning</w>
            <w>results</w>
            <w>to</w>
            <w>users</w>
            <pc>.</pc>
          </s>
        </p>
        <p>
          <s>
            <w>Copy</w>
            <w>the</w>
            <w>below</w>
            <w>code</w>
            <w>into</w>
            <w>your</w>
            <w>text</w>
            <w>editor</w>
            <pc>.</pc>
          </s>
          <s>
            <w>As</w>
            <w>before,</w>
            <w>we'll</w>
            <w>examine</w>
            <w>the</w>
            <w>code</w>
            <w>more</w>
            <w>closely</w>
            <w>once</w>
            <w>you</w>
            <w>have</w>
            <w>it</w>
            <w>running</w>
            <pc>.</pc>
          </s>
        </p>
        <ab>
          <code lang="language-python" xml:id="code_creating-apis-with-python-and-flask_26" corresp="code_creating-apis-with-python-and-flask_26.txt" rend="block"/>
        </ab>
        <p>
          <s>
            <w>Save</w>
            <w>the</w>
            <w>code</w>
            <w>as</w>
            <code rend="inline">api_final.py</code>
            <w>in</w>
            <w>your</w>
            <code rend="inline">api</code>
            <w>folder</w>
            <w>and</w>
            <w>run</w>
            <w>it</w>
            <w>by</w>
            <w>navigating</w>
            <w>to</w>
            <w>your</w>
            <w>project</w>
            <w>folder</w>
            <w>in</w>
            <w>the</w>
            <w>terminal</w>
            <w>and</w>
            <w>entering</w>
            <w>the</w>
            <w>command:</w>
          </s>
        </p>
        <ab>
          <code xml:id="code_creating-apis-with-python-and-flask_27" corresp="code_creating-apis-with-python-and-flask_27.txt" rend="block"/>
        </ab>
        <p>
          <s>
            <w>Note</w>
            <w>that</w>
            <w>if</w>
            <w>a</w>
            <w>previous</w>
            <w>version</w>
            <w>of</w>
            <w>the</w>
            <w>code</w>
            <w>is</w>
            <w>still</w>
            <w>running,</w>
            <w>you</w>
            <w>will</w>
            <w>first</w>
            <w>need</w>
            <w>to</w>
            <w>end</w>
            <w>that</w>
            <w>process</w>
            <w>by</w>
            <w>pressing</w>
            <w>before</w>
            <w>executing</w>
            <w>the</w>
            <w>new</w>
            <w>code</w>
            <pc>.</pc>
          </s>
          <code rend="inline">Control-C</code>
          <s>
            <w>Once</w>
            <w>this</w>
            <w>example</w>
            <w>is</w>
            <w>running,</w>
            <w>try</w>
            <w>out</w>
            <w>the</w>
            <w>filtering</w>
            <w>functionality</w>
            <w>with</w>
            <w>these</w>
            <w>HTTP</w>
            <w>requests:</w>
          </s>
        </p>
        <p>
          <ref target="http://127.0.0.1:5000/api/v1/resources/books/all">http://127.0.0.1:5000/api/v1/resources/books/all</ref>
          <ref target="http://127.0.0.1:5000/api/v1/resources/books?author=Connie+Willis">http://127.0.0.1:5000/api/v1/resources/books?author=Connie+Willis</ref>
          <ref target="http://127.0.0.1:5000/api/v1/resources/books?author=Connie+Willis&amp;published=1993">
            <w>http://127</w>
            <pc>.</pc>
            <w>0</w>
            <pc>.</pc>
            <w>0</w>
            <pc>.</pc>
            <w>1:5000/api/v1/resources/books</w>
            <pc>?</pc>
            <w>author=Connie+Willis&amp;published=1999</w>
          </ref>
          <ref target="http://127.0.0.1:5000/api/v1/resources/books?published=2010">http://127.0.0.1:5000/api/v1/resources/books?published=2010</ref>
        </p>
        <p>
          <s>
            <w>The</w>
            <w>database</w>
            <w>downloaded</w>
            <w>for</w>
            <w>this</w>
            <w>lesson</w>
            <w>has</w>
            <w>67</w>
            <w>entries,</w>
            <w>one</w>
            <w>for</w>
            <w>each</w>
            <w>of</w>
            <w>the</w>
            <w>winners</w>
            <w>of</w>
            <w>the</w>
            <w>Hugo</w>
            <w>Award</w>
            <w>for</w>
            <w>best</w>
            <w>science</w>
            <w>fiction</w>
            <w>novel</w>
            <w>between</w>
            <w>1953</w>
            <w>and</w>
            <w>2014</w>
            <w>(avoiding</w>
            <w>the</w>
            <w>voting</w>
            <w>controversy</w>
            <w>of</w>
            <w>2015)</w>
            <pc>.</pc>
          </s>
          <s>
            <w>The</w>
            <w>data</w>
            <w>set</w>
            <w>includes</w>
            <w>the</w>
            <w>novel's</w>
            <w>title,</w>
            <w>author,</w>
            <w>year</w>
            <w>of</w>
            <w>publication,</w>
            <w>and</w>
            <w>first</w>
            <w>sentence</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Our</w>
            <w>API</w>
            <w>allows</w>
            <w>users</w>
            <w>to</w>
            <w>filter</w>
            <w>by</w>
            <w>three</w>
            <w>fields:</w>
            <code rend="inline">id</code>
            <w>,</w>
            <code rend="inline">published</code>
            <w>(year</w>
            <w>of</w>
            <w>publication),</w>
            <w>and</w>
            <code rend="inline">author</code>
            <pc>.</pc>
          </s>
        </p>
        <p>
          <s>
            <w>The</w>
            <w>first</w>
            <w>request</w>
            <w>returns</w>
            <w>all</w>
            <w>entries</w>
            <w>in</w>
            <w>the</w>
            <w>database,</w>
            <w>similar</w>
            <w>to</w>
            <w>the</w>
            <w>request</w>
            <w>we</w>
            <w>implemented</w>
            <w>for</w>
            <w>the</w>
            <w>last</w>
            <w>version</w>
            <w>of</w>
            <w>our</w>
            <w>API</w>
            <pc>.</pc>
          </s>
          <code rend="inline">/all</code>
          <s>
            <w>The</w>
            <w>second</w>
            <w>request</w>
            <w>returns</w>
            <w>all</w>
            <w>books</w>
            <w>by</w>
            <w>the</w>
            <w>author</w>
            <w>Connie</w>
            <w>Willis</w>
            <w>(</w>
            <code rend="inline">?author=Connie+Willis</code>
            <w>)</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Note</w>
            <w>that,</w>
            <w>within</w>
            <w>a</w>
            <w>query</w>
            <w>parameter,</w>
            <w>spaces</w>
            <w>between</w>
            <w>words</w>
            <w>are</w>
            <w>denoted</w>
            <w>with</w>
            <w>a</w>
            <code rend="inline">+</code>
            <w>sign,</w>
            <w>hence</w>
            <code rend="inline">Connie+Willis</code>
            <pc>.</pc>
          </s>
          <s>
            <w>The</w>
            <w>third</w>
            <w>request</w>
            <w>filters</w>
            <w>by</w>
            <w>two</w>
            <w>fields—author</w>
            <w>and</w>
            <w>year</w>
            <w>of</w>
            <w>publication</w>
            <pc>.</pc>
          </s>
          <s>
            <w>Instead</w>
            <w>of</w>
            <w>the</w>
            <w>three</w>
            <w>books</w>
            <w>returned</w>
            <w>by</w>
            <w>requesting</w>
            <code rend="inline">?author=Connie+Willis</code>
            <w>,</w>
            <w>this</w>
            <w>request</w>
            <w>returns</w>
            <w>only</w>
            <w>the</w>
            <w>entry</w>
            <w>to</w>
            <emph>
              <w>The</w>
              <w>Doomsday</w>
              <w>Book</w>
            </emph>
            <w>,</w>
            <w>published</w>
            <w>in</w>
            <w>1993</w>
            <pc>.</pc>
          </s>
          <s>
            <w>The</w>
            <w>last</w>
            <w>request</w>
            <w>returns</w>
            <w>all</w>
            <w>Hugo</w>
            <w>winners</w>
            <w>from</w>
            <w>the</w>
            <w>year</w>
            <w>2010</w>
            <w>(note</w>
            <w>that,</w>
            <w>in</w>
            <w>some</w>
            <w>years,</w>
            <w>more</w>
            <w>than</w>
            <w>one</w>
            <w>Hugo</w>
            <w>is</w>
            <w>awarded)</w>
            <pc>.</pc>
          </s>
        </p>
        <p>
          <s>
            <w>As</w>
            <w>we</w>
            <w>can</w>
            <w>see</w>
            <w>this</w>
            <w>version</w>
            <w>of</w>
            <w>our</w>
            <w>API</w>
            <w>serves</w>
            <w>a</w>
            <w>larger</w>
            <w>number</w>
            <w>of</w>
            <w>results,</w>
            <w>results</w>
            <w>that</w>
            <w>are</w>
            <w>stored</w>
            <w>in</w>
            <w>an</w>
            <w>SQLite</w>
            <w>database</w>
            <w>(</w>
            <w>)</w>
            <pc>.</pc>
          </s>
          <code rend="inline">books.db</code>
          <s>
            <w>When</w>
            <w>our</w>
            <w>user</w>
            <w>requests</w>
            <w>an</w>
            <w>entry</w>
            <w>or</w>
            <w>set</w>
            <w>of</w>
            <w>entries,</w>
            <w>our</w>
            <w>API</w>
            <w>pulls</w>
            <w>that</w>
            <w>information</w>
            <w>from</w>
            <w>the</w>
            <w>database</w>
            <w>by</w>
            <w>building</w>
            <w>and</w>
            <w>executing</w>
            <w>an</w>
            <w>SQL</w>
            <w>query</w>
            <pc>.</pc>
          </s>
          <s>
            <w>This</w>
            <w>iteration</w>
            <w>of</w>
            <w>our</w>
            <w>API</w>
            <w>also</w>
            <w>allows</w>
            <w>for</w>
            <w>filtering</w>
            <w>by</w>
            <w>more</w>
            <w>than</w>
            <w>one</w>
            <w>field</w>
            <pc>.</pc>
          </s>
          <s>
            <w>We'll</w>
            <w>discuss</w>
            <w>potential</w>
            <w>uses</w>
            <w>for</w>
            <w>this</w>
            <w>functionality</w>
            <w>after</w>
            <w>examining</w>
            <w>our</w>
            <w>code</w>
            <w>more</w>
            <w>closely</w>
            <pc>.</pc>
          </s>
        </p>
        <div type="3" n="7.1">
          <head>
            <s>
              <w>Understanding</w>
              <w>Our</w>
              <w>Database-Powered</w>
              <w>API</w>
            </s>
          </head>
          <p>
            <s>
              <w>Relational</w>
              <w>databases</w>
              <w>allow</w>
              <w>for</w>
              <w>the</w>
              <w>storage</w>
              <w>and</w>
              <w>retrieval</w>
              <w>of</w>
              <w>data,</w>
              <w>which</w>
              <w>is</w>
              <w>stored</w>
              <w>in</w>
              <w>tables</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Tables</w>
              <w>are</w>
              <w>similar</w>
              <w>to</w>
              <w>spread</w>
              <w>sheets</w>
              <w>in</w>
              <w>that</w>
              <w>they</w>
              <w>have</w>
              <w>columns</w>
              <w>and</w>
              <w>rows—columns</w>
              <w>indicate</w>
              <w>what</w>
              <w>the</w>
              <w>data</w>
              <w>representes,</w>
              <w>such</w>
              <w>as</w>
              <w>"title"</w>
              <w>or</w>
              <w>"date</w>
              <pc>.</pc>
            </s>
            <s>
              <w>"</w>
              <w>Rows</w>
              <w>represent</w>
              <w>individual</w>
              <w>entries,</w>
              <w>which</w>
              <w>could</w>
              <w>be</w>
              <w>books,</w>
              <w>users,</w>
              <w>transactions,</w>
              <w>or</w>
              <w>any</w>
              <w>other</w>
              <w>kind</w>
              <w>of</w>
              <w>entity</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>The</w>
              <w>database</w>
              <w>we're</w>
              <w>working</w>
              <w>with</w>
              <w>has</w>
              <w>five</w>
              <w>columns</w>
              <w>,</w>
              <w>,</w>
              <w>,</w>
              <w>,</w>
              <w>and</w>
              <pc>.</pc>
            </s>
            <code rend="inline">id</code>
            <code rend="inline">published</code>
            <code rend="inline">author</code>
            <code rend="inline">title</code>
            <code rend="inline">first_sentence</code>
            <s>
              <w>Each</w>
              <w>row</w>
              <w>represents</w>
              <w>one</w>
              <w>book</w>
              <w>that</w>
              <w>won</w>
              <w>the</w>
              <w>Hugo</w>
              <w>award</w>
              <w>in</w>
              <w>the</w>
              <w>year</w>
              <w>under</w>
              <w>the</w>
              <code rend="inline">published</code>
              <w>heading,</w>
              <w>and</w>
              <w>the</w>
              <w>text</w>
              <w>of</w>
              <w>which</w>
              <w>begins</w>
              <w>with</w>
              <w>the</w>
              <w>sentence</w>
              <w>in</w>
              <w>the</w>
              <code rend="inline">first_sentence</code>
              <w>column</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Rather</w>
              <w>than</w>
              <w>use</w>
              <w>test</w>
              <w>data</w>
              <w>defined</w>
              <w>in</w>
              <w>the</w>
              <w>application,</w>
              <w>our</w>
              <code rend="inline">api_all</code>
              <w>function</w>
              <w>pulls</w>
              <w>in</w>
              <w>data</w>
              <w>from</w>
              <w>our</w>
              <w>Hugo</w>
              <w>database:</w>
            </s>
          </p>
          <ab>
            <code lang="language-python" xml:id="code_creating-apis-with-python-and-flask_28" corresp="code_creating-apis-with-python-and-flask_28.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>First,</w>
              <w>we</w>
              <w>connect</w>
              <w>to</w>
              <w>the</w>
              <w>database</w>
              <w>using</w>
              <w>our</w>
              <w>library</w>
              <pc>.</pc>
            </s>
            <code rend="inline">sqlite3</code>
            <s>
              <w>An</w>
              <w>object</w>
              <w>representing</w>
              <w>the</w>
              <w>connection</w>
              <w>to</w>
              <w>the</w>
              <w>database</w>
              <w>is</w>
              <w>bound</w>
              <w>to</w>
              <w>the</w>
              <code rend="inline">conn</code>
              <w>variable</w>
              <pc>.</pc>
            </s>
            <s>
              <w>The</w>
              <code rend="inline">conn.row_factory = dict_factory</code>
              <w>line</w>
              <w>lets</w>
              <w>the</w>
              <w>connection</w>
              <w>object</w>
              <w>know</w>
              <w>to</w>
              <w>use</w>
              <w>the</w>
              <code rend="inline">dict_factory</code>
              <w>function</w>
              <w>we've</w>
              <w>defined,</w>
              <w>which</w>
              <w>returns</w>
              <w>items</w>
              <w>from</w>
              <w>the</w>
              <w>database</w>
              <w>as</w>
              <w>dictionaries</w>
              <w>rather</w>
              <w>than</w>
              <w>lists—these</w>
              <w>work</w>
              <w>better</w>
              <w>when</w>
              <w>we</w>
              <w>output</w>
              <w>them</w>
              <w>to</w>
              <w>JSON</w>
              <pc>.</pc>
            </s>
            <s>
              <w>We</w>
              <w>then</w>
              <w>create</w>
              <w>a</w>
              <w>cursor</w>
              <w>object</w>
              <w>(</w>
              <code rend="inline">cur = conn.cursor()</code>
              <w>),</w>
              <w>which</w>
              <w>is</w>
              <w>the</w>
              <w>object</w>
              <w>that</w>
              <w>actually</w>
              <w>moves</w>
              <w>through</w>
              <w>the</w>
              <w>database</w>
              <w>to</w>
              <w>pull</w>
              <w>our</w>
              <w>data</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Finally,</w>
              <w>we</w>
              <w>execute</w>
              <w>an</w>
              <w>SQL</w>
              <w>query</w>
              <w>with</w>
              <w>the</w>
              <code rend="inline">cur.execute</code>
              <w>method</w>
              <w>to</w>
              <w>pull</w>
              <w>out</w>
              <w>all</w>
              <w>available</w>
              <w>data</w>
              <w>(</w>
              <code rend="inline">*</code>
              <w>)</w>
              <w>from</w>
              <w>the</w>
              <code rend="inline">books</code>
              <w>table</w>
              <w>of</w>
              <w>our</w>
              <w>database</w>
              <pc>.</pc>
            </s>
            <s>
              <w>At</w>
              <w>the</w>
              <w>end</w>
              <w>of</w>
              <w>our</w>
              <w>function,</w>
              <w>this</w>
              <w>data</w>
              <w>is</w>
              <w>returned</w>
              <w>as</w>
              <w>JSON:</w>
              <code rend="inline">jsonify(all_books)</code>
              <pc>.</pc>
            </s>
            <s>
              <w>Note</w>
              <w>that</w>
              <w>our</w>
              <w>other</w>
              <w>function</w>
              <w>that</w>
              <w>returns</w>
              <w>data,</w>
              <code rend="inline">api_filter</code>
              <w>,</w>
              <w>will</w>
              <w>use</w>
              <w>a</w>
              <w>similar</w>
              <w>approach</w>
              <w>to</w>
              <w>pull</w>
              <w>data</w>
              <w>from</w>
              <w>the</w>
              <w>database</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>The</w>
              <w>purpose</w>
              <w>of</w>
              <w>our</w>
              <code rend="inline">page_not_found</code>
              <w>function</w>
              <w>is</w>
              <w>to</w>
              <w>create</w>
              <w>an</w>
              <w>error</w>
              <w>page</w>
              <w>seen</w>
              <w>by</w>
              <w>the</w>
              <w>user</w>
              <w>if</w>
              <w>the</w>
              <w>user</w>
              <w>encounters</w>
              <w>an</w>
              <w>error</w>
              <w>or</w>
              <w>inputs</w>
              <w>a</w>
              <w>route</w>
              <w>that</w>
              <w>hasn't</w>
              <w>been</w>
              <w>defined:</w>
            </s>
          </p>
          <ab>
            <code lang="language-python" xml:id="code_creating-apis-with-python-and-flask_29" corresp="code_creating-apis-with-python-and-flask_29.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>In</w>
              <w>HTML</w>
              <w>responses,</w>
              <w>the</w>
              <w>code</w>
              <w>means</w>
              <w>"OK"(the</w>
              <w>expected</w>
              <w>data</w>
              <w>transferred),</w>
              <w>while</w>
              <w>the</w>
              <w>code</w>
              <w>means</w>
              <w>"Not</w>
              <w>Found"</w>
              <w>(there</w>
              <w>was</w>
              <w>no</w>
              <w>resource</w>
              <w>available</w>
              <w>at</w>
              <w>the</w>
              <w>URL</w>
              <w>given)</w>
              <pc>.</pc>
            </s>
            <code rend="inline">200</code>
            <code rend="inline">404</code>
            <s>
              <w>This</w>
              <w>function</w>
              <w>allows</w>
              <w>us</w>
              <w>to</w>
              <w>return</w>
              <w>404</w>
              <w>pages</w>
              <w>when</w>
              <w>something</w>
              <w>goes</w>
              <w>wrong</w>
              <w>in</w>
              <w>the</w>
              <w>application</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>Our</w>
              <w>function</w>
              <w>is</w>
              <w>an</w>
              <w>improvement</w>
              <w>on</w>
              <w>our</w>
              <w>previous</w>
              <w>function</w>
              <w>that</w>
              <w>returns</w>
              <w>a</w>
              <w>book</w>
              <w>based</w>
              <w>on</w>
              <w>its</w>
              <w>ID</w>
              <pc>.</pc>
            </s>
            <code rend="inline">api_filter</code>
            <code rend="inline">api_id</code>
            <s>
              <w>This</w>
              <w>new</w>
              <w>function</w>
              <w>allows</w>
              <w>for</w>
              <w>filtering</w>
              <w>by</w>
              <w>three</w>
              <w>different</w>
              <w>fields:</w>
              <code rend="inline">id</code>
              <w>,</w>
              <code rend="inline">published</code>
              <w>,</w>
              <w>and</w>
              <code rend="inline">author</code>
              <pc>.</pc>
            </s>
            <s>
              <w>The</w>
              <w>function</w>
              <w>first</w>
              <w>grabs</w>
              <w>all</w>
              <w>the</w>
              <w>query</w>
              <w>parameters</w>
              <w>provided</w>
              <w>in</w>
              <w>the</w>
              <w>URL</w>
              <w>(remember,</w>
              <w>query</w>
              <w>parameters</w>
              <w>are</w>
              <w>the</w>
              <w>part</w>
              <w>of</w>
              <w>the</w>
              <w>URL</w>
              <w>that</w>
              <w>follows</w>
              <w>the</w>
              <code rend="inline">?</code>
              <w>,</w>
              <w>like</w>
              <code rend="inline">?id=10</code>
              <w>)</w>
              <pc>.</pc>
            </s>
          </p>
          <ab>
            <code xml:id="code_creating-apis-with-python-and-flask_30" corresp="code_creating-apis-with-python-and-flask_30.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>It</w>
              <w>then</w>
              <w>pulls</w>
              <w>the</w>
              <w>supported</w>
              <w>parameters</w>
              <code rend="inline">id</code>
              <w>,</w>
              <code rend="inline">published</code>
              <w>,</w>
              <w>and</w>
              <code rend="inline">author</code>
              <w>and</w>
              <w>binds</w>
              <w>them</w>
              <w>to</w>
              <w>appropriate</w>
              <w>variables:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_creating-apis-with-python-and-flask_31" corresp="code_creating-apis-with-python-and-flask_31.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>The</w>
              <w>next</w>
              <w>segment</w>
              <w>begins</w>
              <w>to</w>
              <w>build</w>
              <w>an</w>
              <w>SQL</w>
              <w>query</w>
              <w>that</w>
              <w>will</w>
              <w>be</w>
              <w>used</w>
              <w>to</w>
              <w>find</w>
              <w>the</w>
              <w>requested</w>
              <w>information</w>
              <w>in</w>
              <w>the</w>
              <w>database</w>
              <pc>.</pc>
            </s>
            <s>
              <w>SQL</w>
              <w>queries</w>
              <w>used</w>
              <w>to</w>
              <w>find</w>
              <w>data</w>
              <w>in</w>
              <w>a</w>
              <w>database</w>
              <w>take</w>
              <w>this</w>
              <w>form:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_creating-apis-with-python-and-flask_32" corresp="code_creating-apis-with-python-and-flask_32.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>To</w>
              <w>get</w>
              <w>the</w>
              <w>correct</w>
              <w>data,</w>
              <w>we</w>
              <w>need</w>
              <w>to</w>
              <w>build</w>
              <w>both</w>
              <w>an</w>
              <w>SQL</w>
              <w>query</w>
              <w>that</w>
              <w>looks</w>
              <w>like</w>
              <w>the</w>
              <w>above</w>
              <w>and</w>
              <w>a</w>
              <w>list</w>
              <w>with</w>
              <w>the</w>
              <w>filters</w>
              <w>that</w>
              <w>will</w>
              <w>be</w>
              <w>matched</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Combined,</w>
              <w>the</w>
              <w>query</w>
              <w>and</w>
              <w>the</w>
              <w>the</w>
              <w>filters</w>
              <w>provided</w>
              <w>by</w>
              <w>the</w>
              <w>user</w>
              <w>will</w>
              <w>allow</w>
              <w>us</w>
              <w>to</w>
              <w>pull</w>
              <w>the</w>
              <w>correct</w>
              <w>books</w>
              <w>from</w>
              <w>our</w>
              <w>database</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>We</w>
              <w>begin</w>
              <w>to</w>
              <w>define</w>
              <w>both</w>
              <w>the</w>
              <w>query</w>
              <w>and</w>
              <w>the</w>
              <w>filter</w>
              <w>list:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_creating-apis-with-python-and-flask_33" corresp="code_creating-apis-with-python-and-flask_33.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>Then,</w>
              <w>if</w>
              <code rend="inline">id</code>
              <w>,</w>
              <code rend="inline">published</code>
              <w>,</w>
              <w>or</w>
              <code rend="inline">author</code>
              <w>were</w>
              <w>provided</w>
              <w>as</w>
              <w>query</w>
              <w>parameters,</w>
              <w>we</w>
              <w>add</w>
              <w>them</w>
              <w>to</w>
              <w>both</w>
              <w>the</w>
              <w>query</w>
              <w>and</w>
              <w>the</w>
              <w>filter</w>
              <w>list:</w>
            </s>
          </p>
          <ab>
            <code lang="language-python" xml:id="code_creating-apis-with-python-and-flask_34" corresp="code_creating-apis-with-python-and-flask_34.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>If</w>
              <w>the</w>
              <w>user</w>
              <w>has</w>
              <w>provided</w>
              <w>none</w>
              <w>of</w>
              <w>these</w>
              <w>query</w>
              <w>parameters,</w>
              <w>we</w>
              <w>have</w>
              <w>nothing</w>
              <w>to</w>
              <w>show,</w>
              <w>so</w>
              <w>we</w>
              <w>send</w>
              <w>them</w>
              <w>to</w>
              <w>the</w>
              <w>"404</w>
              <w>Not</w>
              <w>Found"</w>
              <w>page:</w>
            </s>
          </p>
          <ab>
            <code lang="language-python" xml:id="code_creating-apis-with-python-and-flask_35" corresp="code_creating-apis-with-python-and-flask_35.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>To</w>
              <w>perfect</w>
              <w>our</w>
              <w>query,</w>
              <w>we</w>
              <w>remove</w>
              <w>the</w>
              <w>trailing</w>
              <code rend="inline"> AND</code>
              <w>and</w>
              <w>cap</w>
              <w>the</w>
              <w>query</w>
              <w>with</w>
              <w>the</w>
              <code rend="inline">;</code>
              <w>required</w>
              <w>at</w>
              <w>the</w>
              <w>end</w>
              <w>of</w>
              <w>all</w>
              <w>SQL</w>
              <w>statements:</w>
            </s>
          </p>
          <ab>
            <code lang="language-python" xml:id="code_creating-apis-with-python-and-flask_36" corresp="code_creating-apis-with-python-and-flask_36.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>Finally,</w>
              <w>we</w>
              <w>connect</w>
              <w>to</w>
              <w>our</w>
              <w>database</w>
              <w>as</w>
              <w>in</w>
              <w>our</w>
              <code rend="inline">api_all</code>
              <w>function,</w>
              <w>then</w>
              <w>execute</w>
              <w>the</w>
              <w>query</w>
              <w>we've</w>
              <w>built</w>
              <w>using</w>
              <w>our</w>
              <w>filter</w>
              <w>list:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_creating-apis-with-python-and-flask_37" corresp="code_creating-apis-with-python-and-flask_37.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>Finally,</w>
              <w>we</w>
              <w>return</w>
              <w>the</w>
              <w>results</w>
              <w>of</w>
              <w>our</w>
              <w>executed</w>
              <w>SQL</w>
              <w>query</w>
              <w>as</w>
              <w>JSON</w>
              <w>to</w>
              <w>the</w>
              <w>user:</w>
            </s>
          </p>
          <ab>
            <code xml:id="code_creating-apis-with-python-and-flask_38" corresp="code_creating-apis-with-python-and-flask_38.txt" rend="block"/>
          </ab>
          <p>
            <s>
              <w>Whew</w>
              <pc>!</pc>
            </s>
            <s>
              <w>When</w>
              <w>all</w>
              <w>is</w>
              <w>said</w>
              <w>and</w>
              <w>done,</w>
              <w>this</w>
              <w>section</w>
              <w>of</w>
              <w>code</w>
              <w>reads</w>
              <w>query</w>
              <w>parameters</w>
              <w>provided</w>
              <w>by</w>
              <w>the</w>
              <w>user,</w>
              <w>builds</w>
              <w>an</w>
              <w>SQL</w>
              <w>query</w>
              <w>based</w>
              <w>on</w>
              <w>those</w>
              <w>parameters,</w>
              <w>executes</w>
              <w>that</w>
              <w>query</w>
              <w>to</w>
              <w>find</w>
              <w>matching</w>
              <w>books</w>
              <w>in</w>
              <w>the</w>
              <w>database,</w>
              <w>and</w>
              <w>returns</w>
              <w>those</w>
              <w>matches</w>
              <w>as</w>
              <w>JSON</w>
              <w>to</w>
              <w>the</w>
              <w>user</w>
              <pc>.</pc>
            </s>
            <s>
              <w>This</w>
              <w>section</w>
              <w>of</w>
              <w>code</w>
              <w>makes</w>
              <w>our</w>
              <w>API's</w>
              <w>filtering</w>
              <w>capability</w>
              <w>considerably</w>
              <w>more</w>
              <w>sophisticated—users</w>
              <w>can</w>
              <w>now</w>
              <w>find</w>
              <w>books</w>
              <w>by,</w>
              <w>for</w>
              <w>example,</w>
              <w>Ursula</w>
              <w>K</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Le</w>
              <w>Guin</w>
              <w>that</w>
              <w>were</w>
              <w>published</w>
              <w>in</w>
              <w>1975</w>
              <w>or</w>
              <w>all</w>
              <w>books</w>
              <w>in</w>
              <w>the</w>
              <w>database</w>
              <w>published</w>
              <w>in</w>
              <w>2010</w>
              <pc>.</pc>
            </s>
          </p>
        </div>
        <div type="3" n="7.2">
          <head>
            <s>
              <w>Our</w>
              <w>API</w>
              <w>in</w>
              <w>Practice</w>
            </s>
          </head>
          <p>
            <s>
              <w>Now</w>
              <w>that</w>
              <w>we</w>
              <w>have</w>
              <w>implemented</w>
              <w>our</w>
              <w>Distant</w>
              <w>Reading</w>
              <w>API,</w>
              <w>let's</w>
              <w>consider</w>
              <w>how</w>
              <w>it</w>
              <w>might</w>
              <w>be</w>
              <w>of</w>
              <w>use</w>
              <w>in</w>
              <w>digital</w>
              <w>projects</w>
              <w>and</w>
              <w>in</w>
              <w>research</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>One</w>
              <w>of</w>
              <w>the</w>
              <w>advantages</w>
              <w>of</w>
              <w>providing</w>
              <w>data</w>
              <w>through</w>
              <w>an</w>
              <w>API,</w>
              <w>as</w>
              <w>opposed</w>
              <w>to</w>
              <w>providing</w>
              <w>some</w>
              <w>kind</w>
              <w>of</w>
              <w>downloadable</w>
              <w>database</w>
              <w>or</w>
              <w>file</w>
              <w>for</w>
              <w>users,</w>
              <w>is</w>
              <w>that,</w>
              <w>as</w>
              <w>new</w>
              <w>data</w>
              <w>or</w>
              <w>additional</w>
              <w>resources</w>
              <w>are</w>
              <w>added,</w>
              <w>they</w>
              <w>become</w>
              <w>immediately</w>
              <w>available</w>
              <w>to</w>
              <w>projects</w>
              <w>built</w>
              <w>using</w>
              <w>the</w>
              <w>API</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Imagine</w>
              <w>that</w>
              <w>we</w>
              <w>make</w>
              <w>our</w>
              <w>API</w>
              <w>publicly</w>
              <w>available,</w>
              <w>and</w>
              <w>a</w>
              <w>user</w>
              <w>creates</w>
              <w>a</w>
              <w>visualization</w>
              <w>that</w>
              <w>plots</w>
              <w>the</w>
              <w>length</w>
              <w>of</w>
              <w>a</w>
              <w>novel's</w>
              <w>first</w>
              <w>sentence</w>
              <w>in</w>
              <w>characters</w>
              <w>against</w>
              <w>its</w>
              <w>year</w>
              <w>of</w>
              <w>publication:</w>
            </s>
          </p>
          <figure>
            <desc>
              <s>
                <w>Scatterplot</w>
                <w>of</w>
                <w>first</w>
                <w>sentence</w>
                <w>length</w>
                <w>against</w>
                <w>date</w>
                <w>of</w>
                <w>publication</w>
                <pc>.</pc>
              </s>
            </desc>
            <graphic url="hugo.png"/>
          </figure>
          <p>
            <s>
              <w>As</w>
              <w>new</w>
              <w>Hugo</w>
              <w>winners</w>
              <w>were</w>
              <w>added</w>
              <w>to</w>
              <w>the</w>
              <w>database,</w>
              <w>the</w>
              <w>script</w>
              <w>that</w>
              <w>generated</w>
              <w>this</w>
              <w>visualization</w>
              <w>would</w>
              <w>immediately</w>
              <w>be</w>
              <w>able</w>
              <w>to</w>
              <w>use</w>
              <w>the</w>
              <w>new</w>
              <w>information</w>
              <pc>.</pc>
            </s>
            <s>
              <w>If</w>
              <w>the</w>
              <w>visualization</w>
              <w>were</w>
              <w>created</w>
              <w>in</w>
              <w>D3</w>
              <w>or</w>
              <w>another</w>
              <w>web-based</w>
              <w>utility,</w>
              <w>this</w>
              <w>plot</w>
              <w>would</w>
              <w>actually</w>
              <w>reflect</w>
              <w>additional</w>
              <w>data</w>
              <w>added</w>
              <w>to</w>
              <w>the</w>
              <w>book</w>
              <w>archive</w>
              <w>as</w>
              <w>soon</w>
              <w>as</w>
              <w>the</w>
              <w>archive</w>
              <w>was</w>
              <w>updated—that</w>
              <w>is,</w>
              <w>in</w>
              <w>real</w>
              <w>time</w>
              <pc>.</pc>
            </s>
            <s>
              <w>As</w>
              <w>additional</w>
              <w>data</w>
              <w>accrued,</w>
              <w>we</w>
              <w>might,</w>
              <w>for</w>
              <w>example,</w>
              <w>learn</w>
              <w>if</w>
              <w>John</w>
              <w>Scalzi's</w>
              <w>unusually</w>
              <w>lengthy</w>
              <w>opening</w>
              <w>to</w>
              <w>his</w>
              <w>2013</w>
              <emph>
                <w>Red</w>
                <w>Shirts</w>
              </emph>
              <w>was</w>
              <w>an</w>
              <w>aberration</w>
              <w>or</w>
              <w>the</w>
              <w>continuation</w>
              <w>of</w>
              <w>a</w>
              <w>longer</w>
              <w>trend</w>
              <w>toward</w>
              <w>wordiness</w>
              <w>in</w>
              <w>science</w>
              <w>fiction</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Conversely,</w>
              <w>if</w>
              <w>your</w>
              <w>API</w>
              <w>were</w>
              <w>to</w>
              <w>change</w>
              <w>its</w>
              <w>URL</w>
              <w>structure</w>
              <w>or</w>
              <w>cease</w>
              <w>to</w>
              <w>function,</w>
              <w>applications</w>
              <w>based</w>
              <w>on</w>
              <w>it</w>
              <w>will</w>
              <w>no</w>
              <w>longer</w>
              <w>work</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Remember</w>
              <w>that,</w>
              <w>when</w>
              <w>creating</w>
              <w>an</w>
              <w>API,</w>
              <w>you</w>
              <w>are</w>
              <w>assuming</w>
              <w>some</w>
              <w>responsibility</w>
              <w>for</w>
              <w>the</w>
              <w>applications</w>
              <w>that</w>
              <w>others</w>
              <w>may</w>
              <w>build</w>
              <w>with</w>
              <w>it</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <w>A</w>
              <w>strong</w>
              <w>API</w>
              <w>can</w>
              <w>be</w>
              <w>considered</w>
              <w>the</w>
              <w>backbone</w>
              <w>of</w>
              <w>a</w>
              <w>potentially</w>
              <w>limitless</w>
              <w>number</w>
              <w>of</w>
              <w>projects</w>
              <w>or</w>
              <w>avenues</w>
              <w>of</w>
              <w>research</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Though</w>
              <w>the</w>
              <w>above</w>
              <w>example</w>
              <w>takes</w>
              <w>the</w>
              <w>form</w>
              <w>of</w>
              <w>a</w>
              <w>visualization</w>
              <w>of</w>
              <w>the</w>
              <w>limited</w>
              <w>amount</w>
              <w>of</w>
              <w>data</w>
              <w>we've</w>
              <w>provided</w>
              <w>in</w>
              <w>our</w>
              <w>Distant</w>
              <w>Reading</w>
              <w>Archive,</w>
              <w>a</w>
              <w>project</w>
              <w>based</w>
              <w>on</w>
              <w>this</w>
              <w>API</w>
              <w>might</w>
              <w>just</w>
              <w>as</w>
              <w>easily</w>
              <w>take</w>
              <w>the</w>
              <w>form</w>
              <w>of</w>
              <w>a</w>
              <w>Twitterbot</w>
              <w>that</w>
              <w>shares</w>
              <w>first</w>
              <w>sentences</w>
              <w>(learn</w>
              <w>how</w>
              <w>to</w>
              <w>make</w>
              <w>one</w>
              <w>with</w>
              <ref target="/lessons/intro-to-twitterbots">
                <w>this</w>
              </ref>
              <w>Programming</w>
              <w>Historian</w>
              <w>lesson)</w>
              <w>or</w>
              <w>a</w>
              <w>library</w>
              <w>webpage</w>
              <w>that</w>
              <w>displays</w>
              <w>book</w>
              <w>openings</w>
              <w>and</w>
              <w>year</w>
              <w>of</w>
              <w>publication</w>
              <w>alongside</w>
              <w>other</w>
              <w>book</w>
              <w>metadata</w>
              <pc>.</pc>
            </s>
            <s>
              <w>In</w>
              <w>many</w>
              <w>cases,</w>
              <w>it</w>
              <w>makes</w>
              <w>sense</w>
              <w>to</w>
              <w>first</w>
              <w>create</w>
              <w>an</w>
              <w>API</w>
              <w>interface</w>
              <w>to</w>
              <w>your</w>
              <w>core</w>
              <w>data</w>
              <w>or</w>
              <w>functionality</w>
              <w>before</w>
              <w>extrapolating</w>
              <w>on</w>
              <w>it</w>
              <w>to</w>
              <w>create</w>
              <w>a</w>
              <w>visualization,</w>
              <w>application,</w>
              <w>or</w>
              <w>website</w>
              <pc>.</pc>
            </s>
            <s>
              <w>Not</w>
              <w>only</w>
              <w>does</w>
              <w>it</w>
              <w>make</w>
              <w>your</w>
              <w>work</w>
              <w>accessible</w>
              <w>to</w>
              <w>researchers</w>
              <w>working</w>
              <w>on</w>
              <w>other</w>
              <w>projects,</w>
              <w>but</w>
              <w>it</w>
              <w>often</w>
              <w>leads</w>
              <w>to</w>
              <w>a</w>
              <w>more</w>
              <w>comprehensible</w>
              <w>and</w>
              <w>maintainable</w>
              <w>project</w>
              <pc>.</pc>
            </s>
          </p>
        </div>
      </div>
      <div type="2" n="8">
        <head>
          <s>
            <w>Resources</w>
          </s>
        </head>
        <p>
          <s>
            <w>The</w>
            <w>below</w>
            <w>resources</w>
            <w>provide</w>
            <w>information</w>
            <w>on</w>
            <w>useful</w>
            <w>APIs</w>
            <w>for</w>
            <w>researchers</w>
            <w>in</w>
            <w>the</w>
            <w>humanities</w>
            <w>and</w>
            <w>social</w>
            <w>sciences</w>
            <w>as</w>
            <w>well</w>
            <w>as</w>
            <w>further</w>
            <w>reading</w>
            <w>on</w>
            <w>API</w>
            <w>concepts</w>
            <pc>.</pc>
          </s>
        </p>
        <div type="3" n="8.1">
          <head>
            <s>
              <w>APIs</w>
              <w>for</w>
              <w>Humanities</w>
              <w>Researchers</w>
            </s>
          </head>
          <p>
            <s>
              <ref target="http://chroniclingamerica.loc.gov/">
                <w>Chronicling</w>
                <w>America</w>
                <w>(Library</w>
                <w>Of</w>
                <w>Congress)</w>
              </ref>
              <w>-</w>
              <w>A</w>
              <w>digitized</w>
              <w>collection</w>
              <w>of</w>
              <w>American</w>
              <w>newspaper</w>
              <w>articles</w>
              <w>from</w>
              <w>the</w>
              <w>18th</w>
              <w>to</w>
              <w>the</w>
              <w>20th</w>
              <w>century</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <ref target="https://core.ac.uk/">
                <w>Connecting</w>
                <w>Repositories</w>
                <w>(CORE)</w>
              </ref>
              <w>-</w>
              <w>A</w>
              <w>collection</w>
              <w>of</w>
              <w>open</w>
              <w>access</w>
              <w>articles</w>
              <w>from</w>
              <w>various</w>
              <w>sources</w>
              <w>hosted</w>
              <w>by</w>
              <w>the</w>
              <w>Open</w>
              <w>University</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <ref target="https://diggingintodata.org/repositories/english-broadside-ballad-archive-ebba">
              <w>English</w>
              <w>Broadside</w>
              <w>Ballad</w>
              <w>Archive</w>
              <w>(EBBA)</w>
            </ref>
          </p>
          <p>
            <s>
              <ref target="http://hds.essex.ac.uk/">
                <w>History</w>
                <w>Data</w>
                <w>Service</w>
                <w>(HDS)</w>
              </ref>
              <w>-</w>
              <w>A</w>
              <w>collection</w>
              <w>of</w>
              <w>data</w>
              <w>from</w>
              <w>a</w>
              <w>wide</w>
              <w>variety</w>
              <w>of</w>
              <w>historical</w>
              <w>sources</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <ref target="https://pro.europeana.eu/">
              <w>Europeana</w>
            </ref>
          </p>
          <p>
            <ref target="https://diggingintodata.org/repositories">
              <w>Digging</w>
              <w>into</w>
              <w>Data</w>
              <w>API</w>
              <w>List</w>
            </ref>
          </p>
        </div>
        <div type="3" n="8.2">
          <head>
            <s>
              <w>API</w>
              <w>Resources</w>
            </s>
          </head>
          <p>
            <s>
              <ref target="https://doepud.co.uk/blog/anatomy-of-a-url">
                <w>Anatomy</w>
                <w>of</w>
                <w>a</w>
                <w>URL</w>
              </ref>
              <w>-</w>
              <w>Explains</w>
              <w>the</w>
              <w>different</w>
              <w>sections</w>
              <w>of</w>
              <w>a</w>
              <w>URL</w>
              <w>(protocol,</w>
              <w>domain,</w>
              <w>path,</w>
              <w>and</w>
              <w>so</w>
              <w>on)</w>
              <w>in</w>
              <w>greater</w>
              <w>detail</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <ref target="https://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm">
                <w>Original</w>
                <w>Paper</w>
                <w>on</w>
                <w>REST</w>
              </ref>
              <w>-</w>
              <w>PhD</w>
              <w>thesis</w>
              <w>by</w>
              <w>Roy</w>
              <w>Thomas</w>
              <w>Fielding</w>
              <w>that</w>
              <w>introduced</w>
              <w>the</w>
              <w>concepts</w>
              <w>behind</w>
              <w>the</w>
              <w>REST</w>
              <w>philosophy</w>
              <w>of</w>
              <w>API</w>
              <w>design</w>
              <pc>.</pc>
            </s>
          </p>
          <p>
            <s>
              <ref target="https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world">
                <w>The</w>
                <w>Flask</w>
                <w>Mega</w>
                <w>Tutorial</w>
              </ref>
              <w>-</w>
              <w>The</w>
              <w>most</w>
              <w>well-known</w>
              <w>tutorial</w>
              <w>for</w>
              <w>learning</w>
              <w>the</w>
              <w>Flask</w>
              <w>web</w>
              <w>framework</w>
              <pc>.</pc>
            </s>
          </p>
        </div>
      </div>
    </body>
  </text>
</TEI>
