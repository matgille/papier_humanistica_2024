<?xml version="1.0" encoding="utf-8"?>
<TEI type="original" xml:base="extracting-illustrated-pages/extracting-illustrated-pages/extracting-illustrated-pages.xml" xml:id="extracting-illustrated-pages" xmlns:="http://www.tei-c.org/ns/1.0" xmlns:xi="http://www.w3.org/2001/XInclude">
 <teiHeader>
  <fileDesc>
   <titleStmt>
    <title>
     Extracting Illustrated Pages from Digital Libraries with Python
    </title>
    <author role="original_author">
     Stephen Krewson
    </author>
    <editor role="reviewers">
     <persName>
      Catherine DeRose
     </persName>
     <persName>
      Taylor Arnold
     </persName>
    </editor>
    <editor role="editors">
     Anandi Silva Knuppel
    </editor>
   </titleStmt>
   <publicationStmt>
    <distributor>
     Programming Historian
    </distributor>
    <idno type="doi">
     10.46430/phen0084
    </idno>
    <date type="published">
     01/14/2019
    </date>
   </publicationStmt>
   <sourceDesc>
    <p>
     Born digital, in a markdown format. This lesson is original. Available translations are the following:
     <ref target="#extrair-paginas-ilustradas-com-python" type="translations"/>
    </p>
   </sourceDesc>
  </fileDesc>
  <profileDesc>
   <abstract>
    <p>
     Machine learning and API extensions by HathiTrust and Internet Archive are making it easier to extract page regions of visual interest from digitized volumes. This lesson shows how to efficiently extract those regions and, in doing so, prompt new, visual research questions.
    </p>
   </abstract>
   <textClass>
    <keywords>
     <term xml:lang="en">
      api
     </term>
    </keywords>
   </textClass>
  </profileDesc>
 </teiHeader>
 <text xml:lang="en">
  <body>
   <div n="1" type="2">
    <head>
     <s xml:id="s_YRW4xj">
      <w>Overview</w>
     </s>
    </head>
    <p>
     <s xml:id="s_5oOEdP">
      <w>What</w>
      <w>if</w>
      <w>you</w>
      <w>only</w>
      <w>wanted</w>
      <w>to</w>
      <w>look</w>
      <w>at</w>
      <w>the</w>
      <w>pictures</w>
      <w>in</w>
      <w>a</w>
      <w>book</w>
      <pc>?</pc>
     </s>
     <s xml:id="s_n6Lnme">
      <w>This</w>
      <w>is</w>
      <w>a</w>
      <w>thought</w>
      <w>that</w>
      <w>has</w>
      <w>occurred</w>
      <w>to</w>
      <w>young</w>
      <w>children</w>
      <w>and</w>
      <w>adult</w>
      <w>researchers</w>
      <w>alike</w>
      <pc>.</pc>
     </s>
     <s xml:id="s_jdG3a0">
      <w>If</w>
      <w>you</w>
      <w>knew</w>
      <w>that</w>
      <w>the</w>
      <w>book</w>
      <w>was</w>
      <w>available</w>
      <w>through</w>
      <w>a</w>
      <w>digital</w>
      <w>library</w>
      <w>,</w>
      <w>it</w>
      <w>would</w>
      <w>be</w>
      <w>nice</w>
      <w>to</w>
      <w>download</w>
      <w>only</w>
      <w>those</w>
      <w>pages</w>
      <w>with</w>
      <w>pictures</w>
      <w>and</w>
      <w>ignore</w>
      <w>the</w>
      <w>rest</w>
      <pc>.</pc>
     </s>
    </p>
    <p>
     <s xml:id="s_8SyNMI">
      <w>Here</w>
      <w>are</w>
      <w>the</w>
      <w>page</w>
      <w>thumbnails</w>
      <w>for</w>
      <w>a</w>
      <w>HathiTrust</w>
      <w>volume</w>
      <w>with</w>
      <w>unique</w>
      <w>identifier</w>
      <code rend="inline">
       <w>osu.32435078698222</w>
      </code>
      <pc>.</pc>
     </s>
     <s xml:id="s_2VKEjn">
      <w>After</w>
      <w>the</w>
      <w>process</w>
      <w>described</w>
      <w>in</w>
      <w>this</w>
      <w>lesson</w>
      <w>,</w>
      <w>only</w>
      <w>those</w>
      <w>pages</w>
      <w>with</w>
      <w>pictures</w>
      <w>(</w>
      <w>31</w>
      <w>in</w>
      <w>total</w>
      <w>)</w>
      <w>have</w>
      <w>been</w>
      <w>downloaded</w>
      <w>as</w>
      <w>JPEGs</w>
      <w>to</w>
      <w>a</w>
      <w>folder</w>
      <pc>.</pc>
     </s>
    </p>
    <figure>
     <desc>
      <s xml:id="s_wkDqHB">
       <w>View</w>
       <w>of</w>
       <w>volume</w>
       <w>for</w>
       <w>which</w>
       <w>only</w>
       <w>pages</w>
       <w>with</w>
       <w>pictures</w>
       <w>have</w>
       <w>been</w>
       <w>downloaded</w>
       <pc>.</pc>
      </s>
     </desc>
     <graphic url="file-explorer-example.png"/>
    </figure>
    <p>
     <s xml:id="s_wP54td">
      <w>To</w>
      <w>see</w>
      <w>how</w>
      <w>many</w>
      <emph>
       <w>unillustrated</w>
      </emph>
      <w>pages</w>
      <w>have</w>
      <w>been</w>
      <w>filtered</w>
      <w>out</w>
      <w>,</w>
      <w>compare</w>
      <w>against</w>
      <w>the</w>
      <ref target="https://babel.hathitrust.org/cgi/pt?id=osu.32435078698222%3Bview=thumb%3Bseq=1">
       <w>full</w>
       <w>set</w>
       <w>of</w>
       <w>thumbnails</w>
      </ref>
      <w>for</w>
      <w>all</w>
      <w>148</w>
      <w>pages</w>
      <w>in</w>
      <w>this</w>
      <w>revised</w>
      <w>1845</w>
      <w>edition</w>
      <w>of</w>
      <w>Samuel</w>
      <w>Griswold</w>
      <w>Goodrich</w>
      <w>'s</w>
      <w>bestselling</w>
      <w>children</w>
      <w>'s</w>
      <w>book</w>
      <emph>
       <w>Tales</w>
       <w>of</w>
       <w>Peter</w>
       <w>Parley</w>
       <w>about</w>
       <w>America</w>
      </emph>
      <w>(</w>
      <w>1827</w>
      <w>)</w>
      <pc>.</pc>
     </s>
    </p>
    <figure>
     <desc>
      <s xml:id="s_v0t7MJ">
       <w>View</w>
       <w>of</w>
       <w>HathiTrust</w>
       <w>thumbnails</w>
       <w>for</w>
       <w>all</w>
       <w>pages</w>
       <pc>.</pc>
      </s>
     </desc>
     <graphic url="parley-full-thumbnails.png"/>
    </figure>
    <p>
     <s xml:id="s_9hjRc9">
      <w>This</w>
      <w>lesson</w>
      <w>shows</w>
      <w>how</w>
      <w>complete</w>
      <w>these</w>
      <w>filtering</w>
      <w>and</w>
      <w>downloading</w>
      <w>steps</w>
      <w>for</w>
      <w>public-domain</w>
      <w>text</w>
      <w>volumes</w>
      <w>held</w>
      <w>by</w>
      <w>HathiTrust</w>
      <w>(</w>
      <w>HT</w>
      <w>)</w>
      <w>and</w>
      <w>Internet</w>
      <w>Archive</w>
      <w>(</w>
      <w>IA</w>
      <w>)</w>
      <w>,</w>
      <w>two</w>
      <w>of</w>
      <w>the</w>
      <w>largest</w>
      <w>digital</w>
      <w>libraries</w>
      <w>in</w>
      <w>the</w>
      <w>world</w>
      <pc>.</pc>
     </s>
     <s xml:id="s_RK1Erk">
      <w>It</w>
      <w>will</w>
      <w>be</w>
      <w>of</w>
      <w>interest</w>
      <w>to</w>
      <w>anyone</w>
      <w>who</w>
      <w>wants</w>
      <w>to</w>
      <w>create</w>
      <w>image</w>
      <w>corpora</w>
      <w>in</w>
      <w>order</w>
      <w>to</w>
      <w>learn</w>
      <w>about</w>
      <w>the</w>
      <w>history</w>
      <w>of</w>
      <w>illustration</w>
      <w>and</w>
      <w>the</w>
      <w>layout</w>
      <w>(</w>
      <emph>
       <w>mise</w>
       <w>en</w>
       <w>page</w>
      </emph>
      <w>)</w>
      <w>of</w>
      <w>books</w>
      <pc>.</pc>
     </s>
     <s xml:id="s_L9fHYW">
      <w>Visual</w>
      <w>approaches</w>
      <w>to</w>
      <w>digital</w>
      <w>bibliography</w>
      <w>are</w>
      <w>becoming</w>
      <w>popular</w>
      <w>,</w>
      <w>following</w>
      <w>the</w>
      <w>pioneering</w>
      <w>efforts</w>
      <w>of</w>
      <ref target="https://ebba.english.ucsb.edu/">
       <w>EBBA</w>
      </ref>
      <w>and</w>
      <ref target="http://projectaida.org/">
       <w>AIDA</w>
      </ref>
      <pc>.</pc>
     </s>
     <s xml:id="s_Wf89Ip">
      <w>Recently</w>
      <w>completed</w>
      <w>or</w>
      <w>funded</w>
      <w>projects</w>
      <w>explore</w>
      <w>ways</w>
      <w>to</w>
      <ref target="https://web.archive.org/web/20190526050917/http://culturalanalytics.org/2018/12/detecting-footnotes-in-32-million-pages-of-ecco/">
       <w>identify</w>
       <w>footnotes</w>
      </ref>
      <w>and</w>
      <ref target="http://www.ccs.neu.edu/home/dasmith/ichneumon-proposal.pdf">
       <w>track</w>
       <w>marginalia</w>
      </ref>
      <w>,</w>
      <w>to</w>
      <w>give</w>
      <w>just</w>
      <w>two</w>
      <ref target="https://www.neh.gov/divisions/odh/grant-news/announcing-new-2017-odh-grant-awards">
       <w>examples</w>
      </ref>
      <pc>.</pc>
     </s>
    </p>
    <p>
     <s xml:id="s_QoKlT4">
      <w>My</w>
      <w>own</w>
      <w>research</w>
      <w>tries</w>
      <w>to</w>
      <w>answer</w>
      <w>empirical</w>
      <w>questions</w>
      <w>about</w>
      <w>changes</w>
      <w>in</w>
      <w>the</w>
      <w>frequency</w>
      <w>and</w>
      <w>mode</w>
      <w>of</w>
      <w>illustration</w>
      <w>in</w>
      <w>nineteenth-century</w>
      <w>medical</w>
      <w>and</w>
      <w>educational</w>
      <w>texts</w>
      <pc>.</pc>
     </s>
     <s xml:id="s_amNoH9">
      <w>This</w>
      <w>involves</w>
      <w>aggregating</w>
      <w>counts</w>
      <w>of</w>
      <w>pictures</w>
      <w>per</w>
      <w>book</w>
      <w>and</w>
      <w>trying</w>
      <w>to</w>
      <w>estimate</w>
      <w>what</w>
      <w>printing</w>
      <w>process</w>
      <w>was</w>
      <w>used</w>
      <w>to</w>
      <w>make</w>
      <w>those</w>
      <w>pictures</w>
      <pc>.</pc>
     </s>
     <s xml:id="s_u0Dcza">
      <w>A</w>
      <w>more</w>
      <w>targeted</w>
      <w>use</w>
      <w>case</w>
      <w>for</w>
      <w>extracting</w>
      <w>picture</w>
      <w>pages</w>
      <w>might</w>
      <w>be</w>
      <w>the</w>
      <w>collation</w>
      <w>of</w>
      <w>illustrations</w>
      <w>across</w>
      <ref target="https://www.cambridge.org/core/books/cambridge-companion-to-robinson-crusoe/iconic-crusoe-illustrations-and-images-of-robinson-crusoe/B83352C33FB1A9929A856FFA8E2D0CD0/core-reader">
       <w>different</w>
       <w>editions</w>
      </ref>
      <w>of</w>
      <w>the</w>
      <w>same</w>
      <w>book</w>
      <pc>.</pc>
     </s>
     <s xml:id="s_KpJ9vM">
      <w>Future</w>
      <w>work</w>
      <w>might</w>
      <w>profitably</w>
      <w>investigate</w>
      <w>the</w>
      <w>visual</w>
      <w>characteristics</w>
      <w>and</w>
      <emph>
       <w>meaning</w>
      </emph>
      <w>of</w>
      <w>the</w>
      <w>extracted</w>
      <w>pictures</w>
      <w>:</w>
      <w>their</w>
      <w>color</w>
      <w>,</w>
      <w>size</w>
      <w>,</w>
      <w>theme</w>
      <w>,</w>
      <w>genre</w>
      <w>,</w>
      <w>number</w>
      <w>of</w>
      <w>figures</w>
      <w>,</w>
      <w>and</w>
      <w>so</w>
      <w>on</w>
      <pc>.</pc>
     </s>
    </p>
    <p>
     <s xml:id="s_cVHwUB">
      <w>How</w>
      <w>to</w>
      <w>get</w>
      <emph>
       <w>localized</w>
      </emph>
      <w>information</w>
      <w>about</w>
      <w>visual</w>
      <w>regions</w>
      <w>of</w>
      <w>interest</w>
      <w>is</w>
      <w>beyond</w>
      <w>the</w>
      <w>scope</w>
      <w>of</w>
      <w>this</w>
      <w>lesson</w>
      <w>since</w>
      <w>the</w>
      <w>process</w>
      <w>involves</w>
      <w>quite</w>
      <w>a</w>
      <w>bit</w>
      <w>of</w>
      <w>machine</w>
      <w>learning</w>
      <pc>.</pc>
     </s>
     <s xml:id="s_dLgh9p">
      <w>However</w>
      <w>,</w>
      <w>the</w>
      <w>yes/no</w>
      <w>classification</w>
      <w>of</w>
      <w>pages</w>
      <w>with</w>
      <w>(</w>
      <w>or</w>
      <w>without</w>
      <w>)</w>
      <w>pictures</w>
      <w>is</w>
      <w>a</w>
      <w>practical</w>
      <w>first</w>
      <w>step</w>
      <w>to</w>
      <w>shrink</w>
      <w>the</w>
      <w>huge</w>
      <w>space</w>
      <w>of</w>
      <emph>
       <w>all</w>
      </emph>
      <w>pages</w>
      <w>for</w>
      <w>each</w>
      <w>book</w>
      <w>in</w>
      <w>a</w>
      <w>target</w>
      <w>collection</w>
      <w>and</w>
      <w>,</w>
      <w>thereby</w>
      <w>making</w>
      <w>illustration</w>
      <w>localization</w>
      <w>feasible</w>
      <pc>.</pc>
     </s>
     <s xml:id="s_fq0uHc">
      <w>To</w>
      <w>give</w>
      <w>a</w>
      <w>reference</w>
      <w>point</w>
      <w>,</w>
      <w>nineteenth-century</w>
      <w>medical</w>
      <w>texts</w>
      <w>contain</w>
      <w>(</w>
      <w>on</w>
      <w>average</w>
      <w>)</w>
      <w>illustrations</w>
      <w>on</w>
      <w>1-3</w>
      <w>%</w>
      <w>of</w>
      <w>their</w>
      <w>pages</w>
      <pc>.</pc>
     </s>
     <s xml:id="s_xfBqHW">
      <w>If</w>
      <w>you</w>
      <w>are</w>
      <w>trying</w>
      <w>to</w>
      <w>study</w>
      <w>illustration</w>
      <w>within</w>
      <w>a</w>
      <w>digital-library</w>
      <w>corpus</w>
      <w>about</w>
      <w>which</w>
      <w>you</w>
      <w>do</w>
      <w>not</w>
      <w>have</w>
      <w>any</w>
      <w>preexisting</w>
      <w>information</w>
      <w>,</w>
      <w>it</w>
      <w>is</w>
      <w>thus</w>
      <w>reasonable</w>
      <w>to</w>
      <w>assume</w>
      <w>that</w>
      <w>90+</w>
      <w>%</w>
      <w>of</w>
      <w>the</w>
      <w>pages</w>
      <w>in</w>
      <w>that</w>
      <w>corpus</w>
      <w>will</w>
      <w>NOT</w>
      <w>be</w>
      <w>illustrated</w>
      <pc>.</pc>
     </s>
    </p>
    <p>
     <s xml:id="s_hOHKb2">
      <w>HT</w>
      <w>and</w>
      <w>IA</w>
      <w>allow</w>
      <w>the</w>
      <w>pictures/no</w>
      <w>pictures</w>
      <w>question</w>
      <w>to</w>
      <w>be</w>
      <w>answered</w>
      <w>indirectly</w>
      <w>through</w>
      <w>parsing</w>
      <w>the</w>
      <w>data</w>
      <w>generated</w>
      <w>by</w>
      <w>optical</w>
      <w>character</w>
      <w>recognition</w>
      <w>software</w>
      <w>(</w>
      <w>OCR</w>
      <w>is</w>
      <w>applied</w>
      <w>after</w>
      <w>a</w>
      <w>physical</w>
      <w>volume</w>
      <w>is</w>
      <w>scanned</w>
      <w>in</w>
      <w>order</w>
      <w>to</w>
      <w>generate</w>
      <w>an</w>
      <w>often-noisy</w>
      <w>transcription</w>
      <w>of</w>
      <w>the</w>
      <w>text</w>
      <w>)</w>
      <pc>.</pc>
     </s>
     <s xml:id="s_t1IvdH">
      <w>Leveraging</w>
      <w>OCR</w>
      <w>output</w>
      <w>to</w>
      <w>find</w>
      <w>illustrated</w>
      <w>pages</w>
      <w>was</w>
      <w>first</w>
      <w>proposed</w>
      <w>by</w>
      <w>Kalev</w>
      <w>Leetaru</w>
      <w>in</w>
      <w>a</w>
      <ref target="https://blog.gdeltproject.org/500-years-of-the-images-of-the-worlds-books-now-on-flickr/">
       <w>2014</w>
       <w>collaboration</w>
      </ref>
      <w>with</w>
      <w>Internet</w>
      <w>Archive</w>
      <w>and</w>
      <w>Flickr</w>
      <pc>.</pc>
     </s>
     <s xml:id="s_RzQfpN">
      <w>This</w>
      <w>lesson</w>
      <w>ports</w>
      <w>Leetaru</w>
      <w>'s</w>
      <w>approach</w>
      <w>to</w>
      <w>HathiTrust</w>
      <w>and</w>
      <w>takes</w>
      <w>advantage</w>
      <w>of</w>
      <w>faster</w>
      <w>XML-processing</w>
      <w>libraries</w>
      <w>in</w>
      <w>Python</w>
      <w>as</w>
      <w>well</w>
      <w>as</w>
      <w>IA</w>
      <w>'s</w>
      <w>newly-extended</w>
      <w>range</w>
      <w>of</w>
      <w>image</w>
      <w>file</w>
      <w>formats</w>
      <pc>.</pc>
     </s>
    </p>
    <p>
     <s xml:id="s_jVbxKZ">
      <w>Since</w>
      <w>HT</w>
      <w>and</w>
      <w>IA</w>
      <w>expose</w>
      <w>their</w>
      <w>OCR-derived</w>
      <w>information</w>
      <w>in</w>
      <w>slightly</w>
      <w>different</w>
      <w>ways</w>
      <w>,</w>
      <w>I</w>
      <w>will</w>
      <w>postpone</w>
      <w>the</w>
      <w>details</w>
      <w>of</w>
      <w>each</w>
      <w>library</w>
      <w>'s</w>
      <w>``</w>
      <w>visual</w>
      <w>features</w>
      <w>''</w>
      <w>to</w>
      <w>their</w>
      <w>respective</w>
      <w>sections</w>
      <pc>.</pc>
     </s>
    </p>
   </div>
   <div n="2" type="2">
    <head>
     <s xml:id="s_xotdjK">
      <w>Goals</w>
     </s>
    </head>
    <p>
     <s xml:id="s_i65BPZ">
      <w>By</w>
      <w>the</w>
      <w>end</w>
      <w>of</w>
      <w>the</w>
      <w>lesson</w>
      <w>you</w>
      <w>will</w>
      <w>be</w>
      <w>able</w>
      <w>to</w>
      <w>:</w>
     </s>
    </p>
    <list type="unordered">
     <item>
      <s xml:id="s_t31Af3">
       <w>Set</w>
       <w>up</w>
       <w>the</w>
       <w>``</w>
       <w>minimal</w>
       <w>''</w>
       <w>Anaconda</w>
       <w>Python</w>
       <w>distribution</w>
       <w>(</w>
       <w>Miniconda</w>
       <w>)</w>
       <w>and</w>
       <w>create</w>
       <w>an</w>
       <w>environment</w>
      </s>
     </item>
     <item>
      <s xml:id="s_JqXjf5">
       <w>Save</w>
       <w>and</w>
       <w>iterate</w>
       <w>over</w>
       <w>a</w>
       <w>list</w>
       <w>of</w>
       <w>HT</w>
       <w>or</w>
       <w>IA</w>
       <w>volumes</w>
       <w>IDs</w>
       <w>generated</w>
       <w>by</w>
       <w>a</w>
       <w>search</w>
      </s>
     </item>
     <item>
      <s xml:id="s_NLVQqH">
       <w>Access</w>
       <w>the</w>
       <w>HT</w>
       <w>and</w>
       <w>IA</w>
       <w>data</w>
       <w>application</w>
       <w>programmer</w>
       <w>interfaces</w>
       <w>(</w>
       <w>APIs</w>
       <w>)</w>
       <w>through</w>
       <w>Python</w>
       <w>libraries</w>
      </s>
     </item>
     <item>
      <s xml:id="s_uxN7ah">
       <w>Find</w>
       <w>page-level</w>
       <w>visual</w>
       <w>features</w>
      </s>
     </item>
     <item>
      <s xml:id="s_4q6Kw0">
       <w>Download</w>
       <w>page</w>
       <w>JPEGs</w>
       <w>programmatically</w>
      </s>
     </item>
    </list>
    <p>
     <s xml:id="s_0MOgjt">
      <w>The</w>
      <w>big-picture</w>
      <w>goal</w>
      <w>is</w>
      <w>to</w>
      <w>strengthen</w>
      <w>data</w>
      <w>collection</w>
      <w>and</w>
      <w>exploration</w>
      <w>skills</w>
      <w>by</w>
      <w>creating</w>
      <w>a</w>
      <w>historical</w>
      <w>illustration</w>
      <w>corpus</w>
      <pc>.</pc>
     </s>
     <s xml:id="s_7LITJO">
      <w>Combining</w>
      <w>image</w>
      <w>data</w>
      <w>with</w>
      <w>volume</w>
      <w>metadata</w>
      <w>allows</w>
      <w>the</w>
      <w>formulation</w>
      <w>of</w>
      <w>promising</w>
      <w>research</w>
      <w>questions</w>
      <w>about</w>
      <w>visual</w>
      <w>change</w>
      <w>over</w>
      <w>time</w>
      <pc>.</pc>
     </s>
    </p>
   </div>
   <div n="3" type="2">
    <head>
     <s xml:id="s_HumFGp">
      <w>Requirements</w>
     </s>
    </head>
    <p>
     <s xml:id="s_JRt20B">
      <w>This</w>
      <w>lesson</w>
      <w>'s</w>
      <w>software</w>
      <w>requirements</w>
      <w>are</w>
      <w>minimal</w>
      <w>:</w>
      <w>access</w>
      <w>to</w>
      <w>a</w>
      <w>machine</w>
      <w>running</w>
      <w>a</w>
      <w>standard</w>
      <w>operating</w>
      <w>system</w>
      <w>and</w>
      <w>a</w>
      <w>web</w>
      <w>browser</w>
      <pc>.</pc>
     </s>
     <s xml:id="s_sgOO7l">
      <w>Miniconda</w>
      <w>is</w>
      <w>available</w>
      <w>in</w>
      <w>both</w>
      <w>32-</w>
      <w>and</w>
      <w>64-bit</w>
      <w>versions</w>
      <w>for</w>
      <w>Windows</w>
      <w>,</w>
      <w>macOS</w>
      <w>,</w>
      <w>and</w>
      <w>Linux</w>
      <pc>.</pc>
     </s>
     <s xml:id="s_s0n6hJ">
      <w>Python</w>
      <w>3</w>
      <w>is</w>
      <w>the</w>
      <w>current</w>
      <w>stable</w>
      <w>release</w>
      <w>of</w>
      <w>the</w>
      <w>language</w>
      <w>and</w>
      <w>will</w>
      <w>be</w>
      <w>supported</w>
      <w>indefinitely</w>
      <pc>.</pc>
     </s>
    </p>
    <p>
     <s xml:id="s_KySJwi">
      <w>This</w>
      <w>tutorial</w>
      <w>assumes</w>
      <w>basic</w>
      <w>knowledge</w>
      <w>of</w>
      <w>the</w>
      <w>command</w>
      <w>line</w>
      <w>and</w>
      <w>the</w>
      <w>Python</w>
      <w>programming</w>
      <w>language</w>
      <pc>.</pc>
     </s>
     <s xml:id="s_CPJGsC">
      <w>You</w>
      <w>should</w>
      <w>understand</w>
      <w>the</w>
      <w>conventions</w>
      <w>for</w>
      <w>comments</w>
      <w>and</w>
      <w>commands</w>
      <w>in</w>
      <w>a</w>
      <w>shell-based</w>
      <w>tutorial</w>
      <pc>.</pc>
     </s>
     <s xml:id="s_MVyLwj">
      <w>I</w>
      <w>recommend</w>
      <w>Ian</w>
      <w>Milligan</w>
      <w>and</w>
      <w>James</w>
      <w>Baker</w>
      <w>'s</w>
      <ref target="/en/lessons/intro-to-bash">
       <w>Introduction</w>
       <w>to</w>
       <w>the</w>
       <w>Bash</w>
       <w>Command</w>
       <w>Line</w>
      </ref>
      <w>for</w>
      <w>learning</w>
      <w>or</w>
      <w>brushing</w>
      <w>up</w>
      <w>on</w>
      <w>your</w>
      <w>command</w>
      <w>line</w>
      <w>skills</w>
      <pc>.</pc>
     </s>
    </p>
   </div>
   <div n="4" type="2">
    <head>
     <s xml:id="s_1AcEIn">
      <w>Setup</w>
     </s>
    </head>
    <div n="4.1" type="3">
     <head>
      <s xml:id="s_oTlmxE">
       <w>Dependencies</w>
      </s>
     </head>
     <p>
      <s xml:id="s_rPOSkZ">
       <w>More</w>
       <w>experienced</w>
       <w>readers</w>
       <w>may</w>
       <w>wish</w>
       <w>to</w>
       <w>simply</w>
       <w>install</w>
       <w>the</w>
       <w>dependencies</w>
       <w>and</w>
       <w>run</w>
       <w>the</w>
       <w>notebooks</w>
       <w>in</w>
       <w>their</w>
       <w>environment</w>
       <w>of</w>
       <w>choice</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_xSmO4r">
       <w>Further</w>
       <w>information</w>
       <w>on</w>
       <w>my</w>
       <w>own</w>
       <w>Miniconda</w>
       <w>setup</w>
       <w>(</w>
       <w>and</w>
       <w>some</w>
       <w>Windows/</w>
       <w>*</w>
       <w>nix</w>
       <w>differences</w>
       <w>)</w>
       <w>is</w>
       <w>provided</w>
       <pc>.</pc>
      </s>
     </p>
     <list type="unordered">
      <item>
       <s xml:id="s_XlPlnf">
        <code rend="inline">
         <w>hathitrust-api</w>
        </code>
        <w>(</w>
        <ref target="https://github.com/rlmv/hathitrust-api">
         <w>Install</w>
         <w>docs</w>
        </ref>
        <w>)</w>
       </s>
      </item>
      <item>
       <s xml:id="s_SGjqop">
        <code rend="inline">
         <w>internetarchive</w>
        </code>
        <w>(</w>
        <ref target="https://archive.org/services/docs/api/internetarchive/">
         <w>Install</w>
         <w>docs</w>
        </ref>
        <w>)</w>
       </s>
      </item>
      <item>
       <s xml:id="s_cFknep">
        <code rend="inline">
         <w>jupyter</w>
        </code>
        <w>(</w>
        <ref target="https://jupyter.org/install">
         <w>Install</w>
         <w>docs</w>
        </ref>
        <w>)</w>
       </s>
      </item>
      <item>
       <s xml:id="s_GrkdbY">
        <code rend="inline">
         <w>requests</w>
        </code>
        <w>(</w>
        <ref target="https://requests.readthedocs.io/en/latest/user/install/#install">
         <w>Install</w>
         <w>docs</w>
        </ref>
        <w>)</w>
        <w>[</w>
        <w>creator</w>
        <w>recommends</w>
        <code rend="inline">
         <w>pipenv</w>
        </code>
        <w>installation</w>
        <w>;</w>
        <w>for</w>
        <code rend="inline">
         <w>pip</w>
        </code>
        <w>install</w>
        <w>see</w>
        <ref target="https://pypi.org/project/requests2/">
         <w>PyPI</w>
        </ref>
        <w>]</w>
       </s>
      </item>
     </list>
    </div>
    <div n="4.2" type="3">
     <head>
      <s xml:id="s_HVwqPN">
       <w>Lesson</w>
       <w>Files</w>
      </s>
     </head>
     <p>
      <s xml:id="s_udpOMk">
       <w>Download</w>
       <w>this</w>
       <w>compressed</w>
       <ref target="/assets/extracting-illustrated-pages/lesson-files.zip">
        <w>folder</w>
       </ref>
       <w>that</w>
       <w>contains</w>
       <w>two</w>
       <w>Jupyter</w>
       <w>notebooks</w>
       <w>,</w>
       <w>one</w>
       <w>for</w>
       <w>each</w>
       <w>of</w>
       <w>the</w>
       <w>digital</w>
       <w>libraries</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_o8dhvJ">
       <w>The</w>
       <w>folder</w>
       <w>also</w>
       <w>contains</w>
       <w>a</w>
       <w>sample</w>
       <w>JSON</w>
       <w>metadata</w>
       <w>file</w>
       <w>describing</w>
       <w>a</w>
       <w>HathiTrust</w>
       <w>collection</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_AXGaB6">
       <w>Unzip</w>
       <w>and</w>
       <w>check</w>
       <w>that</w>
       <w>the</w>
       <w>following</w>
       <w>files</w>
       <w>are</w>
       <w>present</w>
       <w>:</w>
       <code rend="inline">
        <w>554050894-1535834127.json</w>
       </code>
       <w>,</w>
       <code rend="inline">
        <w>hathitrust.ipynb</w>
       </code>
       <w>,</w>
       <code rend="inline">
        <w>internetarchive.ipynb</w>
       </code>
       <pc>.</pc>
      </s>
     </p>
     <p style="alert alert-warning">
      <s xml:id="s_4gryui">
       <w>All</w>
       <w>subsequent</w>
       <w>commands</w>
       <w>assume</w>
       <w>that</w>
       <w>your</w>
       <w>current</w>
       <w>working</w>
       <w>directory</w>
       <w>is</w>
       <w>the</w>
       <w>folder</w>
       <w>containing</w>
       <w>the</w>
       <w>lesson</w>
       <w>files</w>
       <pc>.</pc>
      </s>
     </p>
     <div n="4.2.1" type="4">
      <head>
       <s xml:id="s_peq5B3">
        <w>Download</w>
        <w>Destination</w>
       </s>
      </head>
      <p>
       <s xml:id="s_gqBK3d">
        <w>Here</w>
        <w>is</w>
        <w>the</w>
        <w>default</w>
        <w>directory</w>
        <w>that</w>
        <w>will</w>
        <w>be</w>
        <w>created</w>
        <w>once</w>
        <w>all</w>
        <w>the</w>
        <w>cells</w>
        <w>in</w>
        <w>both</w>
        <w>notebooks</w>
        <w>have</w>
        <w>been</w>
        <w>run</w>
        <w>(</w>
        <w>as</w>
        <w>provided</w>
        <w>)</w>
        <pc>.</pc>
       </s>
       <s xml:id="s_RGwiuC">
        <w>After</w>
        <w>getting</w>
        <w>a</w>
        <w>list</w>
        <w>of</w>
        <w>which</w>
        <w>pages</w>
        <w>in</w>
        <w>a</w>
        <w>volume</w>
        <w>contain</w>
        <w>pictures</w>
        <w>,</w>
        <w>the</w>
        <w>HT</w>
        <w>and</w>
        <w>IA</w>
        <w>download</w>
        <w>functions</w>
        <w>request</w>
        <w>those</w>
        <w>pages</w>
        <w>as</w>
        <w>JPEGs</w>
        <w>(</w>
        <w>named</w>
        <w>by</w>
        <w>page</w>
        <w>number</w>
        <w>)</w>
        <w>and</w>
        <w>store</w>
        <w>them</w>
        <w>in</w>
        <w>sub-directories</w>
        <w>(</w>
        <w>named</w>
        <w>by</w>
        <w>item</w>
        <w>ID</w>
        <w>)</w>
        <pc>.</pc>
       </s>
       <s xml:id="s_deLm48">
        <w>You</w>
        <w>can</w>
        <w>of</w>
        <w>course</w>
        <w>use</w>
        <w>different</w>
        <w>volume</w>
        <w>lists</w>
        <w>or</w>
        <w>change</w>
        <w>the</w>
        <code rend="inline">
         <w>out_dir</w>
        </code>
        <w>destination</w>
        <w>to</w>
        <w>something</w>
        <w>other</w>
        <w>than</w>
        <code rend="inline">
         <w>items</w>
        </code>
        <pc>.</pc>
       </s>
      </p>
      <ab>
       <code corresp="code_extracting-illustrated-pages_0.txt" rend="block" xml:id="code_extracting-illustrated-pages_0"/>
      </ab>
      <p>
       <s xml:id="s_JfSpym">
        <w>The</w>
        <w>download</w>
        <w>functions</w>
        <w>are</w>
        <w>lazy</w>
        <w>;</w>
        <w>if</w>
        <w>you</w>
        <w>run</w>
        <w>the</w>
        <w>notebooks</w>
        <w>again</w>
        <w>,</w>
        <w>with</w>
        <w>the</w>
        <code rend="inline">
         <w>items</w>
        </code>
        <w>directory</w>
        <w>looking</w>
        <w>as</w>
        <w>it</w>
        <w>does</w>
        <w>above</w>
        <w>,</w>
        <w>any</w>
        <w>item</w>
        <w>that</w>
        <w>already</w>
        <w>has</w>
        <w>its</w>
        <w>own</w>
        <w>sub-folder</w>
        <w>will</w>
        <w>be</w>
        <w>skipped</w>
        <pc>.</pc>
       </s>
      </p>
     </div>
    </div>
    <div n="4.3" type="3">
     <head>
      <s xml:id="s_MXWhUz">
       <w>Anaconda</w>
       <w>(</w>
       <w>optional</w>
       <w>)</w>
      </s>
     </head>
     <p>
      <s xml:id="s_JwGnjb">
       <w>Anaconda</w>
       <w>is</w>
       <w>the</w>
       <w>leading</w>
       <w>scientific</w>
       <w>Python</w>
       <w>distribution</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_LMlvOO">
       <w>Its</w>
       <code rend="inline">
        <w>conda</w>
       </code>
       <w>package</w>
       <w>manager</w>
       <w>allows</w>
       <w>you</w>
       <w>to</w>
       <w>install</w>
       <w>libraries</w>
       <w>such</w>
       <w>as</w>
       <code rend="inline">
        <w>numpy</w>
       </code>
       <w>and</w>
       <code rend="inline">
        <w>tensorflow</w>
       </code>
       <w>with</w>
       <w>ease</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_NxpxRu">
       <w>The</w>
       <w>``</w>
       <w>Miniconda</w>
       <w>''</w>
       <w>version</w>
       <w>does</w>
       <w>not</w>
       <w>come</w>
       <w>with</w>
       <w>any</w>
       <w>superfluous</w>
       <w>packages</w>
       <w>preinstalled</w>
       <w>,</w>
       <w>which</w>
       <w>encourages</w>
       <w>you</w>
       <w>to</w>
       <w>keep</w>
       <w>your</w>
       <w>base</w>
       <w>environment</w>
       <w>clean</w>
       <w>and</w>
       <w>only</w>
       <w>install</w>
       <w>what</w>
       <w>you</w>
       <w>need</w>
       <w>for</w>
       <w>a</w>
       <w>project</w>
       <w>within</w>
       <w>a</w>
       <w>named</w>
       <w>environment</w>
       <pc>.</pc>
      </s>
     </p>
     <p>
      <s xml:id="s_oMKQ9c">
       <w>Download</w>
       <w>and</w>
       <w>install</w>
       <ref target="https://conda.io/miniconda.html">
        <w>Miniconda</w>
       </ref>
       <pc>.</pc>
      </s>
      <s xml:id="s_yesPFN">
       <w>Choose</w>
       <w>the</w>
       <w>latest</w>
       <w>stable</w>
       <w>release</w>
       <w>of</w>
       <w>Python</w>
       <w>3</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_28j4DF">
       <w>If</w>
       <w>everything</w>
       <w>goes</w>
       <w>well</w>
       <w>,</w>
       <w>you</w>
       <w>should</w>
       <w>be</w>
       <w>able</w>
       <w>to</w>
       <w>run</w>
       <code rend="inline">
        <w>which</w>
        <w>conda</w>
       </code>
       <w>(</w>
       <w>linux/macOS</w>
       <w>)</w>
       <w>or</w>
       <code rend="inline">
        <w>where</w>
        <w>conda</w>
       </code>
       <w>(</w>
       <w>Windows</w>
       <w>)</w>
       <w>in</w>
       <w>your</w>
       <w>shell</w>
       <w>and</w>
       <w>see</w>
       <w>the</w>
       <w>location</w>
       <w>of</w>
       <w>the</w>
       <w>executable</w>
       <w>program</w>
       <w>in</w>
       <w>the</w>
       <w>output</w>
       <pc>.</pc>
      </s>
     </p>
     <p>
      <s xml:id="s_U24SP2">
       <w>Anaconda</w>
       <w>has</w>
       <w>a</w>
       <w>handy</w>
       <ref target="http://web.archive.org/web/20190115051900/https://conda.io/docs/_downloads/conda-cheatsheet.pdf">
        <w>cheat</w>
        <w>sheet</w>
       </ref>
       <w>for</w>
       <w>frequently</w>
       <w>used</w>
       <w>commands</w>
       <pc>.</pc>
      </s>
     </p>
     <div n="4.3.1" type="4">
      <head>
       <s xml:id="s_wRie1M">
        <w>Create</w>
        <w>an</w>
        <w>Environment</w>
       </s>
      </head>
      <p>
       <s xml:id="s_l8M1vA">
        <w>Environments</w>
        <w>,</w>
        <w>among</w>
        <w>other</w>
        <w>things</w>
        <w>,</w>
        <w>help</w>
        <w>control</w>
        <w>the</w>
        <w>complexity</w>
        <w>associated</w>
        <w>with</w>
        <w>using</w>
        <w>multiple</w>
        <w>package</w>
        <w>managers</w>
        <w>in</w>
        <w>tandem</w>
        <pc>.</pc>
       </s>
       <s xml:id="s_HB8y7e">
        <w>Not</w>
        <w>all</w>
        <w>Python</w>
        <w>libraries</w>
        <w>can</w>
        <w>be</w>
        <w>installed</w>
        <w>through</w>
        <code rend="inline">
         <w>conda</w>
        </code>
        <pc>.</pc>
       </s>
       <s xml:id="s_92XBdN">
        <w>In</w>
        <w>some</w>
        <w>cases</w>
        <w>we</w>
        <w>will</w>
        <w>fall</w>
        <w>back</w>
        <w>to</w>
        <w>the</w>
        <w>standard</w>
        <w>Python</w>
        <w>package</w>
        <w>manager</w>
        <w>,</w>
        <code rend="inline">
         <w>pip</w>
        </code>
        <w>(</w>
        <w>or</w>
        <w>planned</w>
        <w>replacements</w>
        <w>like</w>
        <code rend="inline">
         <w>pipenv</w>
        </code>
        <w>)</w>
        <pc>.</pc>
       </s>
       <s xml:id="s_8t5lDv">
        <w>However</w>
        <w>,</w>
        <w>when</w>
        <w>we</w>
        <w>do</w>
        <w>so</w>
        <w>,</w>
        <w>we</w>
        <w>will</w>
        <w>use</w>
        <w>a</w>
        <w>version</w>
        <w>of</w>
        <code rend="inline">
         <w>pip</w>
        </code>
        <w>installed</w>
        <w>by</w>
        <code rend="inline">
         <w>conda</w>
        </code>
        <pc>.</pc>
       </s>
       <s xml:id="s_uKeTH6">
        <w>This</w>
        <w>keeps</w>
        <w>all</w>
        <w>the</w>
        <w>packages</w>
        <w>we</w>
        <w>need</w>
        <w>for</w>
        <w>the</w>
        <w>project</w>
        <w>in</w>
        <w>the</w>
        <w>same</w>
        <w>virtual</w>
        <w>sandbox</w>
        <pc>.</pc>
       </s>
      </p>
      <ab>
       <code corresp="code_extracting-illustrated-pages_1.txt" lang="language-bash" rend="block" xml:id="code_extracting-illustrated-pages_1"/>
      </ab>
      <p>
       <s xml:id="s_ayI2F9">
        <w>Now</w>
        <w>we</w>
        <w>create</w>
        <w>a</w>
        <w>named</w>
        <w>environment</w>
        <w>,</w>
        <w>set</w>
        <w>it</w>
        <w>to</w>
        <w>use</w>
        <w>Python</w>
        <w>3</w>
        <w>,</w>
        <w>and</w>
        <w>activate</w>
        <w>it</w>
        <pc>.</pc>
       </s>
      </p>
      <ab>
       <code corresp="code_extracting-illustrated-pages_2.txt" lang="language-bash" rend="block" xml:id="code_extracting-illustrated-pages_2"/>
      </ab>
      <ab>
       <code corresp="code_extracting-illustrated-pages_3.txt" lang="language-bash" rend="block" xml:id="code_extracting-illustrated-pages_3"/>
      </ab>
      <p>
       <s xml:id="s_WasBXt">
        <w>To</w>
        <w>exit</w>
        <w>an</w>
        <w>environment</w>
        <w>,</w>
        <w>run</w>
        <code rend="inline">
         <w>source</w>
         <w>deactivate</w>
        </code>
        <w>on</w>
        <w>macOS/Linux</w>
        <w>or</w>
        <code rend="inline">
         <w>deactivate</w>
        </code>
        <w>on</w>
        <w>Windows</w>
        <pc>.</pc>
       </s>
       <s xml:id="s_iN8lrM">
        <w>But</w>
        <w>make</w>
        <w>sure</w>
        <w>to</w>
        <w>stay</w>
        <w>in</w>
        <w>the</w>
        <code rend="inline">
         <w>extract-pages</w>
        </code>
        <w>environment</w>
        <w>for</w>
        <w>the</w>
        <w>duration</w>
        <w>of</w>
        <w>the</w>
        <w>lesson</w>
        <pc>!</pc>
       </s>
      </p>
     </div>
     <div n="4.3.2" type="4">
      <head>
       <s xml:id="s_bBveGt">
        <w>Install</w>
        <w>Conda</w>
        <w>Packages</w>
       </s>
      </head>
      <p>
       <s xml:id="s_3bXrXE">
        <w>We</w>
        <w>can</w>
        <w>use</w>
        <code rend="inline">
         <w>conda</w>
        </code>
        <w>to</w>
        <w>install</w>
        <w>our</w>
        <w>first</w>
        <w>couple</w>
        <w>of</w>
        <w>packages</w>
        <pc>.</pc>
       </s>
       <s xml:id="s_oVByVG">
        <w>All</w>
        <w>the</w>
        <w>other</w>
        <w>required</w>
        <w>packages</w>
        <w>(</w>
        <w>gzip</w>
        <w>,</w>
        <w>json</w>
        <w>,</w>
        <w>os</w>
        <w>,</w>
        <w>sys</w>
        <w>,</w>
        <w>and</w>
        <w>time</w>
        <w>)</w>
        <w>are</w>
        <w>part</w>
        <w>of</w>
        <w>the</w>
        <ref target="https://docs.python.org/3/library/">
         <w>standard</w>
         <w>Python</w>
         <w>library</w>
        </ref>
        <pc>.</pc>
       </s>
       <s xml:id="s_PVnbMg">
        <w>Note</w>
        <w>how</w>
        <w>we</w>
        <w>need</w>
        <w>to</w>
        <w>specify</w>
        <w>a</w>
        <w>channel</w>
        <w>in</w>
        <w>some</w>
        <w>cases</w>
        <pc>.</pc>
       </s>
       <s xml:id="s_PpVMMB">
        <w>You</w>
        <w>can</w>
        <w>search</w>
        <w>for</w>
        <w>packages</w>
        <w>on</w>
        <ref target="https://anaconda.org/">
         <w>Anaconda</w>
         <w>Cloud</w>
        </ref>
        <pc>.</pc>
       </s>
      </p>
      <ab>
       <code corresp="code_extracting-illustrated-pages_4.txt" lang="language-bash" rend="block" xml:id="code_extracting-illustrated-pages_4"/>
      </ab>
      <p>
       <s xml:id="s_oHi7Ux">
        <w>Jupyter</w>
        <w>has</w>
        <w>many</w>
        <w>dependencies</w>
        <w>(</w>
        <w>other</w>
        <w>packages</w>
        <w>on</w>
        <w>which</w>
        <w>it</w>
        <w>relies</w>
        <w>)</w>
        <w>,</w>
        <w>so</w>
        <w>this</w>
        <w>step</w>
        <w>may</w>
        <w>take</w>
        <w>a</w>
        <w>few</w>
        <w>minutes</w>
        <pc>.</pc>
       </s>
       <s xml:id="s_AfDsEn">
        <w>Remember</w>
        <w>that</w>
        <w>when</w>
        <code rend="inline">
         <w>conda</w>
        </code>
        <w>prompts</w>
        <w>you</w>
        <w>with</w>
        <code rend="inline">
         <w>Proceed</w>
         <w>(</w>
         <w>[</w>
         <w>y</w>
         <w>]</w>
         <w>/n</w>
         <w>)</w>
         <pc>?</pc>
        </code>
        <w>you</w>
        <w>should</w>
        <w>type</w>
        <w>a</w>
        <code rend="inline">
         <w>y</w>
        </code>
        <w>or</w>
        <code rend="inline">
         <w>yes</w>
        </code>
        <w>and</w>
        <w>then</w>
        <w>press</w>
        <w>Enter</w>
        <w>to</w>
        <w>accept</w>
        <w>the</w>
        <w>package</w>
        <w>plan</w>
        <pc>.</pc>
       </s>
      </p>
      <p style="alert alert-warning">
       <s xml:id="s_QR0qkX">
        <w>Behind</w>
        <w>the</w>
        <w>scenes</w>
        <w>,</w>
        <code rend="inline">
         <w>conda</w>
        </code>
        <w>is</w>
        <w>working</w>
        <w>to</w>
        <w>make</w>
        <w>sure</w>
        <w>all</w>
        <w>the</w>
        <w>required</w>
        <w>packages</w>
        <w>and</w>
        <w>dependencies</w>
        <w>will</w>
        <w>be</w>
        <w>installed</w>
        <w>in</w>
        <w>a</w>
        <w>compatible</w>
        <w>way</w>
        <pc>.</pc>
       </s>
      </p>
     </div>
     <div n="4.3.3" type="4">
      <head>
       <s xml:id="s_rcVSuw">
        <w>Install</w>
        <w>Pip</w>
        <w>Packages</w>
       </s>
      </head>
      <p>
       <s xml:id="s_2qvQoU">
        <w>If</w>
        <w>you</w>
        <w>are</w>
        <w>using</w>
        <w>a</w>
        <code rend="inline">
         <w>conda</w>
        </code>
        <w>environment</w>
        <w>,</w>
        <w>it</w>
        <w>'s</w>
        <w>best</w>
        <w>to</w>
        <w>use</w>
        <w>the</w>
        <w>local</w>
        <w>version</w>
        <w>of</w>
        <code rend="inline">
         <w>pip</w>
        </code>
        <pc>.</pc>
       </s>
       <s xml:id="s_QjlS0J">
        <w>Check</w>
        <w>that</w>
        <w>the</w>
        <w>following</w>
        <w>commands</w>
        <w>output</w>
        <w>a</w>
        <w>program</w>
        <w>whose</w>
        <w>absolute</w>
        <w>path</w>
        <w>contains</w>
        <w>something</w>
        <w>like</w>
        <code rend="inline">
         <w>/Miniconda/envs/extract-pages/Scripts/pip</w>
        </code>
        <pc>.</pc>
       </s>
      </p>
      <ab>
       <code corresp="code_extracting-illustrated-pages_5.txt" lang="language-bash" rend="block" xml:id="code_extracting-illustrated-pages_5"/>
      </ab>
      <ab>
       <code corresp="code_extracting-illustrated-pages_6.txt" lang="language-bash" rend="block" xml:id="code_extracting-illustrated-pages_6"/>
      </ab>
      <p>
       <s xml:id="s_QmI3Pe">
        <w>If</w>
        <w>you</w>
        <w>see</w>
        <w>two</w>
        <w>versions</w>
        <w>of</w>
        <code rend="inline">
         <w>pip</w>
        </code>
        <w>in</w>
        <w>the</w>
        <w>output</w>
        <w>above</w>
        <w>,</w>
        <w>make</w>
        <w>sure</w>
        <w>to</w>
        <w>type</w>
        <w>the</w>
        <w>full</w>
        <w>path</w>
        <w>to</w>
        <w>the</w>
        <emph>
         <w>local</w>
        </emph>
        <w>environment</w>
        <w>version</w>
        <w>when</w>
        <w>installing</w>
        <w>the</w>
        <w>API</w>
        <w>wrapper</w>
        <w>libraries</w>
        <w>:</w>
       </s>
      </p>
      <ab>
       <code corresp="code_extracting-illustrated-pages_7.txt" lang="language-bash" rend="block" xml:id="code_extracting-illustrated-pages_7"/>
      </ab>
      <ab>
       <code corresp="code_extracting-illustrated-pages_8.txt" lang="language-bash" rend="block" xml:id="code_extracting-illustrated-pages_8"/>
      </ab>
     </div>
    </div>
    <div n="4.4" type="3">
     <head>
      <s xml:id="s_PgdSKC">
       <w>Jupyter</w>
       <w>Notebooks</w>
      </s>
     </head>
     <p>
      <s xml:id="s_F8FB39">
       <w>Peter</w>
       <w>Organisciak</w>
       <w>and</w>
       <w>Boris</w>
       <w>Capitanu</w>
       <w>'s</w>
       <ref target="/en/lessons/text-mining-with-extracted-features#start-a-notebook">
        <w>Text</w>
        <w>Mining</w>
        <w>in</w>
        <w>Python</w>
        <w>through</w>
        <w>the</w>
        <w>HTRC</w>
        <w>Feature</w>
        <w>Reader</w>
       </ref>
       <w>explains</w>
       <w>the</w>
       <w>benefits</w>
       <w>of</w>
       <w>notebooks</w>
       <w>for</w>
       <w>development</w>
       <w>and</w>
       <w>data</w>
       <w>exploration</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_UQqOv2">
       <w>It</w>
       <w>also</w>
       <w>contains</w>
       <w>helpful</w>
       <w>information</w>
       <w>on</w>
       <w>how</w>
       <w>to</w>
       <w>effectively</w>
       <w>run</w>
       <w>cells</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_iavy3K">
       <w>Since</w>
       <w>we</w>
       <w>installed</w>
       <w>the</w>
       <w>minimalist</w>
       <w>version</w>
       <w>of</w>
       <w>Anaconda</w>
       <w>,</w>
       <w>we</w>
       <w>need</w>
       <w>to</w>
       <w>launch</w>
       <w>Jupyter</w>
       <w>from</w>
       <w>the</w>
       <w>command</w>
       <w>line</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_w2xSec">
       <w>In</w>
       <w>your</w>
       <w>shell</w>
       <w>(</w>
       <w>from</w>
       <w>inside</w>
       <w>the</w>
       <w>folder</w>
       <w>containing</w>
       <w>the</w>
       <w>lesson</w>
       <w>files</w>
       <w>)</w>
       <w>run</w>
       <code rend="inline">
        <w>jupyter</w>
        <w>notebook</w>
       </code>
       <pc>.</pc>
      </s>
     </p>
     <p>
      <s xml:id="s_B4O7Uo">
       <w>This</w>
       <w>will</w>
       <w>run</w>
       <w>the</w>
       <w>notebook</w>
       <w>server</w>
       <w>in</w>
       <w>your</w>
       <w>shell</w>
       <w>and</w>
       <w>launch</w>
       <w>your</w>
       <w>default</w>
       <w>browser</w>
       <w>with</w>
       <w>the</w>
       <w>Jupyter</w>
       <w>homepage</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_pCPGVo">
       <w>The</w>
       <w>homepage</w>
       <w>shows</w>
       <w>all</w>
       <w>the</w>
       <w>files</w>
       <w>in</w>
       <w>the</w>
       <w>current</w>
       <w>working</w>
       <w>directory</w>
       <pc>.</pc>
      </s>
     </p>
     <figure>
      <desc>
       <s xml:id="s_Da0IBj">
        <w>Jupyter</w>
        <w>homepage</w>
        <w>showing</w>
        <w>lesson</w>
        <w>files</w>
        <pc>.</pc>
       </s>
      </desc>
      <graphic url="jupyter-home.png"/>
     </figure>
     <p style="alert alert-warning">
      <s xml:id="s_vY4hdn">
       <w>In</w>
       <w>your</w>
       <w>shell</w>
       <w>,</w>
       <w>make</w>
       <w>sure</w>
       <w>you</w>
       <w>have</w>
       <code rend="inline">
        <w>cd</w>
       </code>
       <w>-ed</w>
       <w>into</w>
       <w>the</w>
       <w>unzipped</w>
       <code rend="inline">
        <w>lesson-files</w>
       </code>
       <w>directory</w>
       <pc>.</pc>
      </s>
     </p>
     <p>
      <s xml:id="s_unwdCP">
       <w>Click</w>
       <w>on</w>
       <w>the</w>
       <code rend="inline">
        <w>hathitrust.ipynb</w>
       </code>
       <w>and</w>
       <code rend="inline">
        <w>internetarchive.ipynb</w>
       </code>
       <w>notebooks</w>
       <w>to</w>
       <w>open</w>
       <w>them</w>
       <w>in</w>
       <w>new</w>
       <w>browser</w>
       <w>tabs</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_lQIa0j">
       <w>From</w>
       <w>now</w>
       <w>on</w>
       <w>,</w>
       <w>we</w>
       <w>do</w>
       <w>n't</w>
       <w>need</w>
       <w>to</w>
       <w>run</w>
       <w>any</w>
       <w>commands</w>
       <w>in</w>
       <w>the</w>
       <w>shell</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_20HvD2">
       <w>The</w>
       <w>notebooks</w>
       <w>allow</w>
       <w>us</w>
       <w>to</w>
       <w>execute</w>
       <w>Python</w>
       <w>code</w>
       <w>and</w>
       <w>have</w>
       <w>full</w>
       <w>access</w>
       <w>to</w>
       <w>the</w>
       <w>computer</w>
       <w>'s</w>
       <w>file</w>
       <w>system</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_88ZEs6">
       <w>When</w>
       <w>you</w>
       <w>are</w>
       <w>finished</w>
       <w>,</w>
       <w>you</w>
       <w>can</w>
       <w>stop</w>
       <w>the</w>
       <w>notebook</w>
       <w>server</w>
       <w>by</w>
       <w>clicking</w>
       <w>``</w>
       <w>Quit</w>
       <w>''</w>
       <w>on</w>
       <w>the</w>
       <w>Jupyter</w>
       <w>homepage</w>
       <w>or</w>
       <w>executing</w>
       <code rend="inline">
        <w>ctrl+c</w>
       </code>
       <w>in</w>
       <w>the</w>
       <w>shell</w>
       <pc>.</pc>
      </s>
     </p>
    </div>
   </div>
   <div n="5" type="2">
    <head>
     <s xml:id="s_x3lZqr">
      <w>HathiTrust</w>
     </s>
    </head>
    <div n="5.1" type="3">
     <head>
      <s xml:id="s_3pYomg">
       <w>API</w>
       <w>Access</w>
      </s>
     </head>
     <p>
      <s xml:id="s_U4yBsF">
       <w>You</w>
       <w>need</w>
       <w>to</w>
       <w>register</w>
       <w>with</w>
       <w>HathiTrust</w>
       <w>before</w>
       <w>using</w>
       <w>the</w>
       <w>Data</w>
       <w>API</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_YSV2Xa">
       <w>Head</w>
       <w>over</w>
       <w>to</w>
       <w>the</w>
       <ref target="https://babel.hathitrust.org/cgi/kgs/request">
        <w>registration</w>
        <w>portal</w>
       </ref>
       <w>and</w>
       <w>fill</w>
       <w>out</w>
       <w>your</w>
       <w>name</w>
       <w>,</w>
       <w>organization</w>
       <w>,</w>
       <w>and</w>
       <w>email</w>
       <w>to</w>
       <w>request</w>
       <w>access</w>
       <w>keys</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_uOCwxm">
       <w>You</w>
       <w>should</w>
       <w>receive</w>
       <w>an</w>
       <w>email</w>
       <w>response</w>
       <w>within</w>
       <w>a</w>
       <w>minute</w>
       <w>or</w>
       <w>so</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_ad5J8X">
       <w>Click</w>
       <w>the</w>
       <w>link</w>
       <w>,</w>
       <w>which</w>
       <w>will</w>
       <w>take</w>
       <w>you</w>
       <w>to</w>
       <w>a</w>
       <w>one-time</w>
       <w>page</w>
       <w>with</w>
       <w>both</w>
       <w>keys</w>
       <w>displayed</w>
       <pc>.</pc>
      </s>
     </p>
     <p>
      <s xml:id="s_0YZIYo">
       <w>In</w>
       <w>the</w>
       <code rend="inline">
        <w>hathitrust.ipynb</w>
       </code>
       <w>notebook</w>
       <w>,</w>
       <w>examine</w>
       <w>the</w>
       <w>very</w>
       <w>first</w>
       <w>cell</w>
       <w>(</w>
       <w>shown</w>
       <w>below</w>
       <w>)</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_dcvbmn">
       <w>Fill</w>
       <w>in</w>
       <w>your</w>
       <w>API</w>
       <w>tokens</w>
       <w>as</w>
       <w>directed</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_aLlwpg">
       <w>Then</w>
       <w>run</w>
       <w>the</w>
       <w>cell</w>
       <w>by</w>
       <w>clicking</w>
       <w>``</w>
       <w>Run</w>
       <w>''</w>
       <w>in</w>
       <w>the</w>
       <w>notebook</w>
       <w>navbar</w>
       <pc>.</pc>
      </s>
     </p>
     <ab>
      <code corresp="code_extracting-illustrated-pages_9.txt" lang="language-python" rend="block" xml:id="code_extracting-illustrated-pages_9"/>
     </ab>
     <p style="alert alert-warning">
      <s xml:id="s_HhVUrU">
       <w>Careful</w>
       <pc>!</pc>
      </s>
      <s xml:id="s_IGqtTB">
       <w>Do</w>
       <w>not</w>
       <w>expose</w>
       <w>your</w>
       <w>access</w>
       <w>tokens</w>
       <w>through</w>
       <w>a</w>
       <w>public</w>
       <w>repo</w>
       <w>on</w>
       <w>GitHub</w>
       <w>(</w>
       <w>or</w>
       <w>other</w>
       <w>version</w>
       <w>control</w>
       <w>host</w>
       <w>)</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_qNTjDD">
       <w>They</w>
       <w>will</w>
       <w>be</w>
       <w>searchable</w>
       <w>by</w>
       <w>just</w>
       <w>about</w>
       <w>anyone</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_ErpMqd">
       <w>One</w>
       <w>good</w>
       <w>practice</w>
       <w>for</w>
       <w>a</w>
       <w>Python</w>
       <w>project</w>
       <w>is</w>
       <w>to</w>
       <w>either</w>
       <w>store</w>
       <w>your</w>
       <w>tokens</w>
       <w>as</w>
       <w>environment</w>
       <w>variables</w>
       <w>or</w>
       <w>save</w>
       <w>them</w>
       <w>in</w>
       <w>a</w>
       <w>file</w>
       <w>that</w>
       <w>is</w>
       <w>not</w>
       <w>versioned</w>
       <pc>.</pc>
      </s>
     </p>
    </div>
    <div n="5.2" type="3">
     <head>
      <s xml:id="s_Lx8qGp">
       <w>Create</w>
       <w>Volume</w>
       <w>List</w>
      </s>
     </head>
     <p>
      <s xml:id="s_7DmQUM">
       <w>HT</w>
       <w>allows</w>
       <w>anyone</w>
       <w>to</w>
       <w>make</w>
       <w>a</w>
       <w>collection</w>
       <w>of</w>
       <w>itemsyou</w>
       <w>do</w>
       <w>n't</w>
       <w>even</w>
       <w>have</w>
       <w>to</w>
       <w>be</w>
       <w>logged</w>
       <w>in</w>
       <pc>!</pc>
      </s>
      <s xml:id="s_yuvSf2">
       <w>You</w>
       <w>should</w>
       <w>register</w>
       <w>for</w>
       <w>an</w>
       <w>account</w>
       <w>,</w>
       <w>however</w>
       <w>,</w>
       <w>if</w>
       <w>you</w>
       <w>want</w>
       <w>to</w>
       <w>save</w>
       <w>your</w>
       <w>list</w>
       <w>of</w>
       <w>volumes</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_qtkM03">
       <w>Follow</w>
       <w>the</w>
       <ref target="https://babel.hathitrust.org/cgi/mb?colltype=updated">
        <w>instructions</w>
       </ref>
       <w>to</w>
       <w>do</w>
       <w>some</w>
       <w>full-text</w>
       <w>searches</w>
       <w>and</w>
       <w>then</w>
       <w>add</w>
       <w>selected</w>
       <w>results</w>
       <w>to</w>
       <w>a</w>
       <w>collection</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_1v3hR2">
       <w>Currently</w>
       <w>,</w>
       <w>HathiTrust</w>
       <w>does</w>
       <w>not</w>
       <w>have</w>
       <w>a</w>
       <w>public</w>
       <w>search</w>
       <w>API</w>
       <w>for</w>
       <w>acquiring</w>
       <w>volumes</w>
       <w>programmatically</w>
       <w>;</w>
       <w>you</w>
       <w>need</w>
       <w>to</w>
       <w>search</w>
       <w>through</w>
       <w>their</w>
       <w>web</w>
       <w>interface</w>
       <pc>.</pc>
      </s>
     </p>
     <p>
      <s xml:id="s_VVIUkR">
       <w>As</w>
       <w>you</w>
       <w>update</w>
       <w>a</w>
       <w>collection</w>
       <w>,</w>
       <w>HT</w>
       <w>keeps</w>
       <w>track</w>
       <w>of</w>
       <w>the</w>
       <w>associated</w>
       <w>metadata</w>
       <w>for</w>
       <w>each</w>
       <w>item</w>
       <w>in</w>
       <w>it</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_xIxRjy">
       <w>I</w>
       <w>have</w>
       <w>included</w>
       <w>in</w>
       <w>the</w>
       <w>lesson</w>
       <w>files</w>
       <w>the</w>
       <w>metadata</w>
       <w>for</w>
       <w>a</w>
       <w>sample</w>
       <w>lesson</w>
       <w>in</w>
       <w>JSON</w>
       <w>format</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_C8FuDb">
       <w>If</w>
       <w>you</w>
       <w>wanted</w>
       <w>to</w>
       <w>use</w>
       <w>the</w>
       <w>file</w>
       <w>from</w>
       <w>your</w>
       <w>own</w>
       <w>HT</w>
       <w>collection</w>
       <w>,</w>
       <w>you</w>
       <w>would</w>
       <w>navigate</w>
       <w>to</w>
       <w>your</w>
       <w>collections</w>
       <w>page</w>
       <w>and</w>
       <w>hover</w>
       <w>on</w>
       <w>the</w>
       <w>metadata</w>
       <w>link</w>
       <w>on</w>
       <w>the</w>
       <w>left</w>
       <w>to</w>
       <w>bring</w>
       <w>up</w>
       <w>the</w>
       <w>option</w>
       <w>to</w>
       <w>download</w>
       <w>as</w>
       <w>JSON</w>
       <w>as</w>
       <w>seen</w>
       <w>in</w>
       <w>the</w>
       <w>following</w>
       <w>screenshot</w>
       <pc>.</pc>
      </s>
     </p>
     <figure>
      <desc>
       <s xml:id="s_OlcPYi">
        <w>Screenshot</w>
        <w>of</w>
        <w>how</w>
        <w>to</w>
        <w>download</w>
        <w>collection</w>
        <w>metadata</w>
        <w>in</w>
        <w>JSON</w>
        <w>format</w>
        <pc>.</pc>
       </s>
      </desc>
      <graphic url="download-ht-json.png"/>
     </figure>
     <p>
      <s xml:id="s_NKC2xA">
       <w>When</w>
       <w>you</w>
       <w>have</w>
       <w>downloaded</w>
       <w>the</w>
       <w>JSON</w>
       <w>file</w>
       <w>,</w>
       <w>simply</w>
       <w>move</w>
       <w>it</w>
       <w>to</w>
       <w>the</w>
       <w>directory</w>
       <w>where</w>
       <w>you</w>
       <w>placed</w>
       <w>the</w>
       <w>Jupyter</w>
       <w>notebooks</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_kv0s79">
       <w>Replace</w>
       <w>the</w>
       <w>name</w>
       <w>of</w>
       <w>the</w>
       <w>JSON</w>
       <w>file</w>
       <w>in</w>
       <w>the</w>
       <w>HT</w>
       <w>notebook</w>
       <w>with</w>
       <w>the</w>
       <w>name</w>
       <w>of</w>
       <w>your</w>
       <w>collection</w>
       <w>'s</w>
       <w>file</w>
       <pc>.</pc>
      </s>
     </p>
     <p>
      <s xml:id="s_upOc8A">
       <w>The</w>
       <w>notebook</w>
       <w>shows</w>
       <w>how</w>
       <w>to</w>
       <w>use</w>
       <w>a</w>
       <w>list</w>
       <w>comprehension</w>
       <w>to</w>
       <w>get</w>
       <w>all</w>
       <w>the</w>
       <code rend="inline">
        <w>htitem_id</w>
       </code>
       <w>strings</w>
       <w>within</w>
       <w>the</w>
       <code rend="inline">
        <w>gathers</w>
       </code>
       <w>object</w>
       <w>that</w>
       <w>contains</w>
       <w>all</w>
       <w>the</w>
       <w>collection</w>
       <w>information</w>
       <pc>.</pc>
      </s>
     </p>
     <ab>
      <code corresp="code_extracting-illustrated-pages_10.txt" lang="language-Python" rend="block" xml:id="code_extracting-illustrated-pages_10"/>
     </ab>
     <p style="alert alert-warning">
      <s xml:id="s_OtOplE">
       <w>Tutorials</w>
       <w>often</w>
       <w>show</w>
       <w>you</w>
       <w>how</w>
       <w>to</w>
       <w>process</w>
       <w>one</w>
       <w>example</w>
       <w>item</w>
       <w>(</w>
       <w>often</w>
       <w>of</w>
       <w>a</w>
       <w>trivial</w>
       <w>size</w>
       <w>or</w>
       <w>complexity</w>
       <w>)</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_7BYTd4">
       <w>This</w>
       <w>is</w>
       <w>pedagogically</w>
       <w>convenient</w>
       <w>,</w>
       <w>but</w>
       <w>it</w>
       <w>means</w>
       <w>you</w>
       <w>are</w>
       <w>less</w>
       <w>equipped</w>
       <w>to</w>
       <w>apply</w>
       <w>that</w>
       <w>code</w>
       <w>to</w>
       <w>multiple</w>
       <w>itemsby</w>
       <w>far</w>
       <w>the</w>
       <w>more</w>
       <w>common</w>
       <w>use</w>
       <w>case</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_LoFtsT">
       <w>In</w>
       <w>the</w>
       <w>notebooks</w>
       <w>you</w>
       <w>will</w>
       <w>see</w>
       <w>how</w>
       <w>to</w>
       <w>encapsulate</w>
       <w>transformations</w>
       <w>applied</w>
       <w>to</w>
       <w>one</w>
       <w>item</w>
       <w>into</w>
       <emph>
        <w>functions</w>
       </emph>
       <w>that</w>
       <w>can</w>
       <w>be</w>
       <w>called</w>
       <w>within</w>
       <w>a</w>
       <w>loop</w>
       <w>over</w>
       <w>a</w>
       <w>collection</w>
       <w>of</w>
       <w>items</w>
       <pc>.</pc>
      </s>
     </p>
    </div>
    <div n="5.3" type="3">
     <head>
      <s xml:id="s_0F9ilc">
       <w>Visual</w>
       <w>Feature</w>
       <w>:</w>
       <w>IMAGE_ON_PAGE</w>
      </s>
     </head>
     <p>
      <s xml:id="s_nufWlp">
       <w>Given</w>
       <w>a</w>
       <w>list</w>
       <w>of</w>
       <w>volumes</w>
       <w>,</w>
       <w>we</w>
       <w>want</w>
       <w>to</w>
       <w>explore</w>
       <w>what</w>
       <w>visual</w>
       <w>features</w>
       <w>they</w>
       <w>have</w>
       <w>at</w>
       <w>the</w>
       <w>page</w>
       <w>level</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_64rJDT">
       <w>The</w>
       <ref target="https://www.hathitrust.org/documents/hathitrust-data-api-v2_20150526.pdf">
        <w>most</w>
        <w>recent</w>
        <w>documentation</w>
       </ref>
       <w>(</w>
       <w>2015</w>
       <w>)</w>
       <w>for</w>
       <w>the</w>
       <w>Data</w>
       <w>API</w>
       <w>describes</w>
       <w>a</w>
       <w>metadata</w>
       <w>object</w>
       <w>called</w>
       <code rend="inline">
        <w>htd</w>
        <w>:</w>
        <w>pfeat</w>
       </code>
       <w>on</w>
       <w>pages</w>
       <w>9-10</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_8pza1P">
       <code rend="inline">
        <w>htd</w>
        <w>:</w>
        <w>pfeat</w>
       </code>
       <w>is</w>
       <w>shorthand</w>
       <w>for</w>
       <w>``</w>
       <w>HathiTrust</w>
       <w>Data</w>
       <w>API</w>
       <w>:</w>
       <w>Page</w>
       <w>Features</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_TL7YEK">
       <w>''</w>
      </s>
     </p>
     <quote>
      <list type="unordered">
       <item>
        <s xml:id="s_RhTfuQ">
         <code rend="inline">
          <w>htd</w>
          <w>:</w>
          <w>pfeat</w>
         </code>
         <w></w>
         <w>-</w>
         <w>the</w>
         <w>page</w>
         <w>feature</w>
         <w>key</w>
         <w>(</w>
         <w>if</w>
         <w>available</w>
         <w>)</w>
         <w>:</w>
         <list type="unordered">
          <item>
           <s xml:id="s_Q91dk9">
            <w>CHAPTER_START</w>
           </s>
          </item>
          <item>
           <s xml:id="s_IozY1G">
            <w>COPYRIGHT</w>
           </s>
          </item>
          <item>
           <s xml:id="s_QBqGQ6">
            <w>FIRST_CONTENT_CHAPTER_START</w>
           </s>
          </item>
          <item>
           <s xml:id="s_Iw5QwW">
            <w>FRONT_COVER</w>
           </s>
          </item>
          <item>
           <s xml:id="s_AZqPTf">
            <w>INDEX</w>
           </s>
          </item>
          <item>
           <s xml:id="s_MjHa9W">
            <w>REFERENCES</w>
           </s>
          </item>
          <item>
           <s xml:id="s_dytipI">
            <w>TABLE_OF_CONTENTS</w>
           </s>
          </item>
          <item>
           <s xml:id="s_w5fJG0">
            <w>TITLE</w>
           </s>
          </item>
         </list>
        </s>
       </item>
      </list>
     </quote>
     <p>
      <s xml:id="s_hMtiuv">
       <w>What</w>
       <w>the</w>
       <code rend="inline">
        <w>hathitrust-api</w>
       </code>
       <w>wrapper</w>
       <w>does</w>
       <w>is</w>
       <w>make</w>
       <w>the</w>
       <w>full</w>
       <w>metadata</w>
       <w>for</w>
       <w>a</w>
       <w>HT</w>
       <w>volume</w>
       <w>available</w>
       <w>as</w>
       <w>a</w>
       <w>Python</w>
       <w>object</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_ULQsNs">
       <w>Given</w>
       <w>a</w>
       <w>volume</w>
       <w>'s</w>
       <w>identifier</w>
       <w>,</w>
       <w>we</w>
       <w>can</w>
       <w>request</w>
       <w>its</w>
       <w>metadata</w>
       <w>and</w>
       <w>then</w>
       <w>drill</w>
       <w>down</w>
       <w>through</w>
       <w>the</w>
       <w>page</w>
       <emph>
        <w>sequence</w>
       </emph>
       <w>into</w>
       <w>page-level</w>
       <w>information</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_5dW8LT">
       <w>The</w>
       <code rend="inline">
        <w>htd</w>
        <w>:</w>
        <w>pfeat</w>
       </code>
       <emph>
        <w>list</w>
       </emph>
       <w>is</w>
       <w>associated</w>
       <w>with</w>
       <w>each</w>
       <w>page</w>
       <w>in</w>
       <w>a</w>
       <w>volume</w>
       <w>and</w>
       <w>in</w>
       <w>theory</w>
       <w>contains</w>
       <w>all</w>
       <w>features</w>
       <w>that</w>
       <w>apply</w>
       <w>to</w>
       <w>that</w>
       <w>page</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_fMNqQv">
       <w>In</w>
       <w>practice</w>
       <w>,</w>
       <w>there</w>
       <w>a</w>
       <w>quite</w>
       <w>a</w>
       <w>few</w>
       <w>more</w>
       <w>feature</w>
       <w>tags</w>
       <w>than</w>
       <w>the</w>
       <w>eight</w>
       <w>listed</w>
       <w>above</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_dX69Hn">
       <w>The</w>
       <w>one</w>
       <w>we</w>
       <w>will</w>
       <w>be</w>
       <w>working</w>
       <w>with</w>
       <w>is</w>
       <w>called</w>
       <code rend="inline">
        <w>IMAGE_ON_PAGE</w>
       </code>
       <w>and</w>
       <w>is</w>
       <w>more</w>
       <w>abstractly</w>
       <w>visual</w>
       <w>than</w>
       <w>structural</w>
       <w>tags</w>
       <w>such</w>
       <w>as</w>
       <code rend="inline">
        <w>CHAPTER_START</w>
       </code>
       <pc>.</pc>
      </s>
     </p>
     <p>
      <s xml:id="s_cgOCpq">
       <w>Tom</w>
       <w>Burton-West</w>
       <w>,</w>
       <w>a</w>
       <w>research</w>
       <w>librarian</w>
       <w>at</w>
       <w>the</w>
       <w>University</w>
       <w>of</w>
       <w>Michigan</w>
       <w>Library</w>
       <w>,</w>
       <w>works</w>
       <w>closely</w>
       <w>with</w>
       <w>HathiTrust</w>
       <w>and</w>
       <w>HTRC</w>
       <w>,</w>
       <w>HathiTrust</w>
       <w>'s</w>
       <w>Research</w>
       <w>Center</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_uVFkwL">
       <w>Tom</w>
       <w>told</w>
       <w>me</w>
       <w>over</w>
       <w>email</w>
       <w>that</w>
       <w>HathiTrust</w>
       <w>is</w>
       <w>provided</w>
       <w>the</w>
       <code rend="inline">
        <w>htd</w>
        <w>:</w>
        <w>pfeat</w>
       </code>
       <w>information</w>
       <w>by</w>
       <w>Google</w>
       <w>,</w>
       <w>with</w>
       <w>whom</w>
       <w>they</w>
       <w>have</w>
       <w>worked</w>
       <w>closely</w>
       <w>since</w>
       <w>HT</w>
       <w>'s</w>
       <w>founding</w>
       <w>in</w>
       <w>2008</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_MQtB4O">
       <w>A</w>
       <w>contact</w>
       <w>at</w>
       <w>Google</w>
       <w>gave</w>
       <w>Tom</w>
       <w>permission</w>
       <w>to</w>
       <w>share</w>
       <w>the</w>
       <w>following</w>
       <w>:</w>
      </s>
     </p>
     <quote>
      <p>
       <s xml:id="s_y1dKrG">
        <w>These</w>
        <w>tags</w>
        <w>are</w>
        <w>derived</w>
        <w>from</w>
        <w>a</w>
        <w>combination</w>
        <w>of</w>
        <w>heuristics</w>
        <w>,</w>
        <w>machine</w>
        <w>learning</w>
        <w>,</w>
        <w>and</w>
        <w>human</w>
        <w>tagging</w>
        <pc>.</pc>
       </s>
      </p>
     </quote>
     <p>
      <s xml:id="s_xJD0Yu">
       <w>An</w>
       <w>example</w>
       <w>heuristic</w>
       <w>might</w>
       <w>be</w>
       <w>that</w>
       <w>the</w>
       <w>first</w>
       <w>element</w>
       <w>in</w>
       <w>the</w>
       <w>volume</w>
       <w>page</w>
       <w>sequence</w>
       <w>is</w>
       <w>almost</w>
       <w>always</w>
       <w>the</w>
       <code rend="inline">
        <w>FRONT_COVER</w>
       </code>
       <pc>.</pc>
      </s>
      <s xml:id="s_AL4WVo">
       <w>Machine</w>
       <w>learning</w>
       <w>could</w>
       <w>be</w>
       <w>used</w>
       <w>to</w>
       <w>train</w>
       <w>models</w>
       <w>to</w>
       <w>discriminate</w>
       <w>,</w>
       <w>say</w>
       <w>,</w>
       <w>between</w>
       <w>image</w>
       <w>data</w>
       <w>that</w>
       <w>is</w>
       <w>more</w>
       <w>typical</w>
       <w>of</w>
       <w>lines</w>
       <w>of</w>
       <w>prose</w>
       <w>in</w>
       <w>a</w>
       <w>Western</w>
       <w>script</w>
       <w>or</w>
       <w>of</w>
       <w>the</w>
       <w>lines</w>
       <w>in</w>
       <w>an</w>
       <w>engraving</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_W5PeFi">
       <w>Human</w>
       <w>tagging</w>
       <w>is</w>
       <w>the</w>
       <w>manual</w>
       <w>assignment</w>
       <w>of</w>
       <w>labels</w>
       <w>to</w>
       <w>images</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_Qeb6Ip">
       <w>The</w>
       <w>ability</w>
       <w>to</w>
       <w>view</w>
       <w>a</w>
       <w>volume</w>
       <w>'s</w>
       <w>illustrations</w>
       <w>in</w>
       <w>the</w>
       <w>EEBO</w>
       <w>and</w>
       <w>ECCO</w>
       <w>databases</w>
       <w>is</w>
       <w>an</w>
       <w>example</w>
       <w>of</w>
       <w>human</w>
       <w>tagging</w>
       <pc>.</pc>
      </s>
     </p>
     <p>
      <s xml:id="s_tiMoK3">
       <w>The</w>
       <w>use</w>
       <w>of</w>
       <w>``</w>
       <w>machine</w>
       <w>learning</w>
       <w>''</w>
       <w>by</w>
       <w>Google</w>
       <w>sounds</w>
       <w>somewhat</w>
       <w>mysterious</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_e1RrMt">
       <w>Until</w>
       <w>Google</w>
       <w>publicizes</w>
       <w>their</w>
       <w>methods</w>
       <w>,</w>
       <w>it</w>
       <w>is</w>
       <w>impossible</w>
       <w>to</w>
       <w>know</w>
       <w>all</w>
       <w>the</w>
       <w>details</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_CT08rc">
       <w>However</w>
       <w>,</w>
       <w>it</w>
       <w>'s</w>
       <w>likely</w>
       <w>that</w>
       <w>the</w>
       <code rend="inline">
        <w>IMAGE_ON_PAGE</w>
       </code>
       <w>tags</w>
       <w>were</w>
       <w>first</w>
       <w>proposed</w>
       <w>by</w>
       <w>detecting</w>
       <w>``</w>
       <w>Picture</w>
       <w>''</w>
       <w>blocks</w>
       <w>in</w>
       <w>the</w>
       <w>OCR</w>
       <w>output</w>
       <w>files</w>
       <w>(</w>
       <w>a</w>
       <w>process</w>
       <w>discussed</w>
       <w>below</w>
       <w>in</w>
       <w>the</w>
       <w>Internet</w>
       <w>Archive</w>
       <w>section</w>
       <w>)</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_YPk7O9">
       <w>Further</w>
       <w>filtering</w>
       <w>may</w>
       <w>then</w>
       <w>be</w>
       <w>applied</w>
       <pc>.</pc>
      </s>
     </p>
    </div>
    <div n="5.4" type="3">
     <head>
      <s xml:id="s_OXr28P">
       <w>Code</w>
       <w>Walk-through</w>
      </s>
     </head>
     <div n="5.4.1" type="4">
      <head>
       <s xml:id="s_1FSNb8">
        <w>Find</w>
        <w>Pictures</w>
       </s>
      </head>
      <p>
       <s xml:id="s_4IXfDf">
        <w>We</w>
        <w>have</w>
        <w>seen</w>
        <w>how</w>
        <w>to</w>
        <w>create</w>
        <w>a</w>
        <w>list</w>
        <w>of</w>
        <w>volumes</w>
        <w>and</w>
        <w>observed</w>
        <w>that</w>
        <w>the</w>
        <w>Data</w>
        <w>API</w>
        <w>can</w>
        <w>be</w>
        <w>used</w>
        <w>to</w>
        <w>get</w>
        <w>metadata</w>
        <w>objects</w>
        <w>containing</w>
        <w>page-level</w>
        <w>experimental</w>
        <w>features</w>
        <pc>.</pc>
       </s>
       <s xml:id="s_BAzJek">
        <w>The</w>
        <w>core</w>
        <w>function</w>
        <w>in</w>
        <w>the</w>
        <w>HT</w>
        <w>notebook</w>
        <w>has</w>
        <w>the</w>
        <w>signature</w>
        <code rend="inline">
         <w>ht_picture_download</w>
         <w>(</w>
         <w>item_id</w>
         <w>,</w>
         <w>out_dir=None</w>
         <w>)</w>
        </code>
        <pc>.</pc>
       </s>
       <s xml:id="s_wXmbHf">
        <w>Given</w>
        <w>a</w>
        <w>unique</w>
        <w>identifier</w>
        <w>and</w>
        <w>an</w>
        <w>optional</w>
        <w>destination</w>
        <w>directory</w>
        <w>,</w>
        <w>this</w>
        <w>function</w>
        <w>will</w>
        <w>first</w>
        <w>get</w>
        <w>the</w>
        <w>volume</w>
        <w>'s</w>
        <w>metadata</w>
        <w>from</w>
        <w>the</w>
        <w>API</w>
        <w>and</w>
        <w>convert</w>
        <w>it</w>
        <w>into</w>
        <w>JSON</w>
        <w>format</w>
        <pc>.</pc>
       </s>
       <s xml:id="s_v7YwKZ">
        <w>Then</w>
        <w>it</w>
        <w>loops</w>
        <w>over</w>
        <w>the</w>
        <w>page</w>
        <w>sequence</w>
        <w>and</w>
        <w>checks</w>
        <w>if</w>
        <w>the</w>
        <w>tag</w>
        <code rend="inline">
         <w>IMAGE_ON_PAGE</w>
        </code>
        <w>is</w>
        <w>in</w>
        <w>the</w>
        <code rend="inline">
         <w>htd</w>
         <w>:</w>
         <w>pfeat</w>
        </code>
        <w>list</w>
        <w>(</w>
        <w>if</w>
        <w>it</w>
        <w>exists</w>
        <w>)</w>
        <pc>.</pc>
       </s>
      </p>
      <ab>
       <code corresp="code_extracting-illustrated-pages_11.txt" lang="language-python" rend="block" xml:id="code_extracting-illustrated-pages_11"/>
      </ab>
      <p>
       <s xml:id="s_gmU2AK">
        <w>Notice</w>
        <w>that</w>
        <w>we</w>
        <w>need</w>
        <w>to</w>
        <w>drill</w>
        <w>down</w>
        <w>several</w>
        <w>levels</w>
        <w>into</w>
        <w>the</w>
        <w>top-level</w>
        <w>object</w>
        <w>to</w>
        <w>get</w>
        <w>the</w>
        <code rend="inline">
         <w>htd</w>
         <w>:</w>
         <w>seq</w>
        </code>
        <w>object</w>
        <w>,</w>
        <w>which</w>
        <w>we</w>
        <w>can</w>
        <w>iterate</w>
        <w>over</w>
        <pc>.</pc>
       </s>
      </p>
      <p>
       <s xml:id="s_8ux6Pi">
        <w>The</w>
        <w>two</w>
        <w>exceptions</w>
        <w>I</w>
        <w>want</w>
        <w>to</w>
        <w>catch</w>
        <w>are</w>
        <code rend="inline">
         <w>KeyError</w>
        </code>
        <w>,</w>
        <w>which</w>
        <w>occurs</w>
        <w>when</w>
        <w>the</w>
        <w>page</w>
        <w>does</w>
        <w>not</w>
        <w>have</w>
        <w>an</w>
        <w>page-level</w>
        <w>features</w>
        <w>associated</w>
        <w>with</w>
        <w>it</w>
        <w>and</w>
        <code rend="inline">
         <w>TypeError</w>
        </code>
        <w>,</w>
        <w>which</w>
        <w>occurs</w>
        <w>when</w>
        <w>the</w>
        <code rend="inline">
         <w>pseq</w>
        </code>
        <w>field</w>
        <w>for</w>
        <w>the</w>
        <w>page</w>
        <w>is</w>
        <w>for</w>
        <w>some</w>
        <w>reason</w>
        <w>non-numeric</w>
        <w>and</w>
        <w>thus</w>
        <w>can</w>
        <w>not</w>
        <w>be</w>
        <w>cast</w>
        <w>to</w>
        <w>an</w>
        <code rend="inline">
         <w>int</w>
        </code>
        <pc>.</pc>
       </s>
       <s xml:id="s_h75i5F">
        <w>If</w>
        <w>something</w>
        <w>goes</w>
        <w>wrong</w>
        <w>with</w>
        <w>a</w>
        <w>page</w>
        <w>,</w>
        <w>we</w>
        <w>just</w>
        <code rend="inline">
         <w>continue</w>
        </code>
        <w>on</w>
        <w>to</w>
        <w>the</w>
        <w>next</w>
        <w>one</w>
        <pc>.</pc>
       </s>
       <s xml:id="s_G8AkNY">
        <w>The</w>
        <w>idea</w>
        <w>is</w>
        <w>to</w>
        <w>get</w>
        <w>all</w>
        <w>the</w>
        <w>good</w>
        <w>data</w>
        <w>we</w>
        <w>can.</w>
        <w>Not</w>
        <w>to</w>
        <w>clean</w>
        <w>up</w>
        <w>inconsistencies</w>
        <w>or</w>
        <w>gaps</w>
        <w>in</w>
        <w>the</w>
        <w>item</w>
        <w>metadata</w>
        <pc>.</pc>
       </s>
      </p>
     </div>
     <div n="5.4.2" type="4">
      <head>
       <s xml:id="s_5lB54F">
        <w>Download</w>
        <w>Images</w>
       </s>
      </head>
      <p>
       <s xml:id="s_IerIVj">
        <w>Once</w>
        <code rend="inline">
         <w>img_pages</w>
        </code>
        <w>contains</w>
        <w>the</w>
        <w>complete</w>
        <w>list</w>
        <w>of</w>
        <w>pages</w>
        <w>tagged</w>
        <w>with</w>
        <code rend="inline">
         <w>IMAGE_ON_PAGE</w>
        </code>
        <w>,</w>
        <w>we</w>
        <w>can</w>
        <w>download</w>
        <w>those</w>
        <w>pages</w>
        <pc>.</pc>
       </s>
       <s xml:id="s_dWc1Er">
        <w>Note</w>
        <w>that</w>
        <w>if</w>
        <w>no</w>
        <code rend="inline">
         <w>out_dir</w>
        </code>
        <w>is</w>
        <w>supplied</w>
        <w>to</w>
        <code rend="inline">
         <w>ht_picture_download</w>
         <w>(</w>
         <w>)</w>
        </code>
        <w>,</w>
        <w>then</w>
        <w>the</w>
        <w>function</w>
        <w>simply</w>
        <w>returns</w>
        <w>the</w>
        <code rend="inline">
         <w>img_pages</w>
        </code>
        <w>list</w>
        <w>and</w>
        <w>does</w>
        <w>NOT</w>
        <w>download</w>
        <w>anything</w>
        <pc>.</pc>
       </s>
      </p>
      <p>
       <s xml:id="s_nC1Hv6">
        <w>The</w>
        <code rend="inline">
         <w>getpageimage</w>
         <w>(</w>
         <w>)</w>
        </code>
        <w>API</w>
        <w>call</w>
        <w>returns</w>
        <w>a</w>
        <w>JPEG</w>
        <w>by</w>
        <w>default</w>
        <pc>.</pc>
       </s>
       <s xml:id="s_fiySFW">
        <w>We</w>
        <w>simply</w>
        <w>write</w>
        <w>out</w>
        <w>the</w>
        <w>JPEG</w>
        <w>bytes</w>
        <w>to</w>
        <w>a</w>
        <w>file</w>
        <w>in</w>
        <w>the</w>
        <w>normal</w>
        <w>way</w>
        <pc>.</pc>
       </s>
       <s xml:id="s_ycXbaH">
        <w>Within</w>
        <w>the</w>
        <w>volume</w>
        <w>sub-folder</w>
        <w>(</w>
        <w>itself</w>
        <w>inside</w>
        <code rend="inline">
         <w>out_dir</w>
        </code>
        <w>)</w>
        <w>,</w>
        <w>the</w>
        <w>pages</w>
        <w>will</w>
        <w>be</w>
        <w>named</w>
        <code rend="inline">
         <w>1.jpg</w>
        </code>
        <w>for</w>
        <w>page</w>
        <w>1</w>
        <w>and</w>
        <w>so</w>
        <w>forth</w>
        <pc>.</pc>
       </s>
      </p>
      <p>
       <s xml:id="s_f2MWJa">
        <w>One</w>
        <w>thing</w>
        <w>to</w>
        <w>consider</w>
        <w>is</w>
        <w>our</w>
        <w>usage</w>
        <w>rate</w>
        <w>of</w>
        <w>the</w>
        <w>API</w>
        <pc>.</pc>
       </s>
       <s xml:id="s_igxZUG">
        <w>We</w>
        <w>do</w>
        <w>n't</w>
        <w>want</w>
        <w>to</w>
        <w>abuse</w>
        <w>our</w>
        <w>access</w>
        <w>by</w>
        <w>making</w>
        <w>hundreds</w>
        <w>of</w>
        <w>requests</w>
        <w>per</w>
        <w>minute</w>
        <pc>.</pc>
       </s>
       <s xml:id="s_T5HE5s">
        <w>To</w>
        <w>be</w>
        <w>safe</w>
        <w>,</w>
        <w>especially</w>
        <w>if</w>
        <w>we</w>
        <w>intend</w>
        <w>to</w>
        <w>run</w>
        <w>big</w>
        <w>jobs</w>
        <w>,</w>
        <w>we</w>
        <w>wait</w>
        <w>two</w>
        <w>seconds</w>
        <w>before</w>
        <w>making</w>
        <w>each</w>
        <w>page</w>
        <w>request</w>
        <pc>.</pc>
       </s>
       <s xml:id="s_ADcELw">
        <w>This</w>
        <w>may</w>
        <w>be</w>
        <w>frustrating</w>
        <w>in</w>
        <w>the</w>
        <w>short</w>
        <w>term</w>
        <w>,</w>
        <w>but</w>
        <w>it</w>
        <w>helps</w>
        <w>avoid</w>
        <w>API</w>
        <w>throttling</w>
        <w>or</w>
        <w>banning</w>
        <pc>.</pc>
       </s>
      </p>
      <ab>
       <code corresp="code_extracting-illustrated-pages_12.txt" lang="language-Python" rend="block" xml:id="code_extracting-illustrated-pages_12"/>
      </ab>
     </div>
    </div>
   </div>
   <div n="6" type="2">
    <head>
     <s xml:id="s_NZZLnr">
      <w>Internet</w>
      <w>Archive</w>
     </s>
    </head>
    <div n="6.1" type="3">
     <head>
      <s xml:id="s_xGXOCb">
       <w>API</w>
       <w>Access</w>
      </s>
     </head>
     <p>
      <s xml:id="s_9CFzQO">
       <w>We</w>
       <w>connect</w>
       <w>to</w>
       <w>the</w>
       <w>Python</w>
       <w>API</w>
       <w>library</w>
       <w>using</w>
       <w>an</w>
       <w>Archive.org</w>
       <w>account</w>
       <w>email</w>
       <w>and</w>
       <w>password</w>
       <w>rather</w>
       <w>than</w>
       <w>API</w>
       <w>tokens</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_aVQUNi">
       <w>This</w>
       <w>is</w>
       <w>discussed</w>
       <w>in</w>
       <w>the</w>
       <ref target="https://archive.org/services/docs/api/internetarchive/quickstart.html">
        <w>Quickstart</w>
        <w>Guide</w>
       </ref>
       <pc>.</pc>
      </s>
      <s xml:id="s_oWikIF">
       <w>If</w>
       <w>you</w>
       <w>do</w>
       <w>not</w>
       <w>have</w>
       <w>an</w>
       <w>account</w>
       <w>,</w>
       <ref target="https://archive.org/account/login.createaccount.php">
        <w>register</w>
       </ref>
       <w>for</w>
       <w>your</w>
       <w>``</w>
       <w>Virtual</w>
       <w>Library</w>
       <w>Card</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_7FEpUE">
       <w>''</w>
      </s>
     </p>
     <p>
      <s xml:id="s_hDUU3s">
       <w>In</w>
       <w>the</w>
       <w>first</w>
       <w>cell</w>
       <w>of</w>
       <w>the</w>
       <code rend="inline">
        <w>internetarchive.ipynb</w>
       </code>
       <w>notebook</w>
       <w>,</w>
       <w>enter</w>
       <w>your</w>
       <w>credentials</w>
       <w>as</w>
       <w>directed</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_dq4bAL">
       <w>Run</w>
       <w>the</w>
       <w>cell</w>
       <w>to</w>
       <w>authenticate</w>
       <w>to</w>
       <w>the</w>
       <w>API</w>
       <pc>.</pc>
      </s>
     </p>
    </div>
    <div n="6.2" type="3">
     <head>
      <s xml:id="s_qAnA5T">
       <w>Create</w>
       <w>Volume</w>
       <w>List</w>
      </s>
     </head>
     <p>
      <s xml:id="s_J9GlsC">
       <w>The</w>
       <w>IA</w>
       <w>Python</w>
       <w>library</w>
       <w>allows</w>
       <w>you</w>
       <w>to</w>
       <w>submit</w>
       <w>query</w>
       <w>strings</w>
       <w>and</w>
       <w>receive</w>
       <w>a</w>
       <w>list</w>
       <w>of</w>
       <w>matching</w>
       <w>key-value</w>
       <w>pairs</w>
       <w>where</w>
       <w>the</w>
       <w>word</w>
       <w>``</w>
       <w>identifier</w>
       <w>''</w>
       <w>is</w>
       <w>the</w>
       <w>key</w>
       <w>and</w>
       <w>the</w>
       <w>actual</w>
       <w>identifier</w>
       <w>is</w>
       <w>the</w>
       <w>value</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_XbbTCw">
       <w>The</w>
       <w>syntax</w>
       <w>for</w>
       <w>a</w>
       <w>query</w>
       <w>is</w>
       <w>explained</w>
       <w>on</w>
       <w>the</w>
       <ref target="https://archive.org/advancedsearch.php">
        <w>Advanced</w>
        <w>Search</w>
        <w>page</w>
       </ref>
       <w>for</w>
       <w>IA</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_Zmfk9q">
       <w>You</w>
       <w>can</w>
       <w>specify</w>
       <w>parameters</w>
       <w>by</w>
       <w>using</w>
       <w>a</w>
       <w>keyword</w>
       <w>like</w>
       <w>``</w>
       <w>date</w>
       <w>''</w>
       <w>or</w>
       <w>``</w>
       <w>mediatype</w>
       <w>''</w>
       <w>followed</w>
       <w>by</w>
       <w>a</w>
       <w>colon</w>
       <w>and</w>
       <w>the</w>
       <w>value</w>
       <w>you</w>
       <w>want</w>
       <w>to</w>
       <w>assign</w>
       <w>that</w>
       <w>parameter</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_cLxc4g">
       <w>For</w>
       <w>instance</w>
       <w>,</w>
       <w>I</w>
       <w>only</w>
       <w>want</w>
       <w>results</w>
       <w>that</w>
       <w>are</w>
       <emph>
        <w>texts</w>
       </emph>
       <w>(</w>
       <w>as</w>
       <w>opposed</w>
       <w>to</w>
       <w>video</w>
       <w>,</w>
       <w>etc.</w>
       <w>)</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_gGoMpq">
       <w>Make</w>
       <w>sure</w>
       <w>the</w>
       <w>parameters</w>
       <w>and</w>
       <w>options</w>
       <w>you</w>
       <w>are</w>
       <w>trying</w>
       <w>to</w>
       <w>use</w>
       <w>are</w>
       <w>supported</w>
       <w>by</w>
       <w>IA</w>
       <w>'s</w>
       <w>search</w>
       <w>functionality</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_p3l38p">
       <w>Otherwise</w>
       <w>you</w>
       <w>may</w>
       <w>get</w>
       <w>missing</w>
       <w>or</w>
       <w>weird</w>
       <w>results</w>
       <w>and</w>
       <w>not</w>
       <w>know</w>
       <w>why</w>
       <pc>.</pc>
      </s>
     </p>
     <p>
      <s xml:id="s_loBBxL">
       <w>In</w>
       <w>the</w>
       <w>notebook</w>
       <w>,</w>
       <w>I</w>
       <w>generate</w>
       <w>a</w>
       <w>list</w>
       <w>of</w>
       <w>IA</w>
       <w>ids</w>
       <w>with</w>
       <w>the</w>
       <w>following</w>
       <w>code</w>
       <w>:</w>
      </s>
     </p>
     <ab>
      <code corresp="code_extracting-illustrated-pages_13.txt" lang="language-Python" rend="block" xml:id="code_extracting-illustrated-pages_13"/>
     </ab>
    </div>
    <div n="6.3" type="3">
     <head>
      <s xml:id="s_YDUn6l">
       <w>Visual</w>
       <w>Feature</w>
       <w>:</w>
       <w>Picture</w>
       <w>Blocks</w>
      </s>
     </head>
     <p>
      <s xml:id="s_rnNYpA">
       <w>Internet</w>
       <w>Archive</w>
       <w>does</w>
       <w>not</w>
       <w>release</w>
       <w>any</w>
       <w>page-level</w>
       <w>features</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_9twrB2">
       <w>Instead</w>
       <w>,</w>
       <w>it</w>
       <w>makes</w>
       <w>a</w>
       <w>number</w>
       <w>of</w>
       <w>raw</w>
       <w>files</w>
       <w>from</w>
       <w>the</w>
       <w>digitization</w>
       <w>process</w>
       <w>available</w>
       <w>to</w>
       <w>users</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_aqx7dl">
       <w>The</w>
       <w>most</w>
       <w>important</w>
       <w>of</w>
       <w>these</w>
       <w>for</w>
       <w>our</w>
       <w>purposes</w>
       <w>is</w>
       <w>the</w>
       <w>Abbyy</w>
       <w>XML</w>
       <w>file</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_qEXUh6">
       <w>Abbyy</w>
       <w>is</w>
       <w>a</w>
       <w>Russian</w>
       <w>company</w>
       <w>whose</w>
       <w>FineReader</w>
       <w>software</w>
       <w>dominates</w>
       <w>the</w>
       <w>OCR</w>
       <w>market</w>
       <pc>.</pc>
      </s>
     </p>
     <p>
      <s xml:id="s_aIGP04">
       <w>All</w>
       <w>recent</w>
       <w>versions</w>
       <w>of</w>
       <w>FineReader</w>
       <w>produce</w>
       <w>an</w>
       <ref target="https://en.wikipedia.org/wiki/XML">
        <w>XML</w>
        <w>document</w>
       </ref>
       <w>that</w>
       <w>associates</w>
       <w>different</w>
       <w>``</w>
       <w>blocks</w>
       <w>''</w>
       <w>with</w>
       <w>each</w>
       <w>page</w>
       <w>in</w>
       <w>the</w>
       <w>scanned</w>
       <w>document</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_Tl96eZ">
       <w>The</w>
       <w>most</w>
       <w>common</w>
       <w>type</w>
       <w>of</w>
       <w>block</w>
       <w>is</w>
       <code rend="inline">
        <w>Text</w>
       </code>
       <w>but</w>
       <w>there</w>
       <w>are</w>
       <code rend="inline">
        <w>Picture</w>
       </code>
       <w>blocks</w>
       <w>as</w>
       <w>well</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_kMDVVS">
       <w>Here</w>
       <w>is</w>
       <w>an</w>
       <w>example</w>
       <w>block</w>
       <w>taken</w>
       <w>from</w>
       <w>an</w>
       <w>IA</w>
       <w>Abbyy</w>
       <w>XML</w>
       <w>file</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_ehBnmI">
       <w>The</w>
       <w>top-left</w>
       <w>(</w>
       <w>``</w>
       <w>t</w>
       <w>''</w>
       <w>and</w>
       <w>``</w>
       <w>l</w>
       <w>''</w>
       <w>)</w>
       <w>and</w>
       <w>bottom-right</w>
       <w>(</w>
       <w>``</w>
       <w>b</w>
       <w>''</w>
       <w>and</w>
       <w>``</w>
       <w>r</w>
       <w>''</w>
       <w>)</w>
       <w>corners</w>
       <w>are</w>
       <w>enough</w>
       <w>to</w>
       <w>identify</w>
       <w>the</w>
       <w>rectangular</w>
       <w>block</w>
       <w>region</w>
       <pc>.</pc>
      </s>
     </p>
     <ab>
      <code corresp="code_extracting-illustrated-pages_14.txt" lang="language-xml" rend="block" xml:id="code_extracting-illustrated-pages_14"/>
     </ab>
     <p>
      <s xml:id="s_Ey3aYq">
       <w>The</w>
       <w>IA</w>
       <w>equivalent</w>
       <w>to</w>
       <w>looking</w>
       <w>for</w>
       <code rend="inline">
        <w>IMAGE_ON_PAGE</w>
       </code>
       <w>tags</w>
       <w>in</w>
       <w>HT</w>
       <w>is</w>
       <w>parsing</w>
       <w>the</w>
       <w>Abbyy</w>
       <w>XML</w>
       <w>file</w>
       <w>and</w>
       <w>iterating</w>
       <w>over</w>
       <w>each</w>
       <w>page</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_RKxMUU">
       <w>If</w>
       <w>there</w>
       <w>is</w>
       <w>at</w>
       <w>least</w>
       <w>one</w>
       <code rend="inline">
        <w>Picture</w>
       </code>
       <w>block</w>
       <w>on</w>
       <w>that</w>
       <w>page</w>
       <w>,</w>
       <w>the</w>
       <w>page</w>
       <w>is</w>
       <w>flagged</w>
       <w>as</w>
       <w>possibly</w>
       <w>containing</w>
       <w>an</w>
       <w>image</w>
       <pc>.</pc>
      </s>
     </p>
     <p>
      <s xml:id="s_OgdTYx">
       <w>While</w>
       <w>HT</w>
       <w>'s</w>
       <code rend="inline">
        <w>IMAGE_ON_PAGE</w>
       </code>
       <w>feature</w>
       <w>contains</w>
       <w>no</w>
       <w>information</w>
       <w>about</w>
       <w>the</w>
       <emph>
        <w>location</w>
       </emph>
       <w>of</w>
       <w>that</w>
       <w>image</w>
       <w>,</w>
       <w>the</w>
       <code rend="inline">
        <w>Picture</w>
       </code>
       <w>blocks</w>
       <w>in</w>
       <w>the</w>
       <w>XML</w>
       <w>file</w>
       <w>are</w>
       <w>associated</w>
       <w>with</w>
       <w>a</w>
       <w>rectangular</w>
       <w>region</w>
       <w>on</w>
       <w>the</w>
       <w>page</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_I7ioB4">
       <w>However</w>
       <w>,</w>
       <w>since</w>
       <w>FineReader</w>
       <w>specializes</w>
       <w>in</w>
       <w>recognizing</w>
       <w>letters</w>
       <w>from</w>
       <w>Western</w>
       <w>character</w>
       <w>sets</w>
       <w>,</w>
       <w>it</w>
       <w>is</w>
       <w>much</w>
       <w>less</w>
       <w>accurate</w>
       <w>at</w>
       <w>identifying</w>
       <w>image</w>
       <w>regions</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_jNWw7D">
       <w>Leetaru</w>
       <w>'s</w>
       <w>project</w>
       <w>(</w>
       <w>see</w>
       <w>Overview</w>
       <w>)</w>
       <w>used</w>
       <w>the</w>
       <w>region</w>
       <w>coordinates</w>
       <w>to</w>
       <w>crop</w>
       <w>pictures</w>
       <w>,</w>
       <w>but</w>
       <w>in</w>
       <w>this</w>
       <w>lesson</w>
       <w>we</w>
       <w>will</w>
       <w>simply</w>
       <w>download</w>
       <w>the</w>
       <w>whole</w>
       <w>page</w>
       <pc>.</pc>
      </s>
     </p>
     <p>
      <s xml:id="s_s8Sk23">
       <w>Part</w>
       <w>of</w>
       <w>the</w>
       <w>intellectual</w>
       <w>fun</w>
       <w>of</w>
       <w>this</w>
       <w>lesson</w>
       <w>is</w>
       <w>using</w>
       <w>a</w>
       <w>noisy</w>
       <w>dataset</w>
       <w>(</w>
       <w>OCR</w>
       <w>block</w>
       <w>tags</w>
       <w>)</w>
       <w>for</w>
       <w>a</w>
       <w>largely</w>
       <w>unintended</w>
       <w>purpose</w>
       <w>:</w>
       <w>identifying</w>
       <w>pictures</w>
       <w>and</w>
       <w>not</w>
       <w>words</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_np8qjC">
       <w>At</w>
       <w>some</w>
       <w>point</w>
       <w>,</w>
       <w>it</w>
       <w>will</w>
       <w>become</w>
       <w>computationally</w>
       <w>feasible</w>
       <w>to</w>
       <w>run</w>
       <w>deep</w>
       <w>learning</w>
       <w>models</w>
       <w>on</w>
       <w>every</w>
       <w>raw</w>
       <w>page</w>
       <w>image</w>
       <w>in</w>
       <w>a</w>
       <w>volume</w>
       <w>and</w>
       <w>pick</w>
       <w>out</w>
       <w>the</w>
       <w>desired</w>
       <w>type</w>
       <w>(</w>
       <w>s</w>
       <w>)</w>
       <w>of</w>
       <w>picture</w>
       <w>(</w>
       <w>s</w>
       <w>)</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_OJQCkO">
       <w>But</w>
       <w>since</w>
       <w>most</w>
       <w>pages</w>
       <w>in</w>
       <w>most</w>
       <w>volumes</w>
       <w>are</w>
       <w>unillustrated</w>
       <w>,</w>
       <w>that</w>
       <w>is</w>
       <w>an</w>
       <w>expensive</w>
       <w>task</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_1lKLeP">
       <w>For</w>
       <w>now</w>
       <w>,</w>
       <w>it</w>
       <w>makes</w>
       <w>more</w>
       <w>sense</w>
       <w>to</w>
       <w>leverage</w>
       <w>the</w>
       <w>existing</w>
       <w>data</w>
       <w>we</w>
       <w>have</w>
       <w>from</w>
       <w>the</w>
       <w>OCR</w>
       <w>ingest</w>
       <w>process</w>
       <pc>.</pc>
      </s>
     </p>
     <p>
      <s xml:id="s_BDpDNi">
       <w>For</w>
       <w>more</w>
       <w>information</w>
       <w>on</w>
       <w>how</w>
       <w>OCR</w>
       <w>itself</w>
       <w>works</w>
       <w>and</w>
       <w>interacts</w>
       <w>with</w>
       <w>the</w>
       <w>scan</w>
       <w>process</w>
       <w>,</w>
       <w>please</w>
       <w>see</w>
       <w>Mila</w>
       <w>Oiva</w>
       <w>'s</w>
       <w>PH</w>
       <w>lesson</w>
       <ref target="/en/lessons/retired/OCR-with-Tesseract-and-ScanTailor">
        <w>OCR</w>
        <w>with</w>
        <w>Tesseract</w>
        <w>and</w>
        <w>ScanTailor</w>
       </ref>
       <pc>.</pc>
      </s>
      <s xml:id="s_54MBXc">
       <w>Errors</w>
       <w>can</w>
       <w>crop</w>
       <w>up</w>
       <w>due</w>
       <w>to</w>
       <w>skewing</w>
       <w>,</w>
       <w>artefacts</w>
       <w>,</w>
       <w>and</w>
       <w>many</w>
       <w>other</w>
       <w>problems</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_t34z14">
       <w>These</w>
       <w>errors</w>
       <w>end</w>
       <w>up</w>
       <w>affecting</w>
       <w>the</w>
       <w>reliability</w>
       <w>and</w>
       <w>precision</w>
       <w>of</w>
       <w>the</w>
       <w>``</w>
       <w>Picture</w>
       <w>''</w>
       <w>blocks</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_4UjIhv">
       <w>In</w>
       <w>many</w>
       <w>cases</w>
       <w>,</w>
       <w>Abbyy</w>
       <w>will</w>
       <w>estimate</w>
       <w>that</w>
       <w>blank</w>
       <w>or</w>
       <w>discolored</w>
       <w>pages</w>
       <w>are</w>
       <w>actually</w>
       <w>pictures</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_PPhGWg">
       <w>These</w>
       <w>incorrect</w>
       <w>block</w>
       <w>tags</w>
       <w>,</w>
       <w>while</w>
       <w>undesirable</w>
       <w>,</w>
       <w>can</w>
       <w>be</w>
       <w>dealt</w>
       <w>with</w>
       <w>using</w>
       <w>retrained</w>
       <w>convolutional</w>
       <w>neural</w>
       <w>networks</w>
       <pc>.</pc>
      </s>
      <s xml:id="s_CQZYpb">
       <w>Think</w>
       <w>of</w>
       <w>the</w>
       <w>page</w>
       <w>images</w>
       <w>downloaded</w>
       <w>in</w>
       <w>this</w>
       <w>lesson</w>
       <w>as</w>
       <w>a</w>
       <w>first</w>
       <w>pass</w>
       <w>in</w>
       <w>a</w>
       <w>longer</w>
       <w>process</w>
       <w>of</w>
       <w>obtaining</w>
       <w>a</w>
       <w>clean</w>
       <w>and</w>
       <w>usable</w>
       <w>dataset</w>
       <w>of</w>
       <w>historical</w>
       <w>illustrations</w>
       <pc>.</pc>
      </s>
     </p>
    </div>
    <div n="6.4" type="3">
     <head>
      <s xml:id="s_JA9v4Y">
       <w>Code</w>
       <w>Walk-through</w>
      </s>
     </head>
     <div n="6.4.1" type="4">
      <head>
       <s xml:id="s_iYvnvw">
        <w>Find</w>
        <w>Pictures</w>
       </s>
      </head>
      <p>
       <s xml:id="s_nyhqwn">
        <w>Just</w>
        <w>as</w>
        <w>with</w>
        <w>HT</w>
        <w>,</w>
        <w>the</w>
        <w>core</w>
        <w>function</w>
        <w>for</w>
        <w>IA</w>
        <w>is</w>
        <code rend="inline">
         <w>ia_picture_download</w>
         <w>(</w>
         <w>item_id</w>
         <w>,</w>
         <w>out_dir=None</w>
         <w>)</w>
        </code>
        <pc>.</pc>
       </s>
      </p>
      <p>
       <s xml:id="s_zyCKqu">
        <w>Since</w>
        <w>it</w>
        <w>involves</w>
        <w>file</w>
        <w>I/O</w>
        <w>,</w>
        <w>the</w>
        <w>process</w>
        <w>for</w>
        <w>geting</w>
        <w>the</w>
        <code rend="inline">
         <w>img_pages</w>
        </code>
        <w>list</w>
        <w>is</w>
        <w>more</w>
        <w>complicated</w>
        <w>than</w>
        <w>that</w>
        <w>for</w>
        <w>HT</w>
        <pc>.</pc>
       </s>
       <s xml:id="s_eRZEUu">
        <w>Using</w>
        <w>the</w>
        <w>command</w>
        <w>line</w>
        <w>utility</w>
        <code rend="inline">
         <w>ia</w>
        </code>
        <w>(</w>
        <w>which</w>
        <w>is</w>
        <w>installed</w>
        <w>with</w>
        <w>the</w>
        <w>library</w>
        <w>)</w>
        <w>,</w>
        <w>you</w>
        <w>can</w>
        <w>get</w>
        <w>a</w>
        <w>sense</w>
        <w>of</w>
        <w>the</w>
        <w>available</w>
        <w>metadata</w>
        <w>files</w>
        <w>for</w>
        <w>a</w>
        <w>volume</w>
        <pc>.</pc>
       </s>
       <s xml:id="s_X3oHR6">
        <w>With</w>
        <w>very</w>
        <w>few</w>
        <w>exceptions</w>
        <w>,</w>
        <w>a</w>
        <w>file</w>
        <w>with</w>
        <w>format</w>
        <w>``</w>
        <w>Abbyy</w>
        <w>GZ</w>
        <w>''</w>
        <w>should</w>
        <w>be</w>
        <w>available</w>
        <w>for</w>
        <w>volumes</w>
        <w>with</w>
        <w>media</w>
        <w>type</w>
        <code rend="inline">
         <w>text</w>
        </code>
        <w>on</w>
        <w>Internet</w>
        <w>Archive</w>
        <pc>.</pc>
       </s>
      </p>
      <p>
       <s xml:id="s_3BNKm1">
        <w>These</w>
        <w>files</w>
        <w>,</w>
        <w>even</w>
        <w>when</w>
        <w>compressed</w>
        <w>,</w>
        <w>can</w>
        <w>easily</w>
        <w>be</w>
        <w>hundreds</w>
        <w>of</w>
        <w>megabytes</w>
        <w>in</w>
        <w>size</w>
        <pc>!</pc>
       </s>
       <s xml:id="s_0G3b51">
        <w>If</w>
        <w>there</w>
        <w>is</w>
        <w>an</w>
        <w>Abbyy</w>
        <w>file</w>
        <w>for</w>
        <w>the</w>
        <w>volume</w>
        <w>,</w>
        <w>we</w>
        <w>get</w>
        <w>its</w>
        <w>name</w>
        <w>and</w>
        <w>then</w>
        <w>download</w>
        <w>it</w>
        <pc>.</pc>
       </s>
       <s xml:id="s_m3YGRx">
        <w>The</w>
        <code rend="inline">
         <w>ia.download</w>
         <w>(</w>
         <w>)</w>
        </code>
        <w>call</w>
        <w>uses</w>
        <w>some</w>
        <w>helpful</w>
        <w>parameters</w>
        <w>to</w>
        <w>ignore</w>
        <w>the</w>
        <w>request</w>
        <w>if</w>
        <w>the</w>
        <w>file</w>
        <w>already</w>
        <w>exists</w>
        <w>and</w>
        <w>,</w>
        <w>if</w>
        <w>not</w>
        <w>,</w>
        <w>download</w>
        <w>it</w>
        <w>without</w>
        <w>creating</w>
        <w>a</w>
        <w>nested</w>
        <w>directory</w>
        <pc>.</pc>
       </s>
       <s xml:id="s_eMf9NX">
        <w>To</w>
        <w>save</w>
        <w>space</w>
        <w>,</w>
        <w>we</w>
        <w>delete</w>
        <w>the</w>
        <w>Abbyy</w>
        <w>file</w>
        <w>after</w>
        <w>parsing</w>
        <w>it</w>
        <pc>.</pc>
       </s>
      </p>
      <ab>
       <code corresp="code_extracting-illustrated-pages_15.txt" lang="language-python" rend="block" xml:id="code_extracting-illustrated-pages_15"/>
      </ab>
      <p>
       <s xml:id="s_qfQeFp">
        <w>Once</w>
        <w>we</w>
        <w>have</w>
        <w>the</w>
        <w>file</w>
        <w>,</w>
        <w>we</w>
        <w>need</w>
        <w>to</w>
        <w>parse</w>
        <w>the</w>
        <w>XML</w>
        <w>using</w>
        <w>the</w>
        <w>standard</w>
        <w>Python</w>
        <w>library</w>
        <pc>.</pc>
       </s>
       <s xml:id="s_TsNxGt">
        <w>We</w>
        <w>take</w>
        <w>advantage</w>
        <w>of</w>
        <w>the</w>
        <w>fact</w>
        <w>that</w>
        <w>we</w>
        <w>can</w>
        <w>open</w>
        <w>the</w>
        <w>compressed</w>
        <w>file</w>
        <w>directly</w>
        <w>with</w>
        <w>the</w>
        <code rend="inline">
         <w>gzip</w>
        </code>
        <w>library</w>
        <pc>.</pc>
       </s>
       <s xml:id="s_7KIbhd">
        <w>Abbyy</w>
        <w>files</w>
        <w>are</w>
        <w>zero-indexed</w>
        <w>so</w>
        <w>the</w>
        <w>first</w>
        <w>page</w>
        <w>in</w>
        <w>the</w>
        <w>scan</w>
        <w>sequence</w>
        <w>has</w>
        <w>index</w>
        <w>0</w>
        <pc>.</pc>
       </s>
       <s xml:id="s_8pS5s1">
        <w>However</w>
        <w>,</w>
        <w>we</w>
        <w>have</w>
        <w>to</w>
        <w>filter</w>
        <w>out</w>
        <w>0</w>
        <w>since</w>
        <w>it</w>
        <w>can</w>
        <w>not</w>
        <w>be</w>
        <w>requested</w>
        <w>from</w>
        <w>IA</w>
        <pc>.</pc>
       </s>
       <s xml:id="s_7n7Nk6">
        <w>IA</w>
        <w>'s</w>
        <w>exclusion</w>
        <w>of</w>
        <w>index</w>
        <w>0</w>
        <w>is</w>
        <w>not</w>
        <w>documented</w>
        <w>anywhere</w>
        <w>;</w>
        <w>rather</w>
        <w>,</w>
        <w>I</w>
        <w>found</w>
        <w>out</w>
        <w>through</w>
        <w>trial</w>
        <w>and</w>
        <w>error</w>
        <pc>.</pc>
       </s>
       <s xml:id="s_Rg7Tsr">
        <w>If</w>
        <w>you</w>
        <w>see</w>
        <w>a</w>
        <w>hard-to-explain</w>
        <w>error</w>
        <w>message</w>
        <w>,</w>
        <w>try</w>
        <w>to</w>
        <w>track</w>
        <w>down</w>
        <w>the</w>
        <w>source</w>
        <w>and</w>
        <w>do</w>
        <w>n't</w>
        <w>be</w>
        <w>afraid</w>
        <w>to</w>
        <w>ask</w>
        <w>for</w>
        <w>help</w>
        <w>,</w>
        <w>whether</w>
        <w>from</w>
        <w>someone</w>
        <w>with</w>
        <w>relevant</w>
        <w>experience</w>
        <w>or</w>
        <w>at</w>
        <w>the</w>
        <w>organization</w>
        <w>itself</w>
        <pc>.</pc>
       </s>
      </p>
      <ab>
       <code corresp="code_extracting-illustrated-pages_16.txt" lang="language-Python" rend="block" xml:id="code_extracting-illustrated-pages_16"/>
      </ab>
     </div>
     <div n="6.4.2" type="4">
      <head>
       <s xml:id="s_lAsjGb">
        <w>Download</w>
        <w>Images</w>
       </s>
      </head>
      <p>
       <s xml:id="s_LN5bBN">
        <w>IA</w>
        <w>'s</w>
        <w>Python</w>
        <w>wrapper</w>
        <w>does</w>
        <w>not</w>
        <w>provide</w>
        <w>a</w>
        <w>single-page</w>
        <w>download</w>
        <w>functiononly</w>
        <w>bulk</w>
        <pc>.</pc>
       </s>
       <s xml:id="s_vAgrch">
        <w>This</w>
        <w>means</w>
        <w>that</w>
        <w>we</w>
        <w>will</w>
        <w>use</w>
        <w>IA</w>
        <w>'s</w>
        <w>RESTful</w>
        <w>API</w>
        <w>to</w>
        <w>get</w>
        <w>specific</w>
        <w>pages</w>
        <pc>.</pc>
       </s>
       <s xml:id="s_qsz188">
        <w>First</w>
        <w>we</w>
        <w>construct</w>
        <w>a</w>
        <w>URL</w>
        <w>for</w>
        <w>each</w>
        <w>page</w>
        <w>that</w>
        <w>we</w>
        <w>need</w>
        <pc>.</pc>
       </s>
       <s xml:id="s_1ZdaxB">
        <w>Then</w>
        <w>we</w>
        <w>use</w>
        <w>the</w>
        <code rend="inline">
         <w>requests</w>
        </code>
        <w>library</w>
        <w>to</w>
        <w>send</w>
        <w>an</w>
        <w>HTTP</w>
        <code rend="inline">
         <w>GET</w>
        </code>
        <w>request</w>
        <w>and</w>
        <w>,</w>
        <w>if</w>
        <w>everything</w>
        <w>goes</w>
        <w>well</w>
        <w>(</w>
        <w>i.e</w>
        <pc>.</pc>
       </s>
       <s xml:id="s_Yt5n0s">
        <w>the</w>
        <w>code</w>
        <w>200</w>
        <w>is</w>
        <w>returned</w>
        <w>in</w>
        <w>the</w>
        <w>response</w>
        <w>)</w>
        <w>,</w>
        <w>we</w>
        <w>write</w>
        <w>out</w>
        <w>the</w>
        <w>contents</w>
        <w>of</w>
        <w>the</w>
        <w>response</w>
        <w>to</w>
        <w>a</w>
        <w>JPEG</w>
        <w>file</w>
        <pc>.</pc>
       </s>
      </p>
      <p>
       <s xml:id="s_yACMEK">
        <w>IA</w>
        <w>has</w>
        <w>been</w>
        <w>working</w>
        <w>on</w>
        <w>an</w>
        <ref target="https://iiif.archivelab.org/iiif/documentation">
         <w>alpha</w>
         <w>version</w>
        </ref>
        <w>of</w>
        <w>an</w>
        <w>API</w>
        <w>for</w>
        <w>image</w>
        <w>cropping</w>
        <w>and</w>
        <w>resizing</w>
        <w>that</w>
        <w>conforms</w>
        <w>to</w>
        <w>the</w>
        <w>standards</w>
        <w>of</w>
        <w>the</w>
        <w>International</w>
        <w>Image</w>
        <w>Interoperability</w>
        <w>Framework</w>
        <w>(</w>
        <ref target="https://iiif.io/">
         <w>IIIF</w>
        </ref>
        <w>)</w>
        <pc>.</pc>
       </s>
       <s xml:id="s_ujsmEc">
        <w>IIIF</w>
        <w>represents</w>
        <w>a</w>
        <w>vast</w>
        <w>improvement</w>
        <w>on</w>
        <w>the</w>
        <w>old</w>
        <w>method</w>
        <w>for</w>
        <w>single-page</w>
        <w>downloads</w>
        <w>which</w>
        <w>required</w>
        <w>downloading</w>
        <w>JP2</w>
        <w>files</w>
        <w>,</w>
        <w>a</w>
        <w>largely</w>
        <w>unsupported</w>
        <w>archival</w>
        <w>format</w>
        <pc>.</pc>
       </s>
       <s xml:id="s_2kdjOA">
        <w>Now</w>
        <w>it</w>
        <w>'s</w>
        <w>extremely</w>
        <w>simple</w>
        <w>to</w>
        <w>get</w>
        <w>a</w>
        <w>single</w>
        <w>page</w>
        <w>JPEG</w>
        <w>:</w>
       </s>
      </p>
      <ab>
       <code corresp="code_extracting-illustrated-pages_17.txt" lang="language-Python" rend="block" xml:id="code_extracting-illustrated-pages_17"/>
      </ab>
     </div>
    </div>
   </div>
   <div n="7" type="2">
    <head>
     <s xml:id="s_nllYHJ">
      <w>Next</w>
      <w>Steps</w>
     </s>
    </head>
    <p>
     <s xml:id="s_j1E8sN">
      <w>Once</w>
      <w>you</w>
      <w>understand</w>
      <w>the</w>
      <w>main</w>
      <w>functions</w>
      <w>and</w>
      <w>the</w>
      <w>data</w>
      <w>unpacking</w>
      <w>code</w>
      <w>in</w>
      <w>the</w>
      <w>notebooks</w>
      <w>,</w>
      <w>feel</w>
      <w>free</w>
      <w>to</w>
      <w>run</w>
      <w>the</w>
      <w>cells</w>
      <w>in</w>
      <w>sequence</w>
      <w>or</w>
      <w>``</w>
      <w>Run</w>
      <w>All</w>
      <w>''</w>
      <w>and</w>
      <w>watch</w>
      <w>the</w>
      <w>picture</w>
      <w>pages</w>
      <w>roll</w>
      <w>in</w>
      <pc>.</pc>
     </s>
     <s xml:id="s_6Hnrjd">
      <w>You</w>
      <w>are</w>
      <w>encouraged</w>
      <w>to</w>
      <w>adapt</w>
      <w>these</w>
      <w>scripts</w>
      <w>and</w>
      <w>functions</w>
      <w>for</w>
      <w>your</w>
      <w>own</w>
      <w>research</w>
      <w>questions</w>
      <pc>.</pc>
     </s>
    </p>
   </div>
  </body>
 </text>
</TEI>