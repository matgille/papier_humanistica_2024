<TEI xmlns="http://www.tei-c.org/ns/1.0" xml:id="introduccion-a-bash" type="translation">
    <teiHeader>
        <fileDesc>
            <titleStmt>
                <title>Introducción a la línea de comandos en Bash</title>
                <author role="original_author">
                    <persName>Ian Milligan</persName>
                    <persName>James Baker</persName>
                </author>
                <editor role="reviewers">
                    <persName>M. H. Beals</persName>
                    <persName>Allison Hegel</persName>
                    <persName>Charlotte Tupman</persName>
                    <persName>Adam Crymble</persName>
                </editor>
                <author role="translators">Víctor Gayol</author>
                <editor role="translation-reviewers">
                    <persName>Antonio Jesús Sánchez Padial</persName>
                    <persName>Antonio Rojas Castro</persName>
                </editor>
                <editor role="editors">Adam Crymble</editor>
            </titleStmt>
            <publicationStmt>
                <distributor>Programming Historian</distributor>
                <date type="translated">07/29/2017</date>
                <idno type="doi">10.46430/phes0013</idno>
                <date type="published">09/20/2014</date>
            </publicationStmt>
            <sourceDesc>
                <p>Born digital, in a markdown format. Original file: <ref type="original_file" target="#intro-to-bash"/>.</p>
            </sourceDesc>
        </fileDesc>
        <profileDesc>
            <abstract>
                <p>Con esta lección aprenderás introducir órdenes a través de una Interfaz de Línea de comandos, en lugar de hacerlo en una Interfaz Gráfica de Usuario. La Interfaz de Línea de comandos es útil cuando el usuario necesita un mayor grado de precisión para llevar a cabo su investigación. Por ejemplo, permite añadir modificadores de tal modo que se puede ejecutar un programa de una manera determinada. Asimismo, te será útil para automatizar programas mediante scripts, es decir, recetas o paquetes que contienen una serie de instrucciones.</p>
            </abstract>
            <textClass>
                <keywords>
                    <term xml:lang="en">data-manipulation</term>
                    <term xml:lang="en">get-ready</term>
                </keywords>
            </textClass>
        </profileDesc>
    </teiHeader>
    <text xml:lang="es">
        <body>
            <div type="2">
                <head>Introducción a línea de comandos en Bash</head>
                <div type="3">
                    <head>Introducción</head>
                    <p>Muchas de las lecciones en <emph>The Programming Historian en español</emph> requieren que introduzcas órdenes a través de una <hi rend="bold">Interfaz de línea de comandos</hi>. La manera habitual en la que los usuarios de computadoras interactúan actualmente con sus sistemas es a través de la <hi rend="bold">Interfaz Gráfica de Usuario</hi>, o GUI (siglas de <emph>Graphical User Inteface</emph>). Esto significa que cuando entras en una carpeta, haces clic en una imagen de una carpeta de archivos; cuando ejecutas un programa, haces clic en él; y cuando navegas por la Web, utilizas el ratón para interactuar con los diferentes elementos de una página Web. Sin embargo, antes de la aparición de las GUI a finales de la década de 1980, la principal forma de interactuar con una computadora era a través de una interfaz de línea de comandos.</p>
                    <figure>
                        <desc>GUI de la computadora de Ian Milligan</desc>
                        <graphic url="GUI.png"/>
                    </figure>
                    <p>Las interfaces de línea de comandos ofrecen ventajas para los usuarios de computadoras que necesitan mayor precisión en su trabajo -como los historiadores digitales. Permiten un uso más detallado a la hora de ejecutar algunos programas, ya que puedes agregar parámetros para especificar <emph>exactamente</emph> cómo deseas ejecutar tu programa. Además, se pueden automatizar procesos fácilmente mediante <ref target="http://www.tldp.org/LDP/Bash-Beginners-Guide/html/chap_01.html">scripts</ref>, que son esencialmente recetas de órdenes escritas en un archivo de texto.</p>
                    <p>Hay dos interfaces de línea de comandos principales, o <emph>shells</emph>, que utilizan muchos historiadores digitales. En OS X, así como en muchas de las distribuciones de Linux, el <emph>shell</emph> se conoce como <code rend="inline">bash</code> (<emph>Bourne-again shell</emph>). Para los usuarios de sistemas Windows, la interfaz de línea de comandos está basada en MS-DOS por defecto, y aunque utiliza diferentes comandos y <ref target="https://es.wikipedia.org/wiki/Sintaxis">sintaxis</ref>, puede realizar tareas similares. Este tutorial proporciona una introducción básica a la terminal <code rend="inline">bash</code>. Los usuarios de Windows pueden seguir instalando algún <emph>shell</emph> popular como <ref target="https://www.cygwin.com/">Cygwin</ref> o Git Bash (ver más adelante).</p>
                    <p>Esta lección utiliza un <hi rend="bold">
                            <ref target="https://es.wikipedia.org/wiki/Shell_de_Unix">
                                <emph>shell</emph> de Unix</ref>
                        </hi>, es decir, un intérprete de línea de comandos que proporciona una interfaz de usuario para el sistema operativo <ref target="https://es.wikipedia.org/wiki/Unix">Unix</ref> y similares. Esta lección cubre un pequeño número de órdenes básicas. Cuando termines este tutorial, podrás navegar a través de tu sistema de archivos y encontrar archivos, abrirlos, realizar tareas básicas de manipulación de datos como combinar y copiar archivos, así como leerlos y realizar ediciones relativamente sencillas. Estos comandos constituyen los cimientos sobre los que se pueden construir órdenes más complejas que se ajusten a tus datos de investigación y proyectos. A los lectores que deseen una guía de referencia que vaya más allá de esta lección les recomendamos leer Deborah S. Ray and Eric J. Ray, <emph>Unix and Linux: Visual Quickstart Guide</emph>, 4th edition (2009).</p>
                </div>
                <div type="3">
                    <head>Sólo para usuarios de Windows: instalar Git Bash</head>
                    <p>Los usuarios de OS X y la mayoría de las distribuciones de Linux tienen suerte pues ya cuentan con un Bash <emph>shell</emph> instalado por defecto. Para los usuarios de Windows, es necesario cubrir un paso extra e instalar Git Bash descargando la versión más reciente en <ref target="https://git-for-windows.github.io/">esta página</ref>. Las instrucciones de instalación están disponibles en <ref target="https://web.archive.org/web/20190114082523/https://openhatch.org/missions/windows-setup/install-git-bash">Open Hatch</ref>.</p>
                </div>
                <div type="3">
                    <head>Abrir el intérprete de línea de comandos</head>
                    <p>Vamos a iniciar el intérprete de línea de comandos (<emph>shell</emph>). En Windows, ejecuta <code rend="inline">Git Bash</code> desde el directorio en el que lo instalaste. Lo tendrás que ejecutar como administrador. Para hacerlo, haz clic con el botón derecho sobre el programa y selecciona "ejecutar como administrador" (<emph>Run as Administrator</emph>). En OS X, el <emph>shell</emph> se encuentra localizado por defecto en:</p>
                    <p>
                        <code rend="inline">Aplicaciones -&gt; Utilidades -&gt; Terminal</code>
                    </p>
                    <figure>
                        <desc>El programa Terminal.app en OS X</desc>
                        <graphic url="Terminal.png"/>
                    </figure>
                    <p>Cuando lo ejecutes verás esto en la ventana:</p>
                    <figure>
                        <desc>Pantalla de Terminal en blanco en nuestra estación de trabajo de OS X</desc>
                        <graphic url="Blank-Terminal.png"/>
                    </figure>
                    <p>Quizá quieras cambiar la apariencia que por defecto tiene la terminal para no esforzarte de más al mirar continuamente texto negro sobre fondo blanco. En la aplicación por defecto de OS X puedes abrir el menú 'Perfiles' en 'Preferencias', bajo 'Terminal'. Haz clic en la pestaña 'Perfiles' y cámbialo por un nuevo esquema de color. Personalmente preferimos algo con menor contraste entre el fondo y el primer plano, pues lo estarás viendo durante mucho tiempo. 'Novel' es uno muy relajante ya que es la paleta de colores de la popular <emph>suite</emph>
                        <ref target="http://ethanschoonover.com/solarized">Solarized</ref>. Los usuarios de Windows pueden obtener un efecto similar utilizando la pestaña 'Properties' de Git bash. Para llegar a ella, haz click con el botón derecho en cualquier lugar de la barra superior y seleciona 'Properties'.</p>
                    <figure>
                        <desc>Pantalla de configutación en Terminal de OS X</desc>
                        <graphic url="Settings.png"/>
                    </figure>
                    <p>Una vez satisfecho con la apariencia de la interfaz, ya estás listo para comenzar.</p>
                </div>
                <div type="3">
                    <head>Navegando por el sistema de archivos de tu computadora</head>
                    <p>Si cuando abres la ventana del intérprete no estás seguro del sitio en que estás en el sistema de archivos de tu computadora, el primer paso es descubrirlo. A diferencia de un sistema gráfico, cuando estás en un <emph>shell</emph> no puedes ubicarte en distintos directorios a la vez. Cuando abres el explorador de archivos en tu escritorio estás mostrando los archivos que están dentro de un directorio. Puedes saber en qué directorio estás a través del comando <code rend="inline">pwd</code>, que significa "imprime el directorio de trabajo" (<emph>print working directory</emph>). Así, pues, introduce:</p>
                    <p>
                        <code rend="inline">pwd</code>
                    </p>
                    <p>y pulsa Intro. Si usas OS X o Linux, tu computadora probablemente mostrará <code rend="inline">/usuarios/nombre-de-usuario</code> con tu propio nombre de usuario. Por ejemplo, la ruta de Ian en OS X es <code rend="inline">/users/ianmilligan1/</code>. Aquí es donde te darás cuenta que aquellos que usan OS X/Linux y los que usan Windows tendrán experiencias ligeramente distintas. En Windows, James se localiza en:</p>
                    <p>
                        <code rend="inline">C:\users\jbaker</code>
                    </p>
                    <p>Hay pequeñas diferencias, pero no te preocupes: una vez que aprendas a moverte y a manipular archivos estas divergencias entre plataformas pasarán a un segundo plano.</p>
                    <p>Para orientarnos, obtengamos una lista de los archivos que están en ese directorio. Escribe:</p>
                    <p>
                        <code rend="inline">ls</code>
                    </p>
                    <p>y verás un listado de cada archivo y directorio que se encuentre en tu ubicación actual. Tu directorio puede estar desordenado o puede verse prístino, pero al menos observarás algunas ubicaciones conocidas. En OS X, por ejemplo, verás <code rend="inline">Applications</code>, <code rend="inline">Desktop</code>, <code rend="inline">Documents</code>, <code rend="inline">Downloads</code>, <code rend="inline">Library</code>, <code rend="inline">Pictures</code>, etc.</p>
                    <p>Posiblemente quieras ver más información que únicamente la lista de archivos. Puedes obtenerla utilizando varios parámetros (<emph>flags</emph>) para completar las órdenes básicas. Se trata de adiciones a un comando que proporcionan a la computadora un poco más de orientación de qué tipo de salida o manipulación deseas. Para obtener una lista de éstos, los usuarios de OS X/Linux pueden recurrir al programa de ayuda integrado. Los usuarios de OS X/Linux pueden escribir:</p>
                    <p>
                        <code rend="inline">man ls</code>
                    </p>
                    <figure>
                        <desc>Página del manual para el comando LS</desc>
                        <graphic url="man-ls.png"/>
                    </figure>
                    <p>Aquí verás una lista del nombre del comando, la forma en la que puedes manipularlo y lo que hace. <hi rend="bold">Muchos de estos comandos no tendrán sentido en esta etapa, pero no te preocupes: con el tiempo te familiarizarás con ellos</hi>. Puedes explorar esta página de varias maneras: la barra espaciadora te permite moverte hacia abajo de la página, o puedes utilizar la flecha hacia abajo y la flecha hacia arriba por todo el documento.</p>
                    <p>Para abandonar la página del manual, escribe: <code rend="inline">q</code> y esto te llevará de regreso a la línea de comandos en la que estabas antes de entrar a la página del manual.</p>
                    <p>Trata de jugar un poco con la página <code rend="inline">man</code> para ver qué puedes hacer con otra orden que ya aprendiste: <code rend="inline">pwd</code>.</p>
                    <p>Los usuarios de Windows pueden utilizar el comando <code rend="inline">help</code>, aunque esta orden tiene menos funciones que <code rend="inline">man</code> de OS X/Linux. Escribe <code rend="inline">help</code> para ver la ayuda disponible, y <code rend="inline">help pwd</code> para ejemplos de la salida del comando.</p>
                    <p>Ahora intentaremos utilizar algunas de las opciones que viste en la página <code rend="inline">man</code> de <code rend="inline">ls</code>. A lo mejor lo único que quieres ver son los archivos TXT que están en tu directorio principal. Escribe:</p>
                    <p>
                        <code rend="inline">ls *.txt</code>
                    </p>
                    <p>Esto te mostrará una lista de los archivos de texto, si es que tienes alguno en tu directorio principal (posiblemente no, y eso está bien). El comando * es un <hi rend="bold">comodín</hi> que se traduce como 'todo' o 'cualquier cosa'. Así que en este caso le estás indicando a la máquina que te muestre todo lo que encaje con el patrón</p>
                    <p>[todo.txt]</p>
                    <p>Ensaya diferentes combinaciones. Si, por ejemplo, tienes varios archivos en el formato <code rend="inline">1-español.txt</code>, <code rend="inline">2-español.txt</code>, etcétera, el comando <code rend="inline">ls *-español.txt</code> te mostrará todos ellos pero excluirá los que no se ajusten al patrón.</p>
                    <p>Digamos que quieres más información. En esa larga página de <code rend="inline">man</code> verás una ocpión que podría resultar útil:</p>
                    <quote>
                        <ab>
                            <code xml:id="code_introduccion-a-bash_0" corresp="code_introduccion-a-bash_0.txt" rend="block"/>
                        </ab>
                    </quote>
                    <p>Así que, si escribes</p>
                    <p>
                        <code rend="inline">ls -l</code>
                    </p>
                    <p>la computadora te mostrará una larga lista de archivos que contiene información similar a la que encontrarías en tu Finder o explorador de archivos: el tamaño de los archivos en <emph>bites</emph>, la fecha de creación o de última modificación, y el nombre del archivo. No obstante, esto puede ser un poco confuso pues verás que, por ejemplo, el archivo prueba.html tiene '6020' bits. En lenguaje cotidiano estamos más acostumbrados a utilizar unidades de medida como bytes, kilobytes, megabytes y gigabytes.</p>
                    <p>Afortunadamente hay otra bandera:</p>
                    <quote>
                        <ab>
                            <code xml:id="code_introduccion-a-bash_1" corresp="code_introduccion-a-bash_1.txt" rend="block"/>
                        </ab>
                    </quote>
                    <p>Cuando quieres utilizar dos banderas puedes simplemente ejecutarlas juntas. Así, al escribir</p>
                    <p>
                        <code rend="inline">ls -lh</code>
                    </p>
                    <p>obtendrás una salida en un formato legible para seres humanos; aprenderás que 6020 bits son también 5.9KB, que otro archivo tiene 1 megabite y así sucesivamente.</p>
                    <p>Estas opciones son <emph>muy</emph> importantes. Lo verás en otras lecciones de <emph>The Programming Historian en español</emph>. <ref target="/lessons/applied-archival-downloading-with-wget">Wget</ref>, <ref target="/lessons/topic-modeling-and-mallet">MALLET</ref> y <ref target="/lessons/sustainable-authorship-in-plain-text-using-pandoc-and-markdown">Pandoc</ref> utilizan la misma sintaxis. Afortunadamente no necesitas memorizar la sintaxis; en lugar de ello, mantén estas lecciones a mano para que puedas echar un vistazo rápido si es necesario ajustar algo. Estas lecciones se pueden hacer en cualquier orden.</p>
                    <p>Ya has estado mucho tiempo en tu directorio personal. Vamos a otro lugar; puedes hacerlo a través del comando <code rend="inline">cd</code> que significa 'Cambiar de directorio'.</p>
                    <p>Si escribes:</p>
                    <p>
                        <code rend="inline">cd desktop</code>
                    </p>
                    <p>al pulsar Intro estarás en tu escritorio. Esto es similar a cuando haces doble click en el folder de 'Escritorio' en el explorador de archivos. Para confirmarlo, escribe <code rend="inline">pwd</code> y debes ver entonces algo como esto:</p>
                    <p>
                        <code rend="inline">/Users/ianmilligan1/desktop</code>
                    </p>
                    <p>Juega un poco con estos primeros comandos: explora tu directorio actual utilizando el comando <code rend="inline">ls</code>. Si quieres regresar al directorio anterior, puedes escribir:</p>
                    <p>
                        <code rend="inline">cd ..</code>
                    </p>
                    <p>Esto mueve hacia "arriba" un directorio llevándonos de regreso a <code rend="inline">/Users/ianmilligan1/</code>. Si en algún momento te sientes completamente perdido, el comando</p>
                    <p>
                        <code rend="inline">cd --</code>
                    </p>
                    <p>te llevará de regreso al directorio principal, exactamente donde empezaste.</p>
                    <p>Intenta explorar: visita tus directorios de documentos, imágenes, carpetas que posiblemente tengas en el escritorio. Acostúmbrate a moverte adentro y afuera de los directorios. Imagina que estás navegando por una <ref target="https://es.wikipedia.org/wiki/Topolog%C3%ADa_arb%C3%B3rea">estructura de árbol</ref>. Si estás en el escritorio no podrás hacer <code rend="inline">cd documents</code> para cambiar a la carpeta documentos ya que es dependiente de tu directorio principal, mientras que la carpeta de escritorio y de la documentos son 'hermanas'. Para llegar a una carpeta hermana debes regresar al directorio matriz de ambas. Para hacerlo, tienes que volver al directorio principal (<code rend="inline">cd ..</code>) y luego seguir adelante de nuevo a <code rend="inline">cd documents</code>.</p>
                    <p>Es muy importante que seas capaz de navegar por el sistema de archivos utilizando la línea de comandos (<emph>shell</emph>) para muchas de las lecciones en <emph>The Programming Historian en español</emph>. A medida que te sientas más cómodo pronto te encontrarás saltando al directorio que deseas. En nuestro caso, desde cualquier lugar de nuestro sistema, se puede escribir:</p>
                    <p>
                        <code rend="inline">cd /users/ianmilligan1/mallet-2.0.7</code>
                    </p>
                    <p>O en Windows algo como:</p>
                    <p>
                        <code rend="inline">cd c:\mallet-2.0.7\</code>
                    </p>
                    <p>e ir a nuestro directorio MALLET para <ref target="/lessons/topic-modeling-and-mallet">modelado de tópicos</ref>.</p>
                    <p>Finalmente, prueba:</p>
                    <p>
                        <code rend="inline">open .</code>
                    </p>
                    <p>en OS X o</p>
                    <p>
                        <code rend="inline">explorer .</code>
                    </p>
                    <p>en Windows. Este comando abrirá tu GUI en el directorio actual. Asegúrate de dejar un espacio entre <code rend="inline">open</code> o <code rend="inline">explorer</code> y el punto.</p>
                </div>
                <div type="3">
                    <head>Interactuar con archivos</head>
                    <p>Además de navegar por directorios, puedes interactuar con archivos a través de la línea de comandos: puedes leerlos, abrirlos, ejecutarlos e incluso editarlos sin tener que salir de la interfaz. Hay cierto debate sobre por qué alguien querría hacer todo esto; la razón principal es la extrema comodidad de trabajar con la línea de comandos: nunca tienes que tocar el ratón o el <emph>track pad</emph> de la computadora y, aunque tiene una curva de aprendizaje pronunciada, eventualmente puede convertirse en el único entorno de escritura. Además, muchos programas requieren la utilización de la línea de comandos para operar con ellos. Puesto que vas a utilizar programas a través de la línea de comandos, a menudo puede ser más rápido crear pequeñas ediciones sin necesidad de cambiar a un programa separado. Para algunos de estos argumentos véase el texto de Jon Beltran de Heredia, <ref target="http://www.viemu.com/a-why-vi-vim.html">"Why, oh WHY, do those #?@! nutheads use vi?"</ref>.</p>
                    <p>A continuación, presentaremos unas formas básicas de interactuar con archivos.</p>
                    <p>Primero, puedes crear un nuevo directorio para que puedas interactuar con archivos de texto. Lo crearemos en tu escritorio, por conveniencia. Siempre se podrá mover más tarde. Navega hasta tu escritorio con el <emph>shell</emph> y escribe:</p>
                    <p>
                        <code rend="inline">mkdir ProgHist-Textos</code>
                    </p>
                    <p>Esto crea un directorio llamado (¡adivinaste!) <code rend="inline">ProgHist-Textos</code>. En general, es bueno evitar poner espacios en tus nombres de archivos y directorios cuando se utiliza la línea de comandos (hay soluciones alternativas, pero este método es más simple); del mismo modo es recomendable evira la 'ñ' y el resto de caracteres especiales del castellano, tildes, etc. Aunque los sistemas actuales son capaces de utilizarlos, podemos encontrar problemas si tenemos que utilizar estos ficheros en sistemas antiguos. Puedes mirar en tu escritorio para verificar que funcionó. Ahora, muévete dentro de ese directorio (recuerda que será <code rend="inline">cd ProgHist-Textos</code>).</p>
                    <p>Pero ¡espera! Hay un truco para hacer las cosas un poco más rápido. Ve arriba un directorio (<code rend="inline">cd ..</code>, lo cual te llevará de regreso al escritorio). Para navegar al directorio <code rend="inline">ProgHist-Textos</code> puedes escribir <code rend="inline">cd ProgHist-Textos</code>. Alternativamente puedes escribir <code rend="inline">cd Prog</code> y luego pulsar la tecla de tabulador. Te darás cuenta de que la interfaz completa la línea como <code rend="inline">cd ProgHist-Textos</code>. <hi rend="bold">Si pulsas el tabulador en cualquier momento dentro del <emph>shell</emph> le pedirás que intente completar automáticamente la línea en función de los archivos o subdirectorios que estén en el directorio actual. Sin embargo, la función es sensible a mayúsculas (así, en el ejemplo anterior, <code rend="inline">cd prog</code> no podrá autocompletarse como <code rend="inline">cd ProgHist-Textos</code>). En donde haya dos archivos con los mismos caracteres, autocompletar solamente llenará la línea hasta el primer punto de diferencia. Sugerimos utilizar este método a lo largo de la lección para ver cómo se comporta.</hi>
                    </p>
                    <p>Ahora necesitas encontrar un archivo de texto básico para que nos ayude con el ejemplo. ¿Por qué no utilizar un libro que sabes que es largo, como la épica "Guerra y Paz" de Leon Tolstói? El archivo de texto está disponible en <ref target="http://www.gutenberg.org/ebooks/2600">Project Gutenberg</ref>. Si ya instalaste <ref target="/lessons/applied-archival-downloading-with-wget">wget</ref>, puedes escribir:</p>
                    <p>
                        <code rend="inline">wget  http://www.gutenberg.org/files/2600/2600-0.txt</code>
                    </p>
                    <p>Si no lo has instalado, descarga el texto utilizando tu navegador. Ve al enlace anterior y, desde tu navegador, usa el comando 'Guardar como' del menú 'Archivo'. Guárdalo en tu nuevo directorio <code rend="inline">ProgHist-Textos</code>. Ahora, cuando escribas</p>
                    <p>
                        <code rend="inline">ls -lh</code>
                    </p>
                    <p>verás algo así como:</p>
                    <quote>
                        <quote>
                            <p>-rw-r--r--+ 1 ianmilligan1  staff   3.1M  1 May 10:03 2600-0.txt</p>
                        </quote>
                    </quote>
                    <p>Puedes leer el texto de este archivo de diferentes maneras. Primero, puedes decirle a la computadora que quieres leerlo utilizando el programa estándar que usas para abrir los archivos de texto. Por defecto, este debe ser TextEdit en OS X o Notepad en Windows. Para abrir un archivo solamente escribe:</p>
                    <p>
                        <code rend="inline">open 2600-0.txt</code>
                    </p>
                    <p>en OS X, o</p>
                    <p>
                        <code rend="inline">explorer 2600-0.txt</code>
                    </p>
                    <p>en Windows. Lo anterior selecciona el programa por defecto para abrir ese tipo de archivos y lo abre.</p>
                    <p>Sin embargo, a veces querrás trabajar sin dejar la línea de comandos. También puedes leer archivos en este entorno. Para probar esto, escribe:</p>
                    <p>
                        <code rend="inline">cat 2600-0.txt</code>
                    </p>
                    <p>La ventana de Terminal entra en erupción y <emph>Guerra y Paz</emph> se despliega en cascada. Esto es magnífico, en teoría, pero realmente no puedes obtener sentido de esta cantidad de texto. En lugar de ello, puede ser que sólo quieras ver el primer o el último fragmento del archivo.</p>
                    <p>
                        <code rend="inline">head 2600-0.txt</code>
                    </p>
                    <p>proporciona una visión de las primeras diez líneas, mientras que</p>
                    <p>
                        <code rend="inline">tail 2600-0.txt</code>
                    </p>
                    <p>ofrece una perspectiva de las últimas diez líneas. Ésta es una buena manera de determinar rápidamente el contenido del archivo. Puedes añadir un comando para cambiar la cantidad de líneas que se muestran: <code rend="inline">head -20 2600-0.txt</code>, por ejemplo, mostrará las primeras veinte líneas.</p>
                    <p>También puedes cambiar el nombre del archivo a algo más descriptivo. Puedes asignarle un nuevo nombre escribiendo:</p>
                    <p>
                        <code rend="inline">mv 2600-0.txt tolstoi.txt</code>
                    </p>
                    <p>Después, cuando ejecutes el comando <code rend="inline">ls</code>, verás que ahora se llama <code rend="inline">tolstoi.txt</code>. Si hubieras querido duplicarlo podrías haber ejecutado el comando 'copiar' escribiendo:</p>
                    <p>
                        <code rend="inline">cp 2600-0.txt tolstoi.txt</code>
                    </p>
                    <p>Volveremos sobre este comando en breve.</p>
                    <p>Ahora que has utilizado varios comandos nuevos, es hora de aprender otro truco. Pulsa la flecha hacia arriba en tu teclado. Observa que <code rend="inline">cp 2600-0.txt tolstoi.txt</code> aparece delante del cursor. Puedes continuar pulsando la flecha hacia arriba para recorrer los comandos anteriores. La flecha hacia abajo retrocede hacia el comando más reciente.</p>
                    <p>Después de haber leído y renombrado varios archivos, es posible que quieras reunir tu texto en uno solo. Para combinar o concatenar dos a más archivos, puedes utilizar el comando <code rend="inline">cat</code>. Primero, vamos a duplicar el archivo Tolstoi (<code rend="inline">cp tolstoi.txt tolstoi2.txt</code>). Ahora que tienes dos copias de <emph>Guerra y Paz</emph>, vamos a ponerlas juntas para hacer un libro <hi rend="bold">aún más largo</hi>.</p>
                    <p>Para combinar o concatenar dos o más archivos usa el comando <code rend="inline">cat</code>. Escribe:</p>
                    <p>
                        <code rend="inline">cat tolstoi.txt tolstoi2.txt</code>
                    </p>
                    <p>y pulsa Intro. Esto imprime o muestra los archivos combinados en el <emph>shell</emph>. Sin embargo, es demasiado largo para leer en esta ventana. Afortunadamente, utilizando el comando <code rend="inline">&gt;</code> puedes enviar la salida a un nuevo archivo en vez de a la ventana de la terminal. Escribe:</p>
                    <p>
                        <code rend="inline">cat tolstoi.txt tolstoi2.txt &gt; tolstoi-repetido.txt</code>
                    </p>
                    <p>Ahora, cuando escribas <code rend="inline">ls</code> verás que <code rend="inline">tolstoi-repetido.txt</code> aparece en tu directorio.</p>
                    <p>Cuando combinas más de dos archivos, la utilización de un comodín evita escribir cada uno de los nombres de archivo de manera individual. Como has visto antes, <code rend="inline">*</code> es un marcador de posición que te permite incluir de cero a más caracteres o números. Así que, si escribes:</p>
                    <p>
                        <code rend="inline">cat *.txt &gt; todo-junto.txt</code>
                    </p>
                    <p>y pulsas Intro, todos los archivos .txt que estén en el directorio de trabajo son combinados en orden alfabético dentro de <code rend="inline">todo-junto.txt</code>. Esto puede ser muy útil cuando necesitas combinar una gran cantidad de pequeños archivos dentro de un directorio para poder trabajar con ellos en un programa de análisis de textos. Otro comodín que vale la pena recordar es <code rend="inline">?</code> que reemplaza un único carácter o número.</p>
                </div>
                <div type="3">
                    <head>Editar archivos de texto directamente en línea de comandos</head>
                    <p>Si quieres leer un archivo completo sin salir de línea de comandos, puedes abrir <ref target="https://es.wikipedia.org/wiki/Vim">Vim</ref>. Vim es un editor de texto adecuado para utilizarse con programas como <ref target="http://johnmacfarlane.net/pandoc/">Pandoc</ref> para el procesamiento de textos, o editar tu código sin tener que cambiar a otro programa. Lo mejor de todo es que viene incluido con <emph>bash</emph> tanto en OS X como en Windows. Vim tiene una curva de aprendizaje bastante grande, por lo que vamos a tocar algunos puntos menores.</p>
                    <p>Escribe:</p>
                    <p>
                        <code rend="inline">vim tolstoi.txt</code>
                    </p>
                    <p>Verás aparecer Vim frente a ti, un editor de texto en línea de comandos.</p>
                    <figure>
                        <desc>Vim</desc>
                        <graphic url="vim.png"/>
                    </figure>
                    <p>Si quieres aprender más de Vim, aquí tienes una <ref target="http://vimdoc.sourceforge.net/htmldoc/quickref.html">buena guía</ref> disponible.</p>
                    <p>El uso de Vim para leer archivos es relativamente simple. Puedes usar las teclas de flechas para navegar alrededor y teóricamente leer <emph>Guerra y Paz</emph> a través de línea de comandos (lo cual sería todo un logro, por cierto). A continuación hay algunos comandos de navegación básica:</p>
                    <p>
                        <code rend="inline">Ctrl+F</code> (esto es, mantén oprimida la tecla 'Control' y presiona a la vez la tecla 'F'), te moverá una página adelante (en Windows: <code rend="inline">Shift+FlechaArriba</code>).</p>
                    <p>
                        <code rend="inline">Ctrl+B</code> te moverá una página arriba. (<code rend="inline">Shift+FlechaAbajo</code> para usuarios de Windows).</p>
                    <p>Si te quieres desplazar rápidamente al final de una línea, puedes oprimir <code rend="inline">$</code> y para moverte al inicio: <code rend="inline">0</code>. También puedes moverte entre frases escribiendo <code rend="inline">)</code> (hacia adelante) o <code rend="inline">(</code> (atrás). Para párrafos, utiliza <code rend="inline">}</code> y <code rend="inline">{</code>. Dado que estás haciendo todo con el teclado, en vez de tener que mantener pulsada la tecla de flecha para moverte por el documento, esto te permite pasar volando hacia atrás y adelante.</p>
                    <p>Vamos a desplazarnos a la parte superior para hacer un pequeño cambio, como añadir un campo de 'lector' en el encabezado. Sitúa el cursor entre <hi rend="bold">Author:</hi> y <hi rend="bold">Translator:</hi>, como esto:</p>
                    <figure>
                        <desc>A punto de añadir un campo</desc>
                        <graphic url="about-to-insert.png"/>
                    </figure>
                    <p>Si sólo comienzas a escribir obtendrás un mensaje de error o el cursor comenzará a saltar. Esto se debe a que tienes que especificar que deseas hacer una edición. Presiona la letra</p>
                    <p>
                        <code rend="inline">a</code>
                    </p>
                    <p>Al final de la pantalla verás:</p>
                    <p>
                        <code rend="inline">-- INSERT --</code>
                    </p>
                    <p>Esto significa que estás en el modo 'insertar'. Ahora puedes escribir y editar como si estuvieras en un editor de texto estándar. Pulsa <code rend="inline">Intro</code> dos veces, luego <code rend="inline">flecha arriba</code>, y escribe:</p>
                    <p>
                        <code rend="inline">Reader: un historiador programador</code>
                    </p>
                    <p>Cuando termines, presiona <code rend="inline">ESC</code> para abandonar el modo de inserción de texto.</p>
                    <p>Para abandonar Vim o guardar cambios, tienes que introducir una serie de comandos. Presiona <code rend="inline">:</code> y te moverás a la linea de entrada de comandos de Vim. Aquí puedes introducir una variedad de comandos. Si deseas guardar el archivo, escribe <code rend="inline">w</code> y pulsa Intro para 'escribir' el archivo. Si ejecutas este comando verás:</p>
                    <quote>
                        <quote>
                            <p>"tolstoi.txt" [dos] 65009L, 3291681C written</p>
                        </quote>
                    </quote>
                    <figure>
                        <desc>Después de escribir el archivo con nuestro pequeño cambio</desc>
                        <graphic url="after-writing.png"/>
                    </figure>
                    <p>Si deseas salir del programa, escribe de nuevo <code rend="inline">:</code> y luego <code rend="inline">q</code>. Esto te regresará a la línea de comandos. Al igual que con el resto de <emph>bash</emph>, también podrías haber combinado los dos comandos. Presionando <code rend="inline">:</code> y luego poniendo <code rend="inline">wq</code> habríamos guardado el archivo y luego habríamos salido del programa. O, si querías salir <hi rend="bold">sin</hi> guardar, <code rend="inline">q!</code>, habrías salido de Vim y cancelado la preferencia de sobreescribir, por defecto, para guardar tus cambios.</p>
                    <p>Vim es diferente a los procesadores de texto a los que estás acostumbrado y requerirá más trabajo y práctica para llegar a tener fluidez en su uso. Pero si estás ajustando cosas menores en archivos, es una buena manera de empezar. A medida que te sientas más cómodo podrías incluso escribir documentos con él, aprovechando el potencial de <ref target="/lessons/sustainable-authorship-in-plain-text-using-pandoc-and-markdown">formar y poner notas a pie de Pandoc y Markdown</ref>.</p>
                </div>
                <div type="3">
                    <head>Mover, copiar y borrar archivos</head>
                    <p>Supongamos que has terminado de trabajar con este directorio y que ahora quieres mover el archivo <code rend="inline">tolstoy.txt</code> a otro sitio. En primer lugar debes crear una copia de seguridad. El <emph>shell</emph> es bastante implacable con los errores y hacer copias de seguridad es aún más importante que con las GUI. Si borras algo aquí, no hay papelera de reciclaje para recobrarlo. Para crear una copia de seguridad puedes escribir:</p>
                    <p>
                        <code rend="inline">cp tolstoi.txt tolstoi-backup.txt</code>
                    </p>
                    <p>Ahora, cuando ejecutes el comando <code rend="inline">ls</code> verás cinco archivos, dos de los cuales son el mismo: <code rend="inline">tolstoi.txt</code> y <code rend="inline">tolstoi-backup.txt</code>.</p>
                    <p>Vamos a mover el primero de ellos a algún otro sitio. Por ejemplo, vamos a crear un segundo directorio en tu escritorio. Muévete al escritorio (<code rend="inline">cd ..</code>) y crea (<code rend="inline">mkdir</code>) otra carpeta. Vamos a llamarla <code rend="inline">proghist-dest</code>.</p>
                    <p>Para copiar <code rend="inline">tolstoy.txt</code> tienes algunas cuantas opciones. Puedes ejecutar estos comandos desde cualquier sitio en el <emph>shell</emph>, o puedes hacerlo tanto desde el directorio de origen como el de destino. Para este ejemplo, vamos a ejecutarlos desde aquí. El formato básico del comando de copiado es <code rend="inline">cp [origen] [destino]</code>. Esto es, escribes <code rend="inline">cp</code> primero y luego incluyes el archivo o archivos que quieres copiar seguido de el lugar donde deben irse.</p>
                    <p>En este caso el comando:</p>
                    <p>
                        <code rend="inline">cp /users/ianmilligan1/desktop/ProgHist-Textos/tolstoy.txt /users/ianmilligan1/desktop/proghist-dest/</code>
                    </p>
                    <p>copiará <code rend="inline">tolstoy.txt</code> del primer directorio al segundo directorio. Tienes que insertar tu propio nombre de usuario en lugar de 'ianmilligan1'. Con esto ahora tendremos tres copias de la novela en nuestra computadora. La original, la copia de seguridad y la nueva copia en el segundo directorio. Si querías <hi rend="bold">mover</hi> el archivo, es decir, sin dejar una copia detrás, podrías ejecutar el comando de nuevo cambiando <code rend="inline">cp</code> por <code rend="inline">mv</code>; pero no lo hagamos todavía.</p>
                    <p>Podrías también copiar múltiples archivos con un sólo comando. Si querías copiar ambos, el original y la copia de seguridad, debes utilizar el comando comodín.</p>
                    <p>
                        <code rend="inline">cp /users/ianmilligan1/desktop/ProgHist-Textos/*.txt /users/ianmilligan1/desktop/proghist-dest/</code>
                    </p>
                    <p>Este comando copia <hi rend="bold">todos</hi> los archivos de texto desde la carpeta original a la carpeta de destino.</p>
                    <quote>
                        <p>Nota: si estás en alguno de los directorios desde donde quieres copiar o a donde quieres llevar los archivos, no tienes que escribir toda la estructura de directorios. Vamos a hacerlo con ejemplos rápidos. Trasládate al directorio <code rend="inline">ProgHist-Textos</code>. Desde esta ubicación, si quieres copiar estos dos archivos a <code rend="inline">proghist-dest</code>, este comando funcionará:</p>
                    </quote>
                    <p>
                        <code rend="inline">cp *.txt /users/ianmilligan1/desktop/proghist-dest/</code> (en OS X. Para Windows substituye el directorio)</p>
                    <p>Alternativamente, si estuvieras en el directorio <code rend="inline">proghist-dest</code>, este comando debe funcionar:</p>
                    <p>
                        <code rend="inline">cp /users/ianmilligan1/desktop/ProgHist-Textos/*.txt ./</code>
                    </p>
                    <p>El comando <code rend="inline">./</code> hace referencia al directorio <hi rend="bold">actual</hi>, en el que estás. <hi rend="bold">Ciertamente, éste es un comando valioso.</hi>
                    </p>
                    <p>Finalmente, si quieres borrar un archivo, por cualquier razón, el comando es <code rend="inline">rm</code>, o 'retira' (<emph>remove</emph>). <hi rend="bold">Ten cuidado con el comando <code rend="inline">rm</code>
                        </hi>, dado que no querrás borrar archivos sin querer. Al contrario de borrar desde la GUI, <hi rend="bold">NO</hi> hay papelera de reciclaje ni opciones de deshacer. Por esta razón, si tienes una duda, deberás ser cauteloso o hacer copias de seguridad de tus datos regularmente.</p>
                    <p>Ve a <code rend="inline">ProgHist-Textos</code> y borra el archivo original escribiendo:</p>
                    <p>
                        <code rend="inline">rm tolstoy.txt</code>
                    </p>
                    <p>Confirma que el archivo desapareció ejecutando el comando <code rend="inline">ls</code>.</p>
                    <p>Si quieres borrar un directorio completo, tienes dos opciones. Puedes utilizar <code rend="inline">rmdir</code>, el opuesto a <code rend="inline">mkdir</code>, para borrar un diretorio <hi rend="bold">vacío</hi>. Para borrar un directorio con archivos, puedes usar desde el escritorio:</p>
                    <p>
                        <code rend="inline">rm -r ProgHist-Textos</code>
                    </p>
                </div>
                <div type="3">
                    <head>Conclusiones</head>
                    <p>Llegados hasta aquí, seguramente quieras descansar de la terminal. Para ello, escribe <code rend="inline">exit</code> y eso cerrará tu sesión.</p>
                    <p>Hay más comandos para probar a medida que te sientas más cómodo con la línea de comandos. Algunos de nuestros favoritos son <code rend="inline">du</code>, que es una forma de averiguar cuánto espacio del disco se está utilizando (<code rend="inline">du -h</code> lo hace legible a humanos, como con otros comandos). Para aquellos usuarios de OS X, <code rend="inline">top</code> proporciona una visión general de los procesos que se están ejecutando (<code rend="inline">mem</code> en Windows), y <code rend="inline">touch NOMBREDEARCHIVO</code> puede crear un archivo de texto básico en ambos sistemas.</p>
                    <p>En este punto esperamos que tengas una buena comprensión básica de cómo desplazarte usando la línea de comandos, mover archivos y realizar ediciones menores aquí y allá. Esta lección para principiantes está diseñada para darte cierta fluidez y confianza básicas. En el futuro, es posible que quieras atreverte con los <emph>scripts</emph>.</p>
                    <p>¡Que te diviertas! Antes de que te des cuenta, te encontrarás a gusto con la conveniencia y la precisión del uso de la línea de comandos -para ciertas aplicaciones, por lo menos-, mucho más que con la voluminosa GUI que viene con tu sistema. Tu caja de herramientas acaba de hacerse más grande.</p>
                </div>
                <head>Guía de referencia</head>
                <p>Para tu comodidad, aquí están los comandos que acabas de aprender en esta lección:</p>
                <table>
                    <row>
                        <cell role="label">Comando</cell>
                        <cell role="label">Qué hace</cell>
                    </row>
                    <row>
                        <cell>
                            <code rend="inline">pwd</code>
                        </cell>
                        <cell>Imprime el 'directorio actual de trabajo', permitiéndote saber dónde estás.</cell>
                    </row>
                    <row>
                        <cell>
                            <code rend="inline">ls</code>
                        </cell>
                        <cell>Enlista los archivos en el directorio actual.</cell>
                    </row>
                    <row>
                        <cell>
                            <code rend="inline">man *</code>
                        </cell>
                        <cell>Enlista el manual del comando, sustituyendo el <code rend="inline">*</code> por el nombre del comando.</cell>
                    </row>
                    <row>
                        <cell>
                            <code rend="inline">cd *</code>
                        </cell>
                        <cell>Cambia el directorio actual a <code rend="inline">*</code>.</cell>
                    </row>
                    <row>
                        <cell>
                            <code rend="inline">mkdir *</code>
                        </cell>
                        <cell>Crea un directorio llamado <code rend="inline">*</code>.</cell>
                    </row>
                    <row>
                        <cell>
                            <code rend="inline">open</code> or <code rend="inline">explorer</code>
                        </cell>
                        <cell>En OS X, <code rend="inline">open</code> seguido del nombre del archivo lo abre; en Windows, el comando <code rend="inline">explorer</code> seguido por el nombre del archivo hace lo mismo.</cell>
                    </row>
                    <row>
                        <cell>
                            <code rend="inline">cat *</code>
                        </cell>
                        <cell>
                            <code rend="inline">cat</code> es un comando versátil. Leerá un archivo poniendo el nombre en vez de <code rend="inline">*</code>, pero también se utiliza para combinar archivos.</cell>
                    </row>
                    <row>
                        <cell>
                            <code rend="inline">head *</code>
                        </cell>
                        <cell>Muestra las primeras diez líneas de <code rend="inline">*</code>.</cell>
                    </row>
                    <row>
                        <cell>
                            <code rend="inline">tail *</code>
                        </cell>
                        <cell>Muestra las últimas diez líneas de <code rend="inline">*</code>.</cell>
                    </row>
                    <row>
                        <cell>
                            <code rend="inline">mv</code>
                        </cell>
                        <cell>Mueve un archivo.</cell>
                    </row>
                    <row>
                        <cell>
                            <code rend="inline">cp</code>
                        </cell>
                        <cell>Copia un archivo.</cell>
                    </row>
                    <row>
                        <cell>
                            <code rend="inline">rm</code>
                        </cell>
                        <cell>Borra un archivo.</cell>
                    </row>
                    <row>
                        <cell>
                            <code rend="inline">vim</code>
                        </cell>
                        <cell>Abre el editor de documentos <code rend="inline">vim</code>.</cell>
                    </row>
                </table>
            </div>
        </body>
    </text>
</TEI>
