<TEI xmlns="https://tei-c.org/ns/1-0/">
  <metadata>
  <title>Sentiment Analysis with 'syuzhet' using R</title>
  <slug>sentiment-analysis-syuzhet</slug>
  <original>analisis-de-sentimientos-r</original>
  <layout>lesson</layout>
  <collection>lessons</collection>
  <date>2021-03-23</date>
  <translation_date>2023-04-01</translation_date>
  <authors>Jennifer Isasi</authors>
  <translator>Adam Crymble</translator>
  <editors>Maria Jos&#233; Afanador-Llach</editors>
  <reviewers>Riva Quiroga</reviewers>
  <translation-editor>Rolando Rodriguez</translation-editor>
  <translation-reviewer>Shuang Du,Andrew Janco</translation-reviewer>
  <review-ticket>https://github.com/programminghistorian/ph-submissions/issues/478</review-ticket>
  <difficulty>2</difficulty>
  <activity>analyzing</activity>
  <topics>distant-reading,r,data-visualization</topics>
  <abstract>This lesson teaches you how to obtain and analyse narrative texts for patterns of sentiment and emotion.</abstract>
  <avatar_alt>Engraving of three faces expressing different emotions</avatar_alt>
  <doi>10.46430/phen0110</doi>
</metadata>
  <text xml:lang="en">
    <body>
      <div type="2"><head>Lesson Objectives</head>
<p>This lesson introduces you to the <link target="https://perma.cc/9DNJ-ZWPW"><code type="inline">syuzhet</code></link> <link target="https://perma.cc/A92Q-PM4D">sentiment analysis</link> algorithm, written by <link target="https://perma.cc/9PF8-3GZ4">Matthew Jockers</link> using the <link target="https://perma.cc/W78Z-FUAX">R programming language</link>, and applies it to a single narrative text to demonstrate its research potential. The term 'syuzhet' is Russian (&#1089;&#1102;&#1078;&#1077;&#769;&#1090;) and translates roughly as 'plot', or the order in which events in the narrative are presented to the reader, which may be different than the actual time sequence of events (the '<link target="https://perma.cc/M7C9-XT99">fabula</link>'). The <code type="inline">syuzhet</code> package similarly considers sentiment analysis in a time-series-friendly manner, allowing you to explore the developing sentiment in a text across the pages.</p>
<p>To make the lesson useful for scholars working with non-English texts, this tutorial uses a Spanish-language novel, <emph><link target="https://perma.cc/G6V3-JCWS">Miau</link></emph> by <link target="https://perma.cc/9P3P-2FQP">Benito P&#233;rez Gald&#243;s</link> (1888) as its case study. This allows you to learn the steps necessary to work with everything from accented characters to thinking through the intellectual problems of applying English language algorithms to non-English texts. You do not need to know Spanish to follow the lesson (though you will if you want to read the original novel). Some steps in the following instructions may not be necessary if you are working with English-language texts, but those steps should be self-evident.</p>
<p>Although the lesson is not intended for advanced R users, it is expected that you will have some knowledge of R, including an expectation that you already have <link target="https://www.r-project.org/">R installed</link> and that you know how to load R packages. The author recommends downloading <link target="https://www.rstudio.com/">RStudio</link> as a user-friendly environment for working in R. If you have not used R before, you may first want to try working through some of the following introductory R lessons:</p>
<ul>
<li>Taylor Arnold and Lauren Tilton, '<link target="/en/lessons/basic-text-processing-in-r">Basic Text Processing in R</link>', <emph>Programming Historian</emph> 6 (2017), <link target="https://doi.org/10.46430/phen0061">https://doi.org/10.46430/phen0061</link></li>
<li>Taryn Dewar, '<link target="/en/lessons/r-basics-with-tabular-data">R Basics with Tabular Data</link>', <emph>Programming Historian</emph> 5 (2016), <link target="https://doi.org/10.46430/phen0056">https://doi.org/10.46430/phen0056</link> </li>
<li>Nabeel Siddiqui, '<link target="/en/lessons/data_wrangling_and_management_in_R">Data Wrangling and Management in R</link>', <emph>Programming Historian</emph> 6 (2017), <link target="https://doi.org/10.46430/phen0063">https://doi.org/10.46430/phen0063</link> </li>
</ul>
<p>You may also be interested in other sentiment analysis lessons:</p>
<ul>
<li>Zo&#235; Wilkinson Salda&#241;a, '<link target="/en/lessons/sentiment-analysis">Sentiment Analysis for Exploratory Data Analysis</link>,' <emph>Programming Historian</emph> 7 (2018), <link target="https://doi.org/10.46430/phen0079">https://doi.org/10.46430/phen0079</link></li>
<li>Matthew Jockers, '<link target="https://perma.cc/9BN2-F3N3">Introduction to the Syuzhet Package</link>' (2020). </li>
</ul>
<p>At the end of the lesson you will be able to:</p>
<ul>
<li>Develop appropriate research questions that apply sentiment analysis to literary or narrative texts</li>
<li>Use the R programming language, RStudio, and the <code type="inline">syuzhet</code> package with the <link target="https://perma.cc/A8M5-2SDG">NRC Word-Emotion Association Lexicon</link> to generate sentiment scores for words in texts of various languages</li>
<li>Critically interpret the results of your sentiment analysis</li>
<li>Visualise the results through a range of graphs (bar, word cloud) to aid interpretation</li>
</ul>
<p>This lesson was written and tested using version 4.2.x of R using a Mac and on 4.0.x using a Windows machine.</p>
<blockquote>
<p>Generally, R works the same on Windows, Mac, and Linux operating systems. However, when working on a Windows machine with non-English texts or those containing accents or special characters, you will need to include some extra instructions to apply <link target="https://perma.cc/5HY2-HHN2">UTF-8</link> character encoding to ensure special characters are properly interpreted. Where this is a necessary step, it is shown below.</p>
</blockquote>
<p class="alert alert-warning" style="alert alert-warning">
Translator's Note for Educators:
<p>A number of steps in this tutorial require loading / running time that may exceed 15 to 30 minutes during which participants have to wait. This may affect your ability to use the tutorial in a time-limited live event such as a workshop. Note also that to use this tutorial in a workshop setting, participants will need the ability to install software on their machine.</p>
</p>
</div>
      <div type="2"><head>Background Information</head>
<p>This section introduces the concepts and the software that you will use to perform a sentiment analysis of a text. It also introduces the case study document, the novel <emph>Miau</emph> by Benito P&#233;rez Gald&#243;s, and the ways you can apply sentiment analysis meaningfully to a text such as <emph>Miau</emph>.</p>
<div type="3"><head>Sentiment Analysis</head>
<p>Sentiment analysis, also known as opinion mining, is an umbrella term for a number of processes for automatically calculating the degree of negativity or positivity in a text. It has been used for some time in the fields of marketing and politics to better understand the public mood;<ref type="footnotemark" target="#1"/> however, its adoption in literary studies is more recent and as of yet no one method dominates use.<ref type="footnotemark" target="#2"/> Some approaches to sentiment analysis also enable you to measure the presence of a number of different emotions in a text, as will be the case for the example in this tutorial.</p>
<p>What is the difference between 'emotion' and 'sentiment'? The two words are often used interchageably in English but refer to different concepts.</p>
<p>According to Antonio R. Damasio, 'emotions' are the biologically rooted, instinctive reactions of our bodies to environmental stimuli.<ref type="footnotemark" target="#3"/> There is no universally agreed list of basic emotions, however a common model includes six: anger (or rage), joy, disgust (or revulsion), fear, sadness, and surprise -- though for Damasio the last of those falls into a category he would describe as a '<link target="https://perma.cc/Y675-4C52">secondary emotion</link>'. In the case of the automated system that you will use, the secondary emotions 'anticipation' and 'trust' are also options for analysis.</p>
<p>'Sentiment', on the other hand, is both the action of and effect of feeling an emotion. In other words, as &#211;scar Pereira Zazo notes, 'when an object, a person, a situation, or a thought brings us joy, it begins a process that can lead to the feeling of being joyful or happy'.<ref type="footnotemark" target="#4"/> Sentiment analysis suggests that you can measure the intensity of this effect (either positive, negative, or neutral) on the manifestation of an emotion.</p>
<p>This lesson distiguishes between the two terms as described above. The effect (sentiment) will be measured as it evolves across the pages of the text, while the emotions will be measured by looking at word use more generally.</p>
</div><div type="3"><head>NRC Word-Emotion Association Lexicon</head>
<p>Many sentiment analysis algorithms depend upon pre-compiled lexicons or dictionaries that assign numerical sentiment scores to words or phrases based on findings from previous linguistic research. The R package <code type="inline">syuzhet</code> has been designed to allow you to choose from four of these sentiment lexicons: <link target="https://perma.cc/G9RV-RA82">Bing</link>, <link target="https://perma.cc/GZB2-J2RH">Afinn</link>, <link target="https://perma.cc/TK8L-44ZW">Stanford</link>, and the <link target="https://perma.cc/A8M5-2SDG">NRC Word-Emotion Association Lexicon</link>.<ref type="footnotemark" target="#5"/> This lesson uses the NRC lexicon, as it is the only one of the four that can currently be used with non-English texts.</p>
<p>This lexicon, which includes positive and negative sentiment values as well as eight emotional categories, was developed by Saif M. Mohammad, a scientist at the National Research Council Canada (NRC). The dataset that forms the lexicon has been manually annotated using the <link target="https://perma.cc/KWW4-AFJ4">Maximum Difference Scaling</link> technique, or MaxDiff, to determine the most negative or positive sets of words relative to other words -- a sort of ranking of sentiment intensity of words.<ref type="footnotemark" target="#6"/> This particular lexicon has 14,182 unigrams (words) classified as either positive or negative. It also classifies a word's connection to various emotions: anger, anticipation, disgust, fear, joy, sadness, surprise, and trust. Using automatic translation, which may lack linguistic nuance in unpredictable ways, it is available in more than one hundred languages.</p>
<p>The license on the dataset allows free use of the NRC lexicon for research purposes. All data is available for download.</p>
<p>The <link target="https://perma.cc/A8M5-2SDG">NRC Word-Emotion Association Lexicon</link> website outlines the different categories and classifications in the dataset. It also provides a number of resources that can help you to better understand how the lexicon was built, including links to published research, more information on obtaining values for individual words, the organisation of the dataset, and how to extend it.</p>
</div><div type="3"><head>The <code type="inline">syuzhet</code> R Package</head>
<p>The <link target="https://cran.r-project.org/web/packages/syuzhet/vignettes/syuzhet-vignette.html">R package</link> <code type="inline">syuzhet</code> was released in 2015 by Matthew Jockers; at the time of writing it is still being actively maintained (we use version 1.0.6, the November 2020 release, in this lesson). </p>
<p>If you intend to use the software on non-English texts, you should be aware that the package has been developed and tested in English, and it has not been received without controversy, including from <link target="https://perma.cc/TYT3-5DTU">Annie Swafford</link> who challenged some of the algorithm's assumptions about text and the use of <code type="inline">syuzhet</code> in a research setting. This included concerns about incorrectly splitting sentences involving quotation marks, and problems with using a sentiment lexicon designed for modern English on a historic text that uses the same words in slightly different ways. Assigning concrete values of measurement to literary texts, which are by their nature quite subjective, is always challenging and potentially problematic. A series of archived blog entries by Jockers outline <link target="https://web.archive.org/web/20190708100723/http://www.matthewjockers.net/page/2/">his thoughts on the method and address some of the criticisms</link> about the degree to which sentiment can accurately be measured when sometimes even humans disagree on a passage of text's effects on the reader. </p>
<blockquote>
<p>Some Research Warnings: The lexicon assigns values to individual words which are used as the basis for conducting the quantitative analysis. Those values were assigned by humans working in North America and may carry English-language and North American cultural biases. Researchers must therefore take several things into account before applying this methodology in their work:</p>
<ul>
<li>The Spanish lexicon (and other non-English versions) is a direct translation carried out via machine translation. In the author's opinion, these systems are already fairly reliable when translating between English and Spanish but less so for other languages that NRC claims to be operable with, including Basque, for example.</li>
<li>The sentiment and emotion scores of each word need to be understood in cultural and temporal context. A term that the people building the NRC lexicon labelled positive may be negative in other contexts. This type of approach is therefore inherently coarse in its ability to reflect a <emph>true</emph> reading of the texts as conducted by a subject specialist through close reading.</li>
<li>The author does not recommend the use of this methodology in texts that are significantly metaphorical or symbolic.</li>
<li>This particular method does not properly handle negation. For example, it will wrongly classify 'I am not happy' as positive because it looks at individual words only. Research by Richard Socher (2014) has attempted to improve issues of negation in sentiment analysis, and may be worth exploring for those with a genuine research need.<ref type="footnotemark" target="#7"/>
Following the spirit of adaptability of <emph>Programming Historian</emph> lessons in other languages, the author has decided to use <code type="inline">syuzhet</code> in its original form; however, at the end of the lesson you will be introduced to some advanced functions that will help you use your own sentiment dictionary with the package.</li>
</ul>
</blockquote>
<p>As this tutorial works with emotion of a Spanish text, Table 1 provides a simple translation matrix of the key emotion names for ease of reference.</p>
<p>Table 1: Emotion categories in English and Spanish</p>
<table>
<thead>
<tr>
<th>English</th>
<th>Spanish</th>
</tr>
</thead>
<tbody>
<tr>
<td>anger</td>
<td>enfado</td>
</tr>
<tr>
<td>anticipation</td>
<td>anticipaci&#243;n</td>
</tr>
<tr>
<td>disgust</td>
<td>disgusto</td>
</tr>
<tr>
<td>fear</td>
<td>miedo</td>
</tr>
<tr>
<td>joy</td>
<td>alegr&#237;a</td>
</tr>
<tr>
<td>sadness</td>
<td>tristeza</td>
</tr>
<tr>
<td>surprise</td>
<td>sorpresa</td>
</tr>
<tr>
<td>trust</td>
<td>confianza</td>
</tr>
<tr>
<td>negative</td>
<td>negativo</td>
</tr>
<tr>
<td>positive</td>
<td>positivo</td>
</tr>
</tbody></table></div><div type="3"><head>A Brief Example</head>
<p>Before diving into the full analysis of our text <emph>Miau</emph>, we offer a short example of sentiment analysis in action, using <code type="inline">syuzhet</code> together with the NRC lexicon, focusing on the outputs instead of the code. This analysis uses R and prompts you to <link target="https://perma.cc/243B-E9M7">tokenise</link> the text into a list of single-word strings (unigrams) that are then analysed one at a time. Sentence-level analysis is also possible in sentiment analysis, but is not the focus of this tutorial.</p>
<p>Consider the analysis of the final passage from <emph>Miau</emph>:</p>
<blockquote>
<p><hi rend="bold">Spanish Original</hi>: Retumb&#243; el disparo en la soledad de aquel abandonado y tenebroso lugar; Villaamil, dando terrible salto, hinc&#243; la cabeza en la movediza tierra, y rod&#243; seco hacia el abismo, sin que el conocimiento le durase m&#225;s que el tiempo necesario para poder decir: &#171;Pues... s&#237;...&#187;.</p>
<p><hi rend="bold">Rough English Translation</hi>: The shot boomed out in the solitude of that abandoned and gloomy space; Villaamil, taking a terrible leap, bowed his head to the moving earth and rolled towards the abyss, his awareness lasting no longer than the time necessary to say: 'Well...yes...'.</p>
<p><emph>Miau</emph> by Benito P&#233;rez Gald&#243;s.</p>
</blockquote>
<p>This passage will be transformed into a list of words:</p>
<pre><code class="language-R" xml:id="code_sentiment-analysis-syuzhet_0" type="block" corresp="code_sentiment-analysis-syuzhet_0.txt"></code></pre>
<p>Using the sentiment analysis function, you then calculate the eight emotions as classified by NRC, as well as the positive and negative scores of each word. The following is the result for the first few words in this short passage:</p>
<pre><code class="language-R" xml:id="code_sentiment-analysis-syuzhet_1" type="block" corresp="code_sentiment-analysis-syuzhet_1.txt"></code></pre>
<p class="alert alert-warning" style="alert alert-warning">
Translator's Note:
R will not translate these into English for you, but to make the tutorial easier to follow for English speakers, the same output would look like the following if the passage was in English (notice that when translating word-by-word the results are slightly different than when translating whole passages, as above):
</p>
<pre><code class="language-R" xml:id="code_sentiment-analysis-syuzhet_2" type="block" corresp="code_sentiment-analysis-syuzhet_2.txt"></code></pre>
<p>The results are returned in a <link target="https://perma.cc/ER4M-WRRC">data frame</link>. Using this scoring system, every word in our human languages has a default value of 0 indicating no connection to the corresponding emotion. Any words not in the NRC lexicon will be treated by the code as if they have values of 0 for all categories. Any word with a scores greater than 0 indicates that it is both present in the NRC lexicon, and that it has been assigned a value by the researchers responsible for that lexicon indicating the strength of its connection to one of the emotional categories.</p>
<p>In this example we can see that the words 'disparo' (shot), 'soledad' (solitude), 'abandonado' (abandoned), and 'terrible' (terrible) have a negative score associated with them (second-to-last column), while 'dando' (taking) is judged as a positive word (last column). </p>
<p>We are also able to see which emotions each word is connected to: 'disparo' (shot) is associated with <emph>anger</emph> (3), <emph>fear</emph> (2), <emph>sadness</emph> (2), and <emph>surprise</emph> (1). Higher numbers mean greater strength of the connection to that emotion.</p>
<p>The possibilities of exploring, analysing, and visualising these results depend on your programming skills, but also your research needs. To help you reach your potential with sentiment analysis, this lesson introduces you how to analyse data and build understanding of the results through various visualisations.</p>
</div><div type="3"><head>Appropriate Research Questions</head>
<p>As already stated, in this lesson, you will analyse the Spanish novel <emph>Miau</emph> by <link target="https://perma.cc/9P3P-2FQP">Benito P&#233;rez Gald&#243;s</link>, published in 1888. Known for his Spanish realist novels, this particular P&#233;rez Gald&#243;s story takes place in Madrid at the end of the nineteenth century and satirises the government administration of the day. In a kind of tragic comedy, we witness the final days of Ram&#243;n Villaamil after becoming unemployed, while his family is trying to stretch their meagre budget while keeping up the pretence of wealthy living. Villaamil's spiral of misfortune and his inability to find a new job ends in tragedy.</p>
<p>From a research standpoint, the question is: Can we observe the emotional downward spiral of this plot through an automatic extraction of sentiment in the text? Does a human reader's interpretation of the negative experiences of Villaamil match the results of the algorithm? And if so, what words within the novel are used most to signal the emotional trajectory of the story?</p>
</div></div>
      <div type="2"><head>Obtaining Sentiment and Emotion Scores</head>
<p>The process of conducting the sentiment analysis is a four stage affair. First, code must be installed and loaded into the R environment of your choice. Then, you must load and pre-process the text you want to analyse. Then you conduct your analysis. Finally, you turn your attention to interpreting the results.</p>
<div type="3"><head>Install and Load Relevant R Packages</head>
<p>Before processing the text, you must first install and load the correct R code packages. In this case, that includes <link target="https://cran.r-project.org/web/packages/syuzhet/vignettes/syuzhet-vignette.html"><code type="inline">syuzhet</code></link>. You will also be visualising the results, which will require a number of other R packages: <link target="https://cran.r-project.org/web/packages/RColorBrewer/index.html"><code type="inline">RColorBrewer</code></link>, <link target="https://perma.cc/GM67-HBH3"><code type="inline">wordcloud</code></link>, <link target="https://perma.cc/T2JG-LEBJ"><code type="inline">tm</code></link> and <link target="https://perma.cc/NS79-H5DH"><code type="inline">NLP</code></link>.</p>
<p>To install and load these packages, copy and execute the sample code below in your chosen R coding environment. The first few lines will install the packages (only needed if you haven't already got the packages installed). The second set of lines will load them so that you can use them in your programme. The installation of these packages may take a few minutes.</p>
<pre><code class="language-R" xml:id="code_sentiment-analysis-syuzhet_3" type="block" corresp="code_sentiment-analysis-syuzhet_3.txt"></code></pre>
</div><div type="3"><head>Load and Prepare the Text</head>
<p>Next, download a machine readable copy of the novel: <link target="/assets/sentiment-analysis-syuzhet/galdos_miau.txt"><emph>Miau</emph></link> and make sure to save it as a .txt file. When you open the file you will see that the novel is in <link target="https://perma.cc/Z5WH-V9SW">plain text</link> format, which is essential for this particular analysis using R.</p>
<p>With the text at hand, you first need to load it into R as one long string so that you can work with it programmatically. Make sure to replace <code type="inline">FILEPATH</code> with the location of the novel on your own computer (don't just type 'FILEPATH'). This loading process is slightly different on Mac/Linux and Windows machines:  </p>
<div type="4"><head>On Mac and Linux</head>
<p>You can <link target="https://perma.cc/ZXZ8-FZHG">find the FILEPATH</link> using your preferred method. The final format on my computer is <code type="inline">/Users/Isasi/Desktop/miau.txt</code></p>
<p>On a Mac/Linux machine, use the function <code type="inline">get_text_as_string</code>, which is part of the <code type="inline">syuzhet</code> package:</p>
<pre><code class="language-R" xml:id="code_sentiment-analysis-syuzhet_4" type="block" corresp="code_sentiment-analysis-syuzhet_4.txt"></code></pre>
</div><div type="4"><head>On Windows</head>
<p>You can <link target="https://perma.cc/N9R4-HEJY">find the FILEPATH</link> using your preferred method. The final format on my computer is <code type="inline">C:\\Users\\Isasi\\Desktop\\miau.txt</code></p>
<p>The Windows operating system cannot directly read characters with tildes, accents, or from extended alphabet sets, all of which are commonly used in languages such as Spanish, French, and Portuguese. Therefore we must first alert the software that our novel uses the <link target="https://perma.cc/5HY2-HHN2">UTF-8</link> set of characters (which includes accents and many other non-English characters). We do this using the <code type="inline">scan</code> function.</p>
<blockquote>
<p>Note that when typing your filepath, you may need to escape the backslashes (<code type="inline">\</code>) in the filepath. To do this, just add a second backslash each time it appears in the path. (E.g. "<code type="inline">C:\\...</code>"</p>
</blockquote>
<pre><code class="language-R" xml:id="code_sentiment-analysis-syuzhet_5" type="block" corresp="code_sentiment-analysis-syuzhet_5.txt"></code></pre>
<p>Now that the data has loaded, you have to format it in the way the sentiment analysis algorithm expects to receive it. In this particular case, that is as a <link target="https://perma.cc/LPV9-XGX8">list</link> containing either single words or sentences (here you will focus on individual words only).</p>
<p>This means you need an intermediate step between loading the text and extracting the sentiment values. To meet this need, we will divide the character string into a list of words, sometimes also referred to as <link target="https://perma.cc/FX4C-ZLYB">unigrams</link> or <link target="https://perma.cc/V6UY-KKVK">tokens</link>.</p>
<p>To do this you can use the package's built-in <code type="inline">get_tokens()</code> function to generate a new data object containing each individual word as a list. This function also removes spaces and punctuation from the original text. This approach to tokenisation uses <link target="https://perma.cc/W7YD-K3R7">regular expressions</link> and is not always appropriate in all use cases. It will, for example, split hyphenated words into two. Depending on your text, you should consider the implications of your chosen method of tokenisation as you can use any method you like as long as the output is in the same format as in the example below.</p>
<pre><code class="language-R" xml:id="code_sentiment-analysis-syuzhet_6" type="block" corresp="code_sentiment-analysis-syuzhet_6.txt"></code></pre>
<p>Now you can use the <code type="inline">length()</code> function to count how many words are in the original text:</p>
<pre><code class="language-R" xml:id="code_sentiment-analysis-syuzhet_7" type="block" corresp="code_sentiment-analysis-syuzhet_7.txt"></code></pre>
<p>If you want to analyse the text by sentence, use the <code type="inline">get_sentences()</code> function and follow the same proccess except for creating the word cloud below:</p>
<pre><code class="language-R" xml:id="code_sentiment-analysis-syuzhet_8" type="block" corresp="code_sentiment-analysis-syuzhet_8.txt"></code></pre>
</div></div><div type="3"><head>Extracting Data with the NRC Sentiment Lexicon</head>
<p>Now you can use the <code type="inline">get_nrc_sentiment</code> function to obtain the sentiment scores for each word in the novel. The default vocabulary for the software is English. Since this text is in Spanish, you will use the <code type="inline">lang</code> argument to set the vocabulary to Spanish. This would not be necessary if working on an English text. Then you will create a new data object to store the extracted data so that you can work with it further. This <code type="inline">get_nrc_sentiment</code> function searches for the presence of the eight emotions and two sentiments against each word in your list, and assigns each a number greater than 0 if the word is found within the NRC's lexicon. Depending on the speed of your computer and the nature of your text, this process may take between 15 and 30 minutes.</p>
<pre><code class="language-R" xml:id="code_sentiment-analysis-syuzhet_9" type="block" corresp="code_sentiment-analysis-syuzhet_9.txt"></code></pre>
<p>You can also use this package with <link target="https://perma.cc/9BN2-F3N3">a range of other languages</link>, though the 2020 release only works on languages with Latin-based alphabets. Other lessons that can be substituted for <code type="inline">spanish</code> in the above line of code are: <code type="inline">basque</code>, <code type="inline">catalan</code>, <code type="inline">danish</code>, <code type="inline">dutch</code>, <code type="inline">english</code>, <code type="inline">esperanto</code>, <code type="inline">finnish</code>, <code type="inline">french</code>, <code type="inline">german</code>, <code type="inline">irish</code>, <code type="inline">italian</code>, <code type="inline">latin</code>, <code type="inline">portuguese</code>, <code type="inline">romanian</code>, <code type="inline">swedish</code>, and <code type="inline">welsh</code>. We can hope that the functionality will improve in future to include more languages.</p>
<p>Some users reported getting a warning message when the code finished running. At the time of writing this is a warning that the <code type="inline">syuzhet</code> codebase may need to be updated in future, but should not affect your ability to use it at present. The warning was that "spread_() was deprecated in tidyr 1.2.0. Please use spread() instead. The deprecated feature was likely used in the syuzhet package. Please report the issue to the authors." In this case, only Matthew Jockers can fix the error, as it is an issue with the code he created, not with your instructions to run it.</p>
<p>When the process finishes, you may want to verify the contents of the new data object. To avoid printing thousands of lines of text, you can use the <code type="inline">head()</code> function to show only the first six unigrams. If you are following the example, you should see the following (which is lacking in context at this point).</p>
<pre><code class="language-R" xml:id="code_sentiment-analysis-syuzhet_10" type="block" corresp="code_sentiment-analysis-syuzhet_10.txt"></code></pre>
<div type="4"><head>Summary of the Text</head>
<p>More interesting is a summary of the values associated with each of the six emotions and two sentiments, which can be displayed using the <code type="inline">summary()</code> function. This can be very useful when comparing various texts, and can allow you to see different measures, such as the average relative value of each of the emotions and the two sentiments. For example, we can see that the novel <emph>Miau</emph> on average (<link target="https://perma.cc/5NKH-2TYV">mean</link>), uses more positive (0.05153) language than negative (0.04658), according to the algorithm. However, it seems that terms associated with sadness (0.02564) are also more prevalent than those associated with joy (0.01929).</p>
<p>This summary output also shows a number of other calculations, many of which have a value of 0, including the <link target="https://perma.cc/KB36-B855">median</link>. Words that are not found in the sentiment lexicon (NRC) will automatically be treated as if they have a value of 0. Because there are a lot of categories and the story is quite complex, it is not surprising that no one emotion or sentiment has distinctively high statistical values. This makes the minimum, maximum, and mean the most useful measures from this summary output.</p>
<pre><code class="language-R" xml:id="code_sentiment-analysis-syuzhet_11" type="block" corresp="code_sentiment-analysis-syuzhet_11.txt"></code></pre>
</div></div></div>
      <div type="2"><head>Interpreting the Results</head>
<p>You now have the quantitative results of your sentiment analysis of a text. Now, what can you do with these numbers? This section introduces three different visualisations of the data: bar charts, word counts, and word clouds, which offer quick but different ways of making sense of the outputs and telling a story or forming an argument about what you've discovered.</p>
<div type="3"><head>Bar Chart by Emotion</head>
<p>To quickly get a sense of which emotions have a major presence in the text, a bar chart is both a simple and effective format for displaying your data (Figure 1). The built-in <link target="https://perma.cc/5DXU-CYS9"><code type="inline">barplot()</code></link> function can be paired with the summary data of each of the emotions: <emph>anger</emph>, <emph>anticipation</emph>, <emph>disgust</emph>, <emph>fear</emph>, <emph>joy</emph>, <emph>sadness</emph>, <emph>surprise</emph>, and <emph>trust</emph>. These are stored in columns 1 to 8 of our data table. This approach of displaying the data uses the <code type="inline">prop.table()</code> function with the results of each of the emotion words to present the results.<ref type="footnotemark" target="#8"/></p>
<pre><code class="language-R" xml:id="code_sentiment-analysis-syuzhet_12" type="block" corresp="code_sentiment-analysis-syuzhet_12.txt"></code></pre>
<p>The rest of the parameters that you can see in the code are optional and have been added to help you learn how to customise the graph outputs. They include indicating the space between the bars (<code type="inline">space = 0.2</code>), that the chart should include vertical not horizontal bars (<code type="inline">horiz=FALSE</code>), and that the values on the axis should increase in units of 1 (<code type="inline">las=1</code>). We also reduce the font size of the labels (<code type="inline">cex.names = 0.7</code>) to make sure they fit nicely on the screen. Thanks to the <link target="https://perma.cc/BHK9-AY7S"><code type="inline">RColorBrewer</code></link> package that we installed and loaded at the beginning of the lesson, we can automatically colour the columns. In this case we've used the <code type="inline">brewer.pal</code> colour palette from <code type="inline">Set3</code>, and specified we need 8 colours (<code type="inline">n=8</code>) &#8211; one colour per columnn. You can learn more about <code type="inline">RColorBrewer</code> and its options on <link target="https://perma.cc/4EHL-P8E9">the documentation page for that package</link>. Finally, we add a title and subtitle to the graph using the <code type="inline">main</code> and <code type="inline">sub</code> parameters, along with the word <code type="inline">emotions</code> on the X axis. We have not added a label to the Y axis, but you could do so if you wished by following the model above.</p>
<figure><desc>Figure 1: Bar chart showing the calculated scores of six emotions and two sub-emotions measured in the novel 'Miau' by P&#233;rez Gald&#243;s.</desc><graphic url="tr-en-analisis-de-sentimientos-r-1.png" alt="Bar chart showing the calculated scores of six emotions and two sub-emotions measured in the novel &#8216;Miau&#8217; (1907) by P&#233;rez Gald&#243;s. The emotions are anger, anticipation, disgust, fear, joy, sadness, surprise, and trust. The &#8216;trust&#8217; bar is the tallest, followed by &#8216;sadness&#8217; and &#8216;fear&#8217;, while &#8216;disgust&#8217; and &#8216;surprise&#8217; are the shortest. This is included because it shows the relative outputs of the sentiment analysis algorithm across these seven emotions."/></figure>
<p>If you are not interested in modifying these parameters, you could create a bar chart with default styling using the following code:</p>
<pre><code class="language-R" xml:id="code_sentiment-analysis-syuzhet_13" type="block" corresp="code_sentiment-analysis-syuzhet_13.txt"></code></pre>
<blockquote>
<p>Make sure you have enough space in the display window for the graph to draw properly, including space for the labels.</p>
</blockquote>
<p>This information already indicates to us that the <emph>sadness</emph> and <emph>fear</emph> emotions are more prevalent than those of <emph>disgust</emph> or <emph>surprise</emph>. But what words does Gald&#243;s use to express <emph>fear</emph>? And how often does each emotionally charged word appear in the novel?</p>
</div><div type="3"><head>Counting Words by Emotion</head>
<p>One of the measures you can calculate using sentiment analysis is the frequency of words appearing in the text and how those words relate with each emotional category. To start with, you need to create a data object with all of the words that have a value greater than 0 -- in this case you will start with those corresponding to the <emph>sadness</emph> column. In order to select only that column, use the dollar symbol <code type="inline">$</code> after the name of your <code type="inline">sentiment_scores</code> variable to specify the name of the column you want to work with: <emph>sadness</emph>.</p>
<pre><code class="language-R" xml:id="code_sentiment-analysis-syuzhet_14" type="block" corresp="code_sentiment-analysis-syuzhet_14.txt"></code></pre>
<p>The contents of <code type="inline">sad_words</code> does not tell you much on its own, since it only offers you the list of relevant words without any further context. To also obtain the number of appearances of each 'sadness' word, you can generate a table. To get a quick look of some of the top entries, use the <code type="inline">unlist</code> and <code type="inline">table</code> functions along with the <code type="inline">decreasing</code> argument to display the matches in descending order (if you want ascending order, change TRUE to FALSE); you can create a new table object to print the first twelve words in the list, along with their frequency using the following code (see Table 2 for translations of the Spanish words):</p>
<pre><code class="language-R" xml:id="code_sentiment-analysis-syuzhet_15" type="block" corresp="code_sentiment-analysis-syuzhet_15.txt"></code></pre>
<p>Table 2: English translations of the Spanish words in the preceding code output block</p>
<table>
<thead>
<tr>
<th>Spanish</th>
<th>English</th>
</tr>
</thead>
<tbody>
<tr>
<td>muy</td>
<td>very</td>
</tr>
<tr>
<td>nada</td>
<td>nothing</td>
</tr>
<tr>
<td>pobre</td>
<td>poor</td>
</tr>
<tr>
<td>tarde</td>
<td>late</td>
</tr>
<tr>
<td>mal</td>
<td>bad</td>
</tr>
<tr>
<td>caso</td>
<td>case</td>
</tr>
<tr>
<td>malo</td>
<td>bad</td>
</tr>
<tr>
<td>salir</td>
<td>to leave</td>
</tr>
<tr>
<td>madre</td>
<td>mother</td>
</tr>
<tr>
<td>insignificante</td>
<td>insignificant</td>
</tr>
<tr>
<td>ay</td>
<td>ow!</td>
</tr>
<tr>
<td>culpa</td>
<td>fault</td>
</tr>
</tbody></table><p>If you want to know how many unique words are connected to sadness, you can use the <code type="inline">length</code> function on the newly created <code type="inline">sad_word_order</code> variable: </p>
<pre><code class="language-R" xml:id="code_sentiment-analysis-syuzhet_16" type="block" corresp="code_sentiment-analysis-syuzhet_16.txt"></code></pre>
<p>You can repeat the same operation with the rest of the emotion categories, or those that you are interested in, as well as those with positive or negative sentiment scores. To make sure you understand how to adapt the code, try to obtain the results for the emotion 'joy' and compare them with 'sadness'.<ref type="footnotemark" target="#9"/></p>
<p>Depending on the type of analysis that you want to conduct, this may be an efficient approach. For the purposes of this introductory lesson, you are also going next generate a word cloud to help visualise the terms associated with each emotional category (for demonstration purposes, you will use four).</p>
</div><div type="3"><head>An Emotional Word Cloud</head>
<p>In order to create a word cloud of terms that correspond with each emotion in <emph>Miau</emph>, you are going to first collect all words with an emotion score greater than 0. Similarly to the previous example, you use the <code type="inline">$</code> symbol to specify which column of data (which emotion) you are interested in, indicating that you want entries with a value greater than 0.</p>
<p>If working on a machine running Windows, you will have to indicate to the programme if your text contains accented characters using the following approach:</p>
<div type="4"><head>On Mac and Linux</head>
<pre><code class="language-R" xml:id="code_sentiment-analysis-syuzhet_17" type="block" corresp="code_sentiment-analysis-syuzhet_17.txt"></code></pre>
</div><div type="4"><head>On Windows</head>
<p>Windows needs an additional step to indicate the text is in UTF-8 format, which is done using the <code type="inline">iconv</code> function.</p>
<pre><code class="language-R" xml:id="code_sentiment-analysis-syuzhet_18" type="block" corresp="code_sentiment-analysis-syuzhet_18.txt"></code></pre>
<p>Once you have collected the data for the four target emotions, you can organise it into four separate <code type="inline">documents</code> to use as the basis for creating each of your four word clouds:</p>
<pre><code class="language-R" xml:id="code_sentiment-analysis-syuzhet_19" type="block" corresp="code_sentiment-analysis-syuzhet_19.txt"></code></pre>
<p>Next, you transform the corpus into a term-document matrix using the <code type="inline">TermDocumentMatrix()</code> function. Then you specify that you want the data organised as a matrix using the <code type="inline">as.matrix()</code> function. </p>
<p>To see the first few entries of this output, use the <code type="inline">head</code> function:</p>
<pre><code class="language-R" xml:id="code_sentiment-analysis-syuzhet_20" type="block" corresp="code_sentiment-analysis-syuzhet_20.txt"></code></pre>
<p>Now, rename the numbered columns with the relevant emotion words so that the output is more human-readable. Again, you can see the state of your dataset with the <code type="inline">head</code> function:</p>
<pre><code class="language-R" xml:id="code_sentiment-analysis-syuzhet_21" type="block" corresp="code_sentiment-analysis-syuzhet_21.txt"></code></pre>
<p>Finally, you can visualise these results as a word cloud. The font size of a word in a word cloud is linked to the frequency of its appearance in the document. We can also control a number of other aspects of the word cloud's presentation.</p>
<p>To start, use the <code type="inline">set.seed()</code> function to ensure that while following along your outputs will look the same as in the example (if you don't do this your output will have a randomised pattern and may not match the screenshots herein - which may not be important for your own research results but is helpful when following along). </p>
<p>To generate the cloud itself, use the <link target="https://perma.cc/6QRY-5KBG">comparison.cloud</link> function from the R <code type="inline">wordcloud</code> package. In this example, you will indicate that the object <code type="inline">cloud_tdm</code> will have a non-random word order. You will also specify the colour scheme of each group of words, the title size, and general scale of the visualisation. To make the cloud readable, you will also specify a maximum number of terms. These parameters are all adjustable.</p>
<pre><code class="language-R" xml:id="code_sentiment-analysis-syuzhet_22" type="block" corresp="code_sentiment-analysis-syuzhet_22.txt"></code></pre>
<p>You should get an image similar to Figure 2 although with the location of the words altered since it is generated according to the size of the canvas.</p>
<figure><desc>Figure 2: Word Cloud of most frequent words corresponding to sadness, happiness, anger, and joy in the novel 'Miau' by P&#233;rez Gald&#243;s.</desc><graphic url="tr-en-analisis-de-sentimientos-r-2.png" alt="Word Cloud of most frequent words corresponding to sadness, happiness, anger, and joy in the novel &#8216;Miau&#8217; by P&#233;rez Gald&#243;s. The words are colour-coded to show that they correspond with one of the four emotions, and use a cartesian coordinate system so that all words most closely associated with happiness are in the top left quadrant, sadness in the top right, and so on. Words that are most prevalent in the text appear closest to the centre of the graph. The word &#8216;muy&#8217; (Spanish for &#8216;very&#8217;) is the largest word, and is associated with sadness. This is included because it shows which words are prevalent, and which emotions they are most closely associated with according to the sentiment analysis algorithm."/></figure>
<p>What does the word cloud suggest to you? Surely the connection of 'very' (muy) to the sadness emotion and of 'money' (dinero) to the anger emotion needs further consideration. These less obvious results are exactly what many scholars warn about when thinking about sentiment analysis, and demonstrate why a researcher must always ask if the outcomes of the analysis make sense before trying to draw any research conclusions from them. As noted, the sentiment analysis vocabulary used in this tutorial uses a vocabulary that's been automatically translated from English, and is thus not perfect when used on Spanish-language text.</p>
</div></div><div type="3"><head>Visualising Emotion and Sentiment Across the Progression of a Text</head>
<p>To complement the isolated readings of emotions as above, you can also study the fluctuation of positive and negative sentiment across the text (Figure 3). R provides a way to both normalise and visualise this time-series sentiment analysis data. Since the sentiment analysis algorithm assigns both positive and negative sentiment scores, you need to generate data between a range of -1 (most negative moments) and 1 (most positive moments); 0 is considered neutral. To calculate these scores, you multiply the values in the negative values of the original <code type="inline">sentiment_scores</code> data table by -1 and then add the result to the positive values.</p>
<pre><code class="language-R" xml:id="code_sentiment-analysis-syuzhet_23" type="block" corresp="code_sentiment-analysis-syuzhet_23.txt"></code></pre>
<p>Finally, you can generate a graph with the <code type="inline">simple_plot()</code> function, which is built into the <code type="inline">syuzhet</code> package, and which offers you a choice of two different graphs; the first presents the various measurements calculated by the algorithm, and the second is a normalisation of those measures. The horizontal axis (X axis) presents the text in 100 normalised fragments and the vertical axis (Y axis) shows the strength of the sentiment in the text. Depending on the computing power of your machine, the graph may take 20 to 30 minutes to finish rendering.</p>
<pre><code class="language-R" xml:id="code_sentiment-analysis-syuzhet_24" type="block" corresp="code_sentiment-analysis-syuzhet_24.txt"></code></pre>
<blockquote>
<p>Make sure your graph display window is sized large enough to actually draw the graph. If it isn't you will see the error message: <code type="inline">Error in plot.new() : figure margins too large.</code></p>
</blockquote>
<figure><desc>Figure 3: Evolution of the use of positive and negative sentiment through the novel 'Miau' by P&#233;rez Gald&#243;s</desc><graphic url="tr-en-analisis-de-sentimientos-r-3.png" alt="A pair of line charts that show the rough emotional intensity of positive and negative sentiment across the whole novel. The graphs use a line graph with a solid curving line moving left-to-right to represent the beginning, middle, and end. In this particular novel, a simplified chart shows that the sentiment rises through the first quarter of the story, before diving in the middle and staying low until the end, representing quite a depressing story. A less simplified version shows that the sentiment picks up a few times later in the novel, but dips well into negative sentiment a number of times. This is included because it shows the emotional intensity of the novel over time."/></figure>
<p>Based on Figure 3, you might conclude that the novel <emph>Miau</emph> begins with fairly neutral language, transitions into moments of happiness early on, and moves into some quite negative description in the remaining pages, ending on a negative note, as indicated by the sample sentence we drew upon earlier in the lesson in which Villaamil dies. Anyone who has read the novel will know well the protagonist's despair, so in this case the analysis matches a traditional reading of the text, which answers our research question about whether or not the automated sentiment analysis reflects a close reading of the text.</p>
</div></div>
      <div type="2"><head>Save Your Data</head>
<p>If you want to save the data so that you can come back to it later, you can archive it in comma separates values (<link target="https://perma.cc/64FY-NTSU">CSV</link>) format, using the function <code type="inline">write.csv()</code>. This will save your main data table, <code type="inline">sentiment_scores</code>, which contains the results of the eight emotions and two sentiments we generated, and puts that into a CSV file. You can also add the keyword associated with each row in the left-most column to act as helpful labels.</p>
<pre><code class="language-R" xml:id="code_sentiment-analysis-syuzhet_25" type="block" corresp="code_sentiment-analysis-syuzhet_25.txt"></code></pre>
<p>Now you have all of the tools and knowledge you need to start to analyse your own texts and compare them with each other.</p>
</div>
      <div type="2"><head>Loading your own Sentiment Lexicon</head>
<p>While the above introduction provides you with many tools for exploring sentiment analysis, this tutorial has not presented an exhaustive list of possibilities. </p>
<p>You may be working on a project in which you have already created a sentiment dictionary that you would like to use. Or perhaps you need to be able to customise a vocabulary and its corresponding sentiment scores to apply to a particular cultural or temporal context related to your research. Maybe you're looking to improve upon the automatically translated results of the NRC lexicon used here. In each of those cases, as of mid 2022, you can also load your own lexicon dataset into the software using the <code type="inline">custom</code> function to repeat some of the calculations and visualisations used in this lesson.</p>
<p>To load your own sentiment lexicon, you first have to create or modify a dataframe containing at minimum a column of words and a column containing the corresponding scores for those words, which the author recommends saving in a CSV file format. </p>
<p>Try this example:</p>
<pre><code class="language-R" xml:id="code_sentiment-analysis-syuzhet_26" type="block" corresp="code_sentiment-analysis-syuzhet_26.txt"></code></pre>
<p>Next, to load your saved data from a CSV file, use the <code type="inline">read.csv</code> function, which will create a new dataset that you can access in R just as you have in the above examples (change 'FILEPATH' to the full location of your CSV file):</p>
<pre><code class="language-R" xml:id="code_sentiment-analysis-syuzhet_27" type="block" corresp="code_sentiment-analysis-syuzhet_27.txt"></code></pre>
<p class="alert alert-warning" style="alert alert-warning">
Warning: If you get an error message 'incomplete final line found by readTableHeader', this indicates that your CSV file has not formatted properly and lacks an 'end of line' character at the end of the file. The easiest way to correct this is to open your CSV file in a text editor (not MS Word), scroll to the end of the file, press return, and re-save the file. <link target="https://perma.cc/3KDL-DNAL">A fuller explanation of this error is available on Stack Overflow</link>.
</p>
<p>If you want to visualise sentiment across the progression of a text, you can use the <code type="inline">plot</code> function, which uses the same graphing parameters that you've already learned:</p>
<pre><code class="language-R" xml:id="code_sentiment-analysis-syuzhet_28" type="block" corresp="code_sentiment-analysis-syuzhet_28.txt"></code></pre>
<p>Keep in mind that this form of customised analysis is limited, and that you may not be able to perform all of the same operations that we introduced above. For example, following the model example with your own dictionary, as you would not have information about emotions you would not be able to make a word cloud in the same way.</p>
</div>
      <div type="2"><head>Works Cited</head>
<ul>
<li>Arnold, Taylor, and Lauren Tilton. 'Basic Text Processing in R', <emph>Programming Historian</emph> 6 (2017), <link target="https://doi.org/10.46430/phen0061">https://doi.org/10.46430/phen0061</link></li>
<li>Damasio, Antonio R. <emph>El error de Descartes: La raz&#243;n de las emociones</emph> (Andres Bello, 1999).</li>
<li>Dewar, Taryn. 'R Basics with Tabular Data', <emph>Programming Historian</emph> 5 (2016), <link target="https://doi.org/10.46430/phen0056">https://doi.org/10.46430/phen0056</link>.</li>
<li>Gottschalk, Louis, and Goldine Gleser. <emph>The Measurement of Psychological States through the Content Analysis of Verbal Behaviour</emph> (University of California, 1969).</li>
<li>Heuser, Ryan, Franco Moretti, Erik Steiner. 'The Emotions of London' <emph>Stanford Literary Lab</emph>, Pamphlet 13 (2016) 1-10.</li>
<li>Hu, Minqing, and Bing Liu, 'Mining and Summarizing Customer Reviews.', <emph>Proceedings of the ACM SIGKDD International Conference on Knowledge Discovery &amp; Data Mining</emph> (KDD-2004), 2004.</li>
<li>Jockers, Matthew. 'Introduction to the Syuzhet Package' <emph>CRAN</emph> (2020), <link target="https://cran.r-project.org/web/packages/syuzhet/vignettes/syuzhet-vignette.html">https://cran.r-project.org/web/packages/syuzhet/vignettes/syuzhet-vignette.html</link>.</li>
<li>Jockers, Matthew. 'Some thoughts on Annie's thoughts...about Syuzhet' <emph>Matthew L. Jockers</emph> (2015), <link target="https://web.archive.org/web/20190708100723/http://www.matthewjockers.net/page/2/">http://www.matthewjockers.net/page/2/</link>.</li>
<li>Leemans, Inger, Janneke M. van der Zwaan, Isa Maks, Erika Kujpers, Kristine Steenberge. 'Mining Embodied Emotions: A Comparative Analysis of Sentiment and Emotion in Dutch Texts, 1600-1800' <emph>Digital Humanities Quarterly</emph> 11 (2017).</li>
<li>Liu, Bing. <emph>Sentiment Analysis and Opinion Mining</emph> (Morgan &amp; Claypool, 2012).</li>
<li>Meder, Theo, Dong Nguyen, Rilana Gravel. &#8216;The Apocalypse on Twitter&#8217; <emph>Digital Scholarship in the Humanities</emph> 31 (2016), 398-410. </li>
<li>Mohammad, Saif. 'NRC Word-Emotion Association Lexicon', <emph>National Research Council Canada</emph> (2010), <link target="https://perma.cc/A8M5-2SDG">https://saifmohammad.com/WebPages/NRC-Emotion-Lexicon.htm</link>.</li>
<li>Mohammad, Saif, and Peter D. Turney. 'Crowdsourcing a Word&#8211;Emotion Association Lexicon' <emph>Computational Intelligence</emph> 29 (2013): 436-465, doi: 10.1111/j.1467-8640.2012.00460.x.</li>
<li>Nguyen, Thein Hai, Kiyoaki Shirai, Julien Velcin. 'Sentiment Analysis on Social Media for Stock Movement Prediction' <emph>Expert Systems with Applications</emph> 42 (2015), 9603-9611.</li>
<li>Nielsen, Finn &#197;rup. 'AFINN Sentiment Lexicon' (2009-2011).</li>
<li>Pereira Zazo, &#211;scar. <emph>El analisis de la comunicaci&#243;n en espa&#241;ol</emph> (Kendal Hunt, 2015).</li>
<li>P&#233;rez Gald&#243;s, Benito. <emph>Miau</emph> (La Guirnalda, 1888). </li>
<li>P&#233;rez Gald&#243;s, Benito. <emph>Miau</emph> (Sucesores de Hernando, 1907).</li>
<li>Rodr&#237;guez Aldape, Fernando Manuel. <emph>Cuantificaci&#243;n del Inter&#233;s de un usuario en un tema mediante miner&#237;a de texto y an&#225;lisis de sentimiento.</emph> (MA Thesis, Universidad Aut&#243;noma de Nuevo Le&#243;n, 2013).</li>
<li>Schmidt, Thomas, Manuel Burghardt, Christian Wolff. 'Towards Multimodal Sentiment Analysis of Historic Plays: A Case Study with Text and Audio for Lessing's Emilia Galotti' <emph>4th Conference of the Association of Digital Humanities in the Nordic Countries</emph> (2019).</li>
<li>Siddiqui, Nabeel. 'Data Wrangling and Management in R', <emph>Programming Historian</emph> 6 (2017), <link target="https://doi.org/10.46430/phen0063">https://doi.org/10.46430/phen0063</link>.</li>
<li>Sprugnoli, Rachele, Sara Tonelli, Alessandro Marchetti, Giovanni Moretti. 'Towards Sentiment Analysis for Historical Texts' <emph>Digital Scholarship in the Humanities</emph> 31 (2016): 762-772.</li>
<li>Stone, Philip, Dexter Dunphy, Marshall Smith. &#8216;The General Inquirer: A Computer Approach to Content Analysis&#8217; (M.I.T. Press, 1966).</li>
<li>Swafford, Annie. 'Problems with the Syuzhet Package' <emph>Anglophile in Academia</emph> (2015), <link target="https://perma.cc/TYT3-5DTU">https://annieswafford.wordpress.com/2015/03/02/syuzhet/</link>.</li>
<li>Wilkinson Salda&#241;a, Zo&#235;.  'Sentiment Analysis for Exploratory Data Analysis,' <emph>Programming Historian</emph> 7 (2018), <link target="https://doi.org/10.46430/phen0079">https://doi.org/10.46430/phen0079</link></li>
</ul>
</div>
      <div type="2"><head>Notes</head>
<p><note id="1"> For example, see: Louis Gottschalk, Goldine Gleser (1969) <emph>The Measurement of Psychological States through the Content Analysis of Verbal Behaviour</emph> (University of California); Philip Stone, Dexter Dunphy, Marshall Smith (1966) &#8216;The General Inquirer: A Computer Approach to Content Analysis&#8217; (M.I.T. Press); Bing Liu, (2012) <emph>Sentiment Analysis and Opinion Mining</emph> (Morgan &amp; Claypool); Thein Hai Nguyen, Kiyoaki Shirai, Julien Velcin (2015). &#8216;Sentiment Analysis on Social Media for Stock Movement Prediction&#8217; <emph>Expert Systems with Applications</emph> 42: 9603-9611; Theo Meder, Dong Nguyen, Rilana Gravel (2016). &#8216;The Apocalypse on Twitter&#8217; <emph>Digital Scholarship in the Humanities</emph> 31 (2): 398-410. </note>
<note id="2"> For some examples in English, see: Inger Leemans, Janneke M. van der Zwaan, Isa Maks, Erika Kujpers, Kristine Steenberge (2017). 'Mining Embodied Emotions: A Comparative Analysis of Sentiment and Emotion in Dutch Texts, 1600-1800' <emph>Digital Humanities Quarterly</emph> 11 (4); Rachele Sprugnoli, Sara Tonelli, Alessandro Marchetti, Giovanni Moretti (2016). 'Towards Sentiment Analysis for Historical Texts' <emph>Digital Scholarship in the Humanities</emph> 31 (4): 762-772; Thomas Schmidt, Manuel Burghardt, Christian Wolff (2019). 'Towards Multimodal Sentiment Analysis of Historic Plays: A Case Study with Text and Audio for Lessing's Emilia Galotti' <emph>4th Conference of the Association of Digital Humanities in the Nordic Countries</emph>; Ryan Heuser, Franco Moretti, Erik Steiner (2016). 'The Emotions of London' <emph>Stanford Literary Lab</emph>, Pamphlet 13: 1-10.</note>
<note id="3"> Antonio R. Damasio, <emph>El Error de Descartes: La raz&#243;n de las emociones</emph>. (Barcelona: Andres Bello, 1999).</note>
<note id="4"> &#211;scar Pereira Zazo, <emph>El analisis de la comunicaci&#243;n en espa&#241;ol</emph> (Iowa: Kendal Hunt, 2015), 32.</note>
<note id="5"> 'Bing': Minqing Hu and Bing Liu, 'Mining and summarizing customer reviews.', <emph>Proceedings of the ACM SIGKDD International Conference on Knowledge Discovery &amp; Data Mining</emph> (KDD-2004), 2004; 'Afinn': Finn &#197;rup Nielsen, 'AFINN Sentiment Lexicon' (2009-2011); 'NRC': Saif Mohammad, '<link target="https://perma.cc/A8M5-2SDG">NRC Word-Emotion Association Lexicon</link>', <emph>National Research Council Canada</emph> (2010).</note>
<note id="6"> Saif Mohammad and Peter D. Turney, 'Crowdsourcing a Word&#8211;Emotion Association Lexicon', <emph>Computational intelligence</emph> 29 (2013): 436-465, doi: 10.1111/j.1467-8640.2012.00460.x</note>
<note id="7"> Richard Socher, 'Recursive Deep Learning for Natural Language Processing and Computer Vision' PhD diss., (Stanford University, 2014).</note>
<note id="8"> Thanks to Mounika Puligurthi, intern at the University of Texas (UT) Digital Scholarship Office (during the spring of 2019), for her help interpreting this calculation.</note>
<note id="9"> There are more words assigned to the emotion <emph>sadness</emph> than to <emph>joy</emph>, both in total number of words (2,061 vs 1,552) and in unique words (349 vs 263). The word 'Mother' appears under both sadness and joy with a value of 33 points. What do you think the significance of that classification decision is?</note></p>
</div>
    </body>
  </text>
</TEI>
