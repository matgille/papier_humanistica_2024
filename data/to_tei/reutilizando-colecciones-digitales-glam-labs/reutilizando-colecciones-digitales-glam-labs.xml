<TEI xmlns="http://www.tei-c.org/ns/1.0" xml:id="reutilizando-colecciones-digitales-glam-labs">
    <teiHeader>
        <fileDesc>
            <titleStmt>
                <title>Reutilizar colecciones digitales: GLAM Labs</title>
                <author role="original_author">
                    <persName>Gustavo Candela</persName>
                    <persName>María Dolores Sáez</persName>
                    <persName>María Pilar Escobar</persName>
                    <persName>Manuel Marco Such</persName>
                </author>
                <editor role="reviewers">
                    <persName>Silvia Gutiérrez De la Torre</persName>
                    <persName>Víctor Gayol</persName>
                </editor>
                <editor role="editors">
                    <persName>M</persName>
                    <persName>a</persName>
                    <persName>r</persName>
                    <persName>i</persName>
                    <persName>a</persName>
                    <persName> </persName>
                    <persName>J</persName>
                    <persName>o</persName>
                    <persName>s</persName>
                    <persName>é</persName>
                    <persName> </persName>
                    <persName>A</persName>
                    <persName>f</persName>
                    <persName>a</persName>
                    <persName>n</persName>
                    <persName>a</persName>
                    <persName>d</persName>
                    <persName>o</persName>
                    <persName>r</persName>
                    <persName>-</persName>
                    <persName>L</persName>
                    <persName>l</persName>
                    <persName>a</persName>
                    <persName>c</persName>
                    <persName>h</persName>
                </editor>
            </titleStmt>
            <publicationStmt>
                <distributor>Programming Historian</distributor>
                <idno type="doi">10.46430/phes0054</idno>
                <date type="published">08/30/2021</date>
            </publicationStmt>
            <sourceDesc>
                <p>Born digital, in a markdown format. This lesson is original.</p>
            </sourceDesc>
        </fileDesc>
        <profileDesc>
            <abstract>
                <p>Esta lección muestra cómo reutilizar colecciones digitales publicadas por instituciones de patrimonio cultural.</p>
            </abstract>
            <textClass>
                <keywords>
                    <term xml:lang="en">data-manipulation</term>
                    <term xml:lang="en">python</term>
                    <term xml:lang="en">lod</term>
                    <term xml:lang="en">data-visualization</term>
                </keywords>
            </textClass>
        </profileDesc>
    </teiHeader>
    <text xml:lang="es">
        <body>
            <div type="2">
                <head>Objetivos de la lección</head>
                <p>Esta lección muestra cómo reutilizar colecciones digitales publicadas por instituciones de patrimonio cultural y tiene como objetivos principales los siguientes:</p>
                <list type="unordered">
                    <item>Conocer qué es un Lab en el marco de una institución GLAM</item>
                    <item>Reutilizar de forma innovadora y creativa colecciones digitales</item>
                    <item>Enriquecer los datos a través de diferentes técnicas</item>
                </list>
            </div>
            <div type="2">
                <head>Prerrequisitos</head>
                <p>En esta lección asumimos que tienes cierto conocimiento sobre <ref target="https://es.wikipedia.org/wiki/Python">Python</ref>. Si conoces otro lenguaje de programación también te será útil. Si necesitas un lugar donde empezar, te recomendamos trabajar con los excelentes tutoriales sobre Python con los que cuenta  <ref target="/es/lecciones/?topic=python">Programming Historian en español</ref>. También necesitarás conocimientos sobre <ref target="https://es.wikipedia.org/wiki/Proyecto_Jupyter">Jupyter Notebooks</ref>, para ello te recomendamos la lección <ref target="/en/lessons/jupyter-notebooks">Introduction to Jupyter Notebooks</ref>. Además, para los ejemplos de reutilización, será necesario tener algunos conocimientos sobre <ref target="https://es.wikipedia.org/wiki/Est%C3%A1ndares_MARC#MARC-XML">MARCXML</ref>, <ref target="https://es.wikipedia.org/wiki/Datos_enlazados">Linked Open Data</ref> y <ref target="https://es.wikipedia.org/wiki/SPARQL">SPARQL</ref>; para esto te recomendamos la lección de <ref target="/es/lecciones/introduccion-datos-abiertos-enlazados">datos abiertos enlazados</ref>.</p>
            </div>
            <div type="2">
                <head>Introducción</head>
                <p>Tradicionalmente las instituciones de patrimonio cultural conocidas como <ref target="https://es.wikipedia.org/wiki/GLAM_(cultura)">GLAM</ref> (del inglés, <emph>Galleries, Libraries, Archives and Museums</emph>) han publicado colecciones digitales que incluyen todo tipo de materiales con el objetivo de facilitar a la sociedad el acceso a la información.
El avance de las tecnologías ha favorecido un nuevo contexto en el que las colecciones digitales pueden ser utilizadas en investigación por medio de diferentes métodos, como visión por computador o técnicas de aprendizaje automático. Actualmente, las instituciones GLAM promueven e incentivan la reutilización de sus colecciones digitales a través de programas de colaboración directa con investigadores pero también con empresas e instituciones académicas.</p>
                <p>Las instituciones de patrimonio cultural han comenzado a experimentar de forma creativa e innovadora con las colecciones digitales, que tradicionalmente han puesto a disposición del público, lo que ha favorecido la creación de nuevos espacios en el seno de las instituciones, conocidos como "Labs".
Uno de los primeros, líder en este ámbito, y que ha establecido las bases para el resto, es el de la <ref target="http://labs.bl.uk">Biblioteca Británica</ref>, financiado por la <ref target="https://mellon.org/">Mellon Foundation</ref>. Como resultado de dos encuentros de carácter internacional en la sede de la Biblioteca Británica y en la <ref target="https://www.kb.dk/en">Biblioteca Real de Dinamarca</ref>, en Copenhague, se creó la <ref target="https://glamlabs.io">Comunidad Internacional GLAM Labs</ref> compuesta por numerosas instituciones, que se muestran en la Figura 1.</p>
                <figure>
                    <desc>Mapa que representa las instituciones de la Comunidad Internacional GLAM Labs</desc>
                    <graphic url="reutilizando-colecciones-digitales-glam-labs1.png"/>
                </figure>
                <p>En septiembre de 2019, dieciséis personas pertenecientes a dicha comunidad se reunieron en Doha, Catar, para escribir, a partir de la metodología <ref target="https://www.booksprints.net/book/book-sprint-open-a-glam-lab/">Book Sprint</ref>, el libro <ref target="https://glamlabs.io/books/open-a-glam-lab/">Open a GLAM Lab</ref> que actualmente ha sido traducido a diversos idiomas, entre ellos <ref target="http://rua.ua.es/dspace/handle/10045/110281">español</ref> y <ref target="https://qspace.qu.edu.qa/handle/10576/13484">árabe</ref>.</p>
                <p>Una colección digital publicada por una institución GLAM puede estar formada por cualquier tipo de contenido incluyendo metadatos, textos, imágenes, mapas, videos o audios. En este sentido, reutilizar una colección digital consiste en analizar el contenido para adquirir nuevo conocimiento. El análisis puede constar de fases tales como extracción, transformación y enriquecimiento. Como resultado podemos obtener una nueva colección descrita con otro vocabulario más expresivo y rico, una visualización que facilite el descubrimiento de conocimiento, o una agregación de diferentes colecciones digitales basadas en un tema específico.</p>
                <p>A la hora de reutilizar una colección digital existen diferentes aspectos que deben ser tenidos en cuenta, como por ejemplo la licencia o el tipo de material. Las instituciones han comenzado a utilizar licencias abiertas, pero en algunos casos la licencia no es evidente, lo que impide su reutilización. Dependiendo del método de investigación a aplicar será necesario un tipo específico de material. Por ejemplo, si deseamos realizar reconocimiento de formas necesitaremos un repositorio que se base en imágenes.</p>
                <p>Recientemente se publicó el estudio <emph>
                        <ref target="https://collectionsasdata.github.io/">Collections as data</ref>
                    </emph>, que proporciona un nuevo enfoque para publicar las colecciones digitales que facilitan el procesamiento por parte de las computadoras. Por ejemplo, es posible utilizar un corpus de miles de textos para identificar personas o lugares de forma automática. Las computadoras permiten la aplicación de métodos de investigación en Humanidades Digitales como <ref target="https://es.wikipedia.org/wiki/Miner%C3%ADa_de_textos">minería de textos</ref>, <ref target="https://es.wikipedia.org/wiki/Visualizaci%C3%B3n_de_datos">visualización de datos</ref> o el uso de <ref target="https://es.wikipedia.org/wiki/Sistema_de_informaci%C3%B3n_geogr%C3%A1fica">Sistemas de Información Geográfica (SIG)</ref>, como también <ref target="https://es.wikipedia.org/wiki/Procesamiento_de_lenguajes_naturales">procesamiento de lenguaje natural</ref>, <ref target="https://es.wikipedia.org/wiki/Inteligencia_artificial">inteligencia artificial</ref> y <ref target="https://es.wikipedia.org/wiki/Visi%C3%B3n_artificial">visión por computador</ref>.</p>
                <p>La combinación de las colecciones digitales proporcionadas por las instituciones GLAM, junto a código y narrativa, proporcionan el marco ideal para la reproducción de los resultados de investigación. En este sentido, los Jupyter Notebooks permiten integrar estos tres elementos y se han convertido en un recurso muy popular tanto en la comunidad investigadora como en la educativa. Numerosos proyectos se centran en la publicación de colecciones de notebooks, como por ejemplo <ref target="https://glam-workbench.github.io/">GLAM Workbench</ref> o <ref target="http://data.cervantesvirtual.com/blog/notebooks/">GLAM Jupyter Notebooks</ref>. Los Labs favorecen un espacio para poner de manifiesto estas nuevas tendencias para mejorar y mantener la relevancia de las instituciones de patrimonio cultural.</p>
                <p>En esta lección se incluyen varias opciones para localizar colecciones digitales publicadas por instituciones GLAM para su reutilización. A continuación, se introducen dos ejemplos implementados como Jupyter Notebooks que muestran de forma reproducible cómo reutilizar las colecciones digitales a través de diferentes técnicas que se encuentran disponibles en <ref target="https://zenodo.org/record/5340157">Zenodo</ref>
                    <ref type="footnotemark" target="#es_note_1"/>. El último apartado corresponde a las conclusiones.</p>
            </div>
            <head>Buscar colecciones digitales para su reutilización</head>
            <p>Actualmente existen numerosos sitios web donde es posible localizar colecciones digitales para su reutilización. Muchos de ellos corresponden al espacio Lab dentro de una institución GLAM. En otros casos, la colección digital se puede localizar en plataformas como <ref target="https://zenodo.org/">Zenodo</ref> que permite la publicación de <ref target="https://es.wikipedia.org/wiki/Conjunto_de_datos">datasets</ref>. La siguiente tabla proporciona un resumen de instituciones GLAM, donde podemos localizar sus colecciones digitales con licencias abiertas para su reutilización.</p>
            <table>
                <row>
                    <cell role="label">Institución</cell>
                    <cell role="label">Colección</cell>
                    <cell role="label">URL</cell>
                </row>
                <row>
                    <cell>Bibliotèque Nationale de France</cell>
                    <cell>BnF API et jeux de données</cell>
                    <cell>
                        <ref target="http://api.bnf.fr/">http://api.bnf.fr/</ref>
                    </cell>
                </row>
                <row>
                    <cell>Bibliothèque Nationale du Luxembourg</cell>
                    <cell>BnL Open Data</cell>
                    <cell>
                        <ref target="https://data.bnl.lu/">https://data.bnl.lu/</ref>
                    </cell>
                </row>
                <row>
                    <cell>British Library</cell>
                    <cell>BL Labs</cell>
                    <cell>[temporalmente no disponible]</cell>
                </row>
                <row>
                    <cell>Biblioteca Virtual Miguel de Cervantes</cell>
                    <cell>BVMC Labs</cell>
                    <cell>
                        <ref target="http://data.cervantesvirtual.com/blog/labs">http://data.cervantesvirtual.com/blog/labs</ref>
                    </cell>
                </row>
                <row>
                    <cell>Det Kgl. Bibliotek</cell>
                    <cell>KB Labs</cell>
                    <cell>
                        <ref target="https://labs.kb.dk/">https://labs.kb.dk/</ref>
                    </cell>
                </row>
                <row>
                    <cell>Europeana</cell>
                    <cell>Europeana IIIF APIs</cell>
                    <cell>
                        <ref target="https://pro.europeana.eu/page/iiif">https://pro.europeana.eu/page/iiif</ref>
                    </cell>
                </row>
                <row>
                    <cell>History Trust of South Australia</cell>
                    <cell>Learn section</cell>
                    <cell>
                        <ref target="https://history.sa.gov.au/">https://history.sa.gov.au/</ref>
                    </cell>
                </row>
                <row>
                    <cell>National Library of Netherlands</cell>
                    <cell>KB Lab</cell>
                    <cell>
                        <ref target="https://lab.kb.nl/">https://lab.kb.nl/</ref>
                    </cell>
                </row>
                <row>
                    <cell>National Library of Scotland</cell>
                    <cell>Data Foundry</cell>
                    <cell>
                        <ref target="https://data.nls.uk/">https://data.nls.uk/</ref>
                    </cell>
                </row>
                <row>
                    <cell>Library of Congress</cell>
                    <cell>LC Labs</cell>
                    <cell>
                        <ref target="https://labs.loc.gov/data-for-exploration">https://labs.loc.gov/data-for-exploration</ref>
                    </cell>
                </row>
                <row>
                    <cell>Österreichische Nationalbibliothek</cell>
                    <cell>ONB Labs</cell>
                    <cell>
                        <ref target="https://labs.onb.ac.at/en/">https://labs.onb.ac.at/en/</ref>
                    </cell>
                </row>
                <row>
                    <cell>Staatsbibliothek zu Berlin</cell>
                    <cell>SBB Labs</cell>
                    <cell>
                        <ref target="https://lab.sbb.berlin/?lang=en">https://lab.sbb.berlin/?lang=en</ref>
                    </cell>
                </row>
                <row>
                    <cell>State Library New South Wales</cell>
                    <cell>DX Lab</cell>
                    <cell>
                        <ref target="https://dxlab.sl.nsw.gov.au">https://dxlab.sl.nsw.gov.au</ref>
                    </cell>
                </row>
            </table>
            <p>Las instituciones GLAM publican colecciones digitales en diferentes formatos. Tradicionalmente han publicado diversos tipos de materiales como imágenes, textos y mapas. Recientemente, han aparecido nuevas formas de publicación que utilizan tecnologías basadas en la <ref target="https://es.wikipedia.org/wiki/Web_sem%C3%A1ntica">Web Semántica</ref>. Estas técnicas permiten el enriquecimiento con repositorios externos a partir de la creación de enlaces. <ref target="https://www.wikidata.org">Wikidata</ref> se ha convertido en un repositorio muy popular en el ámbito de las instituciones GLAM y muchas de ellas ya disponen de propiedades específicas para enlazar sus recursos como autores y obras. Por ejemplo, la <ref target="http://www.cervantesvirtual.com/">Biblioteca Virtual Miguel de Cervantes</ref> dispone de la propiedad <ref target="https://www.wikidata.org/wiki/Property:P2799">P2799</ref> para enlazar autores desde su repositorio de datos abiertos hacia Wikidata.</p>
            <div type="2">
                <head>Extracción y visualización de datos</head>
                <p>Para este ejemplo vamos a utilizar la colección <ref target="https://data.nls.uk/data/metadata-collections/moving-image-archive/">Moving Image Archive</ref> proporcionada por el <ref target="https://data.nls.uk/">Data Foundry de la Biblioteca Nacional de Escocia</ref>, publicada bajo dominio público y que contiene alrededor de 6.000 registros descritos con el estándar <ref target="https://www.loc.gov/standards/marcxml/">MARC 21 XML</ref>. Esta colección contiene información sobre imágenes en movimiento como vídeos, películas y documentales, que están relacionadas con Escocia y que fueron creadas por aficionados o profesionales. Este ejemplo está disponible en <ref target="https://zenodo.org/record/5340157">Zenodo</ref> y puede ser ejecutado en <ref target="https://mybinder.org/v2/zenodo/10.5281/zenodo.5340157/">MyBinder</ref>.</p>
                <p>Para poder procesar de forma sencilla la colección digital vamos a cambiar de MARCXML a un formato más sencillo de manipular como el <ref target="https://es.wikipedia.org/wiki/Valores_separados_por_comas">CSV</ref>. Posteriormente, haciendo uso de varias librerías, es posible identificar y obtener un listado de los temas, favoreciendo así el descubrimiento de nuevo conocimiento.</p>
                <p>En primer lugar, importamos las librerías que vamos a necesitar para trabajar con la colección, incluyendo librerías para el manejo de MARC<ref type="footnotemark" target="#es_note_2"/>, CSV, <ref target="https://es.wikipedia.org/wiki/Expresi%C3%B3n_regular">expresiones regulares</ref>, visualización y empaquetado de datos. El uso de Binder nos facilita la ejecución sin necesidad de instalar ningún software; sin embargo, si deseamos ejecutar la colección de Jupyter Notebooks en nuestro ordenador es necesario instalar cada librería mediante el comando pip (por ejemplo, <code rend="inline">pip install pymarc</code>). Si quieres conocer más detalles sobre este comando, te recomendamos la lección <ref target="/es/lecciones/instalar-modulos-python-pip">instalar módulos de Python con pip</ref>.</p>
                <ab>
                    <code lang="language-python" xml:id="code_reutilizando-colecciones-digitales-glam-labs_0" corresp="code_reutilizando-colecciones-digitales-glam-labs_0.txt" rend="block"/>
                </ab>
                <p>Después, creamos un fichero CSV con el contenido de la colección descrito en MARCXML y que previamente hemos descargado. El fichero CSV debe incluir la cabecera con los campos que vamos a extraer.</p>
                <ab>
                    <code lang="language-python" xml:id="code_reutilizando-colecciones-digitales-glam-labs_1" corresp="code_reutilizando-colecciones-digitales-glam-labs_1.txt" rend="block"/>
                </ab>
                <p>A continuación, comenzamos a extraer la información del fichero MARCXML. El formato <ref target="https://es.wikipedia.org/wiki/MARC_21">MARC21</ref> facilita la descripción de los registros bibliográficos, estructurándolos en campos (que identifica mediante números) y subcampos (que identifica por caracteres). Por ejemplo, el campo <code rend="inline">245 $a</code> corresponde al título principal de una obra y el campo <code rend="inline">100 $a</code> representa su autor principal. Como se observa en el siguiente fragmento de código, mediante la librería pymarc recorremos los registros y localizamos los campos que deseamos recuperar mediante sus identificadores para generar y almacenar el resultado en el fichero CSV.</p>
                <ab>
                    <code lang="language-python" xml:id="code_reutilizando-colecciones-digitales-glam-labs_2" corresp="code_reutilizando-colecciones-digitales-glam-labs_2.txt" rend="block"/>
                </ab>
                <p>Una vez que ya hemos generado el fichero CSV, podemos cargarlo mediante la librería <ref target="https://pandas.pydata.org/docs/index.html">Pandas</ref>
                    <ref type="footnotemark" target="#es_note_3"/>, que permite cargar y manipular datos tabulados por medio de su estructura básica: el DataFrame.</p>
                <ab>
                    <code lang="language-python" xml:id="code_reutilizando-colecciones-digitales-glam-labs_3" corresp="code_reutilizando-colecciones-digitales-glam-labs_3.txt" rend="block"/>
                </ab>
                <p>Para ver el contenido del DataFrame debemos mostrar la variable <code rend="inline">df</code>, como se ilustra en la Figura 2. También podemos comprobar las columnas existentes, así como el número de registros.</p>
                <ab>
                    <code lang="language-python" xml:id="code_reutilizando-colecciones-digitales-glam-labs_4" corresp="code_reutilizando-colecciones-digitales-glam-labs_4.txt" rend="block"/>
                </ab>
                <figure>
                    <desc>Primeras cinco filas del contenido del DataFrame</desc>
                    <graphic url="reutilizando-colecciones-digitales-glam-labs2.png"/>
                </figure>
                <p>También podemos mostrar las columnas que tiene nuestro fichero CSV con el método <code rend="inline">df.columns</code>, como se observa en la Figura 3. Para obtener el número de registros en nuestro DataFrame ejecutamos el comando <code rend="inline">len(df)</code>.</p>
                <ab>
                    <code lang="language-python" xml:id="code_reutilizando-colecciones-digitales-glam-labs_5" corresp="code_reutilizando-colecciones-digitales-glam-labs_5.txt" rend="block"/>
                </ab>
                <figure>
                    <desc>Nombres de las columnas incluidas en el DataFrame</desc>
                    <graphic url="reutilizando-colecciones-digitales-glam-labs3.png"/>
                </figure>
                <p>Pandas permite la manipulación y visualización del DataFrame de diferentes formas. Por ejemplo, podemos identificar la lista de materias (corresponde a la columna materias) y ordenarla alfabéticamente.</p>
                <p>Cada registro contiene el metadato materia que consiste en un listado de elementos separados por dos guiones. Por ejemplo, <code rend="inline">Ceremonies -- Emotions, Attitudes and Behaviour -- Local Government -- Transport -- Edinburgh -- amateur</code>. Pandas permite dividir este tipo de cadenas para tratar los elementos individuales mediante el comando <ref target="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.str.split.html">split</ref>, que recibe como parámetros el carácter a usar para dividir la cadena de texto y mediante la opción <code rend="inline">expand=True</code> crea una nueva columna para cada elemento. El método <ref target="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.stack.html">stack</ref>, por su parte, permite convertir las columnas a un índice. El resto de código ordena alfabéticamente los elementos, como se puede observar en la Figura 4.</p>
                <ab>
                    <code lang="language-python" xml:id="code_reutilizando-colecciones-digitales-glam-labs_6" corresp="code_reutilizando-colecciones-digitales-glam-labs_6.txt" rend="block"/>
                </ab>
                <figure>
                    <desc>Listado de materias ordenadas alfabéticamente</desc>
                    <graphic url="reutilizando-colecciones-digitales-glam-labs4.png"/>
                </figure>
                <p>Con el objetivo de demostrar que el código se puede adaptar y modificar a otras colecciones digitales, se ha incluido un ejemplo adicional basado en la <ref target="https://datos.gob.es/es/catalogo/e00123904-bibliografia-espanola-de-cartografia-2017">Bibliografía Española de Cartografía</ref> de la Biblioteca Nacional de España, que incluye mapas, planos, cartas náuticas, atlas, etcétera, tanto en formato impreso como electrónico. Tras el análisis de las materias se obtiene que la mayoría de los registros tratan sobre mapas, excursionismo, carreteras, senderismo, planos y comercio.</p>
                <p>De forma adicional y para quienes quieran profundizar en la reutilización de estas dos colecciones, los ejemplos proporcionan la documentación necesaria para identificar y visualizar la frecuencia de tópicos, lo que puede ser interesante para una primera exploración de los metadatos. Para realizar el proceso completo es necesario consultar los Jupyter Notebooks dedicados a estos dos ejemplos que se encuentran en <ref target="https://zenodo.org/record/5340157">Zenodo</ref> y que se pueden ejecutar en <ref target="https://mybinder.org/v2/zenodo/10.5281/zenodo.5340157/">Binder</ref>.</p>
            </div>
            <div type="2">
                <head>Crear mapas a partir de Linked Open Data</head>
                <p>Para el segundo ejemplo nos vamos a basar en un repositorio creado mediante tecnologías avanzadas, como <ref target="https://es.wikipedia.org/wiki/Datos_enlazados#Proyecto_de_comunidad_para_la_inter-conexi%C3%B3n_de_datos_abiertos">Linked Open Data</ref>. Puedes consultar más información sobre Linked Open Data y <ref target="https://es.wikipedia.org/wiki/SPARQL">SPARQL</ref> en la lección de <ref target="/es/lecciones/introduccion-datos-abiertos-enlazados">datos abiertos enlazados</ref>.</p>
                <p>La plataforma <ref target="https://bnb.data.bl.uk/">BNB Linked Data</ref> provee acceso a la <ref target="https://bnb.data.bl.uk/">British National Bibliography (BNB)</ref> como Linked Open Data proporcionando acceso a través de SPARQL.
Este ejemplo se basa en la recuperación de localizaciones geográficas relacionadas con las obras de un autor. La localización corresponde al lugar de publicación original de una obra en particular. Una vez recuperadas las localizaciones, y gracias a que los datos están enlazados a <ref target="https://www.geonames.org/">GeoNames</ref>, es posible obtener información adicional sobre esa localización, como por ejemplo la latitud y longitud, que nos servirá para representarla en un mapa.</p>
                <p>En este sentido, este ejemplo pretende introducir los pasos necesarios para reutilizar una colección digital publicada, siguiendo los principios de Linked Open Data que facilitan el establecimiento de enlaces a repositorios externos. Los repositorios semánticos publicados por instituciones GLAM son una fuente de información de gran valor que se encuentran a disposición de los investigadores sin ningún tipo de restricción para su uso. Sin embargo, su reutilización no es sencilla ya que requiere conocimientos avanzados en tecnologías como <ref target="https://es.wikipedia.org/wiki/Resource_Description_Framework">RDF</ref> (del inglés Resource Description Framework) o SPARQL para poder realizar las consultas.</p>
                <p>Este ejemplo utiliza los metadatos del repositorio que indican localizaciones, como por ejemplo las propiedades <code rend="inline">blt:publication</code> y <code rend="inline">blt:projectedPublication</code> que indican lugares de publicación. Gracias a que los registros están enlazados a GeoNames, vamos a poder acceder a Wikidata para recuperar las coordenadas geográficas de las localizaciones y mostrar los beneficios de Linked Open Data. El vocabulario utilizado por BNB Linked Data es <ref target="http://bibliontology.com/">Bibliographic Ontology (BIBO)</ref> que es un vocabulario sencillo que permite describir los metadatos de un repositorio bibliográfico.</p>
                <p>En primer lugar, importamos las librerías necesarias para procesar esta colección: <ref target="https://pypi.org/project/folium/0.1.4/">folium</ref>
                    <ref type="footnotemark" target="#es_note_4"/> para visualizar información geográfica en un mapa; csv y json para el procesamiento de los formatos de entrada y salida; request para la realización de peticiones HTTP; pandas para la gestión de datos tabulares con columnas de tipo heterogéneo y <ref target="https://matplotlib.org/">matplotlib</ref>
                    <ref type="footnotemark" target="#es_note_5"/> para la creación de gráficas.</p>
                <ab>
                    <code lang="language-python" xml:id="code_reutilizando-colecciones-digitales-glam-labs_7" corresp="code_reutilizando-colecciones-digitales-glam-labs_7.txt" rend="block"/>
                </ab>
                <p>A continuación, vemos un ejemplo de consulta SPARQL que recupera las obras publicadas en un lugar en concreto: “York”. Las sentencias SPARQL de este apartado las podemos ejecutar en el punto de acceso <ref target="https://bnb.data.bl.uk/flint-sparql">SPARQL</ref>, como se observa en la Figura 5.</p>
                <ab>
                    <code lang="language-sql" xml:id="code_reutilizando-colecciones-digitales-glam-labs_8" corresp="code_reutilizando-colecciones-digitales-glam-labs_8.txt" rend="block"/>
                </ab>
                <figure>
                    <desc>Punto de acceso SPARQL para la plataforma BNB Linked Data</desc>
                    <graphic url="reutilizando-colecciones-digitales-glam-labs5.png"/>
                </figure>
                <p>En el modelo de la plataforma BNB Linked Data, un recurso de tipo publicación contiene una propiedad <code rend="inline">c4dm:place</code> que enlaza a GeoNames en alrededor de cuatro millones de registros (un 50% del catálogo completo). Sin embargo, el resultado de la sentencia SPARQL anterior no proporciona las coordenadas geográficas, a pesar de que algunos datos se encuentren enlazados a GeoNames.</p>
                <p>Con la siguiente sentencia SPARQL recuperamos las obras relacionadas con el autor <ref target="https://es.wikipedia.org/wiki/Miguel_de_Cervantes">Miguel de Cervantes Saavedra</ref> que tienen un lugar de publicación y que además este está enlazado a GeoNames. En este caso, la variable <code rend="inline">?p</code> que se usa en la tripleta que filtra los resultados del autor puede ser cualquier rol, como por ejemplo colaborador, creador o autor en el caso de la BNB. En este sentido, podría ser interesante filtrar por un rol en concreto para obtener resultados más específicos.</p>
                <ab>
                    <code lang="language-sql" xml:id="code_reutilizando-colecciones-digitales-glam-labs_9" corresp="code_reutilizando-colecciones-digitales-glam-labs_9.txt" rend="block"/>
                </ab>
                <p>Para poder ejecutar esta sentencia SPARQL en Python, necesitamos especificar el punto de acceso SPARQL y la sentencia SPARQL a ejecutar:</p>
                <ab>
                    <code lang="language-python" xml:id="code_reutilizando-colecciones-digitales-glam-labs_10" corresp="code_reutilizando-colecciones-digitales-glam-labs_10.txt" rend="block"/>
                </ab>
                <p>A continuación, recuperamos el resultado mediante la configuración de la cabecera de la petición para que devuelva un objeto <ref target="https://es.wikipedia.org/wiki/JSON">JSON</ref>. La Figura 6 muestra un ejemplo del resultado de la petición.</p>
                <ab>
                    <code lang="language-python" xml:id="code_reutilizando-colecciones-digitales-glam-labs_11" corresp="code_reutilizando-colecciones-digitales-glam-labs_11.txt" rend="block"/>
                </ab>
                <figure>
                    <desc>Resultados de la petición a la plataforma BNB Linked Data</desc>
                    <graphic url="reutilizando-colecciones-digitales-glam-labs6.png"/>
                </figure>
                <p>Y almacenamos el resultado en un fichero CSV más sencillo de manipular.
En primer lugar cargamos en un objeto JSON el resultado obtenido.</p>
                <ab>
                    <code lang="language-python" xml:id="code_reutilizando-colecciones-digitales-glam-labs_12" corresp="code_reutilizando-colecciones-digitales-glam-labs_12.txt" rend="block"/>
                </ab>
                <p>Después creamos el fichero CSV y volcamos el contenido del objeto JSON a este fichero. Para ello, recorreremos cada ítem del listado de resultados dentro del objeto JSON con la variable <code rend="inline">bnbdatos</code> y accederemos a los atributos <code rend="inline">['results']['bindings']</code>. Cada propiedad tiene un atributo <code rend="inline">value</code> que contiene el valor que necesitamos recuperar.</p>
                <ab>
                    <code lang="language-python" xml:id="code_reutilizando-colecciones-digitales-glam-labs_13" corresp="code_reutilizando-colecciones-digitales-glam-labs_13.txt" rend="block"/>
                </ab>
                <p>Una vez que tenemos creado el fichero CSV, podemos cargarlo en un objeto DataFrame de Pandas que nos facilita el análisis y tratamiento. La Figura 7 muestra el DataFrame con las filas y columnas.</p>
                <ab>
                    <code lang="language-python" xml:id="code_reutilizando-colecciones-digitales-glam-labs_14" corresp="code_reutilizando-colecciones-digitales-glam-labs_14.txt" rend="block"/>
                </ab>
                <figure>
                    <desc>Visualización del objeto DataFrame con los resultados</desc>
                    <graphic url="reutilizando-colecciones-digitales-glam-labs7.png"/>
                </figure>
                <p>A continuación, podemos analizar cuántos enlaces diferentes tenemos a GeoNames en el listado de resultados. Pandas permite acceder a las columnas del objeto DataFrame mediante el operador <code rend="inline">groupby</code>. En este ejemplo agrupamos por la columna lugar de publicación (<code rend="inline">lugar</code>) y en la segunda posición marcamos la columna que queremos utilizar para realizar la agregación, en este caso, la obra (<code rend="inline">recurso</code>). La Figura 8 muestra el resultado.</p>
                <ab>
                    <code lang="language-python" xml:id="code_reutilizando-colecciones-digitales-glam-labs_15" corresp="code_reutilizando-colecciones-digitales-glam-labs_15.txt" rend="block"/>
                </ab>
                <figure>
                    <desc>Enlaces a GeoNames en el listado de resultados</desc>
                    <graphic url="reutilizando-colecciones-digitales-glam-labs8.png"/>
                </figure>
                <p>La plataforma BNB Linked Data proporciona los enlaces a GeoNames pero no contiene las coordenadas geográficas. Sin embargo, esta información puede ser recuperada de otros repositorios, como por ejemplo Wikidata. Las entidades en Wikidata disponen de un conjunto de propiedades que las describen y también incluyen un segundo apartado para identificadores externos. La Figura 9 corresponde a la entidad <ref target="https://www.wikidata.org/wiki/Q84?uselang=es">Londres en Wikidata</ref> y en ella podemos observar el identificador de GeoNames.</p>
                <figure>
                    <desc>Enlace a GeoNames desde Wikidata</desc>
                    <graphic url="reutilizando-colecciones-digitales-glam-labs9.png"/>
                </figure>
                <p>Hasta ahora disponemos de las URIs de cada elemento de GeoNames. Para poder enlazar a Wikidata necesitamos únicamente el identificador. El siguiente código extrae los identificadores haciendo tratamiento de cadenas, como se puede observar en la Figura 10.</p>
                <ab>
                    <code lang="language-python" xml:id="code_reutilizando-colecciones-digitales-glam-labs_16" corresp="code_reutilizando-colecciones-digitales-glam-labs_16.txt" rend="block"/>
                </ab>
                <figure>
                    <desc>Extracción de identificadores de GeoNames</desc>
                    <graphic url="reutilizando-colecciones-digitales-glam-labs10.png"/>
                </figure>
                <p>Una vez tenemos preparado nuestro listado de identificadores a GeoNames, vamos a recuperar las coordenadas geográficas de Wikidata. Para ello es necesario crear una consulta SPARQL. Vamos a utilizar la instrucción <code rend="inline">VALUES</code> que permite especificar los valores para una determinada variable, en nuestro caso, los identificadores de GeoNames. La propiedad <ref target="https://www.wikidata.org/wiki/Property:P1566">P1566</ref> corresponde al identificador de GeoNames en Wikidata y la propiedad <ref target="https://www.wikidata.org/wiki/Property:P625">P625</ref> corresponde a las propiedades geográficas.</p>
                <ab>
                    <code lang="language-python" xml:id="code_reutilizando-colecciones-digitales-glam-labs_17" corresp="code_reutilizando-colecciones-digitales-glam-labs_17.txt" rend="block"/>
                </ab>
                <p>A continuación, creamos un objeto folium para implementar un mapa y añadir las coordenadas recuperadas desde Wikidata en el paso anterior. Recuperamos cada coordenada geográfica (variables <code rend="inline">lat</code> y <code rend="inline">lon</code>) y montamos el texto (<code rend="inline">popup</code>) que se mostrará al hacer click sobre cada localización en el mapa. Finalmente, añadimos al mapa cada elemento (<code rend="inline">marker</code>).</p>
                <ab>
                    <code lang="language-python" xml:id="code_reutilizando-colecciones-digitales-glam-labs_18" corresp="code_reutilizando-colecciones-digitales-glam-labs_18.txt" rend="block"/>
                </ab>
                <p>Y como resultado se obtiene un mapa que se puede consultar en la Figura 11 con los lugares de publicación de las obras del autor seleccionado, en nuestro caso, Miguel de Cervantes Saavedra.</p>
                <figure>
                    <desc>Lugares de publicación de las obras de Miguel de Cervantes</desc>
                    <graphic url="reutilizando-colecciones-digitales-glam-labs11.png"/>
                </figure>
                <p>También es posible realizar un estudio de todas las localizaciones geográficas incluidas en el repositorio enlazadas a GeoNames. Para ello podemos calcular el número total de obras por localización geográfica relacionada con GeoNames a través de la propiedad <code rend="inline">c4dm:place</code> de la siguiente forma:</p>
                <ab>
                    <code lang="language-sql" xml:id="code_reutilizando-colecciones-digitales-glam-labs_19" corresp="code_reutilizando-colecciones-digitales-glam-labs_19.txt" rend="block"/>
                </ab>
                <p>De forma similar a como se ha creado el mapa en el ejemplo de Miguel de Cervantes Saavedra, podemos obtener una visualización más representativa a través de un mapa que muestra el total de localizaciones enlazadas a GeoNames incluidas en el repositorio (alrededor de cuatro millones de resultados). Como se puede observar en la Figura 12, la localización más relevante es Inglaterra.</p>
                <figure>
                    <desc>Lugares de publicación enlazados a GeoNames en BNB</desc>
                    <graphic url="reutilizando-colecciones-digitales-glam-labs12.png"/>
                </figure>
            </div>
            <div type="2">
                <head>Discusión</head>
                <p>En el primer ejemplo se han reutilizado dos colecciones digitales descritas con MARCXML. Aunque la mayoría del código es reutilizable para ambos casos, los campos utilizados para describir los metadatos en cada colección son diferentes y por lo tanto es necesario un análisis previo.</p>
                <p>En el caso de la BNB, y teniendo en cuenta la forma de representar los distintos roles que se pueden dar en un repositorio bibliográfico, la elección del vocabulario a utilizar puede ser crucial a la hora de dotar de suficiente expresividad a los metadatos. En este sentido, vocabularios ricos en términos semánticos como <ref target="http://www.rdaregistry.info">Resource Description and Access (RDA)</ref> proporcionan un listado de elementos para representar numerosos roles con el objetivo de relacionar las obras con los autores como por ejemplo director, ilustrador, impresor o narrador. Además, es relevante resaltar que tan solo alrededor de un 50% de las obras se encuentran enlazadas a GeoNames y que el mapa que obtenemos como resultado no incluye el total de ubicaciones del repositorio.</p>
            </div>
            <div type="2">
                <head>Conclusiones</head>
                <p>En este tutorial se han introducido varios ejemplos de reutilización de colecciones digitales publicadas por instituciones GLAM. Los ejemplos facilitan la  reproducción y análisis de los resultados, teniendo en cuenta las limitaciones de los metadatos proporcionados por las instituciones ya sea debido a la forma de utilizar los vocabularios o al número de enlaces externos incluido en la colección. La combinación de los Labs, las colecciones digitales y su acceso computacional a través de Jupyter Notebooks facilita un nuevo entorno en el que es posible reutilizar las colecciones digitales para construir nuevo conocimiento.</p>
                <p>Las instituciones GLAM se están adaptando al nuevo entorno proporcionando colecciones aptas para el procesamiento por computador. Los Labs en el seno de las instituciones GLAM desempeñan un papel fundamental en este sentido para promover las colecciones digitales y su reutilización de forma innovadora. La Comunidad Internacional GLAM Labs ha fomentado la creación de Labs por todo el mundo; sin embargo, se observa una escasez de Labs en los países hispanohablates, lo que limita el potencial y la reutilización de las colecciones digitales en español. Además, todavía es posible mejorar en lo que respecta a las licencias para proporcionar colecciones digitales libres de derechos, como también a la publicación de ejemplos y prototipos de uso. En ese sentido, los Jupyter Notebooks pueden promover la creación de prototipos basados en métodos de investigación de Humanidades Digitales facilitando su reproducibilidad en entornos basados en la nube.</p>
            </div>
            <div type="2">
                <head>Glosario</head>
                <div type="glossary">
                    <entry>
                        <form>
                            <hi rend="bold">Collections as data</hi>
                        </form>
                        <sense>Movimiento para promover el acceso computacional a las colecciones digitales.</sense>
                    </entry>
                    <entry>
                        <form>
                            <hi rend="bold">CSV (del inglés Comma Separated Values)</hi>
                        </form>
                        <sense>Un archivo CSV consiste en un fichero de texto que contiene filas formadas columnas y separadas por comas.</sense>
                    </entry>
                    <entry>
                        <form>
                            <hi rend="bold">DataFrame</hi>
                        </form>
                        <sense>Estructura que permite almacenar y manipular datos tabulados en filas formadas por columnas de variables.</sense>
                    </entry>
                    <entry>
                        <form>
                            <hi rend="bold">Folium</hi>
                        </form>
                        <sense>Biblioteca de software Python que permite crear mapas interactivos.</sense>
                    </entry>
                    <entry>
                        <form>
                            <hi rend="bold">GeoNames</hi>
                        </form>
                        <sense>Repositorio geográfico gratuito que proporciona un identificador único para cada recurso.</sense>
                    </entry>
                    <entry>
                        <form>
                            <hi rend="bold">GLAM Workbench</hi>
                        </form>
                        <sense>Conjunto de herramientas, tutoriales y ejemplos basados en collectiones digitales publicadas por instituciones GLAM y desarrollado por el australiano Tim Sherratt.</sense>
                    </entry>
                    <entry>
                        <form>
                            <hi rend="bold">Jupyter Notebook</hi>
                        </form>
                        <sense>Plataforma de código abierto que permite crear y compartir documentos compuestos por código, gráficas y documentación.</sense>
                    </entry>
                    <entry>
                        <form>
                            <hi rend="bold">Linked Open Data</hi>
                        </form>
                        <sense>Publicación de información basada en RDF y conectada con repositorios externos de diferentes fuentes e instituciones.</sense>
                    </entry>
                    <entry>
                        <form>
                            <hi rend="bold">MARCXML</hi>
                        </form>
                        <sense>Formato para la codificación de un registro MARC en XML.</sense>
                    </entry>
                    <entry>
                        <form>
                            <hi rend="bold">MyBinder</hi>
                        </form>
                        <sense>Plataforma gratuita para la ejecución de Jupyter Notebooks alojados en repositorios como GitHub o Zenodo evitando la instalación de software.</sense>
                    </entry>
                    <entry>
                        <form>
                            <hi rend="bold">Pandas</hi>
                        </form>
                        <sense>Biblioteca de software Python que permite crear y manipular conjuntos de datos.</sense>
                    </entry>
                    <entry>
                        <form>
                            <hi rend="bold">Python</hi>
                        </form>
                        <sense>Lenguaje de programación interpretado y multiplataforma, de libre uso y con una curva de aprendizaje amigable y corta.</sense>
                    </entry>
                    <entry>
                        <form>
                            <hi rend="bold">RDF (del inglés Resource Description Framework)</hi>
                        </form>
                        <sense>Marco de descripción de recursos publicado por el W3C para publicar información en Internet a modo de tripletas.</sense>
                    </entry>
                    <entry>
                        <form>
                            <hi rend="bold">SPARQL</hi>
                        </form>
                        <sense>Lenguaje de consulta para información almacenada en formato RDF.</sense>
                    </entry>
                    <entry>
                        <form>
                            <hi rend="bold">URI (del inglés Universal Resource Identifier)</hi>
                        </form>
                        <sense>Identificador uniforme de recursos para la web.</sense>
                    </entry>
                </div>
            </div>
            <div type="2">
                <head>Notas</head>
                <p>
                    <ref type="footnotemark" target="#es_note_1"/> : Candela, Gustavo, María Dolores Sáez, María Pilar Escobar y Manuel Marco-Such. <emph>hibernator11/notebook-ph: Release 1</emph> v1.0 (2021). <ref target="https://doi.org/10.5281/zenodo.5340157">https://doi.org/10.5281/zenodo.5340157</ref>
                </p>
                <p>
                    <ref type="footnotemark" target="#es_note_2"/> : Summers, Ed. <emph>pymarc</emph> v4.0.0 (2020). <ref target="https://pymarc.readthedocs.io/en/stable/">https://pymarc.readthedocs.io/en/stable/</ref>
                </p>
                <p>
                    <ref type="footnotemark" target="#es_note_3"/> : The Pandas Development Team. <emph>pandas-dev/pandas: Pandas.</emph> v.1.2.2 (2020). <ref target="https://doi.org/10.5281/zenodo.4524629">https://doi.org/10.5281/zenodo.4524629</ref>
                </p>
                <p>
                    <ref type="footnotemark" target="#es_note_4"/> : Filipe, Martin Journois, Frank, Rob Story, James Gardiner, Halfdan Rump, Andrew Bird, et al. <emph>Python-visualization/folium:</emph> v0.10.1 (2019). <ref target="https://doi.org/10.5281/zenodo.3559751">https://doi.org/10.5281/zenodo.3559751</ref>.</p>
                <p>
                    <ref type="footnotemark" target="#es_note_5"/> : Thomas A Caswell, Michael Droettboom, John Hunter, Eric Firing, Antony Lee, Jody Klymak, David Stansby, et al. <emph>Matplotlib/matplotlib</emph> v2.2.4 (2019). <ref target="https://doi.org/10.5281/zenodo.2669103">https://doi.org/10.5281/zenodo.2669103</ref>.</p>
            </div>
        </body>
    </text>
</TEI>
